"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=/\{[a-z]+\}/gi,t=e=>{let t=[[]];for(;e.length;)t=e.shift().flatMap(e=>t.map(t=>[...t,e]));return t},s={flex:"fx",background:"bg",min:"n",max:"x",style:"st",overflow:"ov",cursor:"cu"},o=(s,o)=>{let[p,r]=o;const a=[[],[]];for(let[t,s]of r){const o=t.match(e);o&&a[0].push(...o);const p=s.match(e);p&&a[1].push(...p)}return t(a.flat().map(e=>Object.entries(s[e]).map(([t,s])=>[e,t,s]))).map(e=>{const t=[p,r.map(e=>[...e])];for(let s=0;t[0].includes("&");s++)t[0]=t[0].replace("&",e[s][1]);for(let s of t[1])for(;e.length>0&&s[0].includes(e[0][0]);){const[t,,o]=e.shift();s[0]=s[0].replace(t,o)}for(let s of t[1])for(;e.length>0&&s[1].includes(e[0][0]);){const[t,,o]=e.shift();s[1]=s[1].replace(t,o)}return t})},p=([e,t])=>{const o=e.split("-").map(e=>s[e]||e[0]).join("");return t.map(t=>[`${o}${t.split(" ").map(e=>e[0].toUpperCase()).join("")}`,[[e,t]]])},r=e=>{const s=[...(e.defs||[]).flatMap(t=>o(e,t)),...(e.props||[]).flatMap(p),...e.raw||[]];return t((e.mods||[]).map(e=>[["",""],...e])).flatMap(e=>e.reduce((e,[t,s])=>s?"@"===s[0]?[[s,e.map(([e,s])=>[`${t}${e}`,s])]]:e.map(([e,o])=>[`${t}${e}${s}`,o]):e,s))},a=e=>e.map(([e,t])=>"@"===e[0]?`${e}{${a(t)}}`:`.${e}{${t.map(([e,t])=>`${e}:${t}`).join(";")}}`).join("");exports.ainsleyToAst=r,exports.ainsleyToCss=e=>a(r(e)),exports.astToCss=a,exports.expandDefs=o,exports.expandProps=p,exports.propFragMap=s;
