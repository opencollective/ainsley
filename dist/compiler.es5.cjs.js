"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n=/\{[a-z]+\}/gi,t=function(n){return[].concat.apply([],n)},r=function(n){for(var r=[[]];n.length;)r=t(n.shift().map((function(n){return r.map((function(t){return t.concat([n])}))})));return r},c={flex:"fx",background:"bg",min:"n",max:"x",style:"st",overflow:"ov",cursor:"cu"},o=function(t,c){var o=[],e=[];return c[1].forEach((function(t){o=o.concat(t[0].match(n)||[]),e=e.concat(t[1].match(n)||[])})),r(o.concat(e).map((function(n){return Object.keys(t[n]).map((function(r){return[n,r,t[n][r]]}))}))).map((function(n){for(var t=JSON.parse(JSON.stringify(c)),r=0;t[0].includes("&");r++)t[0]=t[0].replace("&",n[r][1]);for(var o=0;o<t[1].length;o++)for(var e=t[1][o];n.length>0&&e[0].includes(n[0][0]);){var a=n.shift();e[0]=e[0].replace(a[0],a[2])}for(var u=0;u<t[1].length;u++)for(var i=t[1][u];n.length>0&&i[1].includes(n[0][0]);){var p=n.shift();i[1]=i[1].replace(p[0],p[2])}return t}))},e=function(n){var t=n[0].split("-").map((function(n){return c[n]||n[0]})).join("");return n[1].map((function(r){return["".concat(t).concat(r.split(" ").map((function(n){return n[0].toUpperCase()})).join("")),[[n[0],r]]]}))},a=function(n){var c=[].concat(t((n.defs||[]).map((function(t){return o(n,t)}))),t((n.props||[]).map(e)),n.raw||[]);return t(r((n.mods||[]).map((function(n){return[["",""]].concat(n)}))).map((function(n){return n.reduce((function(n,t){return t[1]?"@"===t[1][0]?[[t[1],n.map((function(n){return["".concat(t[0]).concat(n[0]),n[1]]}))]]:n.map((function(n){return["".concat(t[0]).concat(n[0]).concat(t[1]),n[1]]})):n}),c)})))},u=function n(t){return t.map((function(t){return"@"===t[0][0]?"".concat(t[0],"{").concat(n(t[1]),"}"):".".concat(t[0],"{").concat(t[1].map((function(n){return n.join(":")})).join(";"),"}")})).join("")};exports.ainsleyToAst=a,exports.ainsleyToCss=function(n){return u(a(n))},exports.astToCss=u,exports.expandDefs=o,exports.expandProps=e,exports.propFragMap=c;
//# sourceMappingURL=compiler.es5.cjs.js.map
