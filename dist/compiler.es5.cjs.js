"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const t=/\{[a-z]+\}/gi,o=t=>{let o=[[]];for(;t.length;)o=t.shift().flatMap(t=>o.map(o=>[...o,t]));return o},e={flex:"fx",background:"bg",min:"n",max:"x",style:"st",overflow:"ov",cursor:"cu"},a=(e,a)=>{let[c,s]=a;const n=[[],[]];for(let[o,e]of s){const a=o.match(t);a&&n[0].push(...a);const c=e.match(t);c&&n[1].push(...c)}return o(n.flat().map(t=>Object.entries(e[t]).map(([o,e])=>[t,o,e]))).map(t=>{const o=[c,s.map(t=>[...t])];for(let e=0;o[0].includes("&");e++)o[0]=o[0].replace("&",t[e][1]);for(let e of o[1])for(;t.length>0&&e[0].includes(t[0][0]);){const[o,,a]=t.shift();e[0]=e[0].replace(o,a)}for(let e of o[1])for(;t.length>0&&e[1].includes(t[0][0]);){const[o,,a]=t.shift();e[1]=e[1].replace(o,a)}return o})},c=([t,o])=>{const a=t.split("-").map(t=>e[t]||t[0]).join("");return o.map(o=>["".concat(a).concat(o.split(" ").map(t=>t[0].toUpperCase()).join("")),[[t,o]]])},s=t=>{const e=[...(t.defs||[]).flatMap(o=>a(t,o)),...(t.props||[]).flatMap(c),...t.raw||[]];return o((t.mods||[]).map(t=>[["",""],...t])).flatMap(t=>t.reduce((t,[o,e])=>e?"@"===e[0]?[[e,t.map(([t,e])=>["".concat(o).concat(t),e])]]:t.map(([t,a])=>["".concat(o).concat(t).concat(e),a]):t,e))},n=t=>t.map(([t,o])=>"@"===t[0]?"".concat(t,"{").concat(n(o),"}"):".".concat(t,"{").concat(o.map(([t,o])=>"".concat(t,":").concat(o)).join(";"),"}")).join("");exports.ainsleyToAst=s,exports.ainsleyToCss=t=>n(s(t)),exports.astToCss=n,exports.expandDefs=a,exports.expandProps=c,exports.propFragMap=e;
