"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var n,t=(n=require("accb"))&&"object"==typeof n&&"default"in n?n.default:n;function r(n){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}var o=function(n,t){for(var r=[],o=n.length,e=0;e<o;e++)r.push(t(n[e]));return r},e=function(n){return[].concat.apply([],n)},c=function(n){var t=[[]];for(console.log(n.length,n);n.length;)t=e(n.shift().map((function(n){return t.map((function(t){return t.concat([n])}))})));return t},u={flex:"fx",background:"bg",min:"n",max:"x",style:"st",overflow:"ov",cursor:"cu"},a=/\{[a-z]+\}/gi,f=function(n){return u[n]||n[0]},i=function(n){return"".concat(n[0],":").concat(n[1])},s=function(n){return[["",""]].concat(n)},p=function(n,t){var e=t[1].reduce((function(n,t){return[n[0].concat(t[0].match(a)||[]),n[1].concat(t[1].match(a)||[])]}),[[],[]]);return o(c(o(e[0].concat(e[1]),(function(t){return o(Object.keys(n[t]),(function(r){return[t,r,n[t][r]]}))}))),(function(n){for(var o=function n(t){if("object"!==r(t))return t;for(var o=[],e=t.length,c=0;c<e;c++)o.push(n(t[c]));return o}(t),e=0;o[0].includes("&");e++)o[0]=o[0].replace("&",n[e][1]);for(var c=0;c<o[1].length;c++)for(var u=o[1][c];n.length>0&&u[0].includes(n[0][0]);){var a=n.shift();u[0]=u[0].replace(a[0],a[2])}for(var f=0;f<o[1].length;f++)for(var i=o[1][f];n.length>0&&i[1].includes(n[0][0]);){var s=n.shift();i[1]=i[1].replace(s[0],s[2])}return o}))},l=function(n){var t=o(n[0].split("-"),f).join("");return o(n[1],(function(r){return["".concat(t).concat(o(r.split(" "),(function(n){return n[0].toUpperCase()})).join("")),[[n[0],r]]]}))},y=function(n){var t=[].concat(e(o(n.defs||[],(function(t){return p(n,t)}))),e(o(n.props||[],l)),n.raw||[]);return e(o(c(o(n.mods||[],s)),(function(n){return n.reduce((function(n,t){return t[1]?"@"===t[1][0]?[[t[1],o(n,(function(n){return["".concat(t[0]).concat(n[0]),n[1]]}))]]:o(n,(function(n){return["".concat(t[0]).concat(n[0]).concat(t[1]),n[1]]})):n}),t)})))},v=function(n){return"@"===n[0][0]?"".concat(n[0],"{").concat(x(n[1]),"}"):".".concat(n[0],"{").concat(o(n[1],i).join(";"),"}")},x=function(n){return o(n,v).join("")},h=function(n){return x(y(n))};t&&t(h),exports.ainsleyInsert=function(n,t){for(var r=y(n),o=r.length-1;o>=0;o--)t.insertRule(v(r[o]),0)},exports.ainsleyToAst=y,exports.ainsleyToCss=h,exports.astToCss=x,exports.expandDefs=p,exports.expandProps=l,exports.iteratorRegex=a,exports.propFragMap=u,exports.ruleToCSS=v;
//# sourceMappingURL=compiler.es5.cjs.js.map
