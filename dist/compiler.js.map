{"version":3,"file":"compiler.js","sources":["../src/libs/checkTypes.js","../src/src/utils.js","../src/compiler.js"],"sourcesContent":["const messages = {};\nconst predicates = {};\nconst collections = [\"array\", \"arrayLike\", \"iterable\", \"object\"];\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst toString = Object.prototype.toString;\nconst keys = Object.keys;\nconst slice = Array.prototype.slice;\nconst isArray = Array.isArray;\nconst neginf = Number.NEGATIVE_INFINITY;\nconst posinf = Number.POSITIVE_INFINITY;\nconst haveSymbols = typeof Symbol === \"function\";\nconst haveMaps = typeof Map === \"function\";\nconst haveSets = typeof Set === \"function\";\n\nconst fns = [\n  { n: \"equal\", f: equal, s: \"equal {e}\" },\n  { n: \"undefined\", f: isUndefined, s: \"be undefined\" },\n  { n: \"null\", f: isNull, s: \"be null\" },\n  { n: \"assigned\", f: assigned, s: \"be assigned\" },\n  { n: \"primitive\", f: primitive, s: \"be primitive type\" },\n  { n: \"contains\", f: contains, s: \"contain {e}\" },\n  { n: \"in\", f: isIn, s: \"be in {e}\" },\n  { n: \"containsKey\", f: containsKey, s: \"contain key {e}\" },\n  { n: \"keyIn\", f: keyIn, s: \"be key in {e}\" },\n  { n: \"zero\", f: zero, s: \"be 0\" },\n  { n: \"one\", f: one, s: \"be 1\" },\n  { n: \"infinity\", f: infinity, s: \"be infinity\" },\n  { n: \"number\", f: number, s: \"be Number\" },\n  { n: \"integer\", f: integer, s: \"be integer\" },\n  { n: \"float\", f: float, s: \"be non-integer number\" },\n  { n: \"even\", f: even, s: \"be even number\" },\n  { n: \"odd\", f: odd, s: \"be odd number\" },\n  { n: \"greater\", f: greater, s: \"be greater than {e}\" },\n  { n: \"less\", f: less, s: \"be less than {e}\" },\n  { n: \"between\", f: between, s: \"be between {e} and {e2}\" },\n  {\n    n: \"greaterOrEqual\",\n    f: greaterOrEqual,\n    s: \"be greater than or equal to {e}\"\n  },\n  { n: \"lessOrEqual\", f: lessOrEqual, s: \"be less than or equal to {e}\" },\n  { n: \"inRange\", f: inRange, s: \"be in the range {e} to {e2}\" },\n  { n: \"positive\", f: positive, s: \"be positive number\" },\n  { n: \"negative\", f: negative, s: \"be negative number\" },\n  { n: \"string\", f: string, s: \"be String\" },\n  { n: \"emptyString\", f: emptyString, s: \"be empty string\" },\n  { n: \"nonEmptyString\", f: nonEmptyString, s: \"be non-empty string\" },\n  { n: \"match\", f: match, s: \"match {e}\" },\n  { n: \"boolean\", f: boolean, s: \"be Boolean\" },\n  { n: \"object\", f: object, s: \"be Object\" },\n  { n: \"emptyObject\", f: emptyObject, s: \"be empty object\" },\n  { n: \"nonEmptyObject\", f: nonEmptyObject, s: \"be non-empty object\" },\n  { n: \"instanceStrict\", f: instanceStrict, s: \"be instanceof {t}\" },\n  { n: \"thenable\", f: thenable, s: \"be promise-like\" },\n  { n: \"instance\", f: instance, s: \"be {t}\" },\n  { n: \"like\", f: like, s: \"be like {e}\" },\n  { n: \"array\", f: array, s: \"be Array\" },\n  { n: \"emptyArray\", f: emptyArray, s: \"be empty array\" },\n  { n: \"nonEmptyArray\", f: nonEmptyArray, s: \"be non-empty array\" },\n  { n: \"arrayLike\", f: arrayLike, s: \"be array-like\" },\n  { n: \"iterable\", f: iterable, s: \"be iterable\" },\n  { n: \"date\", f: date, s: \"be valid Date\" },\n  { n: \"function\", f: isFunction, s: \"be Function\" },\n  { n: \"hasLength\", f: hasLength, s: \"have length {e}\" },\n  { n: \"throws\", f: throws, s: \"throw\" }\n];\n\nfns.forEach(({ n, f, s }) => {\n  messages[n] = `expected {a} to ${s}`;\n  predicates[n] = f;\n});\n\nconst functions = mixin({ map, all, any }, predicates);\nconst assert = createModifiedPredicates(assertModifier, assertImpl);\nconst not = createModifiedPredicates(notModifier, notImpl);\nconst maybe = createModifiedPredicates(maybeModifier, maybeImpl);\nassert.not = createModifiedModifier(assertModifier, not, \"not \");\nassert.maybe = createModifiedModifier(assertModifier, maybe, \"maybe \");\n\ncollections.forEach(createOfPredicates);\ncreateOfModifiers(assert, assertModifier);\ncreateOfModifiers(not, notModifier);\ncollections.forEach(createMaybeOfModifiers);\n\n/**\n * Public function `equal`.\n *\n * Returns true if `lhs` and `rhs` are strictly equal, without coercion.\n * Returns false otherwise.\n */\nfunction equal(lhs, rhs) {\n  return lhs === rhs;\n}\n\n/**\n * Public function `undefined`.\n *\n * Returns true if `data` is undefined, false otherwise.\n */\nfunction isUndefined(data) {\n  return data === undefined;\n}\n\n/**\n * Public function `null`.\n *\n * Returns true if `data` is null, false otherwise.\n */\nfunction isNull(data) {\n  return data === null;\n}\n\n/**\n * Public function `assigned`.\n *\n * Returns true if `data` is not null or undefined, false otherwise.\n */\nfunction assigned(data) {\n  return data !== undefined && data !== null;\n}\n\n/**\n * Public function `primitive`.\n *\n * Returns true if `data` is a primitive type, false otherwise.\n */\nfunction primitive(data) {\n  var type;\n\n  switch (data) {\n    case null:\n    case undefined:\n    case false:\n    case true:\n      return true;\n  }\n\n  type = typeof data;\n  return (\n    type === \"string\" || type === \"number\" || (haveSymbols && type === \"symbol\")\n  );\n}\n\n/**\n * Public function `zero`.\n *\n * Returns true if `data` is zero, false otherwise.\n */\nfunction zero(data) {\n  return data === 0;\n}\n\n/**\n * Public function `one`.\n *\n * Returns true if `data` is one, false otherwise.\n */\nfunction one(data) {\n  return data === 1;\n}\n\n/**\n * Public function `infinity`.\n *\n * Returns true if `data` is positive or negative infinity, false otherwise.\n */\nfunction infinity(data) {\n  return data === neginf || data === posinf;\n}\n\n/**\n * Public function `number`.\n *\n * Returns true if `data` is a number, false otherwise.\n */\nfunction number(data) {\n  return typeof data === \"number\" && data > neginf && data < posinf;\n}\n\n/**\n * Public function `integer`.\n *\n * Returns true if `data` is an integer, false otherwise.\n */\nfunction integer(data) {\n  return typeof data === \"number\" && data % 1 === 0;\n}\n\n/**\n * Public function `float`.\n *\n * Returns true if `data` is a non-integer number, false otherwise.\n */\nfunction float(data) {\n  return number(data) && data % 1 !== 0;\n}\n\n/**\n * Public function `even`.\n *\n * Returns true if `data` is an even number, false otherwise.\n */\nfunction even(data) {\n  return typeof data === \"number\" && data % 2 === 0;\n}\n\n/**\n * Public function `odd`.\n *\n * Returns true if `data` is an odd number, false otherwise.\n */\nfunction odd(data) {\n  return integer(data) && data % 2 !== 0;\n}\n\n/**\n * Public function `greater`.\n *\n * Returns true if `lhs` is a number greater than `rhs`, false otherwise.\n */\nfunction greater(lhs, rhs) {\n  return number(lhs) && lhs > rhs;\n}\n\n/**\n * Public function `less`.\n *\n * Returns true if `lhs` is a number less than `rhs`, false otherwise.\n */\nfunction less(lhs, rhs) {\n  return number(lhs) && lhs < rhs;\n}\n\n/**\n * Public function `between`.\n *\n * Returns true if `data` is a number between `x` and `y`, false otherwise.\n */\nfunction between(data, x, y) {\n  if (x < y) {\n    return greater(data, x) && data < y;\n  }\n\n  return less(data, x) && data > y;\n}\n\n/**\n * Public function `greaterOrEqual`.\n *\n * Returns true if `lhs` is a number greater than or equal to `rhs`, false\n * otherwise.\n */\nfunction greaterOrEqual(lhs, rhs) {\n  return number(lhs) && lhs >= rhs;\n}\n\n/**\n * Public function `lessOrEqual`.\n *\n * Returns true if `lhs` is a number less than or equal to `rhs`, false\n * otherwise.\n */\nfunction lessOrEqual(lhs, rhs) {\n  return number(lhs) && lhs <= rhs;\n}\n\n/**\n * Public function `inRange`.\n *\n * Returns true if `data` is a number in the range `x..y`, false otherwise.\n */\nfunction inRange(data, x, y) {\n  if (x < y) {\n    return greaterOrEqual(data, x) && data <= y;\n  }\n\n  return lessOrEqual(data, x) && data >= y;\n}\n\n/**\n * Public function `positive`.\n *\n * Returns true if `data` is a positive number, false otherwise.\n */\nfunction positive(data) {\n  return greater(data, 0);\n}\n\n/**\n * Public function `negative`.\n *\n * Returns true if `data` is a negative number, false otherwise.\n */\nfunction negative(data) {\n  return less(data, 0);\n}\n\n/**\n * Public function `string`.\n *\n * Returns true if `data` is a string, false otherwise.\n */\nfunction string(data) {\n  return typeof data === \"string\";\n}\n\n/**\n * Public function `emptyString`.\n *\n * Returns true if `data` is the empty string, false otherwise.\n */\nfunction emptyString(data) {\n  return data === \"\";\n}\n\n/**\n * Public function `nonEmptyString`.\n *\n * Returns true if `data` is a non-empty string, false otherwise.\n */\nfunction nonEmptyString(data) {\n  return string(data) && data !== \"\";\n}\n\n/**\n * Public function `match`.\n *\n * Returns true if `data` is a string that matches `regex`, false otherwise.\n */\nfunction match(data, regex) {\n  return string(data) && !!data.match(regex);\n}\n\n/**\n * Public function `boolean`.\n *\n * Returns true if `data` is a boolean value, false otherwise.\n */\nfunction boolean(data) {\n  return data === false || data === true;\n}\n\n/**\n * Public function `object`.\n *\n * Returns true if `data` is a plain-old JS object, false otherwise.\n */\nfunction object(data) {\n  return toString.call(data) === \"[object Object]\";\n}\n\n/**\n * Public function `emptyObject`.\n *\n * Returns true if `data` is an empty object, false otherwise.\n */\nfunction emptyObject(data) {\n  return (\n    object(data) &&\n    !some(data, function() {\n      return true;\n    })\n  );\n}\n\nfunction some(data, predicate) {\n  for (var key in data) {\n    if (hasOwnProperty.call(data, key)) {\n      if (predicate(key, data[key])) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\n/**\n * Public function `nonEmptyObject`.\n *\n * Returns true if `data` is a non-empty object, false otherwise.\n */\nfunction nonEmptyObject(data) {\n  return (\n    object(data) &&\n    some(data, function() {\n      return true;\n    })\n  );\n}\n\n/**\n * Public function `thenable`.\n *\n * Returns true if `data` has a `then` method.\n */\nfunction thenable(data) {\n  return assigned(data) && isFunction(data.then);\n}\n\n/**\n * Public function `instanceStrict`.\n *\n * Returns true if `data` is an instance of `prototype`, false otherwise.\n */\nfunction instanceStrict(data, prototype) {\n  try {\n    return data instanceof prototype;\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Public function `instance`.\n *\n * Returns true if `data` is an instance of `prototype`, false otherwise.\n * Falls back to testing constructor.name and Object.prototype.toString\n * if the initial instanceof test fails.\n */\nfunction instance(data, prototype) {\n  try {\n    return (\n      instanceStrict(data, prototype) ||\n      data.constructor.name === prototype.name ||\n      toString.call(data) === \"[object \" + prototype.name + \"]\"\n    );\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Public function `like`.\n *\n * Tests whether `data` 'quacks like a duck'. Returns true if `data` has all\n * of the properties of `archetype` (the 'duck'), false otherwise.\n */\nfunction like(data, archetype) {\n  var name;\n\n  for (name in archetype) {\n    if (hasOwnProperty.call(archetype, name)) {\n      if (\n        hasOwnProperty.call(data, name) === false ||\n        typeof data[name] !== typeof archetype[name]\n      ) {\n        return false;\n      }\n\n      if (object(data[name]) && like(data[name], archetype[name]) === false) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\n/**\n * Public function `array`.\n *\n * Returns true if `data` is an array, false otherwise.\n */\nfunction array(data) {\n  return isArray(data);\n}\n\n/**\n * Public function `emptyArray`.\n *\n * Returns true if `data` is an empty array, false otherwise.\n */\nfunction emptyArray(data) {\n  return isArray(data) && data.length === 0;\n}\n\n/**\n * Public function `nonEmptyArray`.\n *\n * Returns true if `data` is a non-empty array, false otherwise.\n */\nfunction nonEmptyArray(data) {\n  return isArray(data) && data.length > 0;\n}\n\n/**\n * Public function `arrayLike`.\n *\n * Returns true if `data` is an array-like object, false otherwise.\n */\nfunction arrayLike(data) {\n  return assigned(data) && data.length >= 0;\n}\n\n/**\n * Public function `iterable`.\n *\n * Returns true if `data` is an iterable, false otherwise.\n */\nfunction iterable(data) {\n  if (!haveSymbols) {\n    // Fall back to `arrayLike` predicate in pre-ES6 environments.\n    return arrayLike(data);\n  }\n\n  return assigned(data) && isFunction(data[Symbol.iterator]);\n}\n\n/**\n * Public function `contains`.\n *\n * Returns true if `data` contains `value`, false otherwise.\n * Works with objects, arrays and array-likes (including strings).\n */\nfunction contains(data, value) {\n  var iterator, iteration;\n\n  if (!assigned(data)) {\n    return false;\n  }\n\n  if (haveSets && instanceStrict(data, Set)) {\n    return data.has(value);\n  }\n\n  if (string(data)) {\n    return data.indexOf(value) !== -1;\n  }\n\n  if (haveSymbols && data[Symbol.iterator] && isFunction(data.values)) {\n    iterator = data.values();\n\n    do {\n      iteration = iterator.next();\n\n      if (iteration.value === value) {\n        return true;\n      }\n    } while (!iteration.done);\n\n    return false;\n  }\n\n  return some(data, function(key, dataValue) {\n    return dataValue === value;\n  });\n}\n\n/**\n * Public function `in`.\n *\n * Returns true if `value` is in `data`, false otherwise.\n * Like `contains`, but with arguments flipped.\n */\nfunction isIn(value, data) {\n  return contains(data, value);\n}\n\n/**\n * Public function `containsKey`.\n *\n * Returns true if `data` contains key `key`, false otherwise.\n * Works with objects, arrays and array-likes (including strings).\n */\nfunction containsKey(data, key) {\n  if (!assigned(data)) {\n    return false;\n  }\n\n  if (haveMaps && instanceStrict(data, Map)) {\n    return data.has(key);\n  }\n\n  if (iterable(data) && !number(+key)) {\n    return false;\n  }\n\n  return !!data[key];\n}\n\n/**\n * Public function `keyIn`.\n *\n * Returns true if key `key` is in `data`, false otherwise.\n * Like `contains`, but with arguments flipped.\n */\nfunction keyIn(key, data) {\n  return containsKey(data, key);\n}\n\n/**\n * Public function `hasLength`.\n *\n * Returns true if `data` has a length property that equals `length`, false\n * otherwise.\n */\nfunction hasLength(data, length) {\n  return assigned(data) && data.length === length;\n}\n\n/**\n * Public function `date`.\n *\n * Returns true if `data` is a valid date, false otherwise.\n */\nfunction date(data) {\n  return instanceStrict(data, Date) && integer(data.getTime());\n}\n\n/**\n * Public function `function`.\n *\n * Returns true if `data` is a function, false otherwise.\n */\nfunction isFunction(data) {\n  return typeof data === \"function\";\n}\n\n/**\n * Public function `throws`.\n *\n * Returns true if `data` is a function that throws, false otherwise.\n */\nfunction throws(data) {\n  if (!isFunction(data)) {\n    return false;\n  }\n\n  try {\n    data();\n  } catch (error) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * Public function `map`.\n *\n * Maps each value from `data` to the corresponding predicate and returns\n * the results. If the same function is to be applied across all of the data,\n * a single predicate function may be passed in.\n */\nfunction map(data, predicates) {\n  var result;\n\n  if (isArray(data)) {\n    result = [];\n  } else {\n    result = {};\n  }\n\n  if (isFunction(predicates)) {\n    forEach(data, function(key, value) {\n      result[key] = predicates(value);\n    });\n  } else {\n    if (!isArray(predicates)) {\n      assert.object(predicates);\n    }\n\n    var dataKeys = keys(data || {});\n\n    forEach(predicates, function(key, predicate) {\n      dataKeys.some(function(dataKey, index) {\n        if (dataKey === key) {\n          dataKeys.splice(index, 1);\n          return true;\n        }\n        return false;\n      });\n\n      if (isFunction(predicate)) {\n        if (not.assigned(data)) {\n          result[key] = !!predicate.m;\n        } else {\n          result[key] = predicate(data[key]);\n        }\n      } else {\n        result[key] = map(data[key], predicate);\n      }\n    });\n  }\n\n  return result;\n}\n\nfunction forEach(object, action) {\n  for (var key in object) {\n    if (hasOwnProperty.call(object, key)) {\n      action(key, object[key]);\n    }\n  }\n}\n\n/**\n * Public function `all`\n *\n * Check that all boolean values are true\n * in an array or object returned from `map`.\n */\nfunction all(data) {\n  if (isArray(data)) {\n    return testArray(data, false);\n  }\n\n  assert.object(data);\n\n  return testObject(data, false);\n}\n\nfunction testArray(data, result) {\n  var i;\n\n  for (i = 0; i < data.length; i += 1) {\n    if (data[i] === result) {\n      return result;\n    }\n  }\n\n  return !result;\n}\n\nfunction testObject(data, result) {\n  var key, value;\n\n  for (key in data) {\n    if (hasOwnProperty.call(data, key)) {\n      value = data[key];\n\n      if (object(value) && testObject(value, result) === result) {\n        return result;\n      }\n\n      if (value === result) {\n        return result;\n      }\n    }\n  }\n\n  return !result;\n}\n\n/**\n * Public function `any`\n *\n * Check that at least one boolean value is true\n * in an array or object returned from `map`.\n */\nfunction any(data) {\n  if (isArray(data)) {\n    return testArray(data, true);\n  }\n\n  assert.object(data);\n\n  return testObject(data, true);\n}\n\nfunction mixin(target, source) {\n  forEach(source, function(key, value) {\n    target[key] = value;\n  });\n\n  return target;\n}\n\n/**\n * Public modifier `assert`.\n *\n * Throws if `predicate` returns false.\n */\nfunction assertModifier(predicate, defaultMessage) {\n  return function() {\n    var args = arguments;\n    var argCount = predicate.l || predicate.length;\n    var message = args[argCount];\n    var ErrorType = args[argCount + 1];\n\n    assertImpl(\n      predicate.apply(null, args),\n      nonEmptyString(message)\n        ? message\n        : defaultMessage\n            .replace(\"{a}\", messageFormatter(args[0]))\n            .replace(\"{e}\", messageFormatter(args[1]))\n            .replace(\"{e2}\", messageFormatter(args[2]))\n            .replace(\"{t}\", function() {\n              var arg = args[1];\n\n              if (arg && arg.name) {\n                return arg.name;\n              }\n\n              return arg;\n            }),\n      isFunction(ErrorType) ? ErrorType : TypeError\n    );\n\n    return args[0];\n  };\n}\n\nfunction messageFormatter(arg) {\n  return function() {\n    if (string(arg)) {\n      return '\"' + arg.replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, '\\\\\"') + '\"';\n    }\n\n    if (\n      arg &&\n      arg !== true &&\n      arg.constructor &&\n      !instanceStrict(arg, RegExp) &&\n      typeof arg !== \"number\"\n    ) {\n      return arg.constructor.name;\n    }\n\n    return arg;\n  };\n}\n\nfunction assertImpl(value, message, ErrorType) {\n  if (value) {\n    return value;\n  }\n  throw new (ErrorType || Error)(message || \"assert failed\");\n}\n\n/**\n * Public modifier `not`.\n *\n * Negates `predicate`.\n */\nfunction notModifier(predicate) {\n  var modifiedPredicate = function() {\n    return notImpl(predicate.apply(null, arguments));\n  };\n  modifiedPredicate.l = predicate.length;\n  return modifiedPredicate;\n}\n\nfunction notImpl(value) {\n  return !value;\n}\n\n/**\n * Public modifier `maybe`.\n *\n * Returns true if predicate argument is  null or undefined,\n * otherwise propagates the return value from `predicate`.\n */\nfunction maybeModifier(predicate) {\n  var modifiedPredicate = function() {\n    if (not.assigned(arguments[0])) {\n      return true;\n    }\n\n    return predicate.apply(null, arguments);\n  };\n  modifiedPredicate.l = predicate.length;\n\n  // Hackishly indicate that this is a maybe.xxx predicate.\n  // Without this flag, the alternative would be to iterate\n  // through the maybe predicates or use indexOf to check,\n  // which would be time-consuming.\n  modifiedPredicate.m = true;\n\n  return modifiedPredicate;\n}\n\nfunction maybeImpl(value) {\n  if (assigned(value) === false) {\n    return true;\n  }\n\n  return value;\n}\n\n/**\n * Public modifier `of`.\n *\n * Applies the chained predicate to members of the collection.\n */\nfunction ofModifier(target, type, predicate) {\n  var modifiedPredicate = function() {\n    var collection, args;\n\n    collection = arguments[0];\n\n    if (target === \"maybe\" && not.assigned(collection)) {\n      return true;\n    }\n\n    if (!type(collection)) {\n      return false;\n    }\n\n    collection = coerceCollection(type, collection);\n    args = slice.call(arguments, 1);\n\n    try {\n      collection.forEach(function(item) {\n        if (\n          (target !== \"maybe\" || assigned(item)) &&\n          !predicate.apply(null, [item].concat(args))\n        ) {\n          // TODO: Replace with for...of when ES6 is required.\n          throw 0;\n        }\n      });\n    } catch (ignore) {\n      return false;\n    }\n\n    return true;\n  };\n  modifiedPredicate.l = predicate.length;\n  return modifiedPredicate;\n}\n\nfunction coerceCollection(type, collection) {\n  switch (type) {\n    case arrayLike:\n      return slice.call(collection);\n    case object:\n      return keys(collection).map(function(key) {\n        return collection[key];\n      });\n    default:\n      return collection;\n  }\n}\n\nfunction createModifiedPredicates(modifier, object) {\n  return createModifiedFunctions([modifier, predicates, object, \"\"]);\n}\n\nfunction createModifiedFunctions(args) {\n  var modifier, messageModifier, object, functions;\n\n  modifier = args.shift();\n  messageModifier = args.pop();\n  object = args.pop();\n  functions = args.pop();\n\n  forEach(functions, function(key, fn) {\n    var message = messages[key];\n    if (message && messageModifier) {\n      message = message.replace(\"to\", messageModifier + \"to\");\n    }\n\n    Object.defineProperty(object, key, {\n      configurable: false,\n      enumerable: true,\n      writable: false,\n      value: modifier.apply(null, args.concat(fn, message))\n    });\n  });\n\n  return object;\n}\n\nfunction createModifiedModifier(modifier, modified, messageModifier) {\n  return createModifiedFunctions([modifier, modified, {}, messageModifier]);\n}\n\nfunction createOfPredicates(key) {\n  predicates[key].of = createModifiedFunctions([\n    ofModifier.bind(null, null),\n    predicates[key],\n    predicates,\n    {},\n    \"\"\n  ]);\n}\n\nfunction createOfModifiers(base, modifier) {\n  collections.forEach(function(key) {\n    base[key].of = createModifiedModifier(modifier, predicates[key].of);\n  });\n}\n\nfunction createMaybeOfModifiers(key) {\n  maybe[key].of = createModifiedFunctions([\n    ofModifier.bind(null, \"maybe\"),\n    predicates[key],\n    predicates,\n    {},\n    \"\"\n  ]);\n  assert.maybe[key].of = createModifiedModifier(assertModifier, maybe[key].of);\n  assert.not[key].of = createModifiedModifier(assertModifier, not[key].of);\n}\n\nexport default mixin(functions, { assert, not, maybe });\n",null,"import { fastClone, map, flat, combinations, toString } from \"./utils\";\n\nexport const iteratorRegex = /\\{[a-z]+\\}/gi;\n\n// private constants\nconst _hyphenOrDigitRegex = /-|[^0-9]/g;\nconst _notUpperOrDigitRegex = /[^A-Z0-9]/g;\n\n// private helpers\nconst _expandDeclaration = subpair => `${subpair[0]}:${subpair[1]}`;\nconst _addEmptyMod = mod => [[\"\", \"\"]].concat(mod);\nconst _toCase = (s, upper) => s[`to${upper ? \"Upp\" : \"Low\"}erCase`]();\nconst _toPair = (input, isValue) => {\n  if (typeof input === \"number\") {\n    const str = toString(input);\n    return [\n      str.replace(_hyphenOrDigitRegex, match => (match === \"-\" ? \"N\" : \"\")),\n      str\n    ];\n  } else {\n    return [\n      _toCase(input.replace(_notUpperOrDigitRegex, \"\"), isValue),\n      _toCase(input, false)\n    ];\n  }\n};\n\n// parse smart map\nexport const parseSmartMap = (inputs, isValue) =>\n  inputs.length\n    ? map(inputs, input => _toPair(input, isValue))\n    : map(Object.keys(inputs), key => [toString(key), toString(inputs[key])]);\n\n// expand ainsley.defs\nexport const expandDefs = (ainsley, ruleSet) => {\n  const pair = ruleSet[1].reduce(\n    (iters, pair) => [\n      iters[0].concat(toString(pair[0]).match(iteratorRegex) || []),\n      iters[1].concat(toString(pair[1]).match(iteratorRegex) || [])\n    ],\n    [[], []]\n  );\n\n  return map(\n    combinations(\n      flat([\n        map(pair[0], iter =>\n          map(parseSmartMap(ainsley[iter]), pair => [iter, pair[0], pair[1]])\n        ),\n        map(pair[1], iter =>\n          map(parseSmartMap(ainsley[iter], true), pair => [\n            iter,\n            pair[0],\n            pair[1]\n          ])\n        )\n      ])\n    ),\n    perm => {\n      const clone = fastClone(ruleSet);\n      for (let i = 0; clone[0].includes(\"&\"); i++) {\n        clone[0] = clone[0].replace(\"&\", perm[i][1]);\n      }\n      for (let i = 0; i < clone[1].length; i++) {\n        const decl = clone[1][i];\n        while (perm.length > 0 && decl[0].includes(perm[0][0])) {\n          const first = perm.shift();\n          decl[0] = decl[0].replace(first[0], first[2]);\n        }\n      }\n      for (let i = 0; i < clone[1].length; i++) {\n        const decl = clone[1][i];\n        while (perm.length > 0 && decl[1].includes(perm[0][0])) {\n          const first = perm.shift();\n          decl[1] = decl[1].replace(first[0], first[2]);\n        }\n      }\n      return clone;\n    }\n  );\n};\n\n// expand ainsley.props\nexport const expandProps = pair => {\n  const prop = parseSmartMap([pair[0]])[0];\n  return map(parseSmartMap(pair[1], true), subpair => [\n    `${prop[0]}${subpair[0]}`,\n    [[prop[1], subpair[1]]]\n  ]);\n};\n\n// compile ainsley to a simple stylesheet ast\nexport const ainsleyToAST = ainsley => {\n  const ast = [].concat(\n    flat(map(ainsley.defs || [], def => expandDefs(ainsley, def))),\n    flat(map(ainsley.props || [], expandProps)),\n    ainsley.raw || []\n  );\n  return [ainsley.reset || \"\"].concat(\n    flat(\n      map(combinations(map(ainsley.mods || [], _addEmptyMod)), comb =>\n        comb.reduce((ast, pair) => {\n          if (!pair[1]) {\n            return ast;\n          } else if (pair[1][0] === \"@\") {\n            return [\n              [\n                pair[1],\n                map(ast, subpair => [`${pair[0]}${subpair[0]}`, subpair[1]])\n              ]\n            ];\n          } else {\n            return map(ast, subpair => [\n              `${pair[0]}${subpair[0]}${pair[1]}`,\n              subpair[1]\n            ]);\n          }\n        }, ast)\n      )\n    )\n  );\n};\n\nexport const ruleToCSS = rule => {\n  if (typeof rule === \"string\") return rule;\n  return rule[0][0] === \"@\"\n    ? `${rule[0]}{${astToCSS(rule[1])}}`\n    : `.${rule[0]}{${map(rule[1], _expandDeclaration).join(\";\")}}`;\n};\n\n// generate css from simple stylesheet ast\nexport const astToCSS = ast => map(ast, ruleToCSS).join(\"\");\n\n// generate css from ainsley\nexport const ainsleyToCSS = ainsley => astToCSS(ainsleyToAST(ainsley));\n\n// insert ainsley into a dom\nexport const ainsleyInsert = (ainsley, stylesheet) => {\n  const ast = ainsleyToAST(ainsley);\n  for (let i = ast.length - 1; i >= 0; i--) {\n    stylesheet.insertRule(ruleToCSS(ast[i]), 0);\n  }\n};\n"],"names":["messages","predicates","collections","hasOwnProperty","Object","prototype","toString","keys","slice","Array","isArray","neginf","Number","NEGATIVE_INFINITY","posinf","POSITIVE_INFINITY","haveSymbols","Symbol","haveMaps","Map","haveSets","Set","fns","n","f","equal","s","isUndefined","isNull","assigned","primitive","contains","isIn","containsKey","keyIn","zero","one","infinity","number","integer","float","even","odd","greater","less","between","greaterOrEqual","lessOrEqual","inRange","positive","negative","string","emptyString","nonEmptyString","match","boolean","object","emptyObject","nonEmptyObject","instanceStrict","thenable","instance","like","array","emptyArray","nonEmptyArray","arrayLike","iterable","date","isFunction","hasLength","throws","forEach","functions","mixin","map","all","any","assert","createModifiedPredicates","assertModifier","assertImpl","not","notModifier","notImpl","maybe","maybeModifier","maybeImpl","createModifiedModifier","createOfPredicates","createOfModifiers","createMaybeOfModifiers","lhs","rhs","data","undefined","type","x","y","regex","call","some","predicate","key","then","error","constructor","name","archetype","length","iterator","value","iteration","has","indexOf","values","next","done","dataValue","Date","getTime","result","dataKeys","dataKey","index","splice","m","action","testArray","testObject","i","target","source","defaultMessage","args","arguments","argCount","l","message","ErrorType","apply","replace","messageFormatter","arg","TypeError","RegExp","Error","modifiedPredicate","ofModifier","collection","coerceCollection","item","concat","ignore","modifier","createModifiedFunctions","messageModifier","shift","pop","fn","defineProperty","configurable","enumerable","writable","modified","of","bind","base","fastClone","val","check","arr","len","push","out","flat","combinations","mods","list","opt","prev","iteratorRegex","_hyphenOrDigitRegex","_notUpperOrDigitRegex","_expandDeclaration","subpair","_addEmptyMod","mod","_toCase","upper","_toPair","input","isValue","str","parseSmartMap","inputs","expandDefs","ainsley","ruleSet","pair","reduce","iters","iter","perm","clone","includes","decl","first","expandProps","prop","ainsleyToAST","ast","defs","def","props","raw","reset","comb","ruleToCSS","rule","astToCSS","join","ainsleyToCSS","ainsleyInsert","stylesheet","insertRule"],"mappings":"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"}