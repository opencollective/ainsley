{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/css-tree/lib/tokenizer/index.js","webpack:///./node_modules/css-tree/lib/index.js","webpack:///./src/lib/utils.ts","webpack:///./node_modules/css-tree/lib/syntax/node/Raw.js","webpack:///./node_modules/ajv/lib/compile/util.js","webpack:///./node_modules/css-tree/lib/common/List.js","webpack:///./node_modules/css-tree/lib/tokenizer/utils.js","webpack:///./node_modules/css-tree/lib/common/TokenStream.js","webpack:///./node_modules/css-tree/lib/tokenizer/const.js","webpack:///./node_modules/csso/lib/clean/utils.js","webpack:///./node_modules/csso/lib/replace/Number.js","webpack:///./src/lib/generate.ts","webpack:///./src/lib/embed.ts","webpack:///../src/utils.ts","webpack:///../src/index.ts","webpack:///./node_modules/ajv/lib/compile/resolve.js","webpack:///./node_modules/fast-deep-equal/index.js","webpack:///./node_modules/ajv/lib/compile/error_classes.js","webpack:///./node_modules/css-tree/lib/utils/createCustomError.js","webpack:///./node_modules/css-tree/lib/definition-syntax/generate.js","webpack:///./node_modules/css-tree/lib/utils/names.js","webpack:///./node_modules/css-tree/lib/definition-syntax/parse.js","webpack:///./node_modules/source-map/lib/util.js","webpack:///./node_modules/css-tree/lib/syntax/node/index.js","webpack:///./node_modules/csso/lib/replace/color.js","webpack:///./node_modules/csso/lib/restructure/utils.js","webpack:///./node_modules/ajv/lib/compile/schema_obj.js","webpack:///./node_modules/fast-json-stable-stringify/index.js","webpack:///./node_modules/ajv/lib/dotjs/validate.js","webpack:///./node_modules/ajv/lib/dotjs/_limit.js","webpack:///./node_modules/ajv/lib/dotjs/_limitItems.js","webpack:///./node_modules/ajv/lib/dotjs/_limitLength.js","webpack:///./node_modules/ajv/lib/dotjs/_limitProperties.js","webpack:///./node_modules/css-tree/lib/common/SyntaxError.js","webpack:///./node_modules/css-tree/lib/tokenizer/char-code-definitions.js","webpack:///./node_modules/css-tree/lib/lexer/error.js","webpack:///./node_modules/css-tree/lib/common/adopt-buffer.js","webpack:///./node_modules/css-tree/lib/definition-syntax/SyntaxError.js","webpack:///./node_modules/css-tree/lib/definition-syntax/walk.js","webpack:///./node_modules/css-tree/lib/lexer/match-graph.js","webpack:///./node_modules/css-tree/lib/syntax/scope/default.js","webpack:///./node_modules/css-tree/lib/syntax/function/element.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/common/selectorList.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/common/nthWithOfClause.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/common/nth.js","webpack:///./node_modules/csso/lib/replace/property/border.js","webpack:///./node_modules/ajv/lib/ajv.js","webpack:///./node_modules/csso/lib/index.js","webpack:///./node_modules/isomorphic-fetch/fetch-npm-browserify.js","webpack:///./node_modules/whatwg-fetch/fetch.js","webpack:///(webpack)/buildin/global.js","webpack:///./node_modules/ajv/lib/compile/index.js","webpack:///../../src/util.ts","webpack:///../../src/regexps-uri.ts","webpack:///../../src/regexps-iri.ts","webpack:///../../node_modules/punycode/punycode.es6.js","webpack:///../../src/uri.ts","webpack:///../../src/schemes/http.ts","webpack:///../../src/schemes/https.ts","webpack:///../../src/schemes/mailto.ts","webpack:///../../src/schemes/urn.ts","webpack:///../../src/schemes/urn-uuid.ts","webpack:///../../src/index.ts","webpack:///./node_modules/ajv/lib/compile/ucs2length.js","webpack:///./node_modules/json-schema-traverse/index.js","webpack:///./node_modules/ajv/lib/cache.js","webpack:///./node_modules/ajv/lib/compile/formats.js","webpack:///./node_modules/ajv/lib/compile/rules.js","webpack:///./node_modules/ajv/lib/dotjs/index.js","webpack:///./node_modules/ajv/lib/dotjs/ref.js","webpack:///./node_modules/ajv/lib/dotjs/allOf.js","webpack:///./node_modules/ajv/lib/dotjs/anyOf.js","webpack:///./node_modules/ajv/lib/dotjs/comment.js","webpack:///./node_modules/ajv/lib/dotjs/const.js","webpack:///./node_modules/ajv/lib/dotjs/contains.js","webpack:///./node_modules/ajv/lib/dotjs/dependencies.js","webpack:///./node_modules/ajv/lib/dotjs/enum.js","webpack:///./node_modules/ajv/lib/dotjs/format.js","webpack:///./node_modules/ajv/lib/dotjs/if.js","webpack:///./node_modules/ajv/lib/dotjs/items.js","webpack:///./node_modules/ajv/lib/dotjs/multipleOf.js","webpack:///./node_modules/ajv/lib/dotjs/not.js","webpack:///./node_modules/ajv/lib/dotjs/oneOf.js","webpack:///./node_modules/ajv/lib/dotjs/pattern.js","webpack:///./node_modules/ajv/lib/dotjs/properties.js","webpack:///./node_modules/ajv/lib/dotjs/propertyNames.js","webpack:///./node_modules/ajv/lib/dotjs/required.js","webpack:///./node_modules/ajv/lib/dotjs/uniqueItems.js","webpack:///./node_modules/ajv/lib/data.js","webpack:///./node_modules/ajv/lib/compile/async.js","webpack:///./node_modules/ajv/lib/keyword.js","webpack:///./node_modules/ajv/lib/dotjs/custom.js","webpack:///./node_modules/ajv/lib/definition_schema.js","webpack:///./src/lib sync ^ainsley\\-config\\-.*$","webpack:///./node_modules/css-tree/lib/syntax/index.js","webpack:///./node_modules/css-tree/lib/syntax/create.js","webpack:///./node_modules/css-tree/lib/lexer/Lexer.js","webpack:///./node_modules/css-tree/lib/lexer/generic.js","webpack:///./node_modules/css-tree/lib/lexer/generic-an-plus-b.js","webpack:///./node_modules/css-tree/lib/lexer/generic-urange.js","webpack:///./node_modules/css-tree/lib/definition-syntax/tokenizer.js","webpack:///./node_modules/css-tree/lib/lexer/prepare-tokens.js","webpack:///./node_modules/css-tree/lib/lexer/match.js","webpack:///./node_modules/css-tree/lib/lexer/trace.js","webpack:///./node_modules/css-tree/lib/lexer/search.js","webpack:///./node_modules/css-tree/lib/lexer/structure.js","webpack:///./node_modules/css-tree/lib/definition-syntax/index.js","webpack:///./node_modules/css-tree/lib/parser/create.js","webpack:///./node_modules/css-tree/lib/common/OffsetToLocation.js","webpack:///./node_modules/css-tree/lib/parser/sequence.js","webpack:///./node_modules/css-tree/lib/generator/create.js","webpack:///./node_modules/css-tree/lib/generator/sourceMap.js","webpack:///./node_modules/source-map/lib/source-map-generator.js","webpack:///./node_modules/source-map/lib/base64-vlq.js","webpack:///./node_modules/source-map/lib/base64.js","webpack:///./node_modules/source-map/lib/array-set.js","webpack:///./node_modules/source-map/lib/mapping-list.js","webpack:///./node_modules/css-tree/lib/convertor/create.js","webpack:///./node_modules/css-tree/lib/walker/create.js","webpack:///./node_modules/css-tree/lib/utils/clone.js","webpack:///./node_modules/css-tree/lib/syntax/config/mix.js","webpack:///./node_modules/css-tree/lib/syntax/config/lexer.js","webpack:///./node_modules/css-tree/lib/syntax/node/AnPlusB.js","webpack:///./node_modules/css-tree/lib/syntax/node/Atrule.js","webpack:///./node_modules/css-tree/lib/syntax/node/AtrulePrelude.js","webpack:///./node_modules/css-tree/lib/syntax/node/AttributeSelector.js","webpack:///./node_modules/css-tree/lib/syntax/node/Block.js","webpack:///./node_modules/css-tree/lib/syntax/node/Brackets.js","webpack:///./node_modules/css-tree/lib/syntax/node/CDC.js","webpack:///./node_modules/css-tree/lib/syntax/node/CDO.js","webpack:///./node_modules/css-tree/lib/syntax/node/ClassSelector.js","webpack:///./node_modules/css-tree/lib/syntax/node/Combinator.js","webpack:///./node_modules/css-tree/lib/syntax/node/Comment.js","webpack:///./node_modules/css-tree/lib/syntax/node/Declaration.js","webpack:///./node_modules/css-tree/lib/syntax/node/DeclarationList.js","webpack:///./node_modules/css-tree/lib/syntax/node/Dimension.js","webpack:///./node_modules/css-tree/lib/syntax/node/Function.js","webpack:///./node_modules/css-tree/lib/syntax/node/HexColor.js","webpack:///./node_modules/css-tree/lib/syntax/node/Identifier.js","webpack:///./node_modules/css-tree/lib/syntax/node/IdSelector.js","webpack:///./node_modules/css-tree/lib/syntax/node/MediaFeature.js","webpack:///./node_modules/css-tree/lib/syntax/node/MediaQuery.js","webpack:///./node_modules/css-tree/lib/syntax/node/MediaQueryList.js","webpack:///./node_modules/css-tree/lib/syntax/node/Nth.js","webpack:///./node_modules/css-tree/lib/syntax/node/Number.js","webpack:///./node_modules/css-tree/lib/syntax/node/Operator.js","webpack:///./node_modules/css-tree/lib/syntax/node/Parentheses.js","webpack:///./node_modules/css-tree/lib/syntax/node/Percentage.js","webpack:///./node_modules/css-tree/lib/syntax/node/PseudoClassSelector.js","webpack:///./node_modules/css-tree/lib/syntax/node/PseudoElementSelector.js","webpack:///./node_modules/css-tree/lib/syntax/node/Ratio.js","webpack:///./node_modules/css-tree/lib/syntax/node/Rule.js","webpack:///./node_modules/css-tree/lib/syntax/node/Selector.js","webpack:///./node_modules/css-tree/lib/syntax/node/SelectorList.js","webpack:///./node_modules/css-tree/lib/syntax/node/String.js","webpack:///./node_modules/css-tree/lib/syntax/node/StyleSheet.js","webpack:///./node_modules/css-tree/lib/syntax/node/TypeSelector.js","webpack:///./node_modules/css-tree/lib/syntax/node/UnicodeRange.js","webpack:///./node_modules/css-tree/lib/syntax/node/Url.js","webpack:///./node_modules/css-tree/lib/syntax/node/Value.js","webpack:///./node_modules/css-tree/lib/syntax/node/WhiteSpace.js","webpack:///./node_modules/css-tree/lib/syntax/config/parser.js","webpack:///./node_modules/css-tree/lib/syntax/scope/index.js","webpack:///./node_modules/css-tree/lib/syntax/scope/atrulePrelude.js","webpack:///./node_modules/css-tree/lib/syntax/scope/selector.js","webpack:///./node_modules/css-tree/lib/syntax/scope/value.js","webpack:///./node_modules/css-tree/lib/syntax/function/expression.js","webpack:///./node_modules/css-tree/lib/syntax/function/var.js","webpack:///./node_modules/css-tree/lib/syntax/atrule/index.js","webpack:///./node_modules/css-tree/lib/syntax/atrule/font-face.js","webpack:///./node_modules/css-tree/lib/syntax/atrule/import.js","webpack:///./node_modules/css-tree/lib/syntax/atrule/media.js","webpack:///./node_modules/css-tree/lib/syntax/atrule/page.js","webpack:///./node_modules/css-tree/lib/syntax/atrule/supports.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/index.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/dir.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/has.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/lang.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/matches.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/not.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/nth-child.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/nth-last-child.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/nth-last-of-type.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/nth-of-type.js","webpack:///./node_modules/css-tree/lib/syntax/pseudo/slotted.js","webpack:///./node_modules/css-tree/lib/syntax/config/walker.js","webpack:///./node_modules/csso/lib/compress.js","webpack:///./node_modules/csso/lib/usage.js","webpack:///./node_modules/csso/lib/clean/index.js","webpack:///./node_modules/csso/lib/clean/Atrule.js","webpack:///./node_modules/csso/lib/clean/Comment.js","webpack:///./node_modules/csso/lib/clean/Declaration.js","webpack:///./node_modules/csso/lib/clean/Raw.js","webpack:///./node_modules/csso/lib/clean/Rule.js","webpack:///./node_modules/csso/lib/clean/TypeSelector.js","webpack:///./node_modules/csso/lib/clean/WhiteSpace.js","webpack:///./node_modules/csso/lib/replace/index.js","webpack:///./node_modules/csso/lib/replace/Atrule.js","webpack:///./node_modules/csso/lib/replace/atrule/keyframes.js","webpack:///./node_modules/csso/lib/replace/AttributeSelector.js","webpack:///./node_modules/csso/lib/replace/Value.js","webpack:///./node_modules/csso/lib/replace/property/font.js","webpack:///./node_modules/csso/lib/replace/property/font-weight.js","webpack:///./node_modules/csso/lib/replace/property/background.js","webpack:///./node_modules/csso/lib/replace/Dimension.js","webpack:///./node_modules/csso/lib/replace/Percentage.js","webpack:///./node_modules/csso/lib/replace/String.js","webpack:///./node_modules/csso/lib/replace/Url.js","webpack:///./node_modules/csso/lib/restructure/index.js","webpack:///./node_modules/csso/lib/restructure/prepare/index.js","webpack:///./node_modules/csso/lib/restructure/prepare/createDeclarationIndexer.js","webpack:///./node_modules/csso/lib/restructure/prepare/processSelector.js","webpack:///./node_modules/csso/lib/restructure/prepare/specificity.js","webpack:///./node_modules/csso/lib/restructure/1-mergeAtrule.js","webpack:///./node_modules/csso/lib/restructure/2-initialMergeRuleset.js","webpack:///./node_modules/csso/lib/restructure/3-disjoinRuleset.js","webpack:///./node_modules/csso/lib/restructure/4-restructShorthand.js","webpack:///./node_modules/csso/lib/restructure/6-restructBlock.js","webpack:///./node_modules/csso/lib/restructure/7-mergeRuleset.js","webpack:///./node_modules/csso/lib/restructure/8-restructRuleset.js","webpack:///./src/lib/validate.ts","webpack:///./src/lib/flatten.ts","webpack:///./src/lib/minify.ts"],"names":["installedModules","__webpack_require__","moduleId","exports","module","i","l","modules","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","TokenStream","adoptBuffer","constants","TYPE","charCodeDefinitions","isNewline","isName","isValidEscape","isNumberStart","isIdentifierStart","charCodeCategory","isBOM","utils","cmpStr","getNewlineLength","findWhiteSpaceEnd","consumeEscaped","consumeName","consumeNumber","consumeBadUrlRemnants","tokenize","source","stream","getCharCode","offset","sourceLength","charCodeAt","consumeNumericToken","type","Dimension","Percentage","Number","consumeIdentLikeToken","nameStartOffset","Function","Url","length","code","Eof","WhiteSpace","BadUrl","NonPrintable","consumeUrlToken","Ident","consumeStringToken","endingCodePoint","String","BadString","nextCode","offsetAndType","balance","tokenCount","start","balanceCloseType","balanceStart","balancePrev","Hash","Delim","LeftParenthesis","RightParenthesis","Comma","CDC","Comment","indexOf","Colon","Semicolon","CDO","AtKeyword","LeftSquareBracket","RightSquareBracket","LeftCurlyBracket","RightCurlyBracket","Digit","NameStart","EOF","firstCharOffset","reset","next","keys","forEach","isObject","x","Array","isArray","combinations","mods","list","index","flatMap","option","map","prev","concat","getOffsetExcludeWS","this","scanner","tokenIndex","lookupType","getTokenStart","tokenStart","balanceEnd","structure","parse","startToken","excludeWhiteSpace","endOffset","startOffset","skip","getRawLength","loc","getLocation","substring","generate","node","chunk","default","leftCurlyBracket","tokenType","leftCurlyBracketOrSemicolon","exclamationMarkOrSemicolon","semicolonIncluded","checkDataType","dataType","data","negate","EQUAL","AND","OK","NOT","copy","to","checkDataTypes","dataTypes","types","toHash","array","null","number","integer","coerceToTypes","optionCoerceTypes","COERCE_TO_TYPES","getProperty","escapeQuotes","equal","ucs2length","varOccurences","str","dataVar","matches","match","RegExp","varReplace","expr","replace","cleanUpCode","out","EMPTY_ELSE","EMPTY_IF_NO_ELSE","EMPTY_IF_WITH_ELSE","finalCleanUpCode","async","ERRORS_REGEXP","REMOVE_ERRORS_ASYNC","RETURN_ASYNC","REMOVE_ERRORS","ROOTDATA_REGEXP","REMOVE_ROOTDATA","schemaHasRules","schema","rules","schemaHasRulesExcept","exceptKeyword","schemaUnknownRules","toQuotedString","getPathExpr","currentPath","jsonPointers","isNumber","joinPaths","getPath","prop","path","escapeJsonPointer","getData","$data","lvl","paths","up","jsonPointer","JSON_POINTER","test","Error","RELATIVE_JSON_POINTER","segments","split","segment","unescapeJsonPointer","unescapeFragment","decodeURIComponent","escapeFragment","encodeURIComponent","arr","hash","IDENTIFIER","SINGLE_QUOTE","a","b","createItem","allocateCursor","cursor","cursors","releaseCursor","List","head","tail","updateCursors","prevOld","prevNew","nextOld","nextNew","getSize","size","fromArray","item","toArray","result","push","toJSON","isEmpty","first","last","each","fn","context","undefined","eachRight","forEachRight","nextUntil","prevUntil","some","appendData","filter","clear","insert","prepend","prependData","append","before","insertData","remove","pop","unshift","shift","prependList","insertList","appendList","oldItem","newItemOrList","charCodeDef","isDigit","isHexDigit","isUppercaseLetter","isWhiteSpace","cmpChar","testStr","referenceCode","findDecimalNumberEnd","maxOffset","Math","min","sign","end","referenceStr","testCode","findWhiteSpaceStart","NAME","WHITESPACE","COMMENT","eof","tokenEnd","lookupOffset","lookupValue","max","loop","isBalanceEdge","pos","isDelim","getTokenValue","getTokenLength","substrToCursor","skipWS","skipTokenCount","skipSC","dump","slice","idx","reduce","hasNoChildren","children","isNodeChildrenList","OMIT_PLUSSIGN","KEEP_PLUSSIGN","unsafeToRemovePlusSignAfter","HexColor","Identifier","Raw","UnicodeRange","packNumber","regexp","pack","ITERATOR_REGEX","DEFAULT_OPTIONS","addVariationToSelector","selector","variationAbbreviation","addPropertyToSelector","propertyAbbreviation","toLowerCase","addValueToSelector","valueAbbreviation","toUpperCase","abbreviateProperty","propertyName","word","charAt","join","ITERATOR_SEARCH","ainsley","options","mergedOptions","generateFromAst","ainsleyToAst","ainsleyRules","css","lastVariations","ainsleyRule","firstChange","variations","variationsToClose","variationInstruction","startsWith","variationsToOpen","content","selectorSuffix","declaration","inheritedVariables","newVariables","variables","variable","modAndBase","parseVariable","mod","base","rulesListWithoutVariations","ainsleyChildrenToAst","variationSet","ainsleyASTNode","ainsleyNestedASTNode","ainsleyChildren","child","ainsleyRuleToAst","ainsleyPropertyToAst","declarations","variablesFound","propertyMatches","valueMatches","iteratorAndType","iterator","location","variableName","abbreviation","combination","combinationIndex","current","part","replacePart","declarationPart","includes","ainsleyProperty","propertyInput","propertyValues","propertyData","id","styleEl","document","querySelector","createElement","setAttribute","appendChild","innerHTML","toString","getOwnPropertyDescriptor","getOwnPropertyNames","getOwnPropertySymbols","getPrototypeOf","propertyIsEnumerable","SUPPORTS","WeakMap","getCleanClone","realm","constructor","__proto__","Constructor","toStringFunction","getObjectCloneLoose","handleCopy","cache","clone","set","symbols","symbol","getObjectCloneStrict","properties","descriptor","GLOBAL_THIS","self","window","global","console","error","isStrict","getObjectClone","has","regExp","flags","Date","getTime","ignoreCase","multiline","unicode","sticky","lastIndex","Map","Set","add","Buffer","isBuffer","allocUnsafe","ArrayBuffer","isView","buffer","then","WeakSet","_keys","_values","createCache","strict","URI","util","SchemaObject","traverse","resolve","compile","root","ref","refVal","_refs","_schemas","inlineRef","_opts","inlineRefs","validate","_compile","v","baseId","res","resolveSchema","refPath","_getFullPath","getFullPath","_getId","normalizeId","resolveRecursive","getJsonPointer","parsedRef","resolveUrl","fullPath","url","ids","schemaId","baseIds","fullPaths","localRefs","allKeys","sch","jsonPtr","rootSchema","parentJsonPtr","parentKeyword","parentSchema","keyIndex","PREVENT_SCOPE_CHANGE","fragment","parts","$ref","SIMPLE_INLINED","limit","checkNoRef","countKeys","count","Infinity","normalize","serialize","TRAILING_SLASH_HASH","valueOf","MissingRefError","message","missingRef","missingSchema","errorSubclass","Subclass","Validation","errors","ajv","validation","MissingRef","SyntaxError","errorStack","stack","noop","decorate","forceBraces","compact","multiplier","combinator","terms","term","explicit","generateSequence","disallowEmpty","comma","opts","generateTypeOpts","Boolean","keywords","isCustomProperty","getVendorPrefix","secondDashIndex","keyword","custom","vendor","freeze","basename","substr","prefix","hack","vendorPrefix","Tokenizer","NAME_CHAR","Uint32Array","fromCharCode","createCharMap","ch","COMBINATOR_PRECEDENCE","scanSpaces","tokenizer","substringToPos","findWsEnd","scanWord","scanNumber","scanString","readMultiplierRange","eat","charCode","maybeMultiplied","range","readMultiplier","maybeToken","peek","readType","nextCharCode","readTypeRange","regroupTerms","combinators","createGroup","sort","subgroupStart","splice","readImplicitGroup","token","prevToken","prevTokenPos","readKeywordOrFunction","readGroup","readProperty","getArg","aArgs","aName","aDefaultValue","arguments","urlRegexp","dataUrlRegexp","urlParse","aUrl","scheme","auth","host","port","urlGenerate","aParsedUrl","aPath","isAbsolute","aRoot","aPathUrl","aRootUrl","joined","relative","level","lastIndexOf","supportsNullProto","identity","isProtoString","strcmp","aStr1","aStr2","toSetString","aStr","fromSetString","compareByOriginalPositions","mappingA","mappingB","onlyCompareOriginal","cmp","originalLine","originalColumn","generatedColumn","generatedLine","compareByGeneratedPositionsDeflated","onlyCompareGenerated","compareByGeneratedPositionsInflated","parseSourceMapInput","JSON","computeSourceURL","sourceRoot","sourceURL","sourceMapURL","parsed","AnPlusB","Atrule","AtrulePrelude","AttributeSelector","Block","Brackets","ClassSelector","Combinator","Declaration","DeclarationList","IdSelector","MediaFeature","MediaQuery","MediaQueryList","Nth","Operator","Parentheses","PseudoClassSelector","PseudoElementSelector","Ratio","Rule","Selector","SelectorList","StyleSheet","TypeSelector","Value","lexer","NAME_TO_HEX","HEX_TO_NAME","hueToRgb","q","hslToRgb","h","g","round","toHex","parseFunctionArgs","functionArgs","rgb","args","wasValue","arg","compressHex","color","compressFunction","functionName","apply","scopeFunctionName","function","compressIdent","matchDeclaration","isType","hex","hasSimilarSelectors","selectors1","selectors2","cursor1","cursor2","compareMarker","isEqualSelectors","isEqualDeclarations","compareDeclarations","declarations1","declarations2","eq","ne1","ne2","ne2overrided","fingerprints","declarations2hash","fingerprint","important","addSelectors","dest","sourceData","newStr","nextStr","unsafeToSkipNode","prelude","block","obj","f","cycles","aobj","bobj","seen","stringify","isFinite","TypeError","seenIndex","it","$keyword","$ruleType","$async","$refKeywords","RULES","all","$id","strictKeywords","$unknownKwd","$keywordsMsg","logger","warn","isTop","sourceCode","processCode","$lvl","$dataLvl","dataLevel","$schema","$schemaPath","schemaPath","$errSchemaPath","errSchemaPath","$breakOnError","allErrors","$valid","$$outStack","createErrors","messages","verbose","__err","compositeRule","$top","rootId","dataPathArr","useDefaults","strictDefaults","$defaultMsg","$closingBraces1","$closingBraces2","$typeSchema","$typeIsArray","nullable","extendRefs","$comment","coerceTypes","$coerceToTypes","$rulesGroup","$shouldUseGroup","$method","$dataType","$coerced","$bracesCoercion","arr1","$type","$i","l1","$parentData","arr2","i2","l2","arr3","$propertyKey","i3","l3","$sch","$passData","useDefault","items","arr4","l4","arr5","$rule","i5","l5","$shouldUseRule","$code","implements","impl","$ruleImplementsSomeKeyword","$schemaValue","$isData","$isMax","$exclusiveKeyword","$schemaExcl","$isDataExcl","$op","$notOp","$errorKeyword","$schemaValueExcl","$exclusive","$exclType","$exclIsNumber","$opStr","$opExpr","createCustomError","sourceFragment","extraLines","processLines","lines","line","num","maxNumLength","column","startLine","endLine","cutLeft","OFFSET_CORRECTION","MAX_LINE_LENGTH","isNaN","parseError","isLowercaseLetter","isLetter","isNonAscii","isNameStart","isNonPrintable","second","CATEGORY","third","point","SyntaxReferenceError","referenceName","reference","MatchError","syntax","matchResult","details","tokens","longestMatch","mismatchOffset","entries","fromMatchResult","badNode","rawMessage","SafeUint32Array","input","ensureFunction","enter","leave","walk","MATCH","MISMATCH","DISALLOW_EMPTY","createCondition","thenBranch","elseBranch","else","isFunctionType","isEnumCapatible","buildMatchGraph","buildGroupMatchGraph","atLeastOneTermMatched","thenClause","newGroupTerm","matchTerm","buildMultiplierMatchGraph","syntaxTree","IDENT","STRING","NUMBER","FUNCTION","URL","HASH","DIMENSION","PERCENTAGE","LEFTPARENTHESIS","LEFTSQUAREBRACKET","COMMA","DELIM","space","ignoreWSAfter","readSequence","recognizer","createSingleNodeList","removeItemAndRedundantWhiteSpace","compileSchema","Cache","stableStringify","formats","$dataMetaSchema","Ajv","schemaKeyRef","getSchema","schemaObj","_addSchema","valid","_meta","addSchema","_skipValidation","checkUnique","addMetaSchema","skipValidation","validateSchema","throwOrLogError","defaultMeta","meta","META_SCHEMA_ID","errorsText","keyRef","_getSchemaObj","_fragments","_getSchemaFragment","removeSchema","_removeAllSchemas","_cache","del","cacheKey","addFormat","format","_formats","separator","text","e","dataPath","shouldAddSchema","cached","addUsedSchema","recursiveMeta","willValidate","put","compiling","callValidate","currentOpts","_metaOpts","refs","_validate","compileAsync","customKeyword","addKeyword","getKeyword","removeKeyword","validateKeyword","errorClasses","ValidationError","META_IGNORE_OPTIONS","META_SUPPORT_DATA","log","setLogger","_loadingSchemas","_compilations","_get$IdOrId","_get$Id","chooseGetId","loopRequired","errorDataPath","_errorDataPathProperty","metaOpts","getMetaSchemaOptions","addInitialFormats","addInitialKeywords","$dataSchema","metaSchema","addDefaultMetaSchema","optsSchemas","schemas","addInitialSchemas","regex","csstree","compress","debugOutput","startTime","debug","now","buildCompressOptions","lastDebug","title","ast","toFixed","runHandler","handlers","minify","filename","positions","sourceMap","beforeCompress","tmp","compressResult","afterCompress","_file","setSourceContent","version","minifyBlock","assign","fetch","support","Blob","viewClasses","isArrayBufferView","normalizeName","normalizeValue","iteratorFor","done","Headers","headers","header","consumed","body","bodyUsed","Promise","reject","fileReaderReady","reader","onload","onerror","readBlobAsArrayBuffer","blob","FileReader","promise","readAsArrayBuffer","bufferClone","buf","view","Uint8Array","byteLength","Body","_initBody","_bodyInit","_bodyText","isPrototypeOf","_bodyBlob","FormData","_bodyFormData","URLSearchParams","DataView","_bodyArrayBuffer","rejected","arrayBuffer","readAsText","chars","readArrayBufferAsText","formData","decode","json","oldValue","callback","thisArg","values","methods","Request","method","upcased","credentials","signal","referrer","form","trim","bytes","Response","bodyInit","status","ok","statusText","response","redirectStatuses","redirect","RangeError","DOMException","err","init","request","aborted","xhr","XMLHttpRequest","abortXhr","abort","rawHeaders","getAllResponseHeaders","responseURL","responseText","ontimeout","onabort","open","withCredentials","responseType","setRequestHeader","addEventListener","onreadystatechange","readyState","removeEventListener","send","polyfill","validateGenerator","checkCompiling","compIndex","endCompiling","patternCode","patterns","defaultCode","refValCode","customRuleCode","vars","statement","patternsHash","defaults","defaultsHash","customRules","compilation","localCompile","cv","_schema","_root","isRoot","errorPath","resolveRef","usePattern","useCustomRule","makeValidate","_refVal","refCode","refIndex","resolvedRef","rootRefId","addLocalRef","localSchema","refId","replaceLocalRef","removeLocalRef","inline","regexStr","valueStr","rule","deps","definition","dependencies","every","macro","merge","sets","xl","subexp","typeOf","buildExps","isIRI","HEXDIG$$","PCT_ENCODED$","SUB_DELIMS$$","RESERVED$$","SCHEME$","USERINFO$","UNRESERVED$$","DEC_OCTET_RELAXED$","H16$","LS32$","IPV4ADDRESS$","IPV6ADDRESS1$","IPV6ADDRESS2$","IPV6ADDRESS3$","IPV6ADDRESS4$","IPV6ADDRESS5$","IPV6ADDRESS6$","IPV6ADDRESS7$","IPV6ADDRESS8$","IPV6ADDRESS9$","ZONEID$","IPV6ADDRESS$","IP_LITERAL$","IPV6ADDRZ_RELAXED$","IPVFUTURE$","HOST$","REG_NAME$","PORT$","DIGIT$$","AUTHORITY$","PCHAR$","SEGMENT$","SEGMENT_NZ$","SEGMENT_NZ_NC$","PATH_ABEMPTY$","PATH_ABSOLUTE$","QUERY$","PATH_NOSCHEME$","PATH_ROOTLESS$","PATH_EMPTY$","IPRIVATE$$","FRAGMENT$","HIER_PART$","URI$","RELATIVE_PART$","RELATIVE$","maxInt","regexPunycode","regexNonASCII","regexSeparators","floor","stringFromCharCode","mapDomain","string","encoded","ucs2decode","output","counter","extra","digitToBasic","digit","flag","adapt","delta","numPoints","firstTime","k","baseMinusTMin","codePoint","inputLength","bias","basic","j","oldi","w","baseMinusT","fromCodePoint","encode","currentValue","basicLength","handledCPCount","handledCPCountPlusOne","qMinusT","punycode","SCHEMES","pctEncChar","chr","pctDecChars","il","parseInt","c2","c3","_normalizeComponentEncoding","components","protocol","decodeUnreserved","decStr","UNRESERVED","PCT_ENCODED","NOT_SCHEME","userinfo","NOT_USERINFO","NOT_HOST","NOT_PATH","NOT_PATH_NOSCHEME","query","NOT_QUERY","NOT_FRAGMENT","_stripLeadingZeros","_normalizeIPv4","IPV4ADDRESS","address","_normalizeIPv6","IPV6ADDRESS","zone","reverse","firstFields","lastFields","isLastFieldIPv4Address","fieldCount","lastFieldsStart","fields","longestZeroFields","acc","field","lastLongest","newHost","newFirst","newLast","URI_PARSE","NO_MATCH_IS_UNDEFINED","uriString","iri","IRI_PROTOCOL","URI_PROTOCOL","schemeHandler","unicodeSupport","domainHost","_recomposeAuthority","uriTokens","_","$1","$2","RDS1","RDS2","RDS3","RDS5","removeDotSegments","im","authority","absolutePath","resolveComponents","skipNormalization","target","tolerant","unescapeComponent","handler","http","O","VCHAR$$","NOT_LOCAL_PART","NOT_HFNAME","NOT_HFVALUE","mailtoComponents","unknownHeaders","hfields","hfield","toAddrs","subject","addr","setInterval","toAddr","atIdx","localPart","domain","URN_PARSE","urnComponents","nid","nss","urnScheme","uriComponents","UUID","uuidComponents","uuid","https","mailto","urn","baseURI","relativeURI","schemelessOptions","uri","uriA","uriB","ESCAPE","len","cb","_traverse","pre","post","arrayKeywords","propsKeywords","skipKeywords","additionalItems","contains","additionalProperties","propertyNames","not","allOf","anyOf","oneOf","definitions","patternProperties","enum","const","required","maximum","minimum","exclusiveMaximum","exclusiveMinimum","multipleOf","maxLength","minLength","pattern","maxItems","minItems","uniqueItems","maxProperties","minProperties","DATE","DAYS","TIME","HOSTNAME","URITEMPLATE","JSON_POINTER_URI_FRAGMENT","date","year","month","day","isLeapYear","time","full","hour","minute","timeZone","fast","email","hostname","ipv4","ipv6","dateTime","DATE_TIME_SEPARATOR","NOT_URI_FRAGMENT","Z_ANCHOR","ruleModules","ALL","group","implKeywords","$refCode","$refVal","$message","missingRefs","$it","$nextValid","passContext","__callValidate","$closingBraces","$currentBaseId","$allSchemasEmpty","$errs","$wasComposite","$idx","$dataNxt","$nextData","$nonEmptySchema","$schemaDeps","$propertyDeps","$ownProperties","ownProperties","$property","$deps","$currentErrorPath","$useData","$prop","$propertyPath","$missingProperty","$vSchema","$unknownFormats","unknownFormats","$allowUnknown","$format","$isObject","$formatType","$formatRef","$thenSch","$elseSch","$thenPresent","$elsePresent","$ifClause","$additionalItems","$currErrSchemaPath","multipleOfPrecision","$allErrorsOption","$prevValid","$passingSchemas","$key","$dataProperties","$schemaKeys","$pProperties","$pPropertyKeys","$aProperties","$someProperties","$noAdditional","$additionalIsSchema","$removeAdditional","removeAdditional","$checkAdditional","$required","$requiredHash","i1","$pProperty","$additionalProperty","$useDefaults","$hasDefault","i4","$invalidName","$propertySch","$loopRequired","$itemType","KEYWORDS","keywordsJsonPointers","loadSchema","loadMetaSchemaOf","_compileAsync","loadMissingSchema","added","schemaPromise","removePromise","definitionSchema","_addRule","ruleGroup","rg","throwError","_validateKeyword","$compile","$inline","$macro","$ruleValidate","$validateCode","$definition","$rDef","$validateSchema","$ruleErrs","$ruleErr","$asyncKeyword","statements","$parentDataProperty","def_callRuleValidate","modifying","def_customError","simpleTypes","webpackEmptyContext","req","src","Lexer","definitionSyntax","createParser","createGenerator","createConvertor","createWalker","names","mix","config","createSyntax","convert","createLexer","find","findLast","findAll","fromPlainObject","toPlainObject","fork","extension","generic","atrules","prepareTokens","matchAsTree","trace","search","getStructureFromConfig","cssWideKeywords","cssWideKeywordsWithExpression","dumpMapSyntax","syntaxAsAst","buildMatchResult","iterations","matched","getTrace","isProperty","isKeyword","matchSyntax","useCommon","valueHasVar","valueCommonSyntax","reason","addType_","addAtrule_","addProperty_","checkStructure","collectWarning","warns","check","createDescriptor","descriptors","matchAtrulePrelude","atruleName","atrule","atrulePreludeSyntax","getAtrulePrelude","matchAtruleDescriptor","descriptorName","atruleEntry","atruleDescriptorSyntax","matchProperty","propertySyntax","matchType","typeName","typeSyntax","getType","findValueFragments","matchFragments","findDeclarationValueFragments","findAllFragments","visit","getAtruleDescriptor","declarators","broken","brokenMap","brokenTypes","brokenProperties","pretty","anPlusB","urange","calcFunctionNames","eqStr","actual","expected","eqStrAny","isPostfixIeHack","outOfRange","numEnd","consumeFunction","getNextToken","startIdx","calc","expectedTokenType","dimension","numberEnd","reverseSolidusOffset","unit","zero","scan","checkInteger","valueOffset","disallowSign","consumeB","offset_","hexSequence","allowDash","hexlen","withQuestionMarkSequence","consumedHexLength","nextNonWsCode","tokenStream","astToTokens","decorator","curNode","nodes","nodesOffset","nodesIndex","currentNode","matchGraph","totalIterationCount","reverseList","areStringsEqualCaseInsensitive","isCommaContextStart","isCommaContextEnd","internalMatch","state","syntaxes","moveToNextToken","nextIndex","stateSnapshotFromSyntax","nextState","matchStack","syntaxStack","thenStack","pushThenStack","pushElseStack","elseStack","addTokenToMatch","syntaxStash","closeSyntax","iterationCount","exitReason","mask","matchFlag","lastTokenIndex","syntaxDict","dictSyntax","keywordName","matchAsList","hostStack","getTotalIterationCount","shouldPutToTrace","hasMatch","matchNode","testNode","fragments","findFragments","getFirstMatchNode","getLastMatchNode","parent","isValidNumber","isValidLocation","createNodeStructureChecker","fieldType","processStructure","nodeType","docs","docsTypes","fieldTypes","OffsetToLocation","sequence","createParseContext","parser","locationMap","needPositions","onParseError","onParseErrorThrow","parseAtrulePrelude","parseRulePrelude","parseValue","parseCustomProperty","createList","getFirstListNode","getLastListNode","parseWithFallback","consumer","fallback","fallbackNode","lookupNonWSType","consume","consumeFunctionName","getLocationRange","getLocationFromList","parserConfig","scope","pseudo","parseContext","processConfig","setSource","columns","linesAndColumnsComputed","startColumn","ensureLinesAndColumnsComputed","computeLinesAndColumns","ignoreWS","getNode","processChildren","delimeter","processNode","SourceMapGenerator","trackNodes","generated","original","sourceMappingActive","activatedGenerated","activatedMapping","handlersNode","nodeLine","nodeColumn","addMapping","handlersChunk","handlersResult","base64VLQ","ArraySet","MappingList","_sourceRoot","_sources","_names","_mappings","_sourcesContents","_version","fromSourceMap","aSourceMapConsumer","generator","file","eachMapping","mapping","newMapping","sources","sourceFile","sourceRelative","sourceContentFor","_validateMapping","aSourceFile","aSourceContent","applySourceMap","aSourceMapPath","newSources","newNames","unsortedForEach","originalPositionFor","aGenerated","aOriginal","aSource","_serializeMappings","nameIdx","sourceIdx","previousGeneratedColumn","previousGeneratedLine","previousOriginalColumn","previousOriginalLine","previousName","previousSource","mappings","_generateSourcesContent","aSources","aSourceRoot","sourcesContent","base64","aValue","vlq","toVLQSigned","VLQ_BASE","aIndex","aOutParam","continuation","shifted","strLen","rest","intToCharMap","hasNativeMap","_array","_set","aArray","aAllowDuplicates","sStr","isDuplicate","at","aIdx","_sorted","_last","aCallback","aThisArg","aMapping","lineA","lineB","columnA","columnB","invokeForType","getWalkersFromStructure","walkers","walker","walkContext","createTypeIterator","contextName","useContext","prevContextValue","createFastTraveralMap","iterators","getTypesFromConfig","iteratorsNatural","iteratorsReverse","fastTraversalIteratorsNatural","fastTraversalIteratorsReverse","stylesheet","atrulePrelude","walkNode","found","shape","extend","innerShape","N","checkTokenIsInteger","expectCharCode","msg","rawMode","ATKEYWORD","SEMICOLON","LEFTCURLYBRACKET","RIGHTCURLYBRACKET","consumeRaw","isDeclarationBlockAtrule","nameLowerCase","COLON","RIGHTSQUAREBRACKET","getAttributeName","expectIdent","checkColon","getOperator","matcher","flagsPrefix","consumeRule","consumeRawDeclaration","consumeDeclaration","isDeclaration","consumeValueRaw","consumeCustomPropertyRaw","consumeValue","startValueToken","getImportant","customProperty","RIGHTPARENTHESIS","nth","allowOfClause","left","right","consumePrelude","eatIdentifierOrAsterisk","eatHexSequence","eatQuestionMarkSequence","scanUnicodeRange","hexLength","rawStart","rawEnd","SPACE","mediaQueryList","mediaQuery","selectorList","declarationList","parentheses","usageUtils","clean","restructure","readChunk","specialComments","protectedComment","nonSpaceTokenInBuffer","comment","compressChunk","firstAtrulesAllowed","seed","restructuring","getRestructureOption","chunkChildren","compressOptions","forceMediaMerge","usage","buildIndex","comments","getCommentsOption","chunkNum","lastRule","buildMap","caseInsensitive","buildList","tags","classes","scopes","whitelist","blacklist","resolveKeyword","usageData","cleanUnused","shouldRemove","nextType","isSafeOperator","compressKeyframes","simpleselector","escapesRx","blockUnquoteRx","attrValue","unquotedValue","canUnquote","resolveName","lastType","flush","newValue","LENGTH_UNIT","SAFE_URL","quote","prepare","mergeAtrule","initialMergeRuleset","disjoinRuleset","restructShorthand","restructBlock","mergeRuleset","restructRuleset","indexer","createDeclarationIndexer","processSelector","markDeclaration","avoidRulesMerge","Index","specificity","nonFreezePseudoElements","nonFreezePseudoClasses","pseudos","hasPseudo","simpleSelector","tagName","classScope","pseudoSignature","A","B","C","addRuleToMap","single","isMediaRule","processAtrule","collected","topInjectPoint","relocateAtrules","processRule","selectors","prevSelectors","prevDeclarations","newSelectors","SIDES","SIDE","MAIN_PROPERTY","TRBL","iehack","sides","shorts","shortDeclarations","lastShortSelector","shorthand","operation","getValueSequence","special","canOverride","side","isOkToMinimize","top","bottom","getValue","stringValues","getDeclaration","stylesheetMap","ruleMap","ruleId","processShorthands","resolveProperty","fingerprintId","dontRestructure","DONT_MIX_VALUE","CURSOR_SAFE_VALUE","POSITION_SAFE_VALUE","NEEDLESS_TABLE","getPropertyFingerprint","realName","declarationId","vendorId","raw","lastMatch","props","declarationItem","table","ppre","needless","nodeCompareMarker","skippedCompareMarkers","nextItem","nextFirstSelector","nextDeclarations","nextCompareMarker","curStr","calcSelectorLength","calcDeclarationsLength","disallowDownMarkers","allowMergeUp","allowMergeDown","prevItem","prevBlock","prevType","unsafe","diff","selectorLength","blockLength","newSelector","newBlockLength","newItem","prevSelector","maybeAinsley","pathLength","formatError","flatten","configWithPlugins","getConfig","flatAinsley","getFlatConfig","flatConfig","defaultGetConfig","href","endsWith","toAST","parentChildren","findIndex","prevSibling","thisVars","usageCounts","definedVariables","parentVars","parentVariable","buildVariable","parentMod","parentValue","childValue","variation","indexInParent","minifyRaw","rawCSS","iteratorRegex","searchForUsages","val","topologicalList","childNodes"],"mappings":"2BACE,IAAIA,EAAmB,GAGvB,SAASC,EAAoBC,GAG5B,GAAGF,EAAiBE,GACnB,OAAOF,EAAiBE,GAAUC,QAGnC,IAAIC,EAASJ,EAAiBE,GAAY,CACzCG,EAAGH,EACHI,GAAG,EACHH,QAAS,IAUV,OANAI,EAAQL,GAAUM,KAAKJ,EAAOD,QAASC,EAAQA,EAAOD,QAASF,GAG/DG,EAAOE,GAAI,EAGJF,EAAOD,QA0Df,OArDAF,EAAoBQ,EAAIF,EAGxBN,EAAoBS,EAAIV,EAGxBC,EAAoBU,EAAI,SAASR,EAASS,EAAMC,GAC3CZ,EAAoBa,EAAEX,EAASS,IAClCG,OAAOC,eAAeb,EAASS,EAAM,CAAEK,YAAY,EAAMC,IAAKL,KAKhEZ,EAAoBkB,EAAI,SAAShB,GACX,oBAAXiB,QAA0BA,OAAOC,aAC1CN,OAAOC,eAAeb,EAASiB,OAAOC,YAAa,CAAEC,MAAO,WAE7DP,OAAOC,eAAeb,EAAS,aAAc,CAAEmB,OAAO,KAQvDrB,EAAoBsB,EAAI,SAASD,EAAOE,GAEvC,GADU,EAAPA,IAAUF,EAAQrB,EAAoBqB,IAC/B,EAAPE,EAAU,OAAOF,EACpB,GAAW,EAAPE,GAA8B,iBAAVF,GAAsBA,GAASA,EAAMG,WAAY,OAAOH,EAChF,IAAII,EAAKX,OAAOY,OAAO,MAGvB,GAFA1B,EAAoBkB,EAAEO,GACtBX,OAAOC,eAAeU,EAAI,UAAW,CAAET,YAAY,EAAMK,MAAOA,IACtD,EAAPE,GAA4B,iBAATF,EAAmB,IAAI,IAAIM,KAAON,EAAOrB,EAAoBU,EAAEe,EAAIE,EAAK,SAASA,GAAO,OAAON,EAAMM,IAAQC,KAAK,KAAMD,IAC9I,OAAOF,GAIRzB,EAAoB6B,EAAI,SAAS1B,GAChC,IAAIS,EAAST,GAAUA,EAAOqB,WAC7B,WAAwB,OAAOrB,EAAgB,SAC/C,WAA8B,OAAOA,GAEtC,OADAH,EAAoBU,EAAEE,EAAQ,IAAKA,GAC5BA,GAIRZ,EAAoBa,EAAI,SAASiB,EAAQC,GAAY,OAAOjB,OAAOkB,UAAUC,eAAe1B,KAAKuB,EAAQC,IAGzG/B,EAAoBkC,EAAI,GAIjBlC,EAAoBA,EAAoBmC,EAAI,K,kBClFrD,IAAIC,EAAc,EAAQ,GACtBC,EAAc,EAAQ,IAEtBC,EAAY,EAAQ,GACpBC,EAAOD,EAAUC,KAEjBC,EAAsB,EAAQ,IAC9BC,EAAYD,EAAoBC,UAChCC,EAASF,EAAoBE,OAC7BC,EAAgBH,EAAoBG,cACpCC,EAAgBJ,EAAoBI,cACpCC,EAAoBL,EAAoBK,kBACxCC,EAAmBN,EAAoBM,iBACvCC,EAAQP,EAAoBO,MAE5BC,EAAQ,EAAQ,GAChBC,EAASD,EAAMC,OACfC,EAAmBF,EAAME,iBACzBC,EAAoBH,EAAMG,kBAC1BC,EAAiBJ,EAAMI,eACvBC,EAAcL,EAAMK,YACpBC,EAAgBN,EAAMM,cACtBC,EAAwBP,EAAMO,sBAKlC,SAASC,EAASC,EAAQC,GACtB,SAASC,EAAYC,GACjB,OAAOA,EAASC,EAAeJ,EAAOK,WAAWF,GAAU,EAI/D,SAASG,IAKL,OAHAH,EAASN,EAAcG,EAAQG,GAG3Bf,EAAkBc,EAAYC,GAASD,EAAYC,EAAS,GAAID,EAAYC,EAAS,KAIrFI,EAAOzB,EAAK0B,eACZL,EAASP,EAAYI,EAAQG,KAKL,KAAxBD,EAAYC,IAEZI,EAAOzB,EAAK2B,gBACZN,UAKJI,EAAOzB,EAAK4B,QAIhB,SAASC,IACL,MAAMC,EAAkBT,EAOxB,OAJAA,EAASP,EAAYI,EAAQG,GAIzBX,EAAOQ,EAAQY,EAAiBT,EAAQ,QAAkC,KAAxBD,EAAYC,GAOlC,KAAxBD,EALJC,EAAST,EAAkBM,EAAQG,EAAS,KAMhB,KAAxBD,EAAYC,IACZI,EAAOzB,EAAK+B,cACZV,EAASS,EAAkB,SA2FvC,WAQI,IANAL,EAAOzB,EAAKgC,IAGZX,EAAST,EAAkBM,EAAQG,GAG5BA,EAASH,EAAOe,OAAQZ,IAAU,CACrC,IAAIa,EAAOhB,EAAOK,WAAWF,GAE7B,OAAQd,EAAiB2B,IAErB,KAAK,GAGD,YADAb,IAIJ,KAAKd,EAAiB4B,IAElB,OAGJ,KAAK5B,EAAiB6B,WAOlB,OAA4B,KAAxBhB,EALJC,EAAST,EAAkBM,EAAQG,KAKGA,GAAUH,EAAOe,YAC/CZ,EAASH,EAAOe,QAChBZ,MAORA,EAASL,EAAsBE,EAAQG,QACvCI,EAAOzB,EAAKqC,SAOhB,KAAK,GACL,KAAK,GACL,KAAK,GACL,KAAK9B,EAAiB+B,aAKlB,OAFAjB,EAASL,EAAsBE,EAAQG,QACvCI,EAAOzB,EAAKqC,QAIhB,KAAK,GAGD,GAAIjC,EAAc8B,EAAMd,EAAYC,EAAS,IAAK,CAC9CA,EAASR,EAAeK,EAAQG,GAAU,EAC1C,MAOJ,OAFAA,EAASL,EAAsBE,EAAQG,QACvCI,EAAOzB,EAAKqC,UA5JpBE,GAMwB,KAAxBnB,EAAYC,IACZI,EAAOzB,EAAK+B,cACZV,UAKJI,EAAOzB,EAAKwC,OAIhB,SAASC,EAAmBC,GAYxB,IARKA,IACDA,EAAkBtB,EAAYC,MAIlCI,EAAOzB,EAAK2C,OAGLtB,EAASH,EAAOe,OAAQZ,IAAU,CACrC,IAAIa,EAAOhB,EAAOK,WAAWF,GAE7B,OAAQd,EAAiB2B,IAErB,KAAKQ,EAGD,YADArB,IAIJ,KAAKd,EAAiB4B,IAElB,OAGJ,KAAK5B,EAAiB6B,WAClB,GAAIlC,EAAUgC,GAKV,OAFAb,GAAUV,EAAiBO,EAAQG,EAAQa,QAC3CT,EAAOzB,EAAK4C,WAGhB,MAGJ,KAAK,GAED,GAAIvB,IAAWH,EAAOe,OAAS,EAC3B,MAGJ,IAAIY,EAAWzB,EAAYC,EAAS,GAGhCnB,EAAU2C,GACVxB,GAAUV,EAAiBO,EAAQG,EAAS,EAAGwB,GACxCzC,EAAc8B,EAAMW,KAI3BxB,EAASR,EAAeK,EAAQG,GAAU,KA8FzDF,IACDA,EAAS,IAAItB,GAkBjB,IAZA,IAAIyB,GAFJJ,EAASyB,OAAOzB,GAAU,KAEAe,OACtBa,EAAgBhD,EAAYqB,EAAO2B,cAAexB,EAAe,GACjEyB,EAAUjD,EAAYqB,EAAO4B,QAASzB,EAAe,GACrD0B,EAAa,EACbC,EAAQzC,EAAMY,EAAY,IAC1BC,EAAS4B,EACTC,EAAmB,EACnBC,EAAe,EACfC,EAAc,EAIX/B,EAASC,GAAc,CAC1B,IAAIY,EAAOhB,EAAOK,WAAWF,GACzBI,EAAO,EAIX,OAFAsB,EAAQC,GAAc1B,EAEdf,EAAiB2B,IAErB,KAAK3B,EAAiB6B,WAElBX,EAAOzB,EAAKoC,WACZf,EAAST,EAAkBM,EAAQG,EAAS,GAC5C,MAGJ,KAAK,GAEDoB,IACA,MAGJ,KAAK,GAEGtC,EAAOiB,EAAYC,EAAS,KAAOjB,EAAcgB,EAAYC,EAAS,GAAID,EAAYC,EAAS,KAE/FI,EAAOzB,EAAKqD,KAQZhC,EAASP,EAAYI,EAAQG,EAAS,KAKtCI,EAAOzB,EAAKsD,MACZjC,KAGJ,MAGJ,KAAK,GAEDoB,IACA,MAGJ,KAAK,GAEDhB,EAAOzB,EAAKuD,gBACZlC,IACA,MAGJ,KAAK,GAEDI,EAAOzB,EAAKwD,iBACZnC,IACA,MAGJ,KAAK,GAEGhB,EAAc6B,EAAMd,EAAYC,EAAS,GAAID,EAAYC,EAAS,IAElEG,KAGAC,EAAOzB,EAAKsD,MACZjC,KAEJ,MAGJ,KAAK,GAEDI,EAAOzB,EAAKyD,MACZpC,IACA,MAGJ,KAAK,GAEGhB,EAAc6B,EAAMd,EAAYC,EAAS,GAAID,EAAYC,EAAS,IAClEG,IAGgC,KAA5BJ,EAAYC,EAAS,IACO,KAA5BD,EAAYC,EAAS,IACrBI,EAAOzB,EAAK0D,IACZrC,GAAkB,GAGdf,EAAkB4B,EAAMd,EAAYC,EAAS,GAAID,EAAYC,EAAS,IAEtEQ,KAGAJ,EAAOzB,EAAKsD,MACZjC,KAIZ,MAGJ,KAAK,GAEGhB,EAAc6B,EAAMd,EAAYC,EAAS,GAAID,EAAYC,EAAS,IAElEG,KAGAC,EAAOzB,EAAKsD,MACZjC,KAGJ,MAGJ,KAAK,GAE+B,KAA5BD,EAAYC,EAAS,IAGrBI,EAAOzB,EAAK2D,QAEG,KADftC,EAASH,EAAO0C,QAAQ,KAAMvC,EAAS,GAAK,KAExCA,EAASH,EAAOe,UAGpBR,EAAOzB,EAAKsD,MACZjC,KAEJ,MAGJ,KAAK,GAEDI,EAAOzB,EAAK6D,MACZxC,IACA,MAGJ,KAAK,GAEDI,EAAOzB,EAAK8D,UACZzC,IACA,MAGJ,KAAK,GAE+B,KAA5BD,EAAYC,EAAS,IACO,KAA5BD,EAAYC,EAAS,IACO,KAA5BD,EAAYC,EAAS,IAErBI,EAAOzB,EAAK+D,IACZ1C,GAAkB,IAGlBI,EAAOzB,EAAKsD,MACZjC,KAGJ,MAGJ,KAAK,GAEGf,EAAkBc,EAAYC,EAAS,GAAID,EAAYC,EAAS,GAAID,EAAYC,EAAS,KAEzFI,EAAOzB,EAAKgE,UACZ3C,EAASP,EAAYI,EAAQG,EAAS,KAGtCI,EAAOzB,EAAKsD,MACZjC,KAGJ,MAGJ,KAAK,GAEDI,EAAOzB,EAAKiE,kBACZ5C,IACA,MAGJ,KAAK,GAEGjB,EAAc8B,EAAMd,EAAYC,EAAS,IAEzCQ,KAGAJ,EAAOzB,EAAKsD,MACZjC,KAEJ,MAGJ,KAAK,GAEDI,EAAOzB,EAAKkE,mBACZ7C,IACA,MAGJ,KAAK,IAEDI,EAAOzB,EAAKmE,iBACZ9C,IACA,MAGJ,KAAK,IAEDI,EAAOzB,EAAKoE,kBACZ/C,IACA,MAGJ,KAAKd,EAAiB8D,MAElB7C,IACA,MAGJ,KAAKjB,EAAiB+D,UAElBzC,IACA,MAGJ,KAAKtB,EAAiB4B,IAElB,MAGJ,QAEIV,EAAOzB,EAAKsD,MACZjC,IAGR,OAAQI,GACJ,KAAKyB,EAMD,IAHAA,GADAC,EAAeJ,EADfK,EAhfE,SAgfYD,KA/eb,GAkfDJ,EAAQC,GAAcI,EACtBL,EAAQK,KAAiBJ,EAClBI,EAAcJ,EAAYI,IACzBL,EAAQK,KAAiB9B,IACzByB,EAAQK,GAAeJ,GAG/B,MAEJ,KAAKhD,EAAKuD,gBACV,KAAKvD,EAAK+B,SACNgB,EAAQC,GAAcG,EAEtBA,GADAD,EAAmBlD,EAAKwD,mBA9fvB,GA+fiDR,EAClD,MAEJ,KAAKhD,EAAKiE,kBACNlB,EAAQC,GAAcG,EAEtBA,GADAD,EAAmBlD,EAAKkE,qBApgBvB,GAqgBiDlB,EAClD,MAEJ,KAAKhD,EAAKmE,iBACNpB,EAAQC,GAAcG,EAEtBA,GADAD,EAAmBlD,EAAKoE,oBA1gBvB,GA2gBiDpB,EAI1DF,EAAcE,KAAiBvB,GA/gBtB,GA+gB4CJ,EAOzD,IAHAyB,EAAcE,GAAehD,EAAKuE,KAnhBrB,GAmhB0ClD,EACvD0B,EAAQC,GAAc1B,EACtByB,EAAQzB,GAAgBA,EACA,IAAjB6B,GAEHA,EAAeJ,EADfK,EAxhBU,SAwhBID,GAEdJ,EAAQK,GAAe9B,EAY3B,OARAH,EAAOD,OAASA,EAChBC,EAAOqD,gBAAkBvB,EACzB9B,EAAO2B,cAAgBA,EACvB3B,EAAO6B,WAAaA,EACpB7B,EAAO4B,QAAUA,EACjB5B,EAAOsD,QACPtD,EAAOuD,OAEAvD,EAIX5C,OAAOoG,KAAK5E,GAAW6E,SAAQ,SAASxF,GACpC6B,EAAS7B,GAAOW,EAAUX,MAI9Bb,OAAOoG,KAAK1E,GAAqB2E,SAAQ,SAASxF,GAC9C6B,EAAS7B,GAAOa,EAAoBb,MAExCb,OAAOoG,KAAKlE,GAAOmE,SAAQ,SAASxF,GAChC6B,EAAS7B,GAAOqB,EAAMrB,MAG1BxB,EAAOD,QAAUsD,G,gBC9kBjBrD,EAAOD,QAAU,EAAQ,K,6BCAzB,oEAAO,IAAMkH,EAAW,SAACC,GACvB,QAAS,OAANA,GAA2B,iBAANA,GAAmBC,MAAMC,QAAQF,KAE9CG,EAAe,SAAIC,GAG9B,IAFA,IAAIC,EAAc,CAAC,IACfC,EAAQ,EACLA,EAAQF,EAAKjD,QAClBkD,EAAOD,EAAKE,KAASC,SAAQ,SAACC,GAC5B,OAAAH,EAAKI,KAAI,SAACC,GAAS,OAAAA,EAAKC,OAAO,CAACH,UAGpC,OAAOH,I,gBCXT,IACInF,EADY,EAAQ,GACHA,KAEjBoC,EAAapC,EAAKoC,WAClB0B,EAAY9D,EAAK8D,UACjBK,EAAmBnE,EAAKmE,iBACxBb,EAAQtD,EAAKsD,MAGjB,SAASoC,IACL,OAAIC,KAAKC,QAAQC,WAAa,GACtBF,KAAKC,QAAQE,YAAY,KAAO1D,EACzBuD,KAAKC,QAAQC,WAAa,EAC3BF,KAAKC,QAAQG,cAAcJ,KAAKC,QAAQC,WAAa,GACrDF,KAAKC,QAAQpB,gBAIpBmB,KAAKC,QAAQI,WAIxB,SAASC,IACL,OAAO,EA2BXrI,EAAOD,QAAU,CACbS,KAAM,MACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,SAASC,EAAYpH,EAAMqH,GAC9B,IACIC,EADAC,EAAcZ,KAAKC,QAAQG,cAAcK,GAa7C,OAVAT,KAAKC,QAAQY,KACTb,KAAKC,QAAQa,aAAaL,EAAYpH,GAAQiH,IAI9CK,EADAD,GAAqBV,KAAKC,QAAQI,WAAaO,EACnCb,EAAmB1H,KAAK2H,MAExBA,KAAKC,QAAQI,WAGtB,CACHvE,KAAM,MACNiF,IAAKf,KAAKgB,YAAYJ,EAAaD,GACnCxH,MAAO6G,KAAKC,QAAQ1E,OAAO0F,UAAUL,EAAaD,KAG1DO,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKhI,QAGpBE,KAAM,CACFgI,QAASf,EACTgB,iBAtDR,SAA0BC,GACtB,OAAOA,IAAc/C,EAAmB,EAAI,GAsDxCgD,4BAlDR,SAAqCD,GACjC,OAAOA,IAAc/C,GAAoB+C,IAAcpD,EAAY,EAAI,GAkDnEsD,2BA9CR,SAAoCF,EAAWhG,EAAQG,GACnD,OAAI6F,IAAc5D,GA/BA,KA+BSpC,EAAOK,WAAWF,IAItC6F,IAAcpD,EAHV,EAG0B,GA0CjCuD,kBAtCR,SAA2BH,GACvB,OAAOA,IAAcpD,EAAY,EAAI,M,6BCTzC,SAASwD,EAAcC,EAAUC,EAAMC,GACrC,IAAIC,EAAQD,EAAS,QAAU,QAC3BE,EAAMF,EAAS,OAAS,OACxBG,EAAKH,EAAS,IAAM,GACpBI,EAAMJ,EAAS,GAAK,IACxB,OAAQF,GACN,IAAK,OAAQ,OAAOC,EAAOE,EAAQ,OACnC,IAAK,QAAS,OAAOE,EAAK,iBAAmBJ,EAAO,IACpD,IAAK,SAAU,MAAO,IAAMI,EAAKJ,EAAOG,EAClB,UAAYH,EAAOE,EAAQ,WAAaC,EACxCE,EAAM,iBAAmBL,EAAO,KACtD,IAAK,UAAW,MAAO,WAAaA,EAAOE,EAAQ,WAAaC,EACzCE,EAAM,IAAML,EAAO,QACnBG,EAAMH,EAAOE,EAAQF,EAAO,IACnD,QAAS,MAAO,UAAYA,EAAOE,EAAQ,IAAMH,EAAW,KAjDhE3J,EAAOD,QAAU,CACfmK,KA2BF,SAAcxJ,EAAGyJ,GAEf,IAAK,IAAI3I,KADT2I,EAAKA,GAAM,GACKzJ,EAAGyJ,EAAG3I,GAAOd,EAAEc,GAC/B,OAAO2I,GA7BPT,cAAeA,EACfU,eAmDF,SAAwBC,EAAWT,GACjC,OAAQS,EAAUhG,QAChB,KAAK,EAAG,OAAOqF,EAAcW,EAAU,GAAIT,GAAM,GACjD,QACE,IAAItF,EAAO,GACPgG,EAAQC,EAAOF,GASnB,IAAK,IAAIlJ,KARLmJ,EAAME,OAASF,EAAM3I,SACvB2C,EAAOgG,EAAMG,KAAO,IAAK,KAAOb,EAAO,OACvCtF,GAAQ,UAAYsF,EAAO,wBACpBU,EAAMG,YACNH,EAAME,aACNF,EAAM3I,QAEX2I,EAAMI,eAAeJ,EAAMK,QACjBL,EACZhG,IAASA,EAAO,OAAS,IAAOoF,EAAcvI,EAAGyI,GAAM,GAEzD,OAAOtF,IAnEXsG,cAyEF,SAAuBC,EAAmBR,GACxC,GAAIlD,MAAMC,QAAQiD,GAAY,CAE5B,IADA,IAAIC,EAAQ,GACHrK,EAAE,EAAGA,EAAEoK,EAAUhG,OAAQpE,IAAK,CACrC,IAAIkB,EAAIkJ,EAAUpK,IACd6K,EAAgB3J,IACW,UAAtB0J,GAAuC,UAAN1J,KADlBmJ,EAAMA,EAAMjG,QAAUlD,GAGhD,GAAImJ,EAAMjG,OAAQ,OAAOiG,MACpB,IAAIQ,EAAgBT,GACzB,MAAO,CAACA,GACH,GAA0B,UAAtBQ,GAA+C,UAAdR,EAC1C,MAAO,CAAC,WApFVE,OAAQA,EACRQ,YAAaA,EACbC,aAAcA,EACdC,MAAO,EAAQ,IACfC,WAAY,EAAQ,IACpBC,cA+GF,SAAuBC,EAAKC,GAC1BA,GAAW,SACX,IAAIC,EAAUF,EAAIG,MAAM,IAAIC,OAAOH,EAAS,MAC5C,OAAOC,EAAUA,EAAQjH,OAAS,GAjHlCoH,WAqHF,SAAoBL,EAAKC,EAASK,GAGhC,OAFAL,GAAW,WACXK,EAAOA,EAAKC,QAAQ,MAAO,QACpBP,EAAIO,QAAQ,IAAIH,OAAOH,EAAS,KAAMK,EAAO,OAvHpDE,YA8HF,SAAqBC,GACnB,OAAOA,EAAIF,QAAQG,EAAY,IACpBH,QAAQI,EAAkB,IAC1BJ,QAAQK,EAAoB,eAhIvCC,iBA8IF,SAA0BJ,EAAKK,GAC7B,IAAIZ,EAAUO,EAAIN,MAAMY,GACpBb,GAA6B,GAAlBA,EAAQjH,SACrBwH,EAAMK,EACEL,EAAIF,QAAQS,EAAqB,IAC7BT,QAAQU,EATA,gBAUZR,EAAIF,QAAQW,EAAe,IACvBX,QAdG,uBACD,yCAiBhB,OADAL,EAAUO,EAAIN,MAAMgB,KACe,IAAnBjB,EAAQjH,OACjBwH,EAAIF,QAAQa,EAAiB,IADSX,GAxJ7CY,eA6JF,SAAwBC,EAAQC,GAC9B,GAAqB,kBAAVD,EAAqB,OAAQA,EACxC,IAAK,IAAIlL,KAAOkL,EAAQ,GAAIC,EAAMnL,GAAM,OAAO,GA9J/CoL,qBAkKF,SAA8BF,EAAQC,EAAOE,GAC3C,GAAqB,kBAAVH,EAAqB,OAAQA,GAA2B,OAAjBG,EAClD,IAAK,IAAIrL,KAAOkL,EAAQ,GAAIlL,GAAOqL,GAAiBF,EAAMnL,GAAM,OAAO,GAnKvEsL,mBAuKF,SAA4BJ,EAAQC,GAClC,GAAqB,kBAAVD,EAAqB,OAChC,IAAK,IAAIlL,KAAOkL,EAAQ,IAAKC,EAAMnL,GAAM,OAAOA,GAxKhDuL,eAAgBA,EAChBC,YAgLF,SAAqBC,EAAavB,EAAMwB,EAAcC,GAIpD,OAAOC,EAAUH,EAHNC,EACG,SAAaxB,GAAQyB,EAAW,GAAK,8CACpCA,EAAW,SAAazB,EAAO,SAAa,YAAiBA,EAAO,cAlLnF2B,QAuLF,SAAiBJ,EAAaK,EAAMJ,GAClC,IAAIK,EACUR,EADHG,EACkB,IAAMM,EAAkBF,GACxBvC,EAAYuC,IACzC,OAAOF,EAAUH,EAAaM,IA1L9BE,QAgMF,SAAiBC,EAAOC,EAAKC,GAC3B,IAAIC,EAAIC,EAAalE,EAAM0B,EAC3B,GAAc,KAAVoC,EAAc,MAAO,WACzB,GAAgB,KAAZA,EAAM,GAAW,CACnB,IAAKK,EAAaC,KAAKN,GAAQ,MAAM,IAAIO,MAAM,yBAA2BP,GAC1EI,EAAcJ,EACd9D,EAAO,eACF,CAEL,KADA0B,EAAUoC,EAAMnC,MAAM2C,IACR,MAAM,IAAID,MAAM,yBAA2BP,GAGzD,GAFAG,GAAMvC,EAAQ,GAEK,MADnBwC,EAAcxC,EAAQ,IACE,CACtB,GAAIuC,GAAMF,EAAK,MAAM,IAAIM,MAAM,gCAAkCJ,EAAK,gCAAkCF,GACxG,OAAOC,EAAMD,EAAME,GAGrB,GAAIA,EAAKF,EAAK,MAAM,IAAIM,MAAM,sBAAwBJ,EAAK,gCAAkCF,GAE7F,GADA/D,EAAO,QAAW+D,EAAME,GAAO,KAC1BC,EAAa,OAAOlE,EAK3B,IAFA,IAAI8B,EAAO9B,EACPuE,EAAWL,EAAYM,MAAM,KACxBnO,EAAE,EAAGA,EAAEkO,EAAS9J,OAAQpE,IAAK,CACpC,IAAIoO,EAAUF,EAASlO,GACnBoO,IACFzE,GAAQmB,EAAYuD,EAAoBD,IACxC3C,GAAQ,OAAS9B,GAGrB,OAAO8B,GA9NP6C,iBAwOF,SAA0BnD,GACxB,OAAOkD,EAAoBE,mBAAmBpD,KAxO9CkD,oBAAqBA,EACrBG,eA2OF,SAAwBrD,GACtB,OAAOsD,mBAAmBlB,EAAkBpC,KA3O5CoC,kBAAmBA,GAoDrB,IAAI1C,EAAkBP,EAAO,CAAE,SAAU,SAAU,UAAW,UAAW,SAkBzE,SAASA,EAAOoE,GAEd,IADA,IAAIC,EAAO,GACF3O,EAAE,EAAGA,EAAE0O,EAAItK,OAAQpE,IAAK2O,EAAKD,EAAI1O,KAAM,EAChD,OAAO2O,EAIT,IAAIC,EAAa,wBACbC,EAAe,QACnB,SAAS/D,EAAYvJ,GACnB,MAAqB,iBAAPA,EACJ,IAAMA,EAAM,IACZqN,EAAWb,KAAKxM,GACd,IAAMA,EACN,KAAOwJ,EAAaxJ,GAAO,KAIzC,SAASwJ,EAAaI,GACpB,OAAOA,EAAIO,QAAQmD,EAAc,QACtBnD,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OACfA,QAAQ,MAAO,OAkB5B,IAAIG,EAAa,gBACbC,EAAmB,uCACnBC,EAAqB,8CAQzB,IAAIG,EAAgB,eAChBG,EAAgB,kEAChBF,EAAsB,uCAGtBC,EAAe,gFAEfE,EAAkB,qCAClBC,EAAkB,iDAoCtB,SAASO,EAAe3B,GACtB,MAAO,IAAOJ,EAAaI,GAAO,IAoBpC,IAAI2C,EAAe,sBACfG,EAAwB,mCAoC5B,SAASd,EAAW2B,EAAGC,GACrB,MAAS,MAALD,EAAkBC,GACdD,EAAI,MAAQC,GAAGrD,QAAQ,UAAW,IAc5C,SAAS6B,EAAkBpC,GACzB,OAAOA,EAAIO,QAAQ,KAAM,MAAMA,QAAQ,MAAO,MAIhD,SAAS2C,EAAoBlD,GAC3B,OAAOA,EAAIO,QAAQ,MAAO,KAAKA,QAAQ,MAAO,O,cChQhD,SAASsD,EAAWrF,GAChB,MAAO,CACHhC,KAAM,KACNd,KAAM,KACN8C,KAAMA,GAId,SAASsF,EAAehG,EAAMtB,EAAMd,GAChC,IAAIqI,EAkBJ,OAhBgB,OAAZC,GACAD,EAASC,EACTA,EAAUA,EAAQD,OAClBA,EAAOvH,KAAOA,EACduH,EAAOrI,KAAOA,EACdqI,EAAOA,OAASjG,EAAKiG,QAErBA,EAAS,CACLvH,KAAMA,EACNd,KAAMA,EACNqI,OAAQjG,EAAKiG,QAIrBjG,EAAKiG,OAASA,EAEPA,EAGX,SAASE,EAAcnG,GACnB,IAAIiG,EAASjG,EAAKiG,OAElBjG,EAAKiG,OAASA,EAAOA,OACrBA,EAAOvH,KAAO,KACduH,EAAOrI,KAAO,KACdqI,EAAOA,OAASC,EAChBA,EAAUD,EAGd,IAAIC,EAAU,KACVE,EAAO,WACPvH,KAAKoH,OAAS,KACdpH,KAAKwH,KAAO,KACZxH,KAAKyH,KAAO,MAGhBF,EAAKL,WAAaA,EAClBK,EAAKzN,UAAUoN,WAAaA,EAE5BK,EAAKzN,UAAU4N,cAAgB,SAASC,EAASC,EAASC,EAASC,GAG/D,IAFA,IAAIV,EAASpH,KAAKoH,OAEA,OAAXA,GACCA,EAAOvH,OAAS8H,IAChBP,EAAOvH,KAAO+H,GAGdR,EAAOrI,OAAS8I,IAChBT,EAAOrI,KAAO+I,GAGlBV,EAASA,EAAOA,QAIxBG,EAAKzN,UAAUiO,QAAU,WAIrB,IAHA,IAAIC,EAAO,EACPZ,EAASpH,KAAKwH,KAEXJ,GACHY,IACAZ,EAASA,EAAOrI,KAGpB,OAAOiJ,GAGXT,EAAKzN,UAAUmO,UAAY,SAASxF,GAChC,IAAI2E,EAAS,KAEbpH,KAAKwH,KAAO,KAEZ,IAAK,IAAItP,EAAI,EAAGA,EAAIuK,EAAMnG,OAAQpE,IAAK,CACnC,IAAIgQ,EAAOhB,EAAWzE,EAAMvK,IAEb,OAAXkP,EACAA,EAAOrI,KAAOmJ,EAEdlI,KAAKwH,KAAOU,EAGhBA,EAAKrI,KAAOuH,EACZA,EAASc,EAKb,OAFAlI,KAAKyH,KAAOL,EAELpH,MAGXuH,EAAKzN,UAAUqO,QAAU,WAIrB,IAHA,IAAIf,EAASpH,KAAKwH,KACdY,EAAS,GAENhB,GACHgB,EAAOC,KAAKjB,EAAOvF,MACnBuF,EAASA,EAAOrI,KAGpB,OAAOqJ,GAGXb,EAAKzN,UAAUwO,OAASf,EAAKzN,UAAUqO,QAEvCZ,EAAKzN,UAAUyO,QAAU,WACrB,OAAqB,OAAdvI,KAAKwH,MAGhBD,EAAKzN,UAAU0O,MAAQ,WACnB,OAAOxI,KAAKwH,MAAQxH,KAAKwH,KAAK3F,MAGlC0F,EAAKzN,UAAU2O,KAAO,WAClB,OAAOzI,KAAKyH,MAAQzH,KAAKyH,KAAK5F,MAGlC0F,EAAKzN,UAAU4O,KAAO,SAASC,EAAIC,GAC/B,IAAIV,OAEYW,IAAZD,IACAA,EAAU5I,MAMd,IAFA,IAAIoH,EAASD,EAAenH,KAAM,KAAMA,KAAKwH,MAEtB,OAAhBJ,EAAOrI,MACVmJ,EAAOd,EAAOrI,KACdqI,EAAOrI,KAAOmJ,EAAKnJ,KAEnB4J,EAAGtQ,KAAKuQ,EAASV,EAAKrG,KAAMqG,EAAMlI,MAItCsH,EAActH,OAGlBuH,EAAKzN,UAAUmF,QAAUsI,EAAKzN,UAAU4O,KAExCnB,EAAKzN,UAAUgP,UAAY,SAASH,EAAIC,GACpC,IAAIV,OAEYW,IAAZD,IACAA,EAAU5I,MAMd,IAFA,IAAIoH,EAASD,EAAenH,KAAMA,KAAKyH,KAAM,MAEtB,OAAhBL,EAAOvH,MACVqI,EAAOd,EAAOvH,KACduH,EAAOvH,KAAOqI,EAAKrI,KAEnB8I,EAAGtQ,KAAKuQ,EAASV,EAAKrG,KAAMqG,EAAMlI,MAItCsH,EAActH,OAGlBuH,EAAKzN,UAAUiP,aAAexB,EAAKzN,UAAUgP,UAE7CvB,EAAKzN,UAAUkP,UAAY,SAAS1L,EAAOqL,EAAIC,GAC3C,GAAc,OAAVtL,EAAJ,CAIA,IAAI4K,OAEYW,IAAZD,IACAA,EAAU5I,MAMd,IAFA,IAAIoH,EAASD,EAAenH,KAAM,KAAM1C,GAEjB,OAAhB8J,EAAOrI,OACVmJ,EAAOd,EAAOrI,KACdqI,EAAOrI,KAAOmJ,EAAKnJ,MAEf4J,EAAGtQ,KAAKuQ,EAASV,EAAKrG,KAAMqG,EAAMlI,SAM1CsH,EAActH,QAGlBuH,EAAKzN,UAAUmP,UAAY,SAAS3L,EAAOqL,EAAIC,GAC3C,GAAc,OAAVtL,EAAJ,CAIA,IAAI4K,OAEYW,IAAZD,IACAA,EAAU5I,MAMd,IAFA,IAAIoH,EAASD,EAAenH,KAAM1C,EAAO,MAElB,OAAhB8J,EAAOvH,OACVqI,EAAOd,EAAOvH,KACduH,EAAOvH,KAAOqI,EAAKrI,MAEf8I,EAAGtQ,KAAKuQ,EAASV,EAAKrG,KAAMqG,EAAMlI,SAM1CsH,EAActH,QAGlBuH,EAAKzN,UAAUoP,KAAO,SAASP,EAAIC,GAC/B,IAAIxB,EAASpH,KAAKwH,KAMlB,SAJgBqB,IAAZD,IACAA,EAAU5I,MAGI,OAAXoH,GAAiB,CACpB,GAAIuB,EAAGtQ,KAAKuQ,EAASxB,EAAOvF,KAAMuF,EAAQpH,MACtC,OAAO,EAGXoH,EAASA,EAAOrI,KAGpB,OAAO,GAGXwI,EAAKzN,UAAU8F,IAAM,SAAS+I,EAAIC,GAC9B,IAAIR,EAAS,IAAIb,EACbH,EAASpH,KAAKwH,KAMlB,SAJgBqB,IAAZD,IACAA,EAAU5I,MAGI,OAAXoH,GACHgB,EAAOe,WAAWR,EAAGtQ,KAAKuQ,EAASxB,EAAOvF,KAAMuF,EAAQpH,OACxDoH,EAASA,EAAOrI,KAGpB,OAAOqJ,GAGXb,EAAKzN,UAAUsP,OAAS,SAAST,EAAIC,GACjC,IAAIR,EAAS,IAAIb,EACbH,EAASpH,KAAKwH,KAMlB,SAJgBqB,IAAZD,IACAA,EAAU5I,MAGI,OAAXoH,GACCuB,EAAGtQ,KAAKuQ,EAASxB,EAAOvF,KAAMuF,EAAQpH,OACtCoI,EAAOe,WAAW/B,EAAOvF,MAE7BuF,EAASA,EAAOrI,KAGpB,OAAOqJ,GAGXb,EAAKzN,UAAUuP,MAAQ,WACnBrJ,KAAKwH,KAAO,KACZxH,KAAKyH,KAAO,MAGhBF,EAAKzN,UAAUqI,KAAO,WAIlB,IAHA,IAAIiG,EAAS,IAAIb,EACbH,EAASpH,KAAKwH,KAEA,OAAXJ,GACHgB,EAAOkB,OAAOpC,EAAWE,EAAOvF,OAChCuF,EAASA,EAAOrI,KAGpB,OAAOqJ,GAGXb,EAAKzN,UAAUyP,QAAU,SAASrB,GAsB9B,OAlBAlI,KAAK0H,cAAc,KAAMQ,EAAMlI,KAAKwH,KAAMU,GAGxB,OAAdlI,KAAKwH,MAELxH,KAAKwH,KAAK3H,KAAOqI,EAGjBA,EAAKnJ,KAAOiB,KAAKwH,MAIjBxH,KAAKyH,KAAOS,EAIhBlI,KAAKwH,KAAOU,EAELlI,MAGXuH,EAAKzN,UAAU0P,YAAc,SAAS3H,GAClC,OAAO7B,KAAKuJ,QAAQrC,EAAWrF,KAGnC0F,EAAKzN,UAAU2P,OAAS,SAASvB,GAC7B,OAAOlI,KAAKsJ,OAAOpB,IAGvBX,EAAKzN,UAAUqP,WAAa,SAAStH,GACjC,OAAO7B,KAAKsJ,OAAOpC,EAAWrF,KAGlC0F,EAAKzN,UAAUwP,OAAS,SAASpB,EAAMwB,GACnC,GAAIA,QAMA,GAFA1J,KAAK0H,cAAcgC,EAAO7J,KAAMqI,EAAMwB,EAAQxB,GAE1B,OAAhBwB,EAAO7J,KAAe,CAEtB,GAAIG,KAAKwH,OAASkC,EACd,MAAM,IAAIxD,MAAM,iCAKpBlG,KAAKwH,KAAOU,EACZwB,EAAO7J,KAAOqI,EACdA,EAAKnJ,KAAO2K,EAEZ1J,KAAK0H,cAAc,KAAMQ,QAIzBwB,EAAO7J,KAAKd,KAAOmJ,EACnBA,EAAKrI,KAAO6J,EAAO7J,KAEnB6J,EAAO7J,KAAOqI,EACdA,EAAKnJ,KAAO2K,OAMhB1J,KAAK0H,cAAc1H,KAAKyH,KAAMS,EAAM,KAAMA,GAGxB,OAAdlI,KAAKyH,MAELzH,KAAKyH,KAAK1I,KAAOmJ,EAGjBA,EAAKrI,KAAOG,KAAKyH,MAIjBzH,KAAKwH,KAAOU,EAIhBlI,KAAKyH,KAAOS,EAGhB,OAAOlI,MAGXuH,EAAKzN,UAAU6P,WAAa,SAAS9H,EAAM6H,GACvC,OAAO1J,KAAKsJ,OAAOpC,EAAWrF,GAAO6H,IAGzCnC,EAAKzN,UAAU8P,OAAS,SAAS1B,GAM7B,GAFAlI,KAAK0H,cAAcQ,EAAMA,EAAKrI,KAAMqI,EAAMA,EAAKnJ,MAE7B,OAAdmJ,EAAKrI,KACLqI,EAAKrI,KAAKd,KAAOmJ,EAAKnJ,SACnB,CACH,GAAIiB,KAAKwH,OAASU,EACd,MAAM,IAAIhC,MAAM,+BAGpBlG,KAAKwH,KAAOU,EAAKnJ,KAGrB,GAAkB,OAAdmJ,EAAKnJ,KACLmJ,EAAKnJ,KAAKc,KAAOqI,EAAKrI,SACnB,CACH,GAAIG,KAAKyH,OAASS,EACd,MAAM,IAAIhC,MAAM,+BAGpBlG,KAAKyH,KAAOS,EAAKrI,KAMrB,OAHAqI,EAAKrI,KAAO,KACZqI,EAAKnJ,KAAO,KAELmJ,GAGXX,EAAKzN,UAAUuO,KAAO,SAASxG,GAC3B7B,KAAKsJ,OAAOpC,EAAWrF,KAG3B0F,EAAKzN,UAAU+P,IAAM,WACjB,GAAkB,OAAd7J,KAAKyH,KACL,OAAOzH,KAAK4J,OAAO5J,KAAKyH,OAIhCF,EAAKzN,UAAUgQ,QAAU,SAASjI,GAC9B7B,KAAKuJ,QAAQrC,EAAWrF,KAG5B0F,EAAKzN,UAAUiQ,MAAQ,WACnB,GAAkB,OAAd/J,KAAKwH,KACL,OAAOxH,KAAK4J,OAAO5J,KAAKwH,OAIhCD,EAAKzN,UAAUkQ,YAAc,SAASxK,GAClC,OAAOQ,KAAKiK,WAAWzK,EAAMQ,KAAKwH,OAGtCD,EAAKzN,UAAUoQ,WAAa,SAAS1K,GACjC,OAAOQ,KAAKiK,WAAWzK,IAG3B+H,EAAKzN,UAAUmQ,WAAa,SAASzK,EAAMkK,GAEvC,OAAkB,OAAdlK,EAAKgI,OAILkC,SACA1J,KAAK0H,cAAcgC,EAAO7J,KAAML,EAAKiI,KAAMiC,EAAQlK,EAAKgI,MAGpC,OAAhBkC,EAAO7J,MAEP6J,EAAO7J,KAAKd,KAAOS,EAAKgI,KACxBhI,EAAKgI,KAAK3H,KAAO6J,EAAO7J,MAExBG,KAAKwH,KAAOhI,EAAKgI,KAGrBkC,EAAO7J,KAAOL,EAAKiI,KACnBjI,EAAKiI,KAAK1I,KAAO2K,IAEjB1J,KAAK0H,cAAc1H,KAAKyH,KAAMjI,EAAKiI,KAAM,KAAMjI,EAAKgI,MAGlC,OAAdxH,KAAKyH,MAKLzH,KAAKyH,KAAK1I,KAAOS,EAAKgI,KAGtBhI,EAAKgI,KAAK3H,KAAOG,KAAKyH,MAItBzH,KAAKwH,KAAOhI,EAAKgI,KAIrBxH,KAAKyH,KAAOjI,EAAKiI,MAGrBjI,EAAKgI,KAAO,KACZhI,EAAKiI,KAAO,MAzCDzH,MA8CfuH,EAAKzN,UAAU8J,QAAU,SAASuG,EAASC,GACnC,SAAUA,EACVpK,KAAKiK,WAAWG,EAAeD,GAE/BnK,KAAKsJ,OAAOc,EAAeD,GAG/BnK,KAAK4J,OAAOO,IAGhBlS,EAAOD,QAAUuP,G,gBC/gBjB,IAAI8C,EAAc,EAAQ,IACtBC,EAAUD,EAAYC,QACtBC,EAAaF,EAAYE,WACzBC,EAAoBH,EAAYG,kBAChChQ,EAAS6P,EAAY7P,OACrBiQ,EAAeJ,EAAYI,aAC3BhQ,EAAgB4P,EAAY5P,cAEhC,SAASgB,EAAYF,EAAQG,GACzB,OAAOA,EAASH,EAAOe,OAASf,EAAOK,WAAWF,GAAU,EAGhE,SAASV,EAAiBO,EAAQG,EAAQa,GACtC,OAAa,KAATA,GAA4D,KAApCd,EAAYF,EAAQG,EAAS,GAC9C,EAGJ,EAGX,SAASgP,EAAQC,EAASjP,EAAQkP,GAC9B,IAAIrO,EAAOoO,EAAQ/O,WAAWF,GAO9B,OAJI8O,EAAkBjO,KAClBA,GAAc,IAGXA,IAASqO,EAiDpB,SAASC,EAAqBtP,EAAQG,GAClC,KAAOA,EAASH,EAAOe,QACdgO,EAAQ/O,EAAOK,WAAWF,IADJA,KAM/B,OAAOA,EAIX,SAASR,EAAeK,EAAQG,GAM5B,GAAI6O,EAAW9O,EAAYF,GAH3BG,GAAU,GAGkC,IAAK,CAG7C,IAAK,IAAIoP,EAAYC,KAAKC,IAAIzP,EAAOe,OAAQZ,EAAS,GAAIA,EAASoP,GAC1DP,EAAW9O,EAAYF,EAAQG,IADsCA,KAO9E,IAAIa,EAAOd,EAAYF,EAAQG,GAC3B+O,EAAalO,KACbb,GAAUV,EAAiBO,EAAQG,EAAQa,IAInD,OAAOb,EAwHXzD,EAAOD,QAAU,CACbkD,eAAgBA,EAChBC,YAnHJ,SAAqBI,EAAQG,GAGzB,KAAOA,EAASH,EAAOe,OAAQZ,IAAU,CACrC,IAAIa,EAAOhB,EAAOK,WAAWF,GAG7B,IAAIlB,EAAO+B,GAAX,CAMA,IAAI9B,EAAc8B,EAAMd,EAAYF,EAAQG,EAAS,IAQrD,MANIA,EAASR,EAAeK,EAAQG,GAAU,GASlD,OAAOA,GA4FPN,cAxFJ,SAAuBG,EAAQG,GAC3B,IAAIa,EAAOhB,EAAOK,WAAWF,GA8B7B,GA1Ba,KAATa,GAA4B,KAATA,IACnBA,EAAOhB,EAAOK,WAAWF,GAAU,IAInC4O,EAAQ/N,KACRb,EAASmP,EAAqBtP,EAAQG,EAAS,GAC/Ca,EAAOhB,EAAOK,WAAWF,IAIhB,KAATa,GAAmB+N,EAAQ/O,EAAOK,WAAWF,EAAS,MAGtDa,EAAOhB,EAAOK,WAAWF,GAAU,GAOnCA,EAASmP,EAAqBtP,EAAQG,IAKtCgP,EAAQnP,EAAQG,EAAQ,KAAc,CACtC,IAAIuP,EAAO,EAIE,MAHb1O,EAAOhB,EAAOK,WAAWF,EAAS,KAGF,KAATa,IACnB0O,EAAO,EACP1O,EAAOhB,EAAOK,WAAWF,EAAS,IAIlC4O,EAAQ/N,KAQRb,EAASmP,EAAqBtP,EAAQG,EAAS,EAAIuP,EAAO,IAIlE,OAAOvP,GAmCPL,sBA7BJ,SAA+BE,EAAQG,GAEnC,KAAOA,EAASH,EAAOe,OAAQZ,IAAU,CACrC,IAAIa,EAAOhB,EAAOK,WAAWF,GAI7B,GAAa,KAATa,EAAiB,CAEjBb,IACA,MAGAjB,EAAc8B,EAAMd,EAAYF,EAAQG,EAAS,MAKjDA,EAASR,EAAeK,EAAQG,IAIxC,OAAOA,GASPgP,QAASA,EACT3P,OA9MJ,SAAgB4P,EAASrN,EAAO4N,EAAKC,GACjC,GAAID,EAAM5N,IAAU6N,EAAa7O,OAC7B,OAAO,EAGX,GAAIgB,EAAQ,GAAK4N,EAAMP,EAAQrO,OAC3B,OAAO,EAGX,IAAK,IAAIpE,EAAIoF,EAAOpF,EAAIgT,EAAKhT,IAAK,CAC9B,IAAIkT,EAAWT,EAAQ/O,WAAW1D,GAC9B0S,EAAgBO,EAAavP,WAAW1D,EAAIoF,GAOhD,GAJIkN,EAAkBY,KAClBA,GAAsB,IAGtBA,IAAaR,EACb,OAAO,EAIf,OAAO,GAyLP5P,iBAAkBA,EAClBqQ,oBAvLJ,SAA6B9P,EAAQG,GACjC,KAAOA,GAAU,GACR+O,EAAalP,EAAOK,WAAWF,IADpBA,KAMpB,OAAOA,EAAS,GAiLhBT,kBA9KJ,SAA2BM,EAAQG,GAC/B,KAAOA,EAASH,EAAOe,QACdmO,EAAalP,EAAOK,WAAWF,IADTA,KAM/B,OAAOA,K,gBC1EX,IAAItB,EAAY,EAAQ,GACpBC,EAAOD,EAAUC,KACjBiR,EAAOlR,EAAUkR,KAGjBvQ,EADQ,EAAQ,GACDA,OAEf6D,EAAMvE,EAAKuE,IACX2M,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QAKf9D,EAAc,WACd8F,KAAK7C,cAAgB,KACrB6C,KAAK5C,QAAU,KAEf4C,KAAKlB,SAGT5E,EAAYJ,UAAY,CACpBgF,MAAO,WACHkB,KAAKyL,KAAM,EACXzL,KAAKE,YAAc,EACnBF,KAAKuB,UAAY,EACjBvB,KAAKK,WAAaL,KAAKnB,gBACvBmB,KAAK0L,SAAW1L,KAAKnB,iBAGzBsB,WAAY,SAASzE,GAGjB,OAFAA,GAAUsE,KAAKE,YAEFF,KAAK3C,WACP2C,KAAK7C,cAAczB,IAtBrB,GAyBFkD,GAEX+M,aAAc,SAASjQ,GAGnB,OAFAA,GAAUsE,KAAKE,YAEFF,KAAK3C,WA/BR,SAgCC2C,KAAK7C,cAAczB,EAAS,GAGhCsE,KAAKzE,OAAOe,QAEvBsP,YAAa,SAASlQ,EAAQyP,GAG1B,OAFAzP,GAAUsE,KAAKE,YAEFF,KAAK3C,YACPtC,EACHiF,KAAKzE,OA1CH,SA2CFyE,KAAK7C,cAAczB,EAAS,GA3C1B,SA4CFsE,KAAK7C,cAAczB,GACnByP,IAMZ/K,cAAe,SAASF,GACpB,OAAIA,IAAeF,KAAKE,WACbF,KAAKK,WAGZH,EAAa,EACNA,EAAaF,KAAK3C,WAzDnB,SA0DA2C,KAAK7C,cAAc+C,EAAa,GA1DhC,SA2DAF,KAAK7C,cAAc6C,KAAK3C,YAG3B2C,KAAKnB,iBAIhBiC,aAAc,SAASL,EAAYpH,GAC/B,IACIiH,EADA8G,EAAS3G,EAET/E,EArEM,SAqEGsE,KAAK7C,cAAc4N,KAAKc,IAAIzE,EAAS,EAAG,IAGrD0E,EACA,KAAO1E,EAASpH,KAAK3C,eACjBiD,EAAaN,KAAK5C,QAAQgK,IAGT3G,GAJY2G,IAW7B,OAAQ/N,EAHD2G,KAAK7C,cAAciK,IAhFrB,GAmFcpH,KAAKzE,OAAQG,IAC5B,KAAK,EACD,MAAMoQ,EAEV,KAAK,EACD1E,IACA,MAAM0E,EAEV,QACIpQ,EA7FF,SA6FWsE,KAAK7C,cAAciK,GAGxBpH,KAAK5C,QAAQkD,KAAgB8G,IAC7BA,EAAS9G,GAKzB,OAAO8G,EAASpH,KAAKE,YAEzB6L,cAAe,SAASC,GACpB,OAAOhM,KAAK5C,QAAQ4C,KAAKE,YAAc8L,GAE3CC,QAAS,SAAS1P,EAAMb,GACpB,OAAIA,EAEIsE,KAAKG,WAAWzE,KAAYrB,EAAKsD,OACjCqC,KAAKzE,OAAOK,WAAWoE,KAAK2L,aAAajQ,MAAaa,EAK1DyD,KAAKuB,YAAclH,EAAKsD,OACxBqC,KAAKzE,OAAOK,WAAWoE,KAAKK,cAAgB9D,GAIpD2P,cAAe,WACX,OAAOlM,KAAKzE,OAAO0F,UAAUjB,KAAKK,WAAYL,KAAK0L,WAEvDS,eAAgB,WACZ,OAAOnM,KAAK0L,SAAW1L,KAAKK,YAEhC+L,eAAgB,SAAS9O,GACrB,OAAO0C,KAAKzE,OAAO0F,UAAU3D,EAAO0C,KAAKK,aAG7CgM,OAAQ,WACJ,IAAK,IAAInU,EAAI8H,KAAKE,WAAYoM,EAAiB,EAAGpU,EAAI8H,KAAK3C,YAClD2C,KAAK7C,cAAcjF,IApInB,KAoIyCqT,EADqBrT,IAAKoU,KAMxEA,EAAiB,GACjBtM,KAAKa,KAAKyL,IAGlBC,OAAQ,WACJ,KAAOvM,KAAKuB,YAAcgK,GAAcvL,KAAKuB,YAAciK,GACvDxL,KAAKjB,QAGb8B,KAAM,SAASxD,GACX,IAAI0B,EAAOiB,KAAKE,WAAa7C,EAEzB0B,EAAOiB,KAAK3C,YACZ2C,KAAKE,WAAanB,EAClBiB,KAAKK,WAxJC,SAwJYL,KAAK7C,cAAc4B,EAAO,GAC5CA,EAAOiB,KAAK7C,cAAc4B,GAC1BiB,KAAKuB,UAAYxC,GAzJZ,GA0JLiB,KAAK0L,SA3JC,SA2JU3M,IAEhBiB,KAAKE,WAAaF,KAAK3C,WACvB2C,KAAKjB,SAGbA,KAAM,WACF,IAAIA,EAAOiB,KAAKE,WAAa,EAEzBnB,EAAOiB,KAAK3C,YACZ2C,KAAKE,WAAanB,EAClBiB,KAAKK,WAAaL,KAAK0L,SACvB3M,EAAOiB,KAAK7C,cAAc4B,GAC1BiB,KAAKuB,UAAYxC,GAvKZ,GAwKLiB,KAAK0L,SAzKC,SAyKU3M,IAEhBiB,KAAKE,WAAaF,KAAK3C,WACvB2C,KAAKyL,KAAM,EACXzL,KAAKuB,UAAY3C,EACjBoB,KAAKK,WAAaL,KAAK0L,SAAW1L,KAAKzE,OAAOe,SAItDkQ,KAAM,WACF,IAAI9Q,EAASsE,KAAKnB,gBAElB,OAAOO,MAAMtF,UAAU2S,MAAMpU,KAAK2H,KAAK7C,cAAe,EAAG6C,KAAK3C,YAAYuC,KAAI,SAASsI,EAAMwE,GACzF,IAAIpP,EAAQ5B,EACRwP,EAvLE,SAuLIhD,EAIV,OAFAxM,EAASwP,EAEF,CACHwB,IAAKA,EACL5Q,KAAMwP,EAAKpD,GA5LV,IA6LD9G,MAAOpB,KAAKzE,OAAO0F,UAAU3D,EAAO4N,GACpC9N,QAAS4C,KAAK5C,QAAQsP,MAE3B1M,QAIX/H,EAAOD,QAAUkC,G,cC9MjB,IAAIG,EAAO,CACPuE,IAAK,EACL/B,MAAO,EACPT,SAAU,EACViC,UAAW,EACXX,KAAM,EACNV,OAAQ,EACRC,UAAW,EACXZ,IAAK,EACLK,OAAQ,EACRiB,MAAO,EACP1B,OAAQ,GACRD,WAAY,GACZD,UAAW,GACXU,WAAY,GACZ2B,IAAK,GACLL,IAAK,GACLG,MAAO,GACPC,UAAW,GACXL,MAAO,GACPQ,kBAAmB,GACnBC,mBAAoB,GACpBX,gBAAiB,GACjBC,iBAAkB,GAClBW,iBAAkB,GAClBC,kBAAmB,GACnBT,QAAS,IAGTsN,EAAO1S,OAAOoG,KAAK3E,GAAMsS,QAAO,SAASvE,EAAQ3O,GAEjD,OADA2O,EAAO/N,EAAKZ,IAAQA,EACb2O,IACR,IAEHnQ,EAAOD,QAAU,CACbqC,KAAMA,EACNiR,KAAMA,I,cCtCVrT,EAAOD,QAAU,CACb4U,cAAe,SAASzL,GACpB,OAAQA,IAASA,EAAK0L,UAAY1L,EAAK0L,SAAStE,WAEpDuE,mBAAoB,SAAS3L,EAAM3B,GAC/B,OAAgB,OAAT2B,GAAiBA,EAAK0L,WAAarN,K,cCLlD,IAAIuN,EAAgB,2CAChBC,EAAgB,yCAChBC,EAA8B,CAC9BlR,WAAW,EACXmR,UAAU,EACVC,YAAY,EACZlR,QAAQ,EACRmR,KAAK,EACLC,cAAc,GAGlB,SAASC,EAAWnU,EAAO+O,GAEvB,IAAIqF,EAASrF,GAAsB,OAAdA,EAAKrI,MAAiBoN,EAA4BlT,eAAemO,EAAKrI,KAAKgC,KAAK/F,MAC/FkR,EACAD,EAiBN,MAJc,MAFd5T,EAAQ6D,OAAO7D,GAAOyK,QAAQ2J,EAAQ,YAER,MAAVpU,IAChBA,EAAQ,KAGLA,EAGXlB,EAAOD,QAAU,SAASmJ,EAAM+G,GAC5B/G,EAAKhI,MAAQmU,EAAWnM,EAAKhI,MAAO+O,IAExCjQ,EAAOD,QAAQwV,KAAOF,G,6kCChBTG,EAAiB,uBACjBC,EAA0C,CACrDC,uBAAwB,SAACC,EAAUC,GACjC,OAAAA,EAAwB,IAAMD,GAChCE,sBAAuB,SAACF,EAAUG,GAChC,OAAAH,EAAWG,EAAqBC,eAClCC,mBAAoB,SAACL,EAAUM,GAC7B,OAAAN,EAAWM,EAAkBC,eAC/BC,mBAAoB,SAACC,GAAiB,OACpCA,EACGhI,MAAM,KACNzG,KAAI,SAAC0O,GAAS,OAAAA,EAAKC,OAAO,MAC1BC,KAAK,IACLR,cACHK,EAAaL,iBAIXS,EAAkB,IAAIhL,OAAOgK,EAAgB,KAEtCvM,EAAW,SACtBwN,EACAC,QAAA,IAAAA,MAAA,IAEA,IAAMC,EAAgB,EAAH,KAAQlB,GAAoBiB,GAC/C,OAAOE,EACLC,EAAaJ,EAASE,EAAe,IACrCA,IAcEC,EAAkB,SACtBE,EACAJ,GAIA,I,gBAFIK,EAAM,GACNC,EAA0C,GACrC/W,EAAI,EAAGA,EAAI6W,EAAazS,OAAQpE,IAAK,CAI5C,IAHA,IAAMgX,EAAcH,EAAa7W,GAE7BiX,EAAc,EAEhBA,EAAcF,EAAe3S,QAC7B2S,EAAeE,KAAiBD,EAAYE,WAAWD,IAEvDA,GAAe,EAGjB,IAAME,EAAoBJ,EAAexC,MAAM0C,G,IAC/C,IAA+B,kBAAAE,IAAiB,8BAAE,EAC1CC,EADmB,QACqB,IACrBC,WAAW,OAAMP,GAAO,M,iGAEnD,IAAMQ,EAAmBN,EAAYE,WAAW3C,MAAM0C,G,IACtD,IAA8B,kBAAAK,IAAgB,8BAAE,EACxCF,EADkB,QACqB,IACpBC,WAAW,OAClCP,GAAUM,EAAoB,M,iGAGlC,GAAmC,iBAAxBJ,EAAYO,QACrBT,GAAOE,EAAYO,YACd,CAIL,IAHA,IAAI7B,EAAWsB,EAAYO,QAAQ,GAC/BC,EAAiB,GAEZ,EAAI,EAAG,EAAIR,EAAYE,WAAW9S,OAAQ,IAAK,CACtD,IAAMuR,EAAwBqB,EAAYE,WAAW,GAAG,GAE3B,MADvBE,EAAuBJ,EAAYE,WAAW,GAAG,MAElDE,EAAqBC,WAAW,OACnCG,GAAkB,GAAGJ,GAEvB1B,EAAWe,EAAQhB,uBACjBC,EACAC,IAGJmB,GAAO,IAAIpB,EAAW8B,EAAc,IAAIR,EAAYO,QAAQ,GACzD7P,KAAI,SAAC+P,GAAgB,OAAGA,EAAY,GAAE,IAAIA,EAAY,MACtDnB,KAAK,KAAI,IAEdS,EAAiBC,EAAYE,W,IAE/B,IAA+B,QAAAH,GAAc,8BAAE,CAA1C,IACGK,KADmB,QACqB,IACrBC,WAAW,OAAMP,GAAO,M,iGAEnD,OAAOA,GAGHF,EAAe,SACnBJ,EACAC,EACAiB,G,MAGMC,EAAe,EAAH,GAAQD,GAC1B,QAA0B/G,IAAtB6F,EAAQoB,UAAyB,CACnC,IAAM,EAAYpB,EAAQoB,UAC1BlX,OAAOoG,KAAK,GAAWY,KAAI,SAACmQ,GAC1B,IAAMC,EAAaC,EAAcF,GAC3BG,EAAMF,EAAW,GACjBG,EAAOH,EAAW,GACZ,IAARE,EACFL,EAAaM,GAAQ,EAAUJ,GACd,IAARG,IACTL,EAAaM,GAAQ,EAAH,KACbP,EAAmBO,IACnB,EAAUJ,QAOrB,IAAMK,OACiBvH,IAArB6F,EAAQ7B,SACJ,GACAwD,EAAqB3B,EAAQ7B,SAAU8B,EAASkB,GA+BtD,OA5BkB,aACG,QAAnB,EAACnB,EAAQU,kBAAU,QAAI,IAAIxP,KAAI,SAAC0Q,GAC9B,OAAC,CAAC,GAAI,KAAyBxQ,OAAOwQ,OAExC5Q,SAAQ,SAAC0P,GACT,OAAOgB,EAA2BxQ,KAAI,SAAC2Q,GACrC,GACoC,iBAA3BA,EAAed,SACtBrQ,MAAMC,QAAQkR,EAAed,SAG7B,MAAO,CACLL,WAAU,EACVK,QAHyBc,EAGGd,SAG9B,IAAMe,EAAuBD,EAI7B,MAAO,CACLnB,WAAY,EAAIA,EAAeoB,EAAqBpB,YACpDK,QAASe,EAAqBf,QAAQA,gBAS1CY,EAAuB,SAC3BI,EACA9B,EACAmB,GAEA,OAAAW,EAAgB/Q,SAAQ,SAACgR,GACvB,MAAqB,iBAAVA,EACF,CACL,CACEtB,WAAY,GACZK,QAASiB,IAGJtR,MAAMC,QAAQqR,GACnBtR,MAAMC,QAAQqR,EAAM,IACfC,EAAiBD,EAAsB/B,EAASmB,GAEhDc,EACLF,EACA/B,GAIGG,EAAa4B,EAAO/B,EAASmB,OAMpCa,EAAmB,SACvBzB,EACAP,EACAmB,GAEA,IAAMlC,EAAWsB,EAAY,GACvB2B,EAAe3B,EAAY,GAC3B4B,EAA0C,GAQhD,OAPAD,EAAajR,KAAI,SAAC+P,G,QACVoB,EAAuD,QAAxC,EAAGpB,EAAY,GAAGnM,MAAMiL,UAAgB,QAAI,GAC3DuC,EAAyD,QAA7C,GAAG,GAAGrB,EAAY,IAAKnM,MAAMiL,UAAgB,QAAI,GACnEsC,EAAgBnR,KAAI,SAAC4D,GAAU,OAAAsN,EAAezI,KAAK,CAAC7E,EAAO,OAC3DwN,EAAapR,KAAI,SAAC4D,GAAU,OAAAsN,EAAezI,KAAK,CAAC7E,EAAO,UAGnD,YACLsN,EAAelR,KAAI,SAACqR,GAClB,IAAMC,EAAWD,EAAgB,GAC3BE,EAAWF,EAAgB,GAC3BG,EAAeF,EAASzE,MAAM,GAAI,GACxC,OAAO7T,OAAOoG,KAAK8Q,EAAUsB,IAAexR,KAC1C,SAACyR,GAAyD,OACxDH,EACAG,EACAvB,EAAUsB,GAAcC,GACxBF,UAINvR,KAAI,SAAC0R,GACL,IAAIC,EAAmB,EACnBC,EAA0CF,EAAYC,GAE1D,MAAO,CACLnC,WAAY,GACZK,QAAS,CACP6B,EAAY3E,QACV,SAACiB,EAAkB6D,GACjB,OAAgB,IAAZA,EAAK,GACA9C,EAAQb,sBAAsBF,EAAU6D,EAAK,IAE7C9C,EAAQV,mBAAmBL,EAAU6D,EAAK,MAGrD7D,GAEFiD,EAAajR,KAAI,SAAC+P,GAChB,IAAM+B,EAAc,SAACC,GACnB,KACEJ,EAAmBD,EAAYhV,QAC/BqV,EAAgBC,SAASJ,EAAQ,KAEjCG,EAAkBA,EAAgB/N,QAChC4N,EAAQ,GACR,GAAGA,EAAQ,IAEbA,EAAUF,IAAcC,GAE1B,OAAOI,GAET,MAAO,CACLD,EAAY/B,EAAY,IACxB+B,EAAY,GAAG/B,EAAY,cAQjCiB,EAAuB,SAC3BiB,EACAlD,GAEA,IAAMmD,EAAgBD,EAAgB,GAChCE,EAAiBF,EAAgB,GAEjCG,EAAiCrD,EAAQP,mBAC7C0D,GAEI/D,EAAuBiE,EAAa,GACpC3D,EAAe2D,EAAa,GAElC,OAAOpZ,OAAOoG,KAAK+S,GAAgBnS,KAAI,SAACsO,GAA8B,OACpEkB,WAAY,GACZK,QAAS,CACPd,EAAQV,mBACNU,EAAQb,sBAAsB,GAAIC,GAClCG,GAEF,CAAC,CAACG,EAAc0D,EAAe7D,WAK/B+B,EAAgB,SAACF,GACrB,IAAMG,EAAM,KAAKjS,QAAQ8R,EAAS,IAAM,EAExC,MAAO,CAACG,EADKA,EAAM,EAAIH,EAAStD,MAAM,GAAKsD,ICtThC,EAAQ,SAACf,EAAaiD,GACjC,IAAIC,EAAmC,UAC5BrJ,IAAPoJ,IAAkBC,EAAUC,SAASC,cAAc,SAASH,IAEhD,OAAZC,KACFA,EAAUC,SAASE,cAAc,UACzBvW,KAAO,gBACJ+M,IAAPoJ,GAAkBC,EAAQI,aAAa,KAAML,GACjDE,SAAS3K,KAAK+K,YAAYL,IAG5BA,EAAQM,UAAYxD,I,6DCZd,yBAAAyD,SAENjZ,EAAA,OAAAA,OACAX,EAAA,OAAAA,eACA6Z,EAAA,OAAAA,yBACAC,EAAA,OAAAA,oBACAC,EAAA,OAAAA,sBACAC,EAAA,OAAAA,eAEI,mBAAE9Y,EAAA,EAAAA,eAAgB+Y,EAAA,EAAAA,qBAUXC,EACyC,mBAA1BH,EADfG,EAEiB,mBAAZC,QA0CLC,EAAgB,SAACrZ,EAAasZ,GACzC,IAAKtZ,EAAOuZ,YACV,OAAO3Z,EAAO,MAGR,QAAA2Z,YACFrZ,EAAYF,EAAOwZ,WAAaP,EAAejZ,GAErD,GAAIyZ,IAAgBH,EAAMta,OACxB,OAAOkB,IAAcoZ,EAAMta,OAAOkB,UAAY,GAAKN,EAAOM,GAG5D,IAAKwZ,EAAiBjb,KAAKgb,GAAapV,QAAQ,iBAC9C,IACE,OAAO,IAAIoV,EACX,UAGJ,OAAO7Z,EAAOM,IAeHyZ,EAA6C,SACxD3Z,EACAsZ,EACAM,EACAC,GAEA,IAAMC,EAAaT,EAAcrZ,EAAQsZ,GAIzC,IAAK,IAAMzZ,KAFXga,EAAME,IAAI/Z,EAAQ8Z,GAEA9Z,EACZG,EAAe1B,KAAKuB,EAAQH,KAC9Bia,EAAMja,GAAO+Z,EAAW5Z,EAAOH,GAAMga,IAIzC,GAAIV,EAA4B,CAC9B,IAAMa,EAAoBhB,EAAsBhZ,GAExC,IAAA0C,OAER,GAAI,EACF,IAAK,IAAImD,EAAQ,EAAGoU,OAAM,EAAEpU,EAAQ,EAAQA,IAC1CoU,EAASD,EAAQnU,GAEbqT,EAAqBza,KAAKuB,EAAQia,KACpCH,EAAMG,GAAUL,EAAW5Z,EAAOia,GAASJ,IAMnD,OAAOC,GAeII,EAA8C,SACzDla,EACAsZ,EACAM,EACAC,GAEA,IAAMC,EAAaT,EAAcrZ,EAAQsZ,GAEzCO,EAAME,IAAI/Z,EAAQ8Z,GAElB,IAAMK,EAAkChB,EACpCJ,EAAoB/Y,GAAQkG,OAAQ8S,EAAsBhZ,IAC1D+Y,EAAoB/Y,GAEhB0C,EAAA,EAAAA,OAER,GAAIA,EACF,IAAK,IAAImD,EAAQ,EAAG5F,OAAQ,EAAEma,OAAU,EAAEvU,EAAQnD,EAAQmD,IAGvC,YAFjB5F,EAAWka,EAAWtU,KAEoB,WAAb5F,KAC3Bma,EAAatB,EAAyB9Y,EAAQC,IAEnCV,MAAQqa,EAAW5Z,EAAOC,GAAW4Z,GAEhD5a,EAAe6a,EAAO7Z,EAAUma,IAKtC,OAAON,GC1KDrU,EAAA,MAAAA,QAEF4U,EACgB,oBAATC,KACFA,KAGa,oBAAXC,OACFA,YAGa,IAAXC,EACFA,OAGLC,SAAWA,QAAQC,OACrBD,QAAQC,MAAM,sDAuBlB,SAASnS,EAAQvI,EAAW+U,GAE1B,IAAM4F,KAAuB5F,IAAWA,EAAQ4F,UAC1CrB,EAAyBvE,GAAWA,EAAQuE,OAAUe,EAEtDO,EAAwCD,EAC1CT,EACAP,EAWEC,EAA8B,SAAC5Z,EAAa6Z,GAChD,IAAK7Z,GAA4B,iBAAXA,EACpB,OAAOA,EACP,GAAI6Z,EAAMgB,IAAI7a,GACd,OAAO6Z,EAAM1a,IAAIa,GAGX,IAOJ8Z,ED+GuBgB,EACzBC,ECvHM,IAAAxB,YAGR,GAAIE,IAAgBH,EAAMta,OACxB,OAAO4b,EAAe5a,EAAQsZ,EAAOM,EAAYC,GAKnD,GAAIpU,EAAQzF,GAAS,CAEnB,GAAI2a,EACF,OAAOT,EAAqBla,EAAQsZ,EAAOM,EAAYC,GAGjD,QAAAnX,OAERoX,EAAQ,IAAIL,EACZI,EAAME,IAAI/Z,EAAQ8Z,GAElB,IAAK,IAAIjU,EAAgB,EAAGA,EAAQ,EAAQA,IAC1CiU,EAAMjU,GAAS+T,EAAW5Z,EAAO6F,GAAQgU,GAG3C,OAAOC,EAIT,GAAI9Z,aAAkBsZ,EAAM0B,KAC1B,OAAO,IAAIvB,EAAYzZ,EAAOib,WAIhC,GAAIjb,aAAkBsZ,EAAMzP,OAK1B,OAJAiQ,EAAQ,IAAIL,EAAYzZ,EAAO2B,OAAQ3B,EAAO+a,QDqF9CA,EAAQ,IADiBD,ECpF6C9a,GDuF/Dwa,SACTO,GAAS,KAGPD,EAAOI,aACTH,GAAS,KAGPD,EAAOK,YACTJ,GAAS,KAGPD,EAAOM,UACTL,GAAS,KAGPD,EAAOO,SACTN,GAAS,KAGJA,KCzGGO,UAAYtb,EAAOsb,UAElBxB,EAIT,GAAIR,EAAMiC,KAAOvb,aAAkBsZ,EAAMiC,IAQvC,OAPAzB,EAAQ,IAAIL,EACZI,EAAME,IAAI/Z,EAAQ8Z,GAElB9Z,EAAOqF,SAAQ,SAAC9F,EAAYM,GAC1Bia,EAAMC,IAAIla,EAAK+Z,EAAWra,EAAOsa,OAG5BC,EAIT,GAAIR,EAAMkC,KAAOxb,aAAkBsZ,EAAMkC,IAQvC,OAPA1B,EAAQ,IAAIL,EACZI,EAAME,IAAI/Z,EAAQ8Z,GAElB9Z,EAAOqF,SAAQ,SAAC9F,GACdua,EAAM2B,IAAI7B,EAAWra,EAAOsa,OAGvBC,EAIT,GAAIR,EAAMoC,QAAUpC,EAAMoC,OAAOC,SAAS3b,GAQxC,OAPA8Z,EAAQR,EAAMoC,OAAOE,YACjBtC,EAAMoC,OAAOE,YAAY5b,EAAO0C,QAChC,IAAI+W,EAAYzZ,EAAO0C,QAE3BmX,EAAME,IAAI/Z,EAAQ8Z,GAClB9Z,EAAOuI,KAAKuR,GAELA,EAIT,GAAIR,EAAMuC,YAAa,CAErB,GAAIvC,EAAMuC,YAAYC,OAAO9b,GAG3B,OAFA8Z,EAAQ,IAAIL,EAAYzZ,EAAO+b,OAAOlJ,MAAM,IAC5CgH,EAAME,IAAI/Z,EAAQ8Z,GACXA,EAIT,GAAI9Z,aAAkBsZ,EAAMuC,YAG1B,OAFA/B,EAAQ9Z,EAAO6S,MAAM,GACrBgH,EAAME,IAAI/Z,EAAQ8Z,GACXA,EAKX,MAEyB,mBAAhB9Z,EAAOgc,MAEdhc,aAAkBsM,OAEjBgN,EAAMF,SAAWpZ,aAAkBsZ,EAAMF,SAEzCE,EAAM2C,SAAWjc,aAAkBsZ,EAAM2C,QAEnCjc,EAIF4a,EAAe5a,EAAQsZ,EAAOM,EAAYC,IAGnD,OAAOD,EAAW5Z,EDnJO,WACzB,GAAImZ,EACF,OAAO,IAAIC,QAIb,IAAMpZ,EAASJ,EAAO,CACpBib,IAAK,SAAChb,GAAa,SAAGG,EAAOkc,MAAM7X,QAAQxE,IAC3Cka,IAAK,SAACla,EAAUN,GACdS,EAAOkc,MAAMzN,KAAK5O,GAClBG,EAAOmc,QAAQ1N,KAAKlP,IAEtBJ,IAAK,SAACU,GAAa,OAAAG,EAAOmc,QAAQnc,EAAOkc,MAAM7X,QAAQxE,OAMzD,OAHAG,EAAOkc,MAAQ,GACflc,EAAOmc,QAAU,GAEVnc,ECiImBoc,I,OAc5B7T,EAAK8T,OAAS,SAAoBrc,EAAa+U,GAC7C,OAAOxM,EAAKvI,EAAQ,CAClB2a,UAAU,EACVrB,MAAOvE,EAAUA,EAAQuE,WAAQ,K,kEClMrC,IAAIgD,EAAM,EAAQ,IACdhT,EAAQ,EAAQ,IAChBiT,EAAO,EAAQ,GACfC,EAAe,EAAQ,IACvBC,EAAW,EAAQ,IAmBvB,SAASC,EAAQC,EAASC,EAAMC,GAE9B,IAAIC,EAAS1W,KAAK2W,MAAMF,GACxB,GAAqB,iBAAVC,EAAoB,CAC7B,IAAI1W,KAAK2W,MAAMD,GACV,OAAOJ,EAAQje,KAAK2H,KAAMuW,EAASC,EAAME,GADtBA,EAAS1W,KAAK2W,MAAMD,GAK9C,IADAA,EAASA,GAAU1W,KAAK4W,SAASH,cACXL,EACpB,OAAOS,EAAUH,EAAO/R,OAAQ3E,KAAK8W,MAAMC,YACjCL,EAAO/R,OACP+R,EAAOM,UAAYhX,KAAKiX,SAASP,GAG7C,IACI/R,EAAQuS,EAAGC,EADXC,EAAMC,EAAchf,KAAK2H,KAAMwW,EAAMC,GAgBzC,OAdIW,IACFzS,EAASyS,EAAIzS,OACb6R,EAAOY,EAAIZ,KACXW,EAASC,EAAID,QAGXxS,aAAkByR,EACpBc,EAAIvS,EAAOqS,UAAYT,EAAQle,KAAK2H,KAAM2E,EAAOA,OAAQ6R,OAAM3N,EAAWsO,QACtDtO,IAAXlE,IACTuS,EAAIL,EAAUlS,EAAQ3E,KAAK8W,MAAMC,YAC3BpS,EACA4R,EAAQle,KAAK2H,KAAM2E,EAAQ6R,OAAM3N,EAAWsO,IAG7CD,EAWT,SAASG,EAAcb,EAAMC,GAE3B,IAAIzc,EAAIkc,EAAI1V,MAAMiW,GACda,EAAUC,EAAavd,GACvBmd,EAASK,EAAYxX,KAAKyX,OAAOjB,EAAK7R,SAC1C,GAAwC,IAApC/L,OAAOoG,KAAKwX,EAAK7R,QAAQrI,QAAgBgb,IAAYH,EAAQ,CAC/D,IAAIlF,EAAKyF,EAAYJ,GACjBZ,EAAS1W,KAAK2W,MAAM1E,GACxB,GAAqB,iBAAVyE,EACT,OAAOiB,EAAiBtf,KAAK2H,KAAMwW,EAAME,EAAQ1c,GAC5C,GAAI0c,aAAkBN,EACtBM,EAAOM,UAAUhX,KAAKiX,SAASP,GACpCF,EAAOE,MACF,CAEL,MADAA,EAAS1W,KAAK4W,SAAS3E,cACDmE,GAMpB,OAJA,GADKM,EAAOM,UAAUhX,KAAKiX,SAASP,GAChCzE,GAAMyF,EAAYjB,GACpB,MAAO,CAAE9R,OAAQ+R,EAAQF,KAAMA,EAAMW,OAAQA,GAC/CX,EAAOE,EAKX,IAAKF,EAAK7R,OAAQ,OAClBwS,EAASK,EAAYxX,KAAKyX,OAAOjB,EAAK7R,SAExC,OAAOiT,EAAevf,KAAK2H,KAAMhG,EAAGmd,EAAQX,EAAK7R,OAAQ6R,GAK3D,SAASmB,EAAiBnB,EAAMC,EAAKoB,GAEnC,IAAIT,EAAMC,EAAchf,KAAK2H,KAAMwW,EAAMC,GACzC,GAAIW,EAAK,CACP,IAAIzS,EAASyS,EAAIzS,OACbwS,EAASC,EAAID,OACjBX,EAAOY,EAAIZ,KACX,IAAIvE,EAAKjS,KAAKyX,OAAO9S,GAErB,OADIsN,IAAIkF,EAASW,EAAWX,EAAQlF,IAC7B2F,EAAevf,KAAK2H,KAAM6X,EAAWV,EAAQxS,EAAQ6R,IApGhEve,EAAOD,QAAUse,EAEjBA,EAAQoB,YAAcA,EACtBpB,EAAQyB,SAAWP,EACnBlB,EAAQ0B,IAAMF,EACdxB,EAAQ2B,IA0NR,SAAoBtT,GAClB,IAAIuT,EAAWR,EAAY1X,KAAKyX,OAAO9S,IACnCwT,EAAU,CAAC,GAAID,GACfE,EAAY,CAAC,GAAIZ,EAAYU,GAAU,IACvCG,EAAY,GACZnE,EAAOlU,KAgCX,OA9BAqW,EAAS1R,EAAQ,CAAC2T,SAAS,IAAO,SAASC,EAAKC,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,GAC/G,GAAgB,KAAZL,EAAJ,CACA,IAAIvG,EAAKiC,EAAKuD,OAAOc,GACjBpB,EAASgB,EAAQO,GACjBX,EAAWK,EAAUM,GAAiB,IAAMC,EAIhD,QAHiB9P,IAAbgQ,IACFd,GAAY,KAA0B,iBAAZc,EAAuBA,EAAW1C,EAAKzP,eAAemS,KAEjE,iBAAN5G,EAAgB,CACzBA,EAAKkF,EAASO,EAAYP,EAASjB,EAAII,QAAQa,EAAQlF,GAAMA,GAE7D,IAAIyE,EAASxC,EAAKyC,MAAM1E,GAExB,GADqB,iBAAVyE,IAAoBA,EAASxC,EAAKyC,MAAMD,IAC/CA,GAAUA,EAAO/R,QACnB,IAAKzB,EAAMqV,EAAK7B,EAAO/R,QACrB,MAAM,IAAIuB,MAAM,OAAS+L,EAAK,2CAC3B,GAAIA,GAAMyF,EAAYK,GAC3B,GAAa,KAAT9F,EAAG,GAAW,CAChB,GAAIoG,EAAUpG,KAAQ/O,EAAMqV,EAAKF,EAAUpG,IACzC,MAAM,IAAI/L,MAAM,OAAS+L,EAAK,sCAChCoG,EAAUpG,GAAMsG,OAEhBrE,EAAKyC,MAAM1E,GAAM8F,EAIvBI,EAAQK,GAAWrB,EACnBiB,EAAUI,GAAWT,MAGhBM,GA9PT/B,EAAQO,UAAYA,EACpBP,EAAQ3R,OAAS0S,EAkGjB,IAAIyB,EAAuB3C,EAAK3T,OAAO,CAAC,aAAc,oBAAqB,OAAQ,eAAgB,gBAEnG,SAASoV,EAAeC,EAAWV,EAAQxS,EAAQ6R,GAGjD,GADAqB,EAAUkB,SAAWlB,EAAUkB,UAAY,GACN,KAAjClB,EAAUkB,SAAStM,MAAM,EAAE,GAA/B,CAGA,IAFA,IAAIuM,EAAQnB,EAAUkB,SAAS1S,MAAM,KAE5BnO,EAAI,EAAGA,EAAI8gB,EAAM1c,OAAQpE,IAAK,CACrC,IAAIuZ,EAAOuH,EAAM9gB,GACjB,GAAIuZ,EAAM,CAGR,QAAe5I,KADflE,EAASA,EADT8M,EAAO0E,EAAK3P,iBAAiBiL,KAEH,MAC1B,IAAIQ,EACJ,IAAK6G,EAAqBrH,MACxBQ,EAAKjS,KAAKyX,OAAO9S,MACTwS,EAASW,EAAWX,EAAQlF,IAChCtN,EAAOsU,MAAM,CACf,IAAIA,EAAOnB,EAAWX,EAAQxS,EAAOsU,MACjC7B,EAAMC,EAAchf,KAAK2H,KAAMwW,EAAMyC,GACrC7B,IACFzS,EAASyS,EAAIzS,OACb6R,EAAOY,EAAIZ,KACXW,EAASC,EAAID,UAMvB,YAAetO,IAAXlE,GAAwBA,IAAW6R,EAAK7R,OACnC,CAAEA,OAAQA,EAAQ6R,KAAMA,EAAMW,OAAQA,QAD/C,GAKF,IAAI+B,EAAiB/C,EAAK3T,OAAO,CAC/B,OAAQ,SAAU,UAClB,YAAa,YACb,gBAAiB,gBACjB,WAAY,WACZ,UAAW,UACX,cAAe,aACf,WAAY,SAEd,SAASqU,EAAUlS,EAAQwU,GACzB,OAAc,IAAVA,SACUtQ,IAAVsQ,IAAiC,IAAVA,EAK7B,SAASC,EAAWzU,GAClB,IAAIuD,EACJ,GAAI9I,MAAMC,QAAQsF,IAChB,IAAK,IAAIzM,EAAE,EAAGA,EAAEyM,EAAOrI,OAAQpE,IAE7B,GAAmB,iBADnBgQ,EAAOvD,EAAOzM,MACkBkhB,EAAWlR,GAAO,OAAO,OAG3D,IAAK,IAAIzO,KAAOkL,EAAQ,CACtB,GAAW,QAAPlL,EAAe,OAAO,EAE1B,GAAmB,iBADnByO,EAAOvD,EAAOlL,MACkB2f,EAAWlR,GAAO,OAAO,EAG7D,OAAO,EAnB2CkR,CAAWzU,GACpDwU,EAsBX,SAASE,EAAU1U,GACjB,IAAeuD,EAAXoR,EAAQ,EACZ,GAAIla,MAAMC,QAAQsF,IAChB,IAAK,IAAIzM,EAAE,EAAGA,EAAEyM,EAAOrI,OAAQpE,IAG7B,GADmB,iBADnBgQ,EAAOvD,EAAOzM,MACeohB,GAASD,EAAUnR,IAC5CoR,GAASC,IAAU,OAAOA,SAGhC,IAAK,IAAI9f,KAAOkL,EAAQ,CACtB,GAAW,QAAPlL,EAAe,OAAO8f,IAC1B,GAAIL,EAAezf,GACjB6f,SAIA,GADmB,iBADnBpR,EAAOvD,EAAOlL,MACe6f,GAASD,EAAUnR,GAAQ,GACpDoR,GAASC,IAAU,OAAOA,IAIpC,OAAOD,EA1CgBD,CAAU1U,IAAWwU,OAAvC,GA8CP,SAAS3B,EAAYvF,EAAIuH,GAGvB,OAFkB,IAAdA,IAAqBvH,EAAKyF,EAAYzF,IAEnCsF,EADCrB,EAAI1V,MAAMyR,IAKpB,SAASsF,EAAavd,GACpB,OAAOkc,EAAIuD,UAAUzf,GAAGqM,MAAM,KAAK,GAAK,IAI1C,IAAIqT,EAAsB,QAC1B,SAAShC,EAAYzF,GACnB,OAAOA,EAAKA,EAAGrO,QAAQ8V,EAAqB,IAAM,GAIpD,SAAS5B,EAAWX,EAAQlF,GAE1B,OADAA,EAAKyF,EAAYzF,GACViE,EAAII,QAAQa,EAAQlF,K,6BC5N7Bha,EAAOD,QAAU,SAASkL,EAAM8D,EAAGC,GACjC,GAAID,IAAMC,EAAG,OAAO,EAEpB,GAAID,GAAKC,GAAiB,iBAALD,GAA6B,iBAALC,EAAe,CAC1D,GAAID,EAAEmM,cAAgBlM,EAAEkM,YAAa,OAAO,EAE5C,IAAI7W,EAAQpE,EAAG8G,EACf,GAAII,MAAMC,QAAQ2H,GAAI,CAEpB,IADA1K,EAAS0K,EAAE1K,SACG2K,EAAE3K,OAAQ,OAAO,EAC/B,IAAKpE,EAAIoE,EAAgB,GAARpE,KACf,IAAKgL,EAAM8D,EAAE9O,GAAI+O,EAAE/O,IAAK,OAAO,EACjC,OAAO,EAKT,GAAI8O,EAAEmM,cAAgB1P,OAAQ,OAAOuD,EAAEzL,SAAW0L,EAAE1L,QAAUyL,EAAE2N,QAAU1N,EAAE0N,MAC5E,GAAI3N,EAAE2S,UAAY/gB,OAAOkB,UAAU6f,QAAS,OAAO3S,EAAE2S,YAAc1S,EAAE0S,UACrE,GAAI3S,EAAEyL,WAAa7Z,OAAOkB,UAAU2Y,SAAU,OAAOzL,EAAEyL,aAAexL,EAAEwL,WAIxE,IADAnW,GADA0C,EAAOpG,OAAOoG,KAAKgI,IACL1K,UACC1D,OAAOoG,KAAKiI,GAAG3K,OAAQ,OAAO,EAE7C,IAAKpE,EAAIoE,EAAgB,GAARpE,KACf,IAAKU,OAAOkB,UAAUC,eAAe1B,KAAK4O,EAAGjI,EAAK9G,IAAK,OAAO,EAEhE,IAAKA,EAAIoE,EAAgB,GAARpE,KAAY,CAC3B,IAAIuB,EAAMuF,EAAK9G,GAEf,IAAKgL,EAAM8D,EAAEvN,GAAMwN,EAAExN,IAAO,OAAO,EAGrC,OAAO,EAIT,OAAOuN,GAAIA,GAAKC,GAAIA,I,6BC1CtB,IAAIqP,EAAU,EAAQ,IAoBtB,SAASsD,EAAgBzC,EAAQV,EAAKoD,GACpC7Z,KAAK6Z,QAAUA,GAAWD,EAAgBC,QAAQ1C,EAAQV,GAC1DzW,KAAK8Z,WAAaxD,EAAQ0B,IAAIb,EAAQV,GACtCzW,KAAK+Z,cAAgBzD,EAAQoB,YAAYpB,EAAQyB,SAAS/X,KAAK8Z,aAIjE,SAASE,EAAcC,GAGrB,OAFAA,EAASngB,UAAYlB,OAAOY,OAAO0M,MAAMpM,WACzCmgB,EAASngB,UAAUqZ,YAAc8G,EAC1BA,EA5BThiB,EAAOD,QAAU,CACfkiB,WAAYF,GAKd,SAAyBG,GACvBna,KAAK6Z,QAAU,oBACf7Z,KAAKma,OAASA,EACdna,KAAKoa,IAAMpa,KAAKqa,YAAa,KAP7BC,WAAYN,EAAcJ,IAW5BA,EAAgBC,QAAU,SAAU1C,EAAQV,GAC1C,MAAO,2BAA8BA,EAAM,YAAcU,I,cClB3Dlf,EAAOD,QAAU,SAA2BS,EAAMohB,GAG9C,IAAIvF,EAAQ1b,OAAOY,OAAO+gB,YAAYzgB,WAClC0gB,EAAa,IAAItU,MAWrB,OATAoO,EAAM7b,KAAOA,EACb6b,EAAMuF,QAAUA,EAEhBjhB,OAAOC,eAAeyb,EAAO,QAAS,CAClCvb,IAAK,WACD,OAAQyhB,EAAWC,OAAS,IAAI7W,QAAQ,eAAgBnL,EAAO,KAAOohB,EAAU,SAIjFvF,I,cCfX,SAASoG,EAAKvhB,GACV,OAAOA,EA0DX,SAAS+H,EAASC,EAAMwZ,EAAUC,EAAaC,GAC3C,IAAIzS,EAxDoB0S,EA0DxB,OAAQ3Z,EAAKrF,MACT,IAAK,QACDsM,EAlBZ,SAA0BjH,EAAMwZ,EAAUC,EAAaC,GACnD,IAAIE,EAAiC,MAApB5Z,EAAK4Z,YAAsBF,EAAU1Z,EAAK4Z,WAAa,IAAM5Z,EAAK4Z,WAAa,IAC5F3S,EAASjH,EAAK6Z,MAAMpb,KAAI,SAASqb,GACjC,OAAO/Z,EAAS+Z,EAAMN,EAAUC,EAAaC,MAC9CrM,KAAKuM,GAMR,OAJI5Z,EAAK+Z,UAAYN,KACjBxS,GAAUyS,GAAyB,MAAdzS,EAAO,GAAa,IAAM,MAAQA,GAAUyS,EAAU,IAAM,OAG9EzS,EASK+S,CAAiBha,EAAMwZ,EAAUC,EAAaC,IAC7C1Z,EAAKia,cAAgB,IAAM,IAChC,MAEJ,IAAK,aAED,OACIla,EAASC,EAAK8Z,KAAMN,EAAUC,EAAaC,GAC3CF,EApEW,KADCG,EAqEgB3Z,GApEzB6J,KAAgC,IAAnB8P,EAAWjP,IAC5B,IAGY,IAAnBiP,EAAW9P,KAAgC,IAAnB8P,EAAWjP,IAC5B,IAGY,IAAnBiP,EAAW9P,KAAgC,IAAnB8P,EAAWjP,IAC5BiP,EAAWO,MAAQ,IAAM,IAGb,IAAnBP,EAAW9P,KAAgC,IAAnB8P,EAAWjP,IAC5B,IAINiP,EAAWO,MAAQ,IAAM,KACzBP,EAAW9P,MAAQ8P,EAAWjP,IACzB,IAAMiP,EAAW9P,IAAM,IACvB,IAAM8P,EAAW9P,IAAM,KAA0B,IAAnB8P,EAAWjP,IAAYiP,EAAWjP,IAAM,IAAM,KAgDvC1K,GAG3C,IAAK,OACDiH,EAAS,IAAMjH,EAAK1I,MAAQ0I,EAAKma,KAAOX,EA/CpD,SAA0BxZ,GACtB,OAAQA,EAAKrF,MACT,IAAK,QACD,MACI,MACc,OAAbqF,EAAK6J,IAAe,KAAO7J,EAAK6J,KACjC,KACc,OAAb7J,EAAK0K,IAAe,IAAM1K,EAAK0K,KAChC,IAGR,QACI,MAAM,IAAI3F,MAAM,sBAAwB/E,EAAKrF,KAAO,MAmCHyf,CAAiBpa,EAAKma,MAAOna,EAAKma,MAAQ,IAAM,IACjG,MAEJ,IAAK,WACDlT,EAAS,KAAQjH,EAAK1I,KAAO,KAC7B,MAEJ,IAAK,UACD2P,EAASjH,EAAK1I,KACd,MAEJ,IAAK,YACD2P,EAAS,IAAMjH,EAAK1I,KACpB,MAEJ,IAAK,WACD2P,EAASjH,EAAK1I,KAAO,IACrB,MAEJ,IAAK,SACL,IAAK,QACD2P,EAASjH,EAAKhI,MACd,MAEJ,IAAK,QACDiP,EAAS,IACT,MAEJ,QACI,MAAM,IAAIlC,MAAM,sBAAwB/E,EAAKrF,KAAO,KAG5D,OAAO6e,EAASvS,EAAQjH,GAG5BlJ,EAAOD,QAAU,SAASmJ,EAAMwN,GAC5B,IAAIgM,EAAWD,EACXE,GAAc,EACdC,GAAU,EAYd,MAVuB,mBAAZlM,EACPgM,EAAWhM,EACJA,IACPiM,EAAcY,QAAQ7M,EAAQiM,aAC9BC,EAAUW,QAAQ7M,EAAQkM,SACM,mBAArBlM,EAAQgM,WACfA,EAAWhM,EAAQgM,WAIpBzZ,EAASC,EAAMwZ,EAAUC,EAAaC,K,cC/HjD,IAAI9gB,EAAiBnB,OAAOkB,UAAUC,eAClC0hB,EAAW7iB,OAAOY,OAAO,MACzBua,EAAanb,OAAOY,OAAO,MAG/B,SAASkiB,EAAiBrY,EAAK3H,GAG3B,OAFAA,EAASA,GAAU,EAEZ2H,EAAI/G,OAASZ,GAAU,GALhB,KAMP2H,EAAIzH,WAAWF,IANR,KAOP2H,EAAIzH,WAAWF,EAAS,GAGnC,SAASigB,EAAgBtY,EAAK3H,GAI1B,GAHAA,EAASA,GAAU,EAGf2H,EAAI/G,OAASZ,GAAU,GAdb,KAgBN2H,EAAIzH,WAAWF,IAhBT,KAiBN2H,EAAIzH,WAAWF,EAAS,GAAoB,CAE5C,IAAIkgB,EAAkBvY,EAAIpF,QAAQ,IAAKvC,EAAS,GAEhD,IAAyB,IAArBkgB,EACA,OAAOvY,EAAIpC,UAAUvF,EAAQkgB,EAAkB,GAK3D,MAAO,GAoEX3jB,EAAOD,QAAU,CACb6jB,QAlEJ,SAA8BA,GAC1B,GAAI9hB,EAAe1B,KAAKojB,EAAUI,GAC9B,OAAOJ,EAASI,GAGpB,IAAIpjB,EAAOojB,EAAQ7N,cAEnB,GAAIjU,EAAe1B,KAAKojB,EAAUhjB,GAC9B,OAAOgjB,EAASI,GAAWJ,EAAShjB,GAGxC,IAAIqjB,EAASJ,EAAiBjjB,EAAM,GAChCsjB,EAAUD,EAAoC,GAA3BH,EAAgBljB,EAAM,GAE7C,OAAOgjB,EAASI,GAAWjjB,OAAOojB,OAAO,CACrCC,SAAUxjB,EAAKyjB,OAAOH,EAAOzf,QAC7B7D,KAAMA,EACNsjB,OAAQA,EACRI,OAAQJ,EACRD,OAAQA,KAgDZjiB,SA5CJ,SAA+BA,GAC3B,GAAIE,EAAe1B,KAAK0b,EAAYla,GAChC,OAAOka,EAAWla,GAGtB,IAAIpB,EAAOoB,EACPuiB,EAAOviB,EAAS,GAEP,MAATuiB,EACAA,EAAuB,MAAhBviB,EAAS,GAAa,KAAO,IACpB,MAATuiB,GACS,MAATA,GACS,MAATA,GACS,MAATA,GACS,MAATA,GACS,MAATA,IACPA,EAAO,IAGX,IAAIN,EAASJ,EAAiBjjB,EAAM2jB,EAAK9f,QAGzC,IAAKwf,IACDrjB,EAAOA,EAAKuV,cACRjU,EAAe1B,KAAK0b,EAAYtb,IAChC,OAAOsb,EAAWla,GAAYka,EAAWtb,GAIjD,IAAIsjB,EAAUD,EAA8C,GAArCH,EAAgBljB,EAAM2jB,EAAK9f,QAC9C6f,EAAS1jB,EAAKyjB,OAAO,EAAGE,EAAK9f,OAASyf,EAAOzf,QAEjD,OAAOyX,EAAWla,GAAYjB,OAAOojB,OAAO,CACxCC,SAAUxjB,EAAKyjB,OAAOC,EAAO7f,QAC7B7D,KAAMA,EAAKyjB,OAAOE,EAAK9f,QACvB8f,KAAMA,EACNL,OAAQA,EACRI,OAAQA,EACRL,OAAQA,KAOZJ,iBAAkBA,EAClBW,aAAcV,I,gBCtGlB,IAAIW,EAAY,EAAQ,IA0BpBC,EAUJ,SAAuB5T,GAEnB,IADA,IAAIlG,EAA+B,mBAAhB+Z,YAA6B,IAAIA,YAAY,KAAO,IAAIpd,MAAM,KACxElH,EAAI,EAAGA,EAAI,IAAKA,IACrBuK,EAAMvK,GAAKyQ,EAAG3L,OAAOyf,aAAavkB,IAAM,EAAI,EAEhD,OAAOuK,EAfKia,EAAc,SAASC,GACnC,MAAO,gBAAgB1W,KAAK0W,MAE5BC,EAAwB,CACxB,IAAK,EACL,KAAM,EACN,KAAM,EACN,IAAK,GAWT,SAASC,EAAWC,GAChB,OAAOA,EAAUC,eACbD,EAAUE,UAAUF,EAAU9Q,MAItC,SAASiR,EAASH,GAGd,IAFA,IAAI5R,EAAM4R,EAAU9Q,IAEbd,EAAM4R,EAAUzZ,IAAI/G,OAAQ4O,IAAO,CACtC,IAAI3O,EAAOugB,EAAUzZ,IAAIzH,WAAWsP,GACpC,GAAI3O,GAAQ,KAA2B,IAApBggB,EAAUhgB,GACzB,MAQR,OAJIugB,EAAU9Q,MAAQd,GAClB4R,EAAUxI,MAAM,oBAGbwI,EAAUC,eAAe7R,GAGpC,SAASgS,EAAWJ,GAGhB,IAFA,IAAI5R,EAAM4R,EAAU9Q,IAEbd,EAAM4R,EAAUzZ,IAAI/G,OAAQ4O,IAAO,CACtC,IAAI3O,EAAOugB,EAAUzZ,IAAIzH,WAAWsP,GACpC,GAAI3O,EAAO,IAAMA,EAAO,GACpB,MAQR,OAJIugB,EAAU9Q,MAAQd,GAClB4R,EAAUxI,MAAM,mBAGbwI,EAAUC,eAAe7R,GAGpC,SAASiS,EAAWL,GAChB,IAAI5R,EAAM4R,EAAUzZ,IAAIpF,QAAQ,IAAM6e,EAAU9Q,IAAM,GAOtD,OALa,IAATd,IACA4R,EAAU9Q,IAAM8Q,EAAUzZ,IAAI/G,OAC9BwgB,EAAUxI,MAAM,yBAGbwI,EAAUC,eAAe7R,EAAM,GAG1C,SAASkS,EAAoBN,GACzB,IAAI9R,EACAa,EAAM,KAiBV,OAfAiR,EAAUO,IA7ES,KA+EnBrS,EAAMkS,EAAWJ,GAvFT,KAyFJA,EAAUQ,YACVR,EAAU9Q,MAhFM,MAiFZ8Q,EAAUQ,aACVzR,EAAMqR,EAAWJ,KAGrBjR,EAAMb,EAGV8R,EAAUO,IAxFU,KA0Fb,CACHrS,IAAK/O,OAAO+O,GACZa,IAAKA,EAAM5P,OAAO4P,GAAO,GAwEjC,SAAS0R,EAAgBT,EAAW3b,GAChC,IAAI2Z,EArER,SAAwBgC,GACpB,IAAIU,EAAQ,KACRnC,GAAQ,EAEZ,OAAQyB,EAAUQ,YACd,KAjHO,GAkHHR,EAAU9Q,MAEVwR,EAAQ,CACJxS,IAAK,EACLa,IAAK,GAGT,MAEJ,KA1HO,GA2HHiR,EAAU9Q,MAEVwR,EAAQ,CACJxS,IAAK,EACLa,IAAK,GAGT,MAEJ,KA/HW,GAgIPiR,EAAU9Q,MAEVwR,EAAQ,CACJxS,IAAK,EACLa,IAAK,GAGT,MAEJ,KApJS,GAqJLiR,EAAU9Q,MAEVqP,GAAQ,EAGJmC,EA3IO,MA0IPV,EAAUQ,WACFF,EAAoBN,GAEpB,CACJ9R,IAAK,EACLa,IAAK,GAIb,MAEJ,KArJe,IAsJX2R,EAAQJ,EAAoBN,GAC5B,MAEJ,QACI,OAAO,KAGf,MAAO,CACHhhB,KAAM,aACNuf,MAAOA,EACPrQ,IAAKwS,EAAMxS,IACXa,IAAK2R,EAAM3R,IACXoP,KAAM,MAKOwC,CAAeX,GAEhC,OAAmB,OAAfhC,GACAA,EAAWG,KAAO9Z,EACX2Z,GAGJ3Z,EAGX,SAASuc,EAAWZ,GAChB,IAAIH,EAAKG,EAAUa,OAEnB,MAAW,KAAPhB,EACO,KAGJ,CACH7gB,KAAM,QACN3C,MAAOwjB,GA+Ef,SAASiB,EAASd,GACd,IAAIrkB,EACA6iB,EAAO,KAkBX,OAhBAwB,EAAUO,IAnRK,IAoRf5kB,EAAOwkB,EAASH,GA1RE,KA4RdA,EAAUQ,YA3RK,KA4RfR,EAAUe,iBACVf,EAAU9Q,KAAO,EACjBvT,GAAQ,MArRQ,KAwRhBqkB,EAAUlhB,WAAWkhB,EAAUE,UAAUF,EAAU9Q,QACnD6Q,EAAWC,GACXxB,EAlER,SAAuBwB,GAEnB,IAAI9R,EAAM,KACNa,EAAM,KACNZ,EAAO,EAoCX,OAlCA6R,EAAUO,IA9NU,IALP,KAqOTP,EAAUQ,aACVR,EAAUa,OACV1S,GAAQ,IAGC,GAATA,GAhOO,OAgOO6R,EAAUQ,WACxBR,EAAUa,OAEV3S,EAAMC,EAAOhP,OAAOihB,EAAWJ,IAGnCD,EAAWC,GACXA,EAAUO,IAlPF,IAmPRR,EAAWC,GAxOA,OA0OPA,EAAUQ,WACVR,EAAUa,QAEV1S,EAAO,EAvPE,KAyPL6R,EAAUQ,aACVR,EAAUa,OACV1S,GAAQ,GAGZY,EAAMZ,EAAOhP,OAAOihB,EAAWJ,KAGnCA,EAAUO,IA3PW,IA+PT,OAARrS,GAAwB,OAARa,EACT,KAGJ,CACH/P,KAAM,QACNkP,IAAKA,EACLa,IAAKA,GAmBEiS,CAAchB,IAGzBA,EAAUO,IAhSQ,IAkSXE,EAAgBT,EAAW,CAC9BhhB,KAAM,OACNrD,KAAMA,EACN6iB,KAAMA,IAwBd,SAASyC,EAAa/C,EAAOgD,GACzB,SAASC,EAAYjD,EAAOD,GACxB,MAAO,CACHjf,KAAM,QACNkf,MAAOA,EACPD,WAAYA,EACZK,eAAe,EACfF,UAAU,GAQlB,IAJA8C,EAAcplB,OAAOoG,KAAKgf,GAAaE,MAAK,SAASlX,EAAGC,GACpD,OAAO2V,EAAsB5V,GAAK4V,EAAsB3V,MAGrD+W,EAAY1hB,OAAS,GAAG,CAE3B,IADA,IAAIye,EAAaiD,EAAYjU,QACpB7R,EAAI,EAAGimB,EAAgB,EAAGjmB,EAAI8iB,EAAM1e,OAAQpE,IAAK,CACtD,IAAI+iB,EAAOD,EAAM9iB,GACC,eAAd+iB,EAAKnf,OACDmf,EAAK9hB,QAAU4hB,IACQ,IAAnBoD,IACAA,EAAgBjmB,EAAI,GAExB8iB,EAAMoD,OAAOlmB,EAAG,GAChBA,OAEuB,IAAnBimB,GAAwBjmB,EAAIimB,EAAgB,IAC5CnD,EAAMoD,OACFD,EACAjmB,EAAIimB,EACJF,EAAYjD,EAAMvO,MAAM0R,EAAejmB,GAAI6iB,IAE/C7iB,EAAIimB,EAAgB,GAExBA,GAAiB,KAKN,IAAnBA,GAAwBH,EAAY1hB,QACpC0e,EAAMoD,OACFD,EACAjmB,EAAIimB,EACJF,EAAYjD,EAAMvO,MAAM0R,EAAejmB,GAAI6iB,IAKvD,OAAOA,EAGX,SAASsD,EAAkBvB,GAOvB,IANA,IAEIwB,EAFAtD,EAAQ,GACRgD,EAAc,GAEdO,EAAY,KACZC,EAAe1B,EAAU9Q,IAEtBsS,EAAQX,EAAKb,IACG,WAAfwB,EAAMxiB,OACa,eAAfwiB,EAAMxiB,MAEY,OAAdyiB,GAAyC,eAAnBA,EAAUziB,OAChCghB,EAAU9Q,IAAMwS,EAChB1B,EAAUxI,MAAM,0BAGpB0J,EAAYM,EAAMnlB,QAAS,GACN,OAAdolB,GAAyC,eAAnBA,EAAUziB,OACvCkiB,EAAY,MAAO,EACnBhD,EAAM3S,KAAK,CACPvM,KAAM,aACN3C,MAAO,OAIf6hB,EAAM3S,KAAKiW,GACXC,EAAYD,EACZE,EAAe1B,EAAU9Q,KAUjC,OALkB,OAAduS,GAAyC,eAAnBA,EAAUziB,OAChCghB,EAAU9Q,KAAOwS,EACjB1B,EAAUxI,MAAM,0BAGb,CACHxY,KAAM,QACNkf,MAAOA,EACPD,WAAYgD,EAAa/C,EAAOgD,IAAgB,IAChD5C,eAAe,EACfF,UAAU,GAqBlB,SAASyC,EAAKb,GACV,IAAIvgB,EAAOugB,EAAUQ,WAErB,GAAI/gB,EAAO,KAA2B,IAApBggB,EAAUhgB,GACxB,OA3IR,SAA+BugB,GAC3B,IAAIrkB,EAIJ,OAFAA,EAAOwkB,EAASH,GAnTE,KAqTdA,EAAUQ,YACVR,EAAU9Q,MAEH,CACHlQ,KAAM,WACNrD,KAAMA,IAIP8kB,EAAgBT,EAAW,CAC9BhhB,KAAM,UACNrD,KAAMA,IA2HCgmB,CAAsB3B,GAGjC,OAAQvgB,GACJ,KApbiB,GAsbb,MAEJ,KAzbgB,GA0bZ,OAAOghB,EAAgBT,EA9BnC,SAAmBA,GACf,IAAI1U,EAaJ,OAXA0U,EAAUO,IA/ZU,IAgapBjV,EAASiW,EAAkBvB,GAC3BA,EAAUO,IAhaW,IAkarBjV,EAAO8S,UAAW,EAjbA,KAmbd4B,EAAUQ,aACVR,EAAU9Q,MACV5D,EAAOgT,eAAgB,GAGpBhT,EAgBmCsW,CAAU5B,IAEhD,KAhcW,GAicP,OAxcK,KAwcEA,EAAUe,eA7P7B,SAAsBf,GAClB,IAAIrkB,EAUJ,OARAqkB,EAAUO,IAvMK,IAwMfP,EAAUO,IA/MG,IAiNb5kB,EAAOwkB,EAASH,GAEhBA,EAAUO,IAnNG,IAoNbP,EAAUO,IA5MQ,IA8MXE,EAAgBT,EAAW,CAC9BhhB,KAAM,WACNrD,KAAMA,IAiPIkmB,CAAa7B,GACbc,EAASd,GAEnB,KA9bW,IA+bP,MAAO,CACHhhB,KAAM,aACN3C,MAAO2jB,EAAUC,eAjcd,MAkcCD,EAAUe,eACJf,EAAU9Q,IAAM,EAChB8Q,EAAU9Q,IAAM,IAIlC,KAvdQ,GA2dJ,OAHA8Q,EAAU9Q,MACV8Q,EAAUO,IAzdN,IA2dG,CACHvhB,KAAM,aACN3C,MAAO,MAGf,KA1dI,GA4dA,OADA2jB,EAAU9Q,MACH,CACHlQ,KAAM,SAGd,KAreS,GAseL,OAAOyhB,EAAgBT,EAAW,CAC9BhhB,KAAM,SACN3C,MAAOgkB,EAAWL,KAG1B,KA/eI,GAgfJ,KApfE,EAqfF,KApfA,GAqfA,KAnfA,GAofA,KArfA,GAsfI,MAAO,CACHhhB,KAAM,SACN3C,MAAO0jB,EAAWC,IAG1B,KA3eW,GA8eP,OAFAvgB,EAAOugB,EAAUe,gBAEN,KAA2B,IAApBtB,EAAUhgB,IACxBugB,EAAU9Q,MACH,CACHlQ,KAAM,YACNrD,KAAMwkB,EAASH,KAIhBY,EAAWZ,GAEtB,KA/fO,GAggBP,KA/fO,GAggBP,KA3fW,GA4fX,KAvgBS,GAwgBT,KAzgBc,GA2gBV,MAEJ,KA7fe,IAkgBX,IAFAvgB,EAAOugB,EAAUe,gBAEN,IAAMthB,EAAO,GACpB,OAAOmhB,EAAWZ,GAGtB,MAEJ,QACI,OAAOY,EAAWZ,IAI9B,SAAStc,EAAMjF,GACX,IAAIuhB,EAAY,IAAIR,EAAU/gB,GAC1B6M,EAASiW,EAAkBvB,GAW/B,OATIA,EAAU9Q,MAAQzQ,EAAOe,QACzBwgB,EAAUxI,MAAM,oBAIQ,IAAxBlM,EAAO4S,MAAM1e,QAAyC,UAAzB8L,EAAO4S,MAAM,GAAGlf,OAC7CsM,EAASA,EAAO4S,MAAM,IAGnB5S,EAKX5H,EAAM,mDAENvI,EAAOD,QAAUwI,G,cC7hBjBxI,EAAQ4mB,OATR,SAAgBC,EAAOC,EAAOC,GAC5B,GAAID,KAASD,EACX,OAAOA,EAAMC,GACR,GAAyB,IAArBE,UAAU1iB,OACnB,OAAOyiB,EAEP,MAAM,IAAI7Y,MAAM,IAAM4Y,EAAQ,8BAKlC,IAAIG,EAAY,iEACZC,EAAgB,gBAEpB,SAASC,EAASC,GAChB,IAAI5b,EAAQ4b,EAAK5b,MAAMyb,GACvB,OAAKzb,EAGE,CACL6b,OAAQ7b,EAAM,GACd8b,KAAM9b,EAAM,GACZ+b,KAAM/b,EAAM,GACZgc,KAAMhc,EAAM,GACZgC,KAAMhC,EAAM,IAPL,KAYX,SAASic,EAAYC,GACnB,IAAI1H,EAAM,GAiBV,OAhBI0H,EAAWL,SACbrH,GAAO0H,EAAWL,OAAS,KAE7BrH,GAAO,KACH0H,EAAWJ,OACbtH,GAAO0H,EAAWJ,KAAO,KAEvBI,EAAWH,OACbvH,GAAO0H,EAAWH,MAEhBG,EAAWF,OACbxH,GAAO,IAAM0H,EAAWF,MAEtBE,EAAWla,OACbwS,GAAO0H,EAAWla,MAEbwS,EAeT,SAASwB,EAAUmG,GACjB,IAAIna,EAAOma,EACP3H,EAAMmH,EAASQ,GACnB,GAAI3H,EAAK,CACP,IAAKA,EAAIxS,KACP,OAAOma,EAETna,EAAOwS,EAAIxS,KAKb,IAHA,IAGSiM,EAHLmO,EAAa5nB,EAAQ4nB,WAAWpa,GAEhCwT,EAAQxT,EAAKa,MAAM,OACRP,EAAK,EAAG5N,EAAI8gB,EAAM1c,OAAS,EAAGpE,GAAK,EAAGA,IAEtC,OADbuZ,EAAOuH,EAAM9gB,IAEX8gB,EAAMoF,OAAOlmB,EAAG,GACE,OAATuZ,EACT3L,IACSA,EAAK,IACD,KAAT2L,GAIFuH,EAAMoF,OAAOlmB,EAAI,EAAG4N,GACpBA,EAAK,IAELkT,EAAMoF,OAAOlmB,EAAG,GAChB4N,MAUN,MAJa,MAFbN,EAAOwT,EAAMxK,KAAK,QAGhBhJ,EAAOoa,EAAa,IAAM,KAGxB5H,GACFA,EAAIxS,KAAOA,EACJia,EAAYzH,IAEdxS,EAoBT,SAASgJ,EAAKqR,EAAOF,GACL,KAAVE,IACFA,EAAQ,KAEI,KAAVF,IACFA,EAAQ,KAEV,IAAIG,EAAWX,EAASQ,GACpBI,EAAWZ,EAASU,GAMxB,GALIE,IACFF,EAAQE,EAASva,MAAQ,KAIvBsa,IAAaA,EAAST,OAIxB,OAHIU,IACFD,EAAST,OAASU,EAASV,QAEtBI,EAAYK,GAGrB,GAAIA,GAAYH,EAAMnc,MAAM0b,GAC1B,OAAOS,EAIT,GAAII,IAAaA,EAASR,OAASQ,EAASva,KAE1C,OADAua,EAASR,KAAOI,EACTF,EAAYM,GAGrB,IAAIC,EAA6B,MAApBL,EAAMpR,OAAO,GACtBoR,EACAnG,EAAUqG,EAAMjc,QAAQ,OAAQ,IAAM,IAAM+b,GAEhD,OAAII,GACFA,EAASva,KAAOwa,EACTP,EAAYM,IAEdC,EAvIThoB,EAAQmnB,SAAWA,EAsBnBnnB,EAAQynB,YAAcA,EAwDtBznB,EAAQwhB,UAAYA,EA2DpBxhB,EAAQwW,KAAOA,EAEfxW,EAAQ4nB,WAAa,SAAUD,GAC7B,MAA2B,MAApBA,EAAMpR,OAAO,IAAc0Q,EAAUhZ,KAAK0Z,IAyCnD3nB,EAAQioB,SAhCR,SAAkBJ,EAAOF,GACT,KAAVE,IACFA,EAAQ,KAGVA,EAAQA,EAAMjc,QAAQ,MAAO,IAO7B,IADA,IAAIsc,EAAQ,EAC0B,IAA/BP,EAAM1hB,QAAQ4hB,EAAQ,MAAY,CACvC,IAAIpgB,EAAQogB,EAAMM,YAAY,KAC9B,GAAI1gB,EAAQ,EACV,OAAOkgB,EAOT,IADAE,EAAQA,EAAMpT,MAAM,EAAGhN,IACb+D,MAAM,qBACd,OAAOmc,IAGPO,EAIJ,OAAO9gB,MAAM8gB,EAAQ,GAAG1R,KAAK,OAASmR,EAAMzD,OAAO2D,EAAMvjB,OAAS,IAIpE,IAAI8jB,IAEO,cADCxnB,OAAOY,OAAO,OAI1B,SAAS6mB,EAAUpmB,GACjB,OAAOA,EA8BT,SAASqmB,EAAcrmB,GACrB,IAAKA,EACH,OAAO,EAGT,IAAIqC,EAASrC,EAAEqC,OAEf,GAAIA,EAAS,EACX,OAAO,EAGT,GAAiC,KAA7BrC,EAAE2B,WAAWU,EAAS,IACO,KAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,MAA7BrC,EAAE2B,WAAWU,EAAS,IACO,KAA7BrC,EAAE2B,WAAWU,EAAS,IACO,KAA7BrC,EAAE2B,WAAWU,EAAS,GACxB,OAAO,EAGT,IAAK,IAAIpE,EAAIoE,EAAS,GAAIpE,GAAK,EAAGA,IAChC,GAAwB,KAApB+B,EAAE2B,WAAW1D,GACf,OAAO,EAIX,OAAO,EAgFT,SAASqoB,EAAOC,EAAOC,GACrB,OAAID,IAAUC,EACL,EAGK,OAAVD,EACK,EAGK,OAAVC,GACM,EAGND,EAAQC,EACH,GAGD,EAzIVzoB,EAAQ0oB,YAAcN,EAAoBC,EAP1C,SAAqBM,GACnB,OAAIL,EAAcK,GACT,IAAMA,EAGRA,GAWT3oB,EAAQ4oB,cAAgBR,EAAoBC,EAP5C,SAAuBM,GACrB,OAAIL,EAAcK,GACTA,EAAKlU,MAAM,GAGbkU,GAwET3oB,EAAQ6oB,2BA5BR,SAAoCC,EAAUC,EAAUC,GACtD,IAAIC,EAAMV,EAAOO,EAASvlB,OAAQwlB,EAASxlB,QAC3C,OAAY,IAAR0lB,GAKQ,KADZA,EAAMH,EAASI,aAAeH,EAASG,eAM3B,KADZD,EAAMH,EAASK,eAAiBJ,EAASI,iBACxBH,GAKL,KADZC,EAAMH,EAASM,gBAAkBL,EAASK,kBAM9B,KADZH,EAAMH,EAASO,cAAgBN,EAASM,eAlB/BJ,EAuBFV,EAAOO,EAASroB,KAAMsoB,EAAStoB,OAyCxCT,EAAQspB,oCA5BR,SAA6CR,EAAUC,EAAUQ,GAC/D,IAAIN,EAAMH,EAASO,cAAgBN,EAASM,cAC5C,OAAY,IAARJ,GAKQ,KADZA,EAAMH,EAASM,gBAAkBL,EAASK,kBACzBG,GAKL,KADZN,EAAMV,EAAOO,EAASvlB,OAAQwlB,EAASxlB,UAM3B,KADZ0lB,EAAMH,EAASI,aAAeH,EAASG,eAM3B,KADZD,EAAMH,EAASK,eAAiBJ,EAASI,gBAlBhCF,EAuBFV,EAAOO,EAASroB,KAAMsoB,EAAStoB,OAwDxCT,EAAQwpB,oCA5BR,SAA6CV,EAAUC,GACrD,IAAIE,EAAMH,EAASO,cAAgBN,EAASM,cAC5C,OAAY,IAARJ,GAKQ,KADZA,EAAMH,EAASM,gBAAkBL,EAASK,kBAM9B,KADZH,EAAMV,EAAOO,EAASvlB,OAAQwlB,EAASxlB,UAM3B,KADZ0lB,EAAMH,EAASI,aAAeH,EAASG,eAM3B,KADZD,EAAMH,EAASK,eAAiBJ,EAASI,gBAlBhCF,EAuBFV,EAAOO,EAASroB,KAAMsoB,EAAStoB,OAYxCT,EAAQypB,oBAHR,SAA6Bpe,GAC3B,OAAOqe,KAAKlhB,MAAM6C,EAAIO,QAAQ,iBAAkB,MAuDlD5L,EAAQ2pB,iBA/CR,SAA0BC,EAAYC,EAAWC,GA8B/C,GA7BAD,EAAYA,GAAa,GAErBD,IAEwC,MAAtCA,EAAWA,EAAWtlB,OAAS,IAA+B,MAAjBulB,EAAU,KACzDD,GAAc,KAOhBC,EAAYD,EAAaC,GAiBvBC,EAAc,CAChB,IAAIC,EAAS5C,EAAS2C,GACtB,IAAKC,EACH,MAAM,IAAI7b,MAAM,oCAElB,GAAI6b,EAAOvc,KAAM,CAEf,IAAI/F,EAAQsiB,EAAOvc,KAAK2a,YAAY,KAChC1gB,GAAS,IACXsiB,EAAOvc,KAAOuc,EAAOvc,KAAKvE,UAAU,EAAGxB,EAAQ,IAGnDoiB,EAAYrT,EAAKiR,EAAYsC,GAASF,GAGxC,OAAOrI,EAAUqI,K,gBCrenB5pB,EAAOD,QAAU,CACbgqB,QAAS,EAAQ,KACjBC,OAAQ,EAAQ,KAChBC,cAAe,EAAQ,KACvBC,kBAAmB,EAAQ,KAC3BC,MAAO,EAAQ,KACfC,SAAU,EAAQ,KAClBtkB,IAAK,EAAQ,KACbK,IAAK,EAAQ,KACbkkB,cAAe,EAAQ,KACvBC,WAAY,EAAQ,KACpBvkB,QAAS,EAAQ,KACjBwkB,YAAa,EAAQ,KACrBC,gBAAiB,EAAQ,KACzB1mB,UAAW,EAAQ,KACnBK,SAAU,EAAQ,KAClB8Q,SAAU,EAAQ,KAClBC,WAAY,EAAQ,KACpBuV,WAAY,EAAQ,KACpBC,aAAc,EAAQ,KACtBC,WAAY,EAAQ,KACpBC,eAAgB,EAAQ,KACxBC,IAAK,EAAQ,KACb7mB,OAAQ,EAAQ,KAChB8mB,SAAU,EAAQ,KAClBC,YAAa,EAAQ,KACrBhnB,WAAY,EAAQ,KACpBinB,oBAAqB,EAAQ,KAC7BC,sBAAuB,EAAQ,KAC/BC,MAAO,EAAQ,KACf/V,IAAK,EAAQ,GACbgW,KAAM,EAAQ,KACdC,SAAU,EAAQ,KAClBC,aAAc,EAAQ,KACtBtmB,OAAQ,EAAQ,KAChBumB,WAAY,EAAQ,KACpBC,aAAc,EAAQ,KACtBnW,aAAc,EAAQ,KACtBhR,IAAK,EAAQ,KACbonB,MAAO,EAAQ,KACfhnB,WAAY,EAAQ,O,gBCxCxB,IAAIinB,EAAQ,EAAQ,GAAYA,MAC5BpW,EAAa,EAAQ,IAAYE,KAGjCmW,EAAc,CACd,UAAa,SACb,aAAgB,SAChB,KAAQ,MACR,WAAc,SACd,MAAS,SACT,MAAS,SACT,OAAU,SACV,MAAS,MACT,eAAkB,SAClB,KAAQ,MACR,WAAc,SACd,MAAS,SACT,UAAa,SACb,UAAa,SACb,WAAc,SACd,UAAa,SACb,MAAS,SACT,eAAkB,SAClB,SAAY,SACZ,QAAW,SACX,KAAQ,MACR,SAAY,SACZ,SAAY,SACZ,cAAiB,SACjB,SAAY,SACZ,SAAY,SACZ,UAAa,SACb,UAAa,SACb,YAAe,SACf,eAAkB,SAClB,WAAc,SACd,WAAc,SACd,QAAW,SACX,WAAc,SACd,aAAgB,SAChB,cAAiB,SACjB,cAAiB,SACjB,cAAiB,SACjB,cAAiB,SACjB,WAAc,SACd,SAAY,SACZ,YAAe,SACf,QAAW,SACX,QAAW,SACX,WAAc,SACd,UAAa,SACb,YAAe,SACf,YAAe,SACf,QAAW,MACX,UAAa,SACb,WAAc,SACd,KAAQ,SACR,UAAa,SACb,KAAQ,SACR,KAAQ,SACR,MAAS,SACT,YAAe,SACf,SAAY,SACZ,QAAW,SACX,UAAa,SACb,OAAU,SACV,MAAS,SACT,MAAS,SACT,SAAY,SACZ,cAAiB,SACjB,UAAa,SACb,aAAgB,SAChB,UAAa,SACb,WAAc,SACd,UAAa,SACb,qBAAwB,SACxB,UAAa,SACb,UAAa,SACb,WAAc,SACd,UAAa,SACb,YAAe,SACf,cAAiB,SACjB,aAAgB,SAChB,eAAkB,MAClB,eAAkB,MAClB,eAAkB,SAClB,YAAe,SACf,KAAQ,MACR,UAAa,SACb,MAAS,SACT,QAAW,MACX,OAAU,SACV,iBAAoB,SACpB,WAAc,SACd,aAAgB,SAChB,aAAgB,SAChB,eAAkB,SAClB,gBAAmB,SACnB,kBAAqB,SACrB,gBAAmB,SACnB,gBAAmB,SACnB,aAAgB,SAChB,UAAa,SACb,UAAa,SACb,SAAY,SACZ,YAAe,SACf,KAAQ,SACR,QAAW,SACX,MAAS,SACT,UAAa,SACb,OAAU,SACV,UAAa,SACb,OAAU,SACV,cAAiB,SACjB,UAAa,SACb,cAAiB,SACjB,cAAiB,SACjB,WAAc,SACd,UAAa,SACb,KAAQ,SACR,KAAQ,SACR,KAAQ,SACR,WAAc,SACd,OAAU,SACV,cAAiB,MACjB,IAAO,MACP,UAAa,SACb,UAAa,SACb,YAAe,SACf,OAAU,SACV,WAAc,SACd,SAAY,SACZ,SAAY,SACZ,OAAU,SACV,OAAU,SACV,QAAW,SACX,UAAa,SACb,UAAa,SACb,UAAa,SACb,KAAQ,SACR,YAAe,SACf,UAAa,SACb,IAAO,SACP,KAAQ,SACR,QAAW,SACX,OAAU,SACV,UAAa,SACb,OAAU,SACV,MAAS,SACT,MAAS,MACT,WAAc,SACd,OAAU,MACV,YAAe,UAGfC,EAAc,CACd,IAAU,SACV,OAAU,SACV,MAAU,QACV,OAAU,OACV,SAAU,OACV,OAAU,QACV,OAAU,QACV,OAAU,SACV,SAAU,QACV,SAAU,OACV,OAAU,QACV,OAAU,QACV,OAAU,OACV,SAAU,QACV,SAAU,SACV,OAAU,QACV,OAAU,QACV,SAAU,OACV,OAAU,QACV,SAAU,OACV,OAAU,SACV,OAAU,SACV,OAAU,OACV,OAAU,OACV,OAAU,OACV,IAAO,MACP,OAAU,MACV,OAAU,SACV,OAAU,SACV,OAAU,SACV,OAAU,OACV,OAAU,MACV,SAAU,OACV,OAAU,SACV,OAAU,SACV,OAAU,QACV,OAAU,QACV,OAAU,UAGd,SAASC,EAAS7pB,EAAG8pB,EAAG1qB,GAOpB,OANIA,EAAI,IACJA,GAAK,GAELA,EAAI,IACJA,GAAK,GAELA,EAAI,EAAI,EACDY,EAAc,GAAT8pB,EAAI9pB,GAASZ,EAEzBA,EAAI,GACG0qB,EAEP1qB,EAAI,EAAI,EACDY,GAAK8pB,EAAI9pB,IAAM,EAAI,EAAIZ,GAAK,EAEhCY,EAGX,SAAS+pB,EAASC,EAAG/pB,EAAG9B,EAAG6O,GACvB,IAAIhO,EACAirB,EACAhd,EAEJ,GAAU,IAANhN,EACAjB,EAAIirB,EAAIhd,EAAI9O,MACT,CACH,IAAI2rB,EAAI3rB,EAAI,GAAMA,GAAK,EAAI8B,GAAK9B,EAAI8B,EAAI9B,EAAI8B,EACxCD,EAAI,EAAI7B,EAAI2rB,EAEhB9qB,EAAI6qB,EAAS7pB,EAAG8pB,EAAGE,EAAI,EAAI,GAC3BC,EAAIJ,EAAS7pB,EAAG8pB,EAAGE,GACnB/c,EAAI4c,EAAS7pB,EAAG8pB,EAAGE,EAAI,EAAI,GAG/B,MAAO,CACHjZ,KAAKmZ,MAAU,IAAJlrB,GACX+R,KAAKmZ,MAAU,IAAJD,GACXlZ,KAAKmZ,MAAU,IAAJjd,GACXD,GAIR,SAASmd,EAAMhrB,GAEX,OAAwB,KADxBA,EAAQA,EAAMsZ,SAAS,KACVnW,OAAe,IAAMnD,EAAQA,EAG9C,SAASirB,EAAkBC,EAAc/K,EAAOgL,GAK5C,IAJA,IAAIld,EAASid,EAAa7c,KACtB+c,EAAO,GACPC,GAAW,EAEG,OAAXpd,GAAiB,CACpB,IAAIjG,EAAOiG,EAAOvF,KACd/F,EAAOqF,EAAKrF,KAEhB,OAAQA,GACJ,IAAK,SACL,IAAK,aACD,GAAI0oB,EACA,OAGJA,GAAW,EACXD,EAAKlc,KAAK,CACNvM,KAAMA,EACN3C,MAAO8C,OAAOkF,EAAKhI,SAEvB,MAEJ,IAAK,WACD,GAAmB,MAAfgI,EAAKhI,MAAe,CACpB,IAAKqrB,EACD,OAEJA,GAAW,OACR,GAAIA,GAA2B,MAAfrjB,EAAKhI,MACxB,OAEJ,MAEJ,QAEI,OAGRiO,EAASA,EAAOrI,KAGpB,GAAIwlB,EAAKjoB,SAAWgd,EAApB,CAMA,GAAoB,IAAhBiL,EAAKjoB,OAAc,CACnB,GAAqB,WAAjBioB,EAAK,GAAGzoB,KAGR,OAGJyoB,EAAK,GAAGzoB,KAAO,QAGnB,GAAIwoB,GACA,GAAIC,EAAK,GAAGzoB,OAASyoB,EAAK,GAAGzoB,MAAQyoB,EAAK,GAAGzoB,OAASyoB,EAAK,GAAGzoB,KAG1D,WAED,CACH,GAAqB,WAAjByoB,EAAK,GAAGzoB,MACS,eAAjByoB,EAAK,GAAGzoB,MACS,eAAjByoB,EAAK,GAAGzoB,KAGR,OAGJyoB,EAAK,GAAGzoB,KAAO,QAGnB,OAAOyoB,EAAK3kB,KAAI,SAAS6kB,GACrB,IAAItrB,EAAQ4R,KAAKc,IAAI,EAAG4Y,EAAItrB,OAE5B,OAAQsrB,EAAI3oB,MACR,IAAK,SAED3C,EAAQ4R,KAAKC,IAAI7R,EAAO,KACxB,MAEJ,IAAK,aAID,GAFAA,EAAQ4R,KAAKC,IAAI7R,EAAO,KAAO,KAE1BmrB,EACD,OAAOnrB,EAGXA,GAAQ,IACR,MAEJ,IAAK,QAED,OAAUA,EAAQ,IAAO,KAAO,IAAO,IAE3C,IAAK,QAED,OAAO4R,KAAKC,IAAI7R,EAAO,GAG/B,OAAO4R,KAAKmZ,MAAM/qB,OAsI1B,SAASurB,EAAYvjB,EAAM+G,GACvB,IAAIyc,EAAQxjB,EAAKhI,MAAM6U,cAGF,IAAjB2W,EAAMroB,QACNqoB,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,IACnBA,EAAM,KAAOA,EAAM,KACnBA,EAAQA,EAAM,GAAKA,EAAM,GAAKA,EAAM,IAGpCf,EAAYe,GACZzc,EAAKrG,KAAO,CACR/F,KAAM,aACNiF,IAAKI,EAAKJ,IACVtI,KAAMmrB,EAAYe,IAGtBxjB,EAAKhI,MAAQwrB,EAIrB1sB,EAAOD,QAAU,CACb4sB,iBAzJJ,SAA0BzjB,EAAM+G,EAAM1I,GAClC,IACI+kB,EADAM,EAAe1jB,EAAK1I,KAGxB,GAAqB,SAAjBosB,GAA4C,SAAjBA,EAAyB,CAGpD,KAFAN,EAAOH,EAAkBjjB,EAAK0L,SAAU,EAAoB,SAAjBgY,IAIvC,OAQJ,GALqB,SAAjBA,IACAN,EAAOR,EAASe,MAAM,KAAMP,GAC5BpjB,EAAK1I,KAAO,QAGA,IAAZ8rB,EAAK,GAAU,CAKf,IAAIQ,EAAoB/kB,KAAKglB,UAAYhlB,KAAKglB,SAASvsB,KACvD,GAAiB,IAAZ8rB,EAAK,IAAwB,IAAZA,EAAK,IAAwB,IAAZA,EAAK,KACvC,sCAAsCte,KAAK8e,GAQ5C,YANA7c,EAAKrG,KAAO,CACR/F,KAAM,aACNiF,IAAKI,EAAKJ,IACVtI,KAAM,gBAOlB,GAAgB,IAAZ8rB,EAAK,GAiBL,YAfApjB,EAAK0L,SAASnE,MAAK,SAASvH,EAAM+G,EAAM1I,GAClB,aAAd2B,EAAKrF,KAOToM,EAAKrG,KAAO,CACR/F,KAAM,SACNiF,IAAKI,EAAKJ,IACV5H,MAAOmU,EAAWiX,EAAKxa,QAAS,OATb,MAAf5I,EAAKhI,OACLqG,EAAKoK,OAAO1B,MAgB5B2c,EAAe,MAGnB,GAAqB,QAAjBA,EAAwB,CAGxB,KAFAN,EAAOA,GAAQH,EAAkBjjB,EAAK0L,SAAU,GAAG,IAI/C,OAIJ0X,EAAOR,EAASe,MAAM,KAAMP,GAC5BM,EAAe,MAGnB,GAAqB,QAAjBA,EAAwB,CAGxB,KAFAN,EAAOA,GAAQH,EAAkBjjB,EAAK0L,SAAU,GAAG,IAI/C,OAIJ,IAAI9N,EAAOmJ,EAAKnJ,KACZA,GAA2B,eAAnBA,EAAK8C,KAAK/F,MAClB0D,EAAK8J,OAAO9J,EAAK0H,WAAW,CACxBpL,KAAM,aACN3C,MAAO,MACP4F,GAGRmJ,EAAKrG,KAAO,CACR/F,KAAM,WACNiF,IAAKI,EAAKJ,IACV5H,MAAOgrB,EAAMI,EAAK,IAAMJ,EAAMI,EAAK,IAAMJ,EAAMI,EAAK,KAGxDG,EAAYxc,EAAKrG,KAAMqG,KA0D3B+c,cAtDJ,SAAuB9jB,EAAM+G,GACzB,GAAyB,OAArBlI,KAAK2P,YAAT,CAIA,IAAIgV,EAAQxjB,EAAK1I,KAAKuV,cAEtB,GAAI2V,EAAY5pB,eAAe4qB,IAC3BjB,EAAMwB,iBAAiBllB,KAAK2P,aAAawV,OAAOhkB,EAAM,SAAU,CAChE,IAAIikB,EAAMzB,EAAYgB,GAElBS,EAAI9oB,OAAS,GAAKqoB,EAAMroB,OAExB4L,EAAKrG,KAAO,CACR/F,KAAM,WACNiF,IAAKI,EAAKJ,IACV5H,MAAOisB,IAIG,SAAVT,IACAA,EAAQ,QAIZxjB,EAAK1I,KAAOksB,MA8BpBD,YAAaA,I,cC5fjB,IAAI3qB,EAAiBnB,OAAOkB,UAAUC,eAoGtC,SAASsrB,EAAoBC,EAAYC,GAGrC,IAFA,IAAIC,EAAUF,EAAW9d,KAEN,OAAZge,GAAkB,CAGrB,IAFA,IAAIC,EAAUF,EAAW/d,KAEN,OAAZie,GAAkB,CACrB,GAAID,EAAQ3jB,KAAK6jB,gBAAkBD,EAAQ5jB,KAAK6jB,cAC5C,OAAO,EAGXD,EAAUA,EAAQ1mB,KAGtBymB,EAAUA,EAAQzmB,KAGtB,OAAO,EA0BX9G,EAAOD,QAAU,CACb2tB,iBA9IJ,SAA0B3e,EAAGC,GAIzB,IAHA,IAAIue,EAAUxe,EAAEQ,KACZie,EAAUxe,EAAEO,KAEG,OAAZge,GAAgC,OAAZC,GAAoBD,EAAQ3jB,KAAKoQ,KAAOwT,EAAQ5jB,KAAKoQ,IAC5EuT,EAAUA,EAAQzmB,KAClB0mB,EAAUA,EAAQ1mB,KAGtB,OAAmB,OAAZymB,GAAgC,OAAZC,GAsI3BG,oBAnIJ,SAA6B5e,EAAGC,GAI5B,IAHA,IAAIue,EAAUxe,EAAEQ,KACZie,EAAUxe,EAAEO,KAEG,OAAZge,GAAgC,OAAZC,GAAoBD,EAAQ3jB,KAAKoQ,KAAOwT,EAAQ5jB,KAAKoQ,IAC5EuT,EAAUA,EAAQzmB,KAClB0mB,EAAUA,EAAQ1mB,KAGtB,OAAmB,OAAZymB,GAAgC,OAAZC,GA2H3BI,oBAxHJ,SAA6BC,EAAeC,GAWxC,IAVA,IAAI3d,EAAS,CACT4d,GAAI,GACJC,IAAK,GACLC,IAAK,GACLC,aAAc,IAGdC,EAAextB,OAAOY,OAAO,MAC7B6sB,EAAoBztB,OAAOY,OAAO,MAE7B4N,EAAS2e,EAAcve,KAAMJ,EAAQA,EAASA,EAAOrI,KAC1DsnB,EAAkBjf,EAAOvF,KAAKoQ,KAAM,EAGxC,IAAS7K,EAAS0e,EAActe,KAAMJ,EAAQA,EAASA,EAAOrI,KAAO,EAC7D8C,EAAOuF,EAAOvF,MAETykB,cACLF,EAAavkB,EAAKykB,aAAezkB,EAAK0kB,WAGtCF,EAAkBxkB,EAAKoQ,KACvBoU,EAAkBxkB,EAAKoQ,KAAM,EAC7B7J,EAAO4d,GAAG3d,KAAKxG,IAEfuG,EAAO6d,IAAI5d,KAAKxG,GAIxB,IAASuF,EAAS2e,EAAcve,KAAMJ,EAAQA,EAASA,EAAOrI,KAAO,CACjE,IAAI8C,EAEAwkB,GAFAxkB,EAAOuF,EAAOvF,MAESoQ,QAGlBlY,EAAe1B,KAAK+tB,EAAcvkB,EAAKykB,eACtCF,EAAavkB,EAAKykB,cAAgBzkB,EAAK0kB,YACzCne,EAAO8d,IAAI7d,KAAKxG,GAGpBuG,EAAO+d,aAAa9d,KAAKxG,IAIjC,OAAOuG,GA4EPoe,aAzEJ,SAAsBC,EAAMlrB,GAsBxB,OArBAA,EAAOmN,MAAK,SAASge,GAIjB,IAHA,IAAIC,EAASD,EAAWzU,GACpB7K,EAASqf,EAAKjf,KAEXJ,GAAQ,CACX,IAAIwf,EAAUxf,EAAOvF,KAAKoQ,GAE1B,GAAI2U,IAAYD,EACZ,OAGJ,GAAIC,EAAUD,EACV,MAGJvf,EAASA,EAAOrI,KAGpB0nB,EAAKnd,OAAOmd,EAAKvf,WAAWwf,GAAatf,MAGtCqf,GAoDPpB,oBAAqBA,EACrBwB,iBA5BJ,SAASA,EAAiB1lB,GACtB,OAAQA,EAAKrF,MACT,IAAK,OAED,OAAOupB,EAAoBlkB,EAAK2lB,QAAQja,SAAU7M,MAEtD,IAAK,SAED,GAAImB,EAAK4lB,MAEL,OAAO5lB,EAAK4lB,MAAMla,SAAS3D,KAAK2d,EAAkB7mB,MAEtD,MAEJ,IAAK,cACD,OAAO,EAIf,OAAO,K,6BC1IX,IAAImW,EAAO,EAAQ,GAEnBle,EAAOD,QAEP,SAAsBgvB,GACpB7Q,EAAKhU,KAAK6kB,EAAKhnB,Q,6BCLjB/H,EAAOD,QAAU,SAAU6J,EAAMyZ,GACxBA,IAAMA,EAAO,IACE,mBAATA,IAAqBA,EAAO,CAAE2F,IAAK3F,IAC9C,IAEiC2L,EAF7BC,EAAiC,kBAAhB5L,EAAK4L,QAAwB5L,EAAK4L,OAEnDjG,EAAM3F,EAAK2F,MAAkBgG,EAQ9B3L,EAAK2F,IAPG,SAAU9f,GACb,OAAO,SAAU6F,EAAGC,GAChB,IAAIkgB,EAAO,CAAE1tB,IAAKuN,EAAG7N,MAAOgI,EAAK6F,IAC7BogB,EAAO,CAAE3tB,IAAKwN,EAAG9N,MAAOgI,EAAK8F,IACjC,OAAOggB,EAAEE,EAAMC,MAKvBC,EAAO,GACX,OAAO,SAAUC,EAAWnmB,GAKxB,GAJIA,GAAQA,EAAKmH,QAAiC,mBAAhBnH,EAAKmH,SACnCnH,EAAOA,EAAKmH,eAGHO,IAAT1H,EAAJ,CACA,GAAmB,iBAARA,EAAkB,OAAOomB,SAASpmB,GAAQ,GAAKA,EAAO,OACjE,GAAoB,iBAATA,EAAmB,OAAOugB,KAAK4F,UAAUnmB,GAEpD,IAAIjJ,EAAG4L,EACP,GAAI1E,MAAMC,QAAQ8B,GAAO,CAErB,IADA2C,EAAM,IACD5L,EAAI,EAAGA,EAAIiJ,EAAK7E,OAAQpE,IACrBA,IAAG4L,GAAO,KACdA,GAAOwjB,EAAUnmB,EAAKjJ,KAAO,OAEjC,OAAO4L,EAAM,IAGjB,GAAa,OAAT3C,EAAe,MAAO,OAE1B,IAA4B,IAAxBkmB,EAAKppB,QAAQkD,GAAc,CAC3B,GAAI+lB,EAAQ,OAAOxF,KAAK4F,UAAU,aAClC,MAAM,IAAIE,UAAU,yCAGxB,IAAIC,EAAYJ,EAAKhf,KAAKlH,GAAQ,EAC9BnC,EAAOpG,OAAOoG,KAAKmC,GAAM+c,KAAK+C,GAAOA,EAAI9f,IAE7C,IADA2C,EAAM,GACD5L,EAAI,EAAGA,EAAI8G,EAAK1C,OAAQpE,IAAK,CAC9B,IAAIuB,EAAMuF,EAAK9G,GACXiB,EAAQmuB,EAAUnmB,EAAK1H,IAEtBN,IACD2K,IAAKA,GAAO,KAChBA,GAAO4d,KAAK4F,UAAU7tB,GAAO,IAAMN,GAGvC,OADAkuB,EAAKjJ,OAAOqJ,EAAW,GAChB,IAAM3jB,EAAM,KAtChB,CAuCJjC,K,6BCxDP5J,EAAOD,QAAU,SAA2B0vB,EAAIC,EAAUC,GACxD,IAAI9jB,EAAM,GACN+jB,GAA8B,IAArBH,EAAG/iB,OAAOkjB,OACrBC,EAAeJ,EAAGvR,KAAKtR,qBAAqB6iB,EAAG/iB,OAAQ+iB,EAAGK,MAAMC,IAAK,QACrEC,EAAMP,EAAGxT,KAAKuD,OAAOiQ,EAAG/iB,QAC1B,GAAI+iB,EAAGpM,KAAK4M,eAAgB,CAC1B,IAAIC,EAAcT,EAAGvR,KAAKpR,mBAAmB2iB,EAAG/iB,OAAQ+iB,EAAGK,MAAMtM,UACjE,GAAI0M,EAAa,CACf,IAAIC,EAAe,oBAAsBD,EACzC,GAA+B,QAA3BT,EAAGpM,KAAK4M,eACP,MAAM,IAAIhiB,MAAMkiB,GADiBV,EAAGW,OAAOC,KAAKF,IAezD,GAXIV,EAAGa,QACLzkB,GAAO,mBACH+jB,IACFH,EAAGvjB,OAAQ,EACXL,GAAO,UAETA,GAAO,sFACHmkB,IAAQP,EAAGpM,KAAKkN,YAAcd,EAAGpM,KAAKmN,eACxC3kB,GAAO,kBAA2BmkB,EAAM,SAGpB,kBAAbP,EAAG/iB,SAAyBmjB,IAAgBJ,EAAG/iB,OAAOsU,KAAO,CACtE,IACIyP,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAHF,gBAIXmkB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAJ3B,gBAKXgmB,EAAiBtB,EAAGuB,cAAgB,gBACpCC,GAAiBxB,EAAGpM,KAAK6N,UAEzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACvB,IAAkB,IAAdhB,EAAG/iB,OAAkB,CACnB+iB,EAAGa,MACLW,GAAgB,EAEhBplB,GAAO,QAAU,EAAW,cAE1BulB,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,6DAAiG4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kBAC9J,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,0CAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,mDAAsD4jB,EAAa,WAAI,YAAc,EAAU,KAExG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,oFAG/B4jB,EAAGa,MAEHzkB,GADE+jB,EACK,iBAEA,yCAGT/jB,GAAO,QAAU,EAAW,YAMhC,OAHI4jB,EAAGa,QACLzkB,GAAO,yBAEFA,EAET,GAAI4jB,EAAGa,MAAO,CACZ,IAAIoB,EAAOjC,EAAGa,MACZG,EAAOhB,EAAGxH,MAAQ,EAClByI,EAAWjB,EAAGkB,UAAY,EAC1BjjB,EAAQ,OAKV,GAJA+hB,EAAGkC,OAASlC,EAAGpR,QAAQyB,SAAS2P,EAAGxT,KAAKuD,OAAOiQ,EAAGlR,KAAK7R,SACvD+iB,EAAGvQ,OAASuQ,EAAGvQ,QAAUuQ,EAAGkC,cACrBlC,EAAGa,MACVb,EAAGmC,YAAc,MAAChhB,QACQA,IAAtB6e,EAAG/iB,OAAOtD,SAAyBqmB,EAAGpM,KAAKwO,aAAepC,EAAGpM,KAAKyO,eAAgB,CACpF,IAAIC,EAAc,wCAClB,GAA+B,QAA3BtC,EAAGpM,KAAKyO,eACP,MAAM,IAAI7jB,MAAM8jB,GADiBtC,EAAGW,OAAOC,KAAK0B,GAGvDlmB,GAAO,wBACPA,GAAO,wBACPA,GAAO,qDACF,CACD4kB,EAAOhB,EAAGxH,MAEZva,EAAQ,SADRgjB,EAAWjB,EAAGkB,YACgB,IAEhC,GADIX,IAAKP,EAAGvQ,OAASuQ,EAAGpR,QAAQ0B,IAAI0P,EAAGvQ,OAAQ8Q,IAC3CJ,IAAWH,EAAGvjB,MAAO,MAAM,IAAI+B,MAAM,+BACzCpC,GAAO,aAAe,EAAS,aAE7BslB,EAAS,QAAUV,EACrBQ,GAAiBxB,EAAGpM,KAAK6N,UAD3B,IAEEc,EAAkB,GAClBC,EAAkB,GAEhBC,EAAczC,EAAG/iB,OAAO7I,KAC1BsuB,EAAehrB,MAAMC,QAAQ8qB,GAa/B,GAZIA,GAAezC,EAAGpM,KAAK+O,WAAmC,IAAvB3C,EAAG/iB,OAAO0lB,WAC3CD,GACkC,GAAhCD,EAAYlsB,QAAQ,UAAeksB,EAAcA,EAAYrqB,OAAO,SAChD,QAAfqqB,IACTA,EAAc,CAACA,EAAa,QAC5BC,GAAe,IAGfA,GAAsC,GAAtBD,EAAY7tB,SAC9B6tB,EAAcA,EAAY,GAC1BC,GAAe,GAEb1C,EAAG/iB,OAAOsU,MAAQ6O,EAAc,CAClC,GAA0B,QAAtBJ,EAAGpM,KAAKgP,WACV,MAAM,IAAIpkB,MAAM,qDAAuDwhB,EAAGuB,cAAgB,8BAC1D,IAAvBvB,EAAGpM,KAAKgP,aACjBxC,GAAe,EACfJ,EAAGW,OAAOC,KAAK,6CAA+CZ,EAAGuB,cAAgB,MAMrF,GAHIvB,EAAG/iB,OAAO4lB,UAAY7C,EAAGpM,KAAKiP,WAChCzmB,GAAO,IAAO4jB,EAAGK,MAAMC,IAAIuC,SAAShuB,KAAKmrB,EAAI,aAE3CyC,EAAa,CACf,GAAIzC,EAAGpM,KAAKkP,YACV,IAAIC,EAAiB/C,EAAGvR,KAAKtT,cAAc6kB,EAAGpM,KAAKkP,YAAaL,GAElE,IAAIO,EAAchD,EAAGK,MAAMxlB,MAAM4nB,GACjC,GAAIM,GAAkBL,IAAgC,IAAhBM,GAAyBA,IAAgBC,EAAgBD,GAAe,CACxG5B,EAAcpB,EAAGqB,WAAa,QAChCC,EAAiBtB,EAAGuB,cAAgB,QAClCH,EAAcpB,EAAGqB,WAAa,QAChCC,EAAiBtB,EAAGuB,cAAgB,QAHtC,IAIE2B,EAAUR,EAAe,iBAAmB,gBAE9C,GADAtmB,GAAO,QAAW4jB,EAAGvR,KAAKyU,GAAST,EAAaxkB,GAAO,GAAS,OAC5D8kB,EAAgB,CAClB,IAAII,EAAY,WAAanC,EAC3BoC,EAAW,UAAYpC,EACzB5kB,GAAO,QAAU,EAAc,aAAe,EAAU,KAC7B,SAAvB4jB,EAAGpM,KAAKkP,cACV1mB,GAAO,QAAU,EAAc,iCAAqC,EAAU,MAAQ,EAAc,gBAEtGA,GAAO,QAAU,EAAa,iBAC9B,IAAIinB,EAAkB,GAClBC,EAAOP,EACX,GAAIO,EAGF,IAFA,IAAIC,EAAOC,GAAM,EACfC,EAAKH,EAAK1uB,OAAS,EACd4uB,EAAKC,GACVF,EAAQD,EAAKE,GAAM,GACfA,IACFpnB,GAAO,QAAU,EAAa,qBAC9BinB,GAAmB,KAEM,SAAvBrD,EAAGpM,KAAKkP,aAAmC,SAATS,IACpCnnB,GAAO,QAAU,EAAc,kBAAsB,EAAU,mBAAqB,EAAa,MAAQ,EAAU,MAAQ,EAAU,QAAU,EAAc,aAAe,EAAU,SAE3K,UAATmnB,EACFnnB,GAAO,QAAU,EAAc,mBAAuB,EAAc,kBAAsB,EAAa,WAAe,EAAU,cAAgB,EAAU,cAAgB,EAAa,UACrK,UAATmnB,GAA8B,WAATA,GAC9BnnB,GAAO,QAAU,EAAc,oBAAwB,EAAU,iBAAmB,EAAc,mBAAuB,EAAU,OAAS,EAAU,QAAU,EAAU,IAC7J,WAATmnB,IACFnnB,GAAO,SAAW,EAAU,SAE9BA,GAAO,MAAQ,EAAa,OAAS,EAAU,MAC7B,WAATmnB,EACTnnB,GAAO,QAAU,EAAU,mBAAuB,EAAU,aAAe,EAAU,cAAgB,EAAa,sBAAwB,EAAU,kBAAsB,EAAU,WAAa,EAAa,YAC5L,QAATmnB,EACTnnB,GAAO,QAAU,EAAU,cAAkB,EAAU,aAAe,EAAU,eAAiB,EAAa,YAC9E,SAAvB4jB,EAAGpM,KAAKkP,aAAmC,SAATS,IAC3CnnB,GAAO,QAAU,EAAc,mBAAuB,EAAc,mBAAuB,EAAc,oBAAwB,EAAU,aAAe,EAAa,OAAS,EAAU,OAIhMA,GAAO,IAAM,EAAoB,QAAU,EAAa,wBACpDulB,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,qDAAyF4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,uBAE7KllB,GADEsmB,EACK,GAAMD,EAAY3b,KAAK,KAEvB,GAAK,EAEd1K,GAAO,QACkB,IAArB4jB,EAAGpM,KAAKiO,WACVzlB,GAAO,0BAELA,GADEsmB,EACK,GAAMD,EAAY3b,KAAK,KAEvB,GAAK,EAEd1K,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAEL2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,cACP,IAAIsnB,EAAczC,EAAW,QAAWA,EAAW,GAAM,IAAM,aAE/D7kB,GAAO,IAAM,EAAU,MAAQ,EAAa,KACvC6kB,IACH7kB,GAAO,OAAS,EAAgB,mBAElCA,GAAO,IAAM,EAAgB,KALL6kB,EAAWjB,EAAGmC,YAAYlB,GAAY,sBAKH,OAAS,EAAa,WAC5E,EACDU,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,qDAAyF4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,uBAE7KllB,GADEsmB,EACK,GAAMD,EAAY3b,KAAK,KAEvB,GAAK,EAEd1K,GAAO,QACkB,IAArB4jB,EAAGpM,KAAKiO,WACVzlB,GAAO,0BAELA,GADEsmB,EACK,GAAMD,EAAY3b,KAAK,KAEvB,GAAK,EAEd1K,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAEL2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAGrCA,GAAO,OAGX,GAAI4jB,EAAG/iB,OAAOsU,OAAS6O,EACrBhkB,GAAO,IAAO4jB,EAAGK,MAAMC,IAAI/O,KAAK1c,KAAKmrB,EAAI,QAAW,IAChDwB,IACFplB,GAAO,qBAELA,GADE6lB,EACK,IAEA,QAAU,EAEnB7lB,GAAO,OACPomB,GAAmB,SAEhB,CACL,IAAImB,EAAO3D,EAAGK,MACd,GAAIsD,EAGF,IAFA,IAAiBC,GAAM,EACrBC,EAAKF,EAAK/uB,OAAS,EACdgvB,EAAKC,GAEV,GAAIZ,EADJD,EAAcW,EAAKC,GAAM,IACS,CAIhC,GAHIZ,EAAY5uB,OACdgI,GAAO,QAAW4jB,EAAGvR,KAAKxU,cAAc+oB,EAAY5uB,KAAM6J,GAAU,QAElE+hB,EAAGpM,KAAKwO,YACV,GAAwB,UAApBY,EAAY5uB,MAAoB4rB,EAAG/iB,OAAOoP,WAAY,CACpD8U,EAAUnB,EAAG/iB,OAAOoP,WAAxB,IAEIyX,EADY5yB,OAAOoG,KAAK6pB,GAE5B,GAAI2C,EAGF,IAFA,IAAIC,EAAcC,GAAM,EACtBC,EAAKH,EAAKlvB,OAAS,EACdovB,EAAKC,GAAI,CAGd,QAAqB9iB,KADjB+iB,EAAO/C,EADX4C,EAAeD,EAAKE,GAAM,KAEjBrqB,QAAuB,CAC9B,IAAIwqB,EAAYlmB,EAAQ+hB,EAAGvR,KAAKnT,YAAYyoB,GAC5C,GAAI/D,EAAGgC,eACL,GAAIhC,EAAGpM,KAAKyO,eAAgB,CACtBC,EAAc,2BAA6B6B,EAC/C,GAA+B,QAA3BnE,EAAGpM,KAAKyO,eACP,MAAM,IAAI7jB,MAAM8jB,GADiBtC,EAAGW,OAAOC,KAAK0B,SAIvDlmB,GAAO,QAAU,EAAc,kBACJ,SAAvB4jB,EAAGpM,KAAKwO,cACVhmB,GAAO,OAAS,EAAc,gBAAkB,EAAc,YAEhEA,GAAO,MAAQ,EAAc,MACF,UAAvB4jB,EAAGpM,KAAKwO,YACVhmB,GAAO,IAAO4jB,EAAGoE,WAAWF,EAAKvqB,SAAY,IAE7CyC,GAAO,IAAO4d,KAAK4F,UAAUsE,EAAKvqB,SAAY,IAEhDyC,GAAO,YAKV,GAAwB,SAApB4mB,EAAY5uB,MAAmBsD,MAAMC,QAAQqoB,EAAG/iB,OAAOonB,OAAQ,CACxE,IAAIC,EAAOtE,EAAG/iB,OAAOonB,MACrB,GAAIC,EACF,CAAUd,GAAM,EAEhB,IAFA,IAAIU,EACFK,EAAKD,EAAK1vB,OAAS,EACd4uB,EAAKe,GAEV,QAAqBpjB,KADrB+iB,EAAOI,EAAKd,GAAM,IACT7pB,QAAuB,CAC1BwqB,EAAYlmB,EAAQ,IAAMulB,EAAK,IACnC,GAAIxD,EAAGgC,eACL,GAAIhC,EAAGpM,KAAKyO,eAAgB,CACtBC,EAAc,2BAA6B6B,EAC/C,GAA+B,QAA3BnE,EAAGpM,KAAKyO,eACP,MAAM,IAAI7jB,MAAM8jB,GADiBtC,EAAGW,OAAOC,KAAK0B,SAIvDlmB,GAAO,QAAU,EAAc,kBACJ,SAAvB4jB,EAAGpM,KAAKwO,cACVhmB,GAAO,OAAS,EAAc,gBAAkB,EAAc,YAEhEA,GAAO,MAAQ,EAAc,MACF,UAAvB4jB,EAAGpM,KAAKwO,YACVhmB,GAAO,IAAO4jB,EAAGoE,WAAWF,EAAKvqB,SAAY,IAE7CyC,GAAO,IAAO4d,KAAK4F,UAAUsE,EAAKvqB,SAAY,IAEhDyC,GAAO,OAOnB,IAAIooB,EAAOxB,EAAY9lB,MACvB,GAAIsnB,EAGF,IAFA,IAAIC,EAAOC,GAAM,EACfC,EAAKH,EAAK5vB,OAAS,EACd8vB,EAAKC,GAEV,GAAIC,EADJH,EAAQD,EAAKE,GAAM,IACQ,CACzB,IAAIG,EAAQJ,EAAM5vB,KAAKmrB,EAAIyE,EAAMtQ,QAAS6O,EAAY5uB,MAClDywB,IACFzoB,GAAO,IAAM,EAAU,IACnBolB,IACFe,GAAmB,MAU7B,GAJIf,IACFplB,GAAO,IAAM,EAAoB,IACjCmmB,EAAkB,IAEhBS,EAAY5uB,OACdgI,GAAO,MACHqmB,GAAeA,IAAgBO,EAAY5uB,OAAS2uB,GAAgB,CACtE3mB,GAAO,WACP,IAEIulB,EAFAP,EAAcpB,EAAGqB,WAAa,QAChCC,EAAiBtB,EAAGuB,cAAgB,SAClCI,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,qDAAyF4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,uBAE7KllB,GADEsmB,EACK,GAAMD,EAAY3b,KAAK,KAEvB,GAAK,EAEd1K,GAAO,QACkB,IAArB4jB,EAAGpM,KAAKiO,WACVzlB,GAAO,0BAELA,GADEsmB,EACK,GAAMD,EAAY3b,KAAK,KAEvB,GAAK,EAEd1K,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAEL2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MAGPolB,IACFplB,GAAO,mBAELA,GADE6lB,EACK,IAEA,QAAU,EAEnB7lB,GAAO,OACPomB,GAAmB,MA0B7B,SAASS,EAAgBD,GAEvB,IADA,IAAI9lB,EAAQ8lB,EAAY9lB,MACf1M,EAAI,EAAGA,EAAI0M,EAAMtI,OAAQpE,IAChC,GAAIo0B,EAAe1nB,EAAM1M,IAAK,OAAO,EAGzC,SAASo0B,EAAeH,GACtB,YAAoCtjB,IAA7B6e,EAAG/iB,OAAOwnB,EAAMtQ,UAA2BsQ,EAAMK,YAG1D,SAAoCL,GAElC,IADA,IAAIM,EAAON,EAAMK,WACRt0B,EAAI,EAAGA,EAAIu0B,EAAKnwB,OAAQpE,IAC/B,QAA2B2Q,IAAvB6e,EAAG/iB,OAAO8nB,EAAKv0B,IAAmB,OAAO,EANuBw0B,CAA2BP,GAQnG,OAnCIjD,IACFplB,GAAO,IAAM,EAAoB,KAE/B6lB,GACE9B,GACF/jB,GAAO,6CACPA,GAAO,+CAEPA,GAAO,+BACPA,GAAO,gCAETA,GAAO,wBAEPA,GAAO,QAAU,EAAW,sBAAwB,EAAS,IAE/DA,EAAM4jB,EAAGvR,KAAKtS,YAAYC,GACtB6lB,IACF7lB,EAAM4jB,EAAGvR,KAAKjS,iBAAiBJ,EAAK+jB,IAkB/B/jB,I,6BC3eT7L,EAAOD,QAAU,SAAyB0vB,EAAIC,EAAUC,GACtD,IAUE+E,EAVE7oB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UAEzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BiE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB,IAAIgE,EAAqB,WAAZlF,EACXmF,EAAoBD,EAAS,mBAAqB,mBAClDE,EAAcrF,EAAG/iB,OAAOmoB,GACxBE,EAActF,EAAGpM,KAAK3V,OAASonB,GAAeA,EAAYpnB,MAC1DsnB,EAAMJ,EAAS,IAAM,IACrBK,EAASL,EAAS,IAAM,IACxBM,OAAgBtkB,EAClB,GAAImkB,EAAa,CACf,IAAII,EAAmB1F,EAAGvR,KAAKzQ,QAAQqnB,EAAYpnB,MAAOgjB,EAAUjB,EAAGmC,aACrEwD,EAAa,YAAc3E,EAC3B4E,EAAY,WAAa5E,EACzB6E,EAAgB,eAAiB7E,EAEjC8E,EAAS,QADTC,EAAU,KAAO/E,GACY,OAC/B5kB,GAAO,kBAAoB,EAAS,MAAQ,EAAqB,KAEjEA,GAAO,QAAU,EAAe,SAAW,EAAc,cADzDspB,EAAmB,aAAe1E,GAC2D,SAAW,EAAc,oBAAwB,EAAc,sBAA0B,EAAc,mBACpM,IACIW,EADA8D,EAAgBL,GAChBzD,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,iBAAoBqpB,GAAiB,mBAAqB,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kBACjK,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gBAAmB,EAAsB,wBAE9C4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,gBACH8oB,IACF9oB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,IAAM,EAAc,qBAAyB,EAAe,MAAQ,EAAiB,qBAAuB,EAAqB,IAAM,EAAQ,KAAO,EAAiB,OAAS,EAAU,IAAM,EAAW,KAAO,EAAqB,MAAQ,EAAU,IAAM,EAAW,IAAM,EAAiB,WAAa,EAAe,MAAQ,EAAqB,gBAAkB,EAAU,IAAM,EAAW,KAAO,EAAiB,MAAQ,EAAU,IAAM,EAAW,IAAM,EAAiB,SAAW,EAAU,QAAU,EAAU,aAAe,EAAS,MAAQ,EAAe,OAAU,EAAQ,QAAY,EAAQ,YAC9kB+E,IAAZggB,IACFsE,EAAgBL,EAChB9D,EAAiBtB,EAAGuB,cAAgB,IAAM6D,EAC1CH,EAAeS,EACfR,EAAUI,OAEP,CAEHQ,EAASP,EACX,IAFIM,EAAsC,iBAAfR,IAENH,EAAS,CAC5B,IAAIa,EAAU,IAAOD,EAAS,IAC9B1pB,GAAO,SACH8oB,IACF9oB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,MAAQ,EAAiB,qBAAuB,EAAgB,IAAM,EAAQ,KAAO,EAAiB,MAAQ,EAAU,IAAM,EAAW,KAAO,EAAgB,MAAQ,EAAU,IAAM,EAAW,IAAM,EAAiB,SAAW,EAAU,QAAU,EAAU,WACrQ,CACDypB,QAA6B1kB,IAAZggB,GACnBwE,GAAa,EACbF,EAAgBL,EAChB9D,EAAiBtB,EAAGuB,cAAgB,IAAM6D,EAC1CH,EAAeI,EACfG,GAAU,MAENK,IAAeZ,EAAe5hB,KAAK8hB,EAAS,MAAQ,OAAOE,EAAalE,IACxEkE,MAAiBQ,GAAgBZ,IACnCU,GAAa,EACbF,EAAgBL,EAChB9D,EAAiBtB,EAAGuB,cAAgB,IAAM6D,EAC1CI,GAAU,MAEVG,GAAa,EACbG,GAAU,MAGVC,EAAU,IAAOD,EAAS,IAC9B1pB,GAAO,SACH8oB,IACF9oB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,IAAM,EAAU,IAAM,EAAW,IAAM,EAAiB,OAAS,EAAU,QAAU,EAAU,QAG1GqpB,EAAgBA,GAAiBxF,GAC7B0B,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,iBAAoBqpB,GAAiB,UAAY,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,4BAA8B,EAAY,YAAc,EAAiB,gBAAkB,EAAe,OAClQ,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,0BAA6B,EAAW,IAE7CA,GADE8oB,EACK,OAAU,EAEL,EAAiB,KAG7BlF,EAAGpM,KAAKkO,UACV1lB,GAAO,eAELA,GADE8oB,EACK,kBAAoB,EAEpB,GAAK,EAEd9oB,GAAO,2CAA8C4jB,EAAa,WAAI,YAAc,EAAU,KAEhG5jB,GAAO,OAEPA,GAAO,OAEL2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MACHolB,IACFplB,GAAO,YAEFA,I,6BC1JT7L,EAAOD,QAAU,SAA8B0vB,EAAIC,EAAUC,GAC3D,IAUE+E,EAVE7oB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UAEzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BiE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAGjB/kB,GAAO,QACH8oB,IACF9oB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,IAAM,EAAU,YALD,YAAZ6jB,EAAyB,IAAM,KAKG,IAAM,EAAiB,OACnE,IAAIwF,EAAgBxF,EAChB0B,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,iBAAoBqpB,GAAiB,eAAiB,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,uBAAyB,EAAiB,OACvM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gCAELA,GADc,YAAZ6jB,EACK,OAEA,QAET7jB,GAAO,SAELA,GADE8oB,EACK,OAAU,EAAiB,OAE3B,GAAK,EAEd9oB,GAAO,YAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,eAELA,GADE8oB,EACK,kBAAoB,EAEpB,GAAK,EAEd9oB,GAAO,2CAA8C4jB,EAAa,WAAI,YAAc,EAAU,KAEhG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHolB,IACFplB,GAAO,YAEFA,I,6BC1ET7L,EAAOD,QAAU,SAA+B0vB,EAAIC,EAAUC,GAC5D,IAUE+E,EAVE7oB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UAEzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BiE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB,IAAIoE,EAAkB,aAAZtF,EAA0B,IAAM,IAC1C7jB,GAAO,QACH8oB,IACF9oB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,sBAExD,IAApB4jB,EAAGpM,KAAKtG,QACVlR,GAAO,IAAM,EAAU,WAEvBA,GAAO,eAAiB,EAAU,KAEpCA,GAAO,IAAM,EAAQ,IAAM,EAAiB,OAC5C,IAAIqpB,EAAgBxF,EAChB0B,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,iBAAoBqpB,GAAiB,gBAAkB,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,uBAAyB,EAAiB,OACxM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,8BAELA,GADc,aAAZ6jB,EACK,SAEA,UAET7jB,GAAO,SAELA,GADE8oB,EACK,OAAU,EAAiB,OAE3B,GAAK,EAEd9oB,GAAO,iBAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,eAELA,GADE8oB,EACK,kBAAoB,EAEpB,GAAK,EAEd9oB,GAAO,2CAA8C4jB,EAAa,WAAI,YAAc,EAAU,KAEhG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHolB,IACFplB,GAAO,YAEFA,I,6BC/ET7L,EAAOD,QAAU,SAAmC0vB,EAAIC,EAAUC,GAChE,IAUE+E,EAVE7oB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UAEzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BiE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAGjB/kB,GAAO,QACH8oB,IACF9oB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,gBAAkB,EAAU,aALb,iBAAZ6jB,EAA8B,IAAM,KAKW,IAAM,EAAiB,OAChF,IAAIwF,EAAgBxF,EAChB0B,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,iBAAoBqpB,GAAiB,oBAAsB,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,uBAAyB,EAAiB,OAC5M,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gCAELA,GADc,iBAAZ6jB,EACK,OAEA,QAET7jB,GAAO,SAELA,GADE8oB,EACK,OAAU,EAAiB,OAE3B,GAAK,EAEd9oB,GAAO,iBAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,eAELA,GADE8oB,EACK,kBAAoB,EAEpB,GAAK,EAEd9oB,GAAO,2CAA8C4jB,EAAa,WAAI,YAAc,EAAU,KAEhG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHolB,IACFplB,GAAO,YAEFA,I,0wFC3ET,IAAI4pB,EAAoB,EAAQ,IAKhC,SAASC,EAAerZ,EAAOsZ,GAC3B,SAASC,EAAavwB,EAAO4N,GACzB,OAAO4iB,EAAMrhB,MAAMnP,EAAO4N,GAAKtL,KAAI,SAASmuB,EAAMrhB,GAG9C,IAFA,IAAIshB,EAAMhxB,OAAOM,EAAQoP,EAAM,GAExBshB,EAAI1xB,OAAS2xB,GAChBD,EAAM,IAAMA,EAGhB,OAAOA,EAAM,KAAOD,KACrBvf,KAAK,MAGZ,IAAIsf,EAAQxZ,EAAM/Y,OAAO8K,MAAM,eAC3B0nB,EAAOzZ,EAAMyZ,KACbG,EAAS5Z,EAAM4Z,OACfC,EAAYpjB,KAAKc,IAAI,EAAGkiB,EAAOH,GAAc,EAC7CQ,EAAUrjB,KAAKC,IAAI+iB,EAAOH,EAAYE,EAAMxxB,OAAS,GACrD2xB,EAAeljB,KAAKc,IAAI,EAAG7O,OAAOoxB,GAAS9xB,QAAU,EACrD+xB,EAAU,GAGdH,IAxBkB,OAwBS5xB,OAAS,IAAMwxB,EAAMC,EAAO,GAAG7R,OAAO,EAAGgS,EAAS,GAAG1qB,MAAM,QAAU,IAAIlH,QA1BlF,MA6Bd+xB,EAAUH,EA5BM,GA4BuB,EACvCA,EAASI,IAGb,IAAK,IAAIp2B,EAAIi2B,EAAWj2B,GAAKk2B,EAASl2B,IAC9BA,GAAK,GAAKA,EAAI41B,EAAMxxB,SACpBwxB,EAAM51B,GAAK41B,EAAM51B,GAAG0L,QAAQ,MAjClB,QAkCVkqB,EAAM51B,IACDm2B,EAAU,GAAKP,EAAM51B,GAAGoE,OAAS+xB,EAAU,IAAW,IACvDP,EAAM51B,GAAGgkB,OAAOmS,EAASE,KACxBT,EAAM51B,GAAGoE,OAAS+xB,EAvCb,IAuCyC,EAAI,IAAW,KAI1E,MAAO,CACHR,EAAaM,EAAWJ,GACxB,IAAI3uB,MAAM8uB,EAASD,EAAe,GAAGzf,KAAK,KAAO,IACjDqf,EAAaE,EAAMK,IACrBhlB,OAAOoS,SAAShN,KAAK,MAiC3BvW,EAAOD,QA9BW,SAAS6hB,EAASte,EAAQG,EAAQqyB,EAAMG,GACtD,IAAI5Z,EAAQoZ,EAAkB,cAAe7T,GA0B7C,OAxBAvF,EAAM/Y,OAASA,EACf+Y,EAAM5Y,OAASA,EACf4Y,EAAMyZ,KAAOA,EACbzZ,EAAM4Z,OAASA,EAEf5Z,EAAMqZ,eAAiB,SAASC,GAC5B,OAAOD,EAAerZ,EAAOka,MAAMZ,GAAc,EAAIA,IAEzDh1B,OAAOC,eAAeyb,EAAO,mBAAoB,CAC7Cvb,IAAK,WACD,MACI,gBAAkBub,EAAMuF,QAAU,KAClC8T,EAAerZ,EAAO,MAMlCA,EAAMma,WAAa,CACf/yB,OAAQA,EACRqyB,KAAMA,EACNG,OAAQA,GAGL5Z,I,cCvEX,SAAShK,EAAQ/N,GACb,OAAOA,GAAQ,IAAUA,GAAQ,GAgBrC,SAASiO,EAAkBjO,GACvB,OAAOA,GAAQ,IAAUA,GAAQ,GAKrC,SAASmyB,EAAkBnyB,GACvB,OAAOA,GAAQ,IAAUA,GAAQ,IAKrC,SAASoyB,EAASpyB,GACd,OAAOiO,EAAkBjO,IAASmyB,EAAkBnyB,GAKxD,SAASqyB,EAAWryB,GAChB,OAAOA,GAAQ,IAKnB,SAASsyB,EAAYtyB,GACjB,OAAOoyB,EAASpyB,IAASqyB,EAAWryB,IAAkB,KAATA,EAYjD,SAASuyB,EAAevyB,GACpB,OACKA,GAAQ,GAAUA,GAAQ,GACjB,KAATA,GACAA,GAAQ,IAAUA,GAAQ,IACjB,MAATA,EAQT,SAAShC,EAAUgC,GACf,OAAgB,KAATA,GAA4B,KAATA,GAA4B,KAATA,EAKjD,SAASkO,EAAalO,GAClB,OAAOhC,EAAUgC,IAAkB,KAATA,GAA4B,IAATA,EAIjD,SAAS9B,EAAc+N,EAAOumB,GAE1B,OAAc,KAAVvmB,KAKAjO,EAAUw0B,IA5FR,IA4FmBA,GAwG7B,IAAIC,EAAW,IAAI5vB,MAAM,KACzBxE,EAAiB4B,IAAM,IACvB5B,EAAiB6B,WAAa,IAC9B7B,EAAiB8D,MAAQ,IACzB9D,EAAiB+D,UAAY,IAC7B/D,EAAiB+B,aAAe,IAEhC,IAAK,IAAIzE,EAAI,EAAGA,EAAI82B,EAAS1yB,OAAQpE,IACjC,QAAQ,GACJ,KAAKuS,EAAavS,GACd82B,EAAS92B,GAAK0C,EAAiB6B,WAC/B,MAEJ,KAAK6N,EAAQpS,GACT82B,EAAS92B,GAAK0C,EAAiB8D,MAC/B,MAEJ,KAAKmwB,EAAY32B,GACb82B,EAAS92B,GAAK0C,EAAiB+D,UAC/B,MAEJ,KAAKmwB,EAAe52B,GAChB82B,EAAS92B,GAAK0C,EAAiB+B,aAC/B,MAEJ,QACIqyB,EAAS92B,GAAKA,GAAK0C,EAAiB4B,IAIhD,SAAS5B,EAAiB2B,GACtB,OAAOA,EAAO,IAAOyyB,EAASzyB,GAAQ3B,EAAiB+D,UAG3D1G,EAAOD,QAAU,CACbsS,QAASA,EACTC,WA1NJ,SAAoBhO,GAChB,OACI+N,EAAQ/N,IACPA,GAAQ,IAAUA,GAAQ,IAC1BA,GAAQ,IAAUA,GAAQ,KAuN/BiO,kBAAmBA,EACnBkkB,kBAAmBA,EACnBC,SAAUA,EACVC,WAAYA,EACZC,YAAaA,EACbr0B,OAxLJ,SAAgB+B,GACZ,OAAOsyB,EAAYtyB,IAAS+N,EAAQ/N,IAAkB,KAATA,GAwL7CuyB,eAAgBA,EAChBv0B,UAAWA,EACXkQ,aAAcA,EACdhQ,cAAeA,EACfE,kBA9IJ,SAA2B6N,EAAOumB,EAAQE,GAItC,OAAc,KAAVzmB,EAIIqmB,EAAYE,IACD,KAAXA,GACAt0B,EAAcs0B,EAAQE,KAK1BJ,EAAYrmB,IAMF,KAAVA,GAEO/N,EAAc+N,EAAOumB,IAwHhCr0B,cA/GJ,SAAuB8N,EAAOumB,EAAQE,GAKlC,OAAc,KAAVzmB,GAA8B,KAAVA,EAEhB8B,EAAQykB,GACD,EAMO,KAAXA,GAAqBzkB,EAAQ2kB,GAAS,EAAI,EAIvC,KAAVzmB,EAEO8B,EAAQykB,GAAU,EAAI,EAI7BzkB,EAAQ9B,GAED,EAKJ,GAkFP3N,MA1EJ,SAAe0B,GAEX,OAAa,QAATA,GAKS,QAATA,EAJO,EAQJ,GAgEP3B,iBAAkBA,I,gBCvPtB,IAAI8yB,EAAoB,EAAQ,IAC5BxsB,EAAW,EAAQ,IAkCvB,SAASF,EAAYG,EAAM+tB,GACvB,IAAInuB,EAAMI,GAAQA,EAAKJ,KAAOI,EAAKJ,IAAImuB,GAEvC,OAAInuB,EACO,CACHrF,OAAQqF,EAAIrF,OACZqyB,KAAMhtB,EAAIgtB,KACVG,OAAQntB,EAAImtB,QAIb,KA2CXj2B,EAAOD,QAAU,CACbm3B,qBAzCuB,SAASrzB,EAAMszB,GACtC,IAAI9a,EAAQoZ,EACR,uBACA5xB,GAAQszB,EAAgB,KAAOA,EAAgB,IAAM,KAKzD,OAFA9a,EAAM+a,UAAYD,EAEX9a,GAkCPgb,WA/Ba,SAASzV,EAAS0V,EAAQpuB,EAAMquB,GAC7C,IAAIlb,EAAQoZ,EAAkB,mBAAoB7T,GAC9C4V,EA3DR,SAAyBD,GAQrB,IAPA,IAAIE,EAASF,EAAYE,OACrBC,EAAeH,EAAYG,aAC3BxuB,EAAOwuB,EAAeD,EAAOpzB,OAASozB,EAAOC,GAAcxuB,KAAO,KAClEyuB,GAAkB,EAClBC,EAAU,EACV7gB,EAAM,GAED9W,EAAI,EAAGA,EAAIw3B,EAAOpzB,OAAQpE,IAC3BA,IAAMy3B,IACNC,EAAiB5gB,EAAI1S,QAGZ,OAAT6E,GAAiBuuB,EAAOx3B,GAAGiJ,OAASA,IAChCjJ,GAAKy3B,EACLE,IAEAA,EAAU,GAIlB7gB,GAAO0gB,EAAOx3B,GAAGiB,MAGrB,MAAO,CACHgI,KAAMA,EACN6N,IAAKA,EACL4gB,gBAAoC,IAApBA,EAAwB5gB,EAAI1S,OAASszB,EACrDnnB,KAAe,OAATtH,GAAiB0uB,EAAU,GA+BvBC,CAAgBN,GAC1BI,EAAiBH,EAAQG,gBAAkB,EAC3CG,EAAUN,EAAQtuB,MAAQA,EAC1B+J,EAAMlK,EAAY+uB,EAAS,OAC3BzyB,EAAQmyB,EAAQhnB,KAAOyC,EAAMlK,EAAY+uB,EAAS,SAClD/gB,EAAMygB,EAAQzgB,IAmBlB,OAjBAsF,EAAM0b,WAAanW,EACnBvF,EAAMib,OAASA,EAASruB,EAASquB,GAAU,YAC3Cjb,EAAMtF,IAAMA,EACZsF,EAAMsb,eAAiBA,EACvBtb,EAAMvT,IAAM,CACRxF,OAASw0B,GAAWA,EAAQhvB,KAAOgvB,EAAQhvB,IAAIxF,QAAW,YAC1D+B,MAAOA,EACP4N,IAAKA,GAEToJ,EAAMyZ,KAAOzwB,EAAQA,EAAMywB,UAAOllB,EAClCyL,EAAM4Z,OAAS5wB,EAAQA,EAAM4wB,YAASrlB,EACtCyL,EAAM5Y,OAAS4B,EAAQA,EAAM5B,YAASmN,EACtCyL,EAAMuF,QAAUA,EAAU,eACPvF,EAAMib,OAAS,gBACdjb,EAAMtF,KAAO,kBAAoB,eAClC,IAAI5P,MAAMkV,EAAMsb,eAAiB,GAAGphB,KAAK,KAAO,IAE5D8F,K,cCtFX,IACI2b,EAAyC,oBAAhBzT,YAA8BA,YAAcpd,MAEzEnH,EAAOD,QAAU,SAAqB2d,EAAQ3N,GAC1C,OAAe,OAAX2N,GAAmBA,EAAOrZ,OAAS0L,EAC5B,IAAIioB,EAAgBllB,KAAKc,IAAI7D,EAAO,KALpC,QAQJ2N,I,gBCRX,IAAI+X,EAAoB,EAAQ,IAEhCz1B,EAAOD,QAAU,SAAqB6hB,EAASqW,EAAOx0B,GAClD,IAAI4Y,EAAQoZ,EAAkB,cAAe7T,GAS7C,OAPAvF,EAAM4b,MAAQA,EACd5b,EAAM5Y,OAASA,EACf4Y,EAAM0b,WAAanW,EACnBvF,EAAMuF,QAAUvF,EAAM0b,WAAa,OACxB1b,EAAM4b,MAAQ,OACd,IAAI9wB,OAAOkV,EAAM5Y,QAAU4Y,EAAM4b,MAAM5zB,QAAU,GAAGkS,KAAK,KAAO,IAEpE8F,I,cCZX,IAAIoG,EAAO,aAEX,SAASyV,EAAeh3B,GACpB,MAAwB,mBAAVA,EAAuBA,EAAQuhB,EAGjDziB,EAAOD,QAAU,SAASmJ,EAAMwN,EAAS/F,GA8BrC,IAAIwnB,EAAQ1V,EACR2V,EAAQ3V,EASZ,GAPuB,mBAAZ/L,EACPyhB,EAAQzhB,EACDA,IACPyhB,EAAQD,EAAexhB,EAAQyhB,OAC/BC,EAAQF,EAAexhB,EAAQ0hB,QAG/BD,IAAU1V,GAAQ2V,IAAU3V,EAC5B,MAAM,IAAIxU,MAAM,gFAxCpB,SAASoqB,EAAKnvB,GAGV,OAFAivB,EAAM/3B,KAAKuQ,EAASzH,GAEZA,EAAKrF,MACT,IAAK,QACDqF,EAAK6Z,MAAM/b,QAAQqxB,GACnB,MAEJ,IAAK,aACDA,EAAKnvB,EAAK8Z,MACV,MAEJ,IAAK,OACL,IAAK,WACL,IAAK,UACL,IAAK,YACL,IAAK,WACL,IAAK,SACL,IAAK,QACL,IAAK,QACD,MAEJ,QACI,MAAM,IAAI/U,MAAM,iBAAmB/E,EAAKrF,MAGhDu0B,EAAMh4B,KAAKuQ,EAASzH,GAiBxBmvB,CAAKnvB,K,gBClDT,IAAIX,EAAQ,EAAQ,IAEhB+vB,EAAQ,CAAEz0B,KAAM,SAChB00B,EAAW,CAAE10B,KAAM,YACnB20B,EAAiB,CAAE30B,KAAM,iBAI7B,SAAS40B,EAAgBltB,EAAOmtB,EAAYC,GAExC,OAAID,IAAeJ,GAASK,IAAeJ,GAIvChtB,IAAU+sB,GAASI,IAAeJ,GAASK,IAAeL,EAHnD/sB,GAOQ,OAAfA,EAAM1H,MAAiB0H,EAAMqtB,OAASL,GAAYG,IAAeJ,IACjEI,EAAantB,EAAMoS,KACnBpS,EAAQA,EAAMA,OAGX,CACH1H,KAAM,KACN0H,MAAOA,EACPoS,KAAM+a,EACNE,KAAMD,IAId,SAASE,EAAer4B,GACpB,OACIA,EAAK6D,OAAS,GA5BA,KA6Bd7D,EAAKmD,WAAWnD,EAAK6D,OAAS,IA5Bf,KA6Bf7D,EAAKmD,WAAWnD,EAAK6D,OAAS,GAItC,SAASy0B,EAAgB9V,GACrB,MACkB,YAAdA,EAAKnf,MACS,cAAdmf,EAAKnf,MACS,aAAdmf,EAAKnf,MACS,SAAdmf,EAAKnf,MAAmBg1B,EAAe7V,EAAKxiB,MA6SpD,SAASu4B,EAAgB7vB,GACrB,GAAoB,mBAATA,EACP,MAAO,CACHrF,KAAM,UACN6M,GAAIxH,GAIZ,OAAQA,EAAKrF,MACT,IAAK,QACD,IAAIsM,EAnThB,SAAS6oB,EAAqBlW,EAAYC,EAAOkW,GAC7C,OAAQnW,GACJ,IAAK,IAcD,IAFA,IAAI3S,EAASmoB,EAEJr4B,EAAI8iB,EAAM1e,OAAS,EAAGpE,GAAK,EAAGA,IAAK,CAGxCkQ,EAASsoB,EAFLzV,EAAOD,EAAM9iB,GAIbkQ,EACAooB,GAIR,OAAOpoB,EAEX,IAAK,IAaGA,EAASooB,EAAb,IACI5wB,EAAM,KAEV,IAAS1H,EAAI8iB,EAAM1e,OAAS,EAAGpE,GAAK,EAAGA,IAAK,CAIxC,GAAI64B,EAHA9V,EAAOD,EAAM9iB,MAID,OAAR0H,GAAgB1H,EAAI,GAAK64B,EAAgB/V,EAAM9iB,EAAI,MAEnDkQ,EAASsoB,EACL,CACI50B,KAAM,OACN8D,IAJRA,EAAMhH,OAAOY,OAAO,OAMhB+2B,EACAnoB,IAII,OAARxI,GAAc,CACd,IAAInG,GAAOq3B,EAAe7V,EAAKxiB,MAAQwiB,EAAKxiB,KAAKgU,MAAM,GAAI,GAAKwO,EAAKxiB,MAAMuV,cAC3E,GAAIvU,KAAOmG,IAAQ,EAAO,CACtBA,EAAInG,GAAOwhB,EACX,UAKZrb,EAAM,KAGNwI,EAASsoB,EACLzV,EACAsV,EACAnoB,GAIR,OAAOA,EAEX,IAAK,KAMD,GAAI4S,EAAM1e,OAAS,EACf,MAAO,CACHR,KAAM,YACNkf,MAAOA,EACPgN,KAAK,GA6Bb,IAFI5f,EAASooB,EAEJt4B,EAAI8iB,EAAM1e,OAAS,EAAGpE,GAAK,EAAGA,IAAK,CACxC,IAAI+iB,EAAOD,EAAM9iB,GAIbi5B,EADAnW,EAAM1e,OAAS,EACF20B,EACTlW,EACAC,EAAM5R,QAAO,SAASgoB,GAClB,OAAOA,IAAiBnW,MAE5B,GAGSsV,EAGjBnoB,EAASsoB,EACLzV,EACAkW,EACA/oB,GAIR,OAAOA,EAEX,IAAK,KAMD,GAAI4S,EAAM1e,OAAS,EACf,MAAO,CACHR,KAAM,YACNkf,MAAOA,EACPgN,KAAK,GA6Bb,IAFI5f,EAAS8oB,EAAwBX,EAAQC,EAEpCt4B,EAAI8iB,EAAM1e,OAAS,EAAGpE,GAAK,EAAGA,IAAK,CACxC,IACIi5B,EADAlW,EAAOD,EAAM9iB,GAIbi5B,EADAnW,EAAM1e,OAAS,EACF20B,EACTlW,EACAC,EAAM5R,QAAO,SAASgoB,GAClB,OAAOA,IAAiBnW,MAE5B,GAGSsV,EAGjBnoB,EAASsoB,EACLzV,EACAkW,EACA/oB,GAIR,OAAOA,GAmGM6oB,CACT9vB,EAAK4Z,WACL5Z,EAAK6Z,MAAMpb,IAAIoxB,IACf,GAWJ,OARI7vB,EAAKia,gBACLhT,EAASsoB,EACLtoB,EACAqoB,EACAD,IAIDpoB,EAEX,IAAK,aACD,OAhHZ,SAAmCjH,GAC/B,IAAIiH,EAASmoB,EACTc,EAAYL,EAAgB7vB,EAAK8Z,MAErC,GAAiB,IAAb9Z,EAAK0K,IAELwlB,EAAYX,EACRW,EACAZ,EACAD,IAKJpoB,EAASsoB,EACLW,EACA,KACAb,IAGG5a,KAAO8a,EACVH,EACAA,EACAnoB,GAGAjH,EAAKka,QACLjT,EAAOwN,KAAKib,KAAOH,EACf,CAAE50B,KAAM,QAASyzB,OAAQpuB,GACzBiH,EACAooB,SAKR,IAAK,IAAIt4B,EAAIiJ,EAAK6J,KAAO,EAAG9S,GAAKiJ,EAAK0K,IAAK3T,IACnCiJ,EAAKka,OAASjT,IAAWmoB,IACzBnoB,EAASsoB,EACL,CAAE50B,KAAM,QAASyzB,OAAQpuB,GACzBiH,EACAooB,IAIRpoB,EAASsoB,EACLW,EACAX,EACIH,EACAA,EACAnoB,GAEJooB,GAKZ,GAAiB,IAAbrvB,EAAK6J,IAEL5C,EAASsoB,EACLH,EACAA,EACAnoB,QAIJ,IAASlQ,EAAI,EAAGA,EAAIiJ,EAAK6J,IAAM,EAAG9S,IAC1BiJ,EAAKka,OAASjT,IAAWmoB,IACzBnoB,EAASsoB,EACL,CAAE50B,KAAM,QAASyzB,OAAQpuB,GACzBiH,EACAooB,IAIRpoB,EAASsoB,EACLW,EACAjpB,EACAooB,GAKZ,OAAOpoB,EA8BQkpB,CAA0BnwB,GAErC,IAAK,OACL,IAAK,WACD,MAAO,CACHrF,KAAMqF,EAAKrF,KACXrD,KAAM0I,EAAK1I,KACX82B,OAAQpuB,GAGhB,IAAK,UACD,MAAO,CACHrF,KAAMqF,EAAKrF,KACXrD,KAAM0I,EAAK1I,KAAKuV,cAChBuhB,OAAQpuB,GAGhB,IAAK,YACD,MAAO,CACHrF,KAAMqF,EAAKrF,KACXrD,KAAM,IAAM0I,EAAK1I,KAAKuV,cACtBuhB,OAAQpuB,GAGhB,IAAK,WACD,MAAO,CACHrF,KAAMqF,EAAKrF,KACXrD,KAAM0I,EAAK1I,KAAKuV,cAAgB,IAChCuhB,OAAQpuB,GAGhB,IAAK,SAED,OAA0B,IAAtBA,EAAKhI,MAAMmD,OACJ,CACHR,KAAM,QACN3C,MAAOgI,EAAKhI,MAAMoV,OAAO,GACzBghB,OAAQpuB,GAKT,CACHrF,KAAMqF,EAAKrF,KACX3C,MAAOgI,EAAKhI,MAAM+iB,OAAO,EAAG/a,EAAKhI,MAAMmD,OAAS,GAAGsH,QAAQ,OAAQ,KACnE2rB,OAAQpuB,GAGhB,IAAK,QACD,MAAO,CACHrF,KAAMqF,EAAKrF,KACX3C,MAAOgI,EAAKhI,MACZo2B,OAAQpuB,GAGhB,IAAK,QACD,MAAO,CACHrF,KAAMqF,EAAKrF,KACXyzB,OAAQpuB,GAGhB,QACI,MAAM,IAAI+E,MAAM,qBAAsB/E,EAAKrF,OAIvD7D,EAAOD,QAAU,CACbu4B,MAAOA,EACPC,SAAUA,EACVC,eAAgBA,EAChBO,gBAAiB,SAASO,EAAY9a,GAKlC,MAJ0B,iBAAf8a,IACPA,EAAa/wB,EAAM+wB,IAGhB,CACHz1B,KAAM,aACN0H,MAAOwtB,EAAgBO,GACvBhC,OAAQ9Y,GAAO,KACflb,OAAQg2B,M,gBCncpB,IAAI7mB,EAAU,EAAQ,GAAmBA,QACrC3P,EAAS,EAAQ,GAAmBA,OACpCV,EAAO,EAAQ,GAAmBA,KAElCm3B,EAAQn3B,EAAKwC,MACb40B,EAASp3B,EAAK2C,OACd00B,EAASr3B,EAAK4B,OACd01B,EAAWt3B,EAAK+B,SAChBw1B,EAAMv3B,EAAKgC,IACXw1B,EAAOx3B,EAAKqD,KACZo0B,EAAYz3B,EAAK0B,UACjBg2B,EAAa13B,EAAK2B,WAClBg2B,EAAkB33B,EAAKuD,gBACvBq0B,EAAoB53B,EAAKiE,kBACzB4zB,EAAQ73B,EAAKyD,MACbq0B,EAAQ93B,EAAKsD,MAQjB1F,EAAOD,QAAU,SAA2B4Q,GACxC,OAAQ5I,KAAKC,QAAQsB,WACjB,KAAKswB,EACD,OAAO7xB,KAAKkN,WAEhB,KAAKglB,EAGD,OAFAtpB,EAAQwpB,MAAQ,KAChBxpB,EAAQypB,eAAgB,EACjBryB,KAAK+iB,WAEhB,KAAKiP,EACD,OAAOhyB,KAAKgjB,YAAYhjB,KAAKsyB,aAAc1pB,EAAQ2pB,YAEvD,KAAKN,EACD,OAAOjyB,KAAKqiB,SAASriB,KAAKsyB,aAAc1pB,EAAQ2pB,YAEpD,KAAKd,EACD,OAAOzxB,KAAKhD,SAEhB,KAAK80B,EACD,OAAO9xB,KAAKjE,YAEhB,KAAKg2B,EACD,OAAO/xB,KAAKhE,aAEhB,KAAK01B,EACD,OAAO1xB,KAAK/D,SAEhB,KAAK01B,EACD,OAAO52B,EAAOiF,KAAKC,QAAQ1E,OAAQyE,KAAKC,QAAQI,WAAYL,KAAKC,QAAQyL,SAAU,QAC7E1L,KAAK3D,MACL2D,KAAK5D,SAAS4D,KAAKsyB,aAAc1pB,EAAQ2pB,YAEnD,KAAKX,EACD,OAAO5xB,KAAK3D,MAEhB,KAAKm1B,EAED,OAAI9mB,EAAQ1K,KAAKC,QAAQ1E,OAAQyE,KAAKC,QAAQI,WAxClD,MAyCQqK,EAAQ1K,KAAKC,QAAQ1E,OAAQyE,KAAKC,QAAQI,WAAa,EA5CxD,IA6CQL,KAAKqN,eAELrN,KAAKmN,aAGpB,KAAKglB,EACD,IAAI51B,EAAOyD,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,YAEvD,GAnDE,KAmDE9D,GAtDD,KAuDCA,GAtDD,KAuDCA,GAtDE,KAuDFA,EACA,OAAOyD,KAAK+iB,WA3DX,KAgEDxmB,GACAyD,KAAKsU,MAAM,gCAAiCtU,KAAKC,QAAQI,WAAa,M,cC/EtFpI,EAAOD,QAAU,WACbgI,KAAKC,QAAQsM,SAEb,IAAIM,EAAW7M,KAAKwyB,qBAChBxyB,KAAK0iB,cAKT,OAFA1iB,KAAKC,QAAQsM,SAENM,I,cCXX5U,EAAOD,QAAU,CACbwI,MAAO,WACH,OAAOR,KAAKwyB,qBACRxyB,KAAKsjB,mB,cCDjBrrB,EAAOD,QAAU,CACbwI,MAAO,WACH,OAAOR,KAAKwyB,qBACRxyB,KAAK8iB,KALK,O,cCEtB7qB,EAAOD,QAAU,CACbwI,MAAO,WACH,OAAOR,KAAKwyB,qBACRxyB,KAAK8iB,KALQ,O,cCezB7qB,EAAOD,QAAU,SAAwBmJ,GACrCA,EAAK0L,SAASnE,MAAK,SAASvH,EAAM+G,EAAM1I,GAClB,eAAd2B,EAAKrF,MAAqD,SAA5BqF,EAAK1I,KAAKuV,gBACpCxO,EAAKgI,OAAShI,EAAKiI,KAEnBS,EAAKrG,KAAO,CACR/F,KAAM,SACNiF,IAAKI,EAAKJ,IACV5H,MAAO,KAvB3B,SAA0CqG,EAAM0I,GAC5C,IAAIrI,EAAOqI,EAAKrI,KACZd,EAAOmJ,EAAKnJ,KAEH,OAATA,EACuB,eAAnBA,EAAK8C,KAAK/F,MAAmC,OAAT+D,GAAoC,eAAnBA,EAAKgC,KAAK/F,MAC/D0D,EAAKoK,OAAO7K,GAEA,OAATc,GAAoC,eAAnBA,EAAKgC,KAAK/F,MAClC0D,EAAKoK,OAAO/J,GAGhBL,EAAKoK,OAAO1B,GAcAuqB,CAAiCjzB,EAAM0I,S,6BCxBvD,IAAIwqB,EAAgB,EAAQ,IACxBpc,EAAU,EAAQ,IAClBqc,EAAQ,EAAQ,IAChBvc,EAAe,EAAQ,IACvBwc,EAAkB,EAAQ,IAC1BC,EAAU,EAAQ,IAClBjuB,EAAQ,EAAQ,IAChBkuB,EAAkB,EAAQ,IAC1B3c,EAAO,EAAQ,GAEnBle,EAAOD,QAAU+6B,EAEjBA,EAAIj5B,UAAUkd,SA0Ed,SAAkBgc,EAAcnxB,GAC9B,IAAIqV,EACJ,GAA2B,iBAAhB8b,GAET,KADA9b,EAAIlX,KAAKizB,UAAUD,IACX,MAAM,IAAI9sB,MAAM,8BAAgC8sB,EAAe,SAClE,CACL,IAAIE,EAAYlzB,KAAKmzB,WAAWH,GAChC9b,EAAIgc,EAAUlc,UAAYhX,KAAKiX,SAASic,GAG1C,IAAIE,EAAQlc,EAAErV,IACG,IAAbqV,EAAE2Q,SAAiB7nB,KAAKma,OAASjD,EAAEiD,QACvC,OAAOiZ,GArFTL,EAAIj5B,UAAUyc,QAgGd,SAAiB5R,EAAQ0uB,GACvB,IAAIH,EAAYlzB,KAAKmzB,WAAWxuB,OAAQkE,EAAWwqB,GACnD,OAAOH,EAAUlc,UAAYhX,KAAKiX,SAASic,IAjG7CH,EAAIj5B,UAAUw5B,UA8Gd,SAAmB3uB,EAAQlL,EAAK85B,EAAiBF,GAC/C,GAAIj0B,MAAMC,QAAQsF,GAAQ,CACxB,IAAK,IAAIzM,EAAE,EAAGA,EAAEyM,EAAOrI,OAAQpE,IAAK8H,KAAKszB,UAAU3uB,EAAOzM,QAAI2Q,EAAW0qB,EAAiBF,GAC1F,OAAOrzB,KAET,IAAIiS,EAAKjS,KAAKyX,OAAO9S,GACrB,QAAWkE,IAAPoJ,GAAiC,iBAANA,EAC7B,MAAM,IAAI/L,MAAM,4BAIlB,OAFAstB,EAAYxzB,KADZvG,EAAM6c,EAAQoB,YAAYje,GAAOwY,IAEjCjS,KAAK4W,SAASnd,GAAOuG,KAAKmzB,WAAWxuB,EAAQ4uB,EAAiBF,GAAO,GAC9DrzB,MAxHT+yB,EAAIj5B,UAAU25B,cAqId,SAAuB9uB,EAAQlL,EAAKi6B,GAElC,OADA1zB,KAAKszB,UAAU3uB,EAAQlL,EAAKi6B,GAAgB,GACrC1zB,MAtIT+yB,EAAIj5B,UAAU65B,eAiJd,SAAwBhvB,EAAQivB,GAC9B,IAAI/K,EAAUlkB,EAAOkkB,QACrB,QAAgBhgB,IAAZggB,GAA2C,iBAAXA,EAClC,MAAM,IAAI3iB,MAAM,4BAElB,KADA2iB,EAAUA,GAAW7oB,KAAK8W,MAAM+c,aAgBlC,SAAqB3f,GACnB,IAAI4f,EAAO5f,EAAK4C,MAAMgd,KAMtB,OALA5f,EAAK4C,MAAM+c,YAA6B,iBAARC,EACJ5f,EAAKuD,OAAOqc,IAASA,EACrB5f,EAAK+e,UAAUc,GACbA,OACAlrB,EACvBqL,EAAK4C,MAAM+c,YAvB6BA,CAAY7zB,OAIzD,OAFAA,KAAKqoB,OAAOC,KAAK,6BACjBtoB,KAAKma,OAAS,MACP,EAET,IAAIiZ,EAAQpzB,KAAKgX,SAAS6R,EAASlkB,GACnC,IAAKyuB,GAASQ,EAAiB,CAC7B,IAAI/Z,EAAU,sBAAwB7Z,KAAKg0B,aAC3C,GAAiC,OAA7Bh0B,KAAK8W,MAAM6c,eACV,MAAM,IAAIztB,MAAM2T,GADmB7Z,KAAKqoB,OAAO/T,MAAMuF,GAG5D,OAAOuZ,GAhKTL,EAAIj5B,UAAUm5B,UAqLd,SAAmBgB,GACjB,IAAIf,EAAYgB,EAAcl0B,KAAMi0B,GACpC,cAAef,GACb,IAAK,SAAU,OAAOA,EAAUlc,UAAYhX,KAAKiX,SAASic,GAC1D,IAAK,SAAU,OAAOlzB,KAAKizB,UAAUC,GACrC,IAAK,YAAa,OAKtB,SAA4Bhf,EAAMuC,GAChC,IAAIW,EAAMd,EAAQ3R,OAAOtM,KAAK6b,EAAM,CAAEvP,OAAQ,IAAM8R,GACpD,GAAIW,EAAK,CACP,IAAIzS,EAASyS,EAAIzS,OACb6R,EAAOY,EAAIZ,KACXW,EAASC,EAAID,OACbD,EAAIwb,EAAcr6B,KAAK6b,EAAMvP,EAAQ6R,OAAM3N,EAAWsO,GAS1D,OARAjD,EAAKigB,WAAW1d,GAAO,IAAIL,EAAa,CACtCK,IAAKA,EACLsC,UAAU,EACVpU,OAAQA,EACR6R,KAAMA,EACNW,OAAQA,EACRH,SAAUE,IAELA,GApBkBkd,CAAmBp0B,KAAMi0B,KAzLtDlB,EAAIj5B,UAAUu6B,aAiOd,SAAsBrB,GACpB,GAAIA,aAAwBvvB,OAG1B,OAFA6wB,EAAkBt0B,KAAMA,KAAK4W,SAAUoc,GACvCsB,EAAkBt0B,KAAMA,KAAK2W,MAAOqc,GAC7BhzB,KAET,cAAegzB,GACb,IAAK,YAIH,OAHAsB,EAAkBt0B,KAAMA,KAAK4W,UAC7B0d,EAAkBt0B,KAAMA,KAAK2W,OAC7B3W,KAAKu0B,OAAOlrB,QACLrJ,KACT,IAAK,SACH,IAAIkzB,EAAYgB,EAAcl0B,KAAMgzB,GAIpC,OAHIE,GAAWlzB,KAAKu0B,OAAOC,IAAItB,EAAUuB,iBAClCz0B,KAAK4W,SAASoc,UACdhzB,KAAK2W,MAAMqc,GACXhzB,KACT,IAAK,SACH,IAAIyZ,EAAYzZ,KAAK8W,MAAM2C,UACvBgb,EAAWhb,EAAYA,EAAUuZ,GAAgBA,EACrDhzB,KAAKu0B,OAAOC,IAAIC,GAChB,IAAIxiB,EAAKjS,KAAKyX,OAAOub,GACjB/gB,IACFA,EAAKqE,EAAQoB,YAAYzF,UAClBjS,KAAK4W,SAAS3E,UACdjS,KAAK2W,MAAM1E,IAGxB,OAAOjS,MA7PT+yB,EAAIj5B,UAAU46B,UA4Zd,SAAmBj8B,EAAMk8B,GACF,iBAAVA,IAAoBA,EAAS,IAAIlxB,OAAOkxB,IAEnD,OADA30B,KAAK40B,SAASn8B,GAAQk8B,EACf30B,MA9ZT+yB,EAAIj5B,UAAUk6B,WAoYd,SAAoB7Z,EAAQxL,GAE1B,KADAwL,EAASA,GAAUna,KAAKma,QACX,MAAO,YAMpB,IAJA,IAAI0a,OAAkChsB,KADtC8F,EAAUA,GAAW,IACGkmB,UAA0B,KAAOlmB,EAAQkmB,UAC7DvxB,OAA8BuF,IAApB8F,EAAQrL,QAAwB,OAASqL,EAAQrL,QAE3DwxB,EAAO,GACF58B,EAAE,EAAGA,EAAEiiB,EAAO7d,OAAQpE,IAAK,CAClC,IAAI68B,EAAI5a,EAAOjiB,GACX68B,IAAGD,GAAQxxB,EAAUyxB,EAAEC,SAAW,IAAMD,EAAElb,QAAUgb,GAE1D,OAAOC,EAAKroB,MAAM,GAAIooB,EAAUv4B,SA9YlCy2B,EAAIj5B,UAAUq5B,WA0Qd,SAAoBxuB,EAAQ+uB,EAAgBI,EAAMmB,GAChD,GAAqB,iBAAVtwB,GAAuC,kBAAVA,EACtC,MAAM,IAAIuB,MAAM,sCAClB,IAAIuT,EAAYzZ,KAAK8W,MAAM2C,UACvBgb,EAAWhb,EAAYA,EAAU9U,GAAUA,EAC3CuwB,EAASl1B,KAAKu0B,OAAOx7B,IAAI07B,GAC7B,GAAIS,EAAQ,OAAOA,EAEnBD,EAAkBA,IAAgD,IAA7Bj1B,KAAK8W,MAAMqe,cAEhD,IAAIljB,EAAKqE,EAAQoB,YAAY1X,KAAKyX,OAAO9S,IACrCsN,GAAMgjB,GAAiBzB,EAAYxzB,KAAMiS,GAE7C,IACImjB,EADAC,GAA6C,IAA9Br1B,KAAK8W,MAAM6c,iBAA6BD,EAEvD2B,KAAkBD,EAAgBnjB,GAAMA,GAAMqE,EAAQoB,YAAY/S,EAAOkkB,WAC3E7oB,KAAK2zB,eAAehvB,GAAQ,GAE9B,IAAI0T,EAAY/B,EAAQ2B,IAAI5f,KAAK2H,KAAM2E,GAEnCuuB,EAAY,IAAI9c,EAAa,CAC/BnE,GAAIA,EACJtN,OAAQA,EACR0T,UAAWA,EACXoc,SAAUA,EACVX,KAAMA,IAGK,KAAT7hB,EAAG,IAAagjB,IAAiBj1B,KAAK2W,MAAM1E,GAAMihB,GACtDlzB,KAAKu0B,OAAOe,IAAIb,EAAUvB,GAEtBmC,GAAgBD,GAAep1B,KAAK2zB,eAAehvB,GAAQ,GAE/D,OAAOuuB,GA1STH,EAAIj5B,UAAUmd,SA+Sd,SAAkBic,EAAW1c,GAC3B,GAAI0c,EAAUqC,UAOZ,OANArC,EAAUlc,SAAWwe,EACrBA,EAAa7wB,OAASuuB,EAAUvuB,OAChC6wB,EAAarb,OAAS,KACtBqb,EAAahf,KAAOA,GAAcgf,GACF,IAA5BtC,EAAUvuB,OAAOkjB,SACnB2N,EAAa3N,QAAS,GACjB2N,EAIT,IAAIC,EAMAve,EARJgc,EAAUqC,WAAY,EAGlBrC,EAAUY,OACZ2B,EAAcz1B,KAAK8W,MACnB9W,KAAK8W,MAAQ9W,KAAK01B,WAIpB,IAAMxe,EAAIwb,EAAcr6B,KAAK2H,KAAMkzB,EAAUvuB,OAAQ6R,EAAM0c,EAAU7a,WACrE,MAAM0c,GAEJ,aADO7B,EAAUlc,SACX+d,EAER,QACE7B,EAAUqC,WAAY,EAClBrC,EAAUY,OAAM9zB,KAAK8W,MAAQ2e,GAOnC,OAJAvC,EAAUlc,SAAWE,EACrBgc,EAAUyC,KAAOze,EAAEye,KACnBzC,EAAUxc,OAASQ,EAAER,OACrBwc,EAAU1c,KAAOU,EAAEV,KACZU,EAIP,SAASse,IAEP,IAAII,EAAY1C,EAAUlc,SACtB5O,EAASwtB,EAAU9Q,MAAM9kB,KAAMgf,WAEnC,OADAwW,EAAarb,OAASyb,EAAUzb,OACzB/R,IAvVX2qB,EAAIj5B,UAAU+7B,aAAe,EAAQ,IACrC,IAAIC,EAAgB,EAAQ,IAC5B/C,EAAIj5B,UAAUi8B,WAAaD,EAAczgB,IACzC0d,EAAIj5B,UAAUk8B,WAAaF,EAAc/8B,IACzCg6B,EAAIj5B,UAAUm8B,cAAgBH,EAAclsB,OAC5CmpB,EAAIj5B,UAAUo8B,gBAAkBJ,EAAc9e,SAE9C,IAAImf,EAAe,EAAQ,IAC3BpD,EAAIqD,gBAAkBD,EAAajc,WACnC6Y,EAAInZ,gBAAkBuc,EAAa7b,WACnCyY,EAAID,gBAAkBA,EAEtB,IAAIiB,EAAiB,yCAEjBsC,EAAsB,CAAE,mBAAoB,cAAe,cAAe,kBAC1EC,EAAoB,CAAC,eAQzB,SAASvD,EAAIzX,GACX,KAAMtb,gBAAgB+yB,GAAM,OAAO,IAAIA,EAAIzX,GAC3CA,EAAOtb,KAAK8W,MAAQX,EAAKhU,KAAKmZ,IAAS,GAwbzC,SAAmBpH,GACjB,IAAImU,EAASnU,EAAK4C,MAAMuR,OACxB,IAAe,IAAXA,EACFnU,EAAKmU,OAAS,CAACkO,IAAK7b,EAAM4N,KAAM5N,EAAMpG,MAAOoG,OACxC,CAEL,QADe7R,IAAXwf,IAAsBA,EAAShU,WACZ,iBAAVgU,GAAsBA,EAAOkO,KAAOlO,EAAOC,MAAQD,EAAO/T,OACrE,MAAM,IAAIpO,MAAM,qDAClBgO,EAAKmU,OAASA,GA/bhBmO,CAAUx2B,MACVA,KAAK4W,SAAW,GAChB5W,KAAK2W,MAAQ,GACb3W,KAAKm0B,WAAa,GAClBn0B,KAAK40B,SAAW/B,EAAQvX,EAAKqZ,QAE7B30B,KAAKu0B,OAASjZ,EAAK7H,OAAS,IAAIkf,EAChC3yB,KAAKy2B,gBAAkB,GACvBz2B,KAAK02B,cAAgB,GACrB12B,KAAK+nB,MAAQnjB,IACb5E,KAAKyX,OAwTP,SAAqB6D,GACnB,OAAQA,EAAKpD,UACX,IAAK,OAAQ,OAAOye,EACpB,IAAK,KAAM,OAAOlf,EAClB,QAAS,OAAOmf,GA5TJC,CAAYvb,GAE1BA,EAAKwb,aAAexb,EAAKwb,cAAgBvd,IACf,YAAtB+B,EAAKyb,gBAA6Bzb,EAAK0b,wBAAyB,QAC7CnuB,IAAnByS,EAAK7B,YAAyB6B,EAAK7B,UAAYmZ,GACnD5yB,KAAK01B,UAgaP,SAA8BxhB,GAE5B,IADA,IAAI+iB,EAAW9gB,EAAKhU,KAAK+R,EAAK4C,OACrB5e,EAAE,EAAGA,EAAEm+B,EAAoB/5B,OAAQpE,WACnC++B,EAASZ,EAAoBn+B,IACtC,OAAO++B,EApaUC,CAAqBl3B,MAElCsb,EAAKuX,SAwYX,SAA2B3e,GACzB,IAAK,IAAIzb,KAAQyb,EAAK4C,MAAM+b,QAAS,CACnC,IAAI8B,EAASzgB,EAAK4C,MAAM+b,QAAQp6B,GAChCyb,EAAKwgB,UAAUj8B,EAAMk8B,IA3YLwC,CAAkBn3B,MAChCsb,EAAKG,UA+YX,SAA4BvH,GAC1B,IAAK,IAAIzb,KAAQyb,EAAK4C,MAAM2E,SAAU,CACpC,IAAII,EAAU3H,EAAK4C,MAAM2E,SAAShjB,GAClCyb,EAAK6hB,WAAWt9B,EAAMojB,IAlZLub,CAAmBp3B,MAiXxC,SAA8BkU,GAC5B,IAAImjB,EACAnjB,EAAK4C,MAAMnR,QACb0xB,EAAc,EAAQ,IACtBnjB,EAAKuf,cAAc4D,EAAaA,EAAYpP,KAAK,IAEnD,IAAwB,IAApB/T,EAAK4C,MAAMgd,KAAgB,OAC/B,IAAIwD,EAAa,EAAQ,IACrBpjB,EAAK4C,MAAMnR,QAAO2xB,EAAaxE,EAAgBwE,EAAYhB,IAC/DpiB,EAAKuf,cAAc6D,EAAYvD,GAAgB,GAC/C7f,EAAKyC,MAAM,iCAAmCod,EA1X9CwD,CAAqBv3B,MACG,iBAAbsb,EAAKwY,MAAkB9zB,KAAKyzB,cAAcnY,EAAKwY,MACtDxY,EAAK+O,UAAUrqB,KAAK+1B,WAAW,WAAY,CAACuB,WAAY,CAACx7B,KAAM,aA4XrE,SAA2BoY,GACzB,IAAIsjB,EAActjB,EAAK4C,MAAM2gB,QAC7B,IAAKD,EAAa,OAClB,GAAIp4B,MAAMC,QAAQm4B,GAActjB,EAAKof,UAAUkE,QAC1C,IAAK,IAAI/9B,KAAO+9B,EAAatjB,EAAKof,UAAUkE,EAAY/9B,GAAMA,GA/XnEi+B,CAAkB13B,MA2JpB,SAASk0B,EAAchgB,EAAM+f,GAE3B,OADAA,EAAS3d,EAAQoB,YAAYuc,GACtB/f,EAAK0C,SAASqd,IAAW/f,EAAKyC,MAAMsd,IAAW/f,EAAKigB,WAAWF,GA8CxE,SAASK,EAAkBpgB,EAAMujB,EAASE,GACxC,IAAK,IAAI1D,KAAUwD,EAAS,CAC1B,IAAIvE,EAAYuE,EAAQxD,GACnBf,EAAUY,MAAU6D,IAASA,EAAM1xB,KAAKguB,KAC3C/f,EAAKqgB,OAAOC,IAAItB,EAAUuB,iBACnBgD,EAAQxD,KAqGrB,SAASxc,EAAO9S,GAEd,OADIA,EAAOsjB,KAAKjoB,KAAKqoB,OAAOC,KAAK,qBAAsB3jB,EAAOsjB,KACvDtjB,EAAOsN,GAIhB,SAAS2kB,EAAQjyB,GAEf,OADIA,EAAOsN,IAAIjS,KAAKqoB,OAAOC,KAAK,oBAAqB3jB,EAAOsN,IACrDtN,EAAOsjB,IAIhB,SAAS0O,EAAYhyB,GACnB,GAAIA,EAAOsjB,KAAOtjB,EAAOsN,IAAMtN,EAAOsjB,KAAOtjB,EAAOsN,GAClD,MAAM,IAAI/L,MAAM,mCAClB,OAAOvB,EAAOsjB,KAAOtjB,EAAOsN,GA+E9B,SAASuhB,EAAYtf,EAAMjC,GACzB,GAAIiC,EAAK0C,SAAS3E,IAAOiC,EAAKyC,MAAM1E,GAClC,MAAM,IAAI/L,MAAM,0BAA4B+L,EAAK,oBAyBrD,SAASyI,O,gBCzfT,IAAIkd,EAAU,EAAQ,GAClBp3B,EAAQo3B,EAAQp3B,MAChBq3B,EAAW,EAAQ,KACnB32B,EAAW02B,EAAQ12B,SAEvB,SAAS42B,EAAYr/B,EAAMkW,EAASopB,EAAWl2B,GAK3C,OAJI8M,EAAQqpB,OACR3jB,QAAQC,MAAM,MAAQ7b,EAAO,mBAAoBmc,KAAKqjB,MAAQF,GAG3Dl2B,EAuCX,SAASq2B,EAAqBvpB,GApC9B,IAA6BuR,EACrBiY,EA0CJ,MAJ8B,mBAF9BxpB,EAXJ,SAAcqY,GACV,IAAI5e,EAAS,GAEb,IAAK,IAAI3O,KAAOutB,EACZ5e,EAAO3O,GAAOutB,EAAIvtB,GAGtB,OAAO2O,EAIGjG,CAAKwM,IAEI0Z,QAAyB1Z,EAAQqpB,QAChDrpB,EAAQ0Z,QAxCanI,EAwCgBvR,EAAQqpB,MArC1C,SAAgBI,EAAOC,GAC1B,IAAItK,EAAOqK,EAMX,GAJIC,IACAtK,EAAO,MAAQnZ,KAAKqjB,MAAQE,GAAa,KAAMG,QAAQ,GAAK,MAAQvK,GAGpE7N,EAAQ,GAAKmY,EAAK,CAClB,IAAIrpB,EAAM9N,EAASm3B,GAGL,IAAVnY,GAAelR,EAAI1S,OAAS,MAC5B0S,EAAMA,EAAIkN,OAAO,EAAG,KAAO,OAG/B6R,GAAQ,OAAS/e,EAAM,KAG3BqF,QAAQC,MAAMyZ,GACdoK,EAAYvjB,KAAKqjB,SAqBdtpB,EAGX,SAAS4pB,EAAWF,EAAK1pB,EAAS6pB,GACzBp5B,MAAMC,QAAQm5B,KACfA,EAAW,CAACA,IAGhBA,EAASv5B,SAAQ,SAAS0J,GACtBA,EAAG0vB,EAAK1pB,MAIhB,SAAS8pB,EAAO7vB,EAASrN,EAAQoT,GAG7B,IAAI+pB,GAFJ/pB,EAAUA,GAAW,IAEE+pB,UAAY,YAI/BL,EAAMP,EAAY,UAAWnpB,EAASiG,KAAKqjB,MAC3Cz3B,EAAMjF,EAAQ,CACVqN,QAASA,EACT8vB,SAAUA,EACVC,UAAWnd,QAAQ7M,EAAQiqB,cAK/BjqB,EAAQkqB,gBACRf,EAAY,iBAAkBnpB,EAASiG,KAAKqjB,MACxCM,EAAWF,EAAK1pB,EAASA,EAAQkqB,iBAKzC,IAcYC,EAdRC,EAAiBjB,EAAY,WAAYnpB,EAASiG,KAAKqjB,MACvDJ,EAASQ,EAAKH,EAAqBvpB,KAyBvC,OArBIA,EAAQqqB,eACRlB,EAAY,gBAAiBnpB,EAASiG,KAAKqjB,MACvCM,EAAWQ,EAAgBpqB,EAASA,EAAQqqB,gBAKhDrqB,EAAQiqB,UACCd,EAAY,4BAA6BnpB,EAASiG,KAAKqjB,QACxDa,EAAM53B,EAAS63B,EAAeV,IAAK,CAAEO,WAAW,KAChDh5B,IAAIq5B,MAAQP,EAChBI,EAAIl5B,IAAIs5B,iBAAiBR,EAAUn9B,GAC5Bu9B,IAGFhB,EAAY,WAAYnpB,EAASiG,KAAKqjB,MAAO,CAClDjpB,IAAK9N,EAAS63B,EAAeV,KAC7Bz4B,IAAK,OAejB3H,EAAOD,QAAU,CACbmhC,QAAS,EAAQ,KAAmBA,QAGpCV,OAZJ,SAA0Bl9B,EAAQoT,GAC9B,OAAO8pB,EAAO,aAAcl9B,EAAQoT,IAYpCyqB,YATJ,SAAqB79B,EAAQoT,GACzB,OAAO8pB,EAAO,kBAAmBl9B,EAAQoT,IAWzC4gB,OAAQ32B,OAAOygC,OAAO,CAClBxB,SAAUA,GACXD,K,gBCvIP,EAAQ,IACR3/B,EAAOD,QAAUkc,KAAKolB,MAAM5/B,KAAKwa,O,6BCLjC,uNAAIqlB,EACY,oBAAqBrlB,KADjCqlB,EAEQ,WAAYrlB,MAAQ,aAAcjb,OAF1CsgC,EAIA,eAAgBrlB,MAChB,SAAUA,MACV,WACE,IAEE,OADA,IAAIslB,MACG,EACP,MAAOzE,GACP,OAAO,GALX,GANAwE,EAcQ,aAAcrlB,KAdtBqlB,EAeW,gBAAiBrlB,KAOhC,GAAIqlB,EACF,IAAIE,EAAc,CAChB,qBACA,sBACA,6BACA,sBACA,uBACA,sBACA,uBACA,wBACA,yBAGEC,EACFjkB,YAAYC,QACZ,SAASsR,GACP,OAAOA,GAAOyS,EAAYx7B,QAAQrF,OAAOkB,UAAU2Y,SAASpa,KAAK2uB,KAAS,GAIhF,SAAS2S,EAAclhC,GAIrB,GAHoB,iBAATA,IACTA,EAAOuE,OAAOvE,IAEZ,4BAA4BwN,KAAKxN,GACnC,MAAM,IAAI+uB,UAAU,0CAEtB,OAAO/uB,EAAKuV,cAGd,SAAS4rB,EAAezgC,GAItB,MAHqB,iBAAVA,IACTA,EAAQ6D,OAAO7D,IAEVA,EAIT,SAAS0gC,EAAY9N,GACnB,IAAI7a,EAAW,CACbnS,KAAM,WACJ,IAAI5F,EAAQ4yB,EAAMhiB,QAClB,MAAO,CAAC+vB,UAAgBjxB,IAAV1P,EAAqBA,MAAOA,KAU9C,OANIogC,IACFroB,EAASjY,OAAOiY,UAAY,WAC1B,OAAOA,IAIJA,EAGF,SAAS6oB,EAAQC,GACtBh6B,KAAKJ,IAAM,GAEPo6B,aAAmBD,EACrBC,EAAQ/6B,SAAQ,SAAS9F,EAAOV,GAC9BuH,KAAKyJ,OAAOhR,EAAMU,KACjB6G,MACMZ,MAAMC,QAAQ26B,GACvBA,EAAQ/6B,SAAQ,SAASg7B,GACvBj6B,KAAKyJ,OAAOwwB,EAAO,GAAIA,EAAO,MAC7Bj6B,MACMg6B,GACTphC,OAAO+Z,oBAAoBqnB,GAAS/6B,SAAQ,SAASxG,GACnDuH,KAAKyJ,OAAOhR,EAAMuhC,EAAQvhC,MACzBuH,MAgEP,SAASk6B,EAASC,GAChB,GAAIA,EAAKC,SACP,OAAOC,QAAQC,OAAO,IAAI9S,UAAU,iBAEtC2S,EAAKC,UAAW,EAGlB,SAASG,EAAgBC,GACvB,OAAO,IAAIH,SAAQ,SAAS/jB,EAASgkB,GACnCE,EAAOC,OAAS,WACdnkB,EAAQkkB,EAAOpyB,SAEjBoyB,EAAOE,QAAU,WACfJ,EAAOE,EAAOlmB,WAKpB,SAASqmB,EAAsBC,GAC7B,IAAIJ,EAAS,IAAIK,WACbC,EAAUP,EAAgBC,GAE9B,OADAA,EAAOO,kBAAkBH,GAClBE,EAoBT,SAASE,EAAYC,GACnB,GAAIA,EAAIxuB,MACN,OAAOwuB,EAAIxuB,MAAM,GAEjB,IAAIyuB,EAAO,IAAIC,WAAWF,EAAIG,YAE9B,OADAF,EAAKvnB,IAAI,IAAIwnB,WAAWF,IACjBC,EAAKvlB,OAIhB,SAAS0lB,IA0FP,OAzFAr7B,KAAKo6B,UAAW,EAEhBp6B,KAAKs7B,UAAY,SAASnB,GAhM5B,IAAoBnT,EAiMhBhnB,KAAKu7B,UAAYpB,EACZA,EAEsB,iBAATA,EAChBn6B,KAAKw7B,UAAYrB,EACRZ,GAAgBC,KAAK1/B,UAAU2hC,cAActB,GACtDn6B,KAAK07B,UAAYvB,EACRZ,GAAoBoC,SAAS7hC,UAAU2hC,cAActB,GAC9Dn6B,KAAK47B,cAAgBzB,EACZZ,GAAwBsC,gBAAgB/hC,UAAU2hC,cAActB,GACzEn6B,KAAKw7B,UAAYrB,EAAK1nB,WACb8mB,GAAuBA,KA5MlBvS,EA4M6CmT,IA3MjD2B,SAAShiC,UAAU2hC,cAAczU,KA4M3ChnB,KAAK+7B,iBAAmBf,EAAYb,EAAKxkB,QAEzC3V,KAAKu7B,UAAY,IAAI/B,KAAK,CAACx5B,KAAK+7B,oBACvBxC,IAAwB9jB,YAAY3b,UAAU2hC,cAActB,IAAST,EAAkBS,IAChGn6B,KAAK+7B,iBAAmBf,EAAYb,GAEpCn6B,KAAKw7B,UAAYrB,EAAOvhC,OAAOkB,UAAU2Y,SAASpa,KAAK8hC,GAhBvDn6B,KAAKw7B,UAAY,GAmBdx7B,KAAKg6B,QAAQjhC,IAAI,kBACA,iBAATohC,EACTn6B,KAAKg6B,QAAQrmB,IAAI,eAAgB,4BACxB3T,KAAK07B,WAAa17B,KAAK07B,UAAU5/B,KAC1CkE,KAAKg6B,QAAQrmB,IAAI,eAAgB3T,KAAK07B,UAAU5/B,MACvCy9B,GAAwBsC,gBAAgB/hC,UAAU2hC,cAActB,IACzEn6B,KAAKg6B,QAAQrmB,IAAI,eAAgB,qDAKnC4lB,IACFv5B,KAAK46B,KAAO,WACV,IAAIoB,EAAW9B,EAASl6B,MACxB,GAAIg8B,EACF,OAAOA,EAGT,GAAIh8B,KAAK07B,UACP,OAAOrB,QAAQ/jB,QAAQtW,KAAK07B,WACvB,GAAI17B,KAAK+7B,iBACd,OAAO1B,QAAQ/jB,QAAQ,IAAIkjB,KAAK,CAACx5B,KAAK+7B,oBACjC,GAAI/7B,KAAK47B,cACd,MAAM,IAAI11B,MAAM,wCAEhB,OAAOm0B,QAAQ/jB,QAAQ,IAAIkjB,KAAK,CAACx5B,KAAKw7B,cAI1Cx7B,KAAKi8B,YAAc,WACjB,OAAIj8B,KAAK+7B,iBACA7B,EAASl6B,OAASq6B,QAAQ/jB,QAAQtW,KAAK+7B,kBAEvC/7B,KAAK46B,OAAOhlB,KAAK+kB,KAK9B36B,KAAK80B,KAAO,WACV,IA3FoB8F,EAClBJ,EACAM,EAyFEkB,EAAW9B,EAASl6B,MACxB,GAAIg8B,EACF,OAAOA,EAGT,GAAIh8B,KAAK07B,UACP,OAjGkBd,EAiGI56B,KAAK07B,UAhG3BlB,EAAS,IAAIK,WACbC,EAAUP,EAAgBC,GAC9BA,EAAO0B,WAAWtB,GACXE,EA8FE,GAAI96B,KAAK+7B,iBACd,OAAO1B,QAAQ/jB,QA5FrB,SAA+B2kB,GAI7B,IAHA,IAAIC,EAAO,IAAIC,WAAWF,GACtBkB,EAAQ,IAAI/8B,MAAM87B,EAAK5+B,QAElBpE,EAAI,EAAGA,EAAIgjC,EAAK5+B,OAAQpE,IAC/BikC,EAAMjkC,GAAK8E,OAAOyf,aAAaye,EAAKhjC,IAEtC,OAAOikC,EAAM3tB,KAAK,IAqFS4tB,CAAsBp8B,KAAK+7B,mBAC7C,GAAI/7B,KAAK47B,cACd,MAAM,IAAI11B,MAAM,wCAEhB,OAAOm0B,QAAQ/jB,QAAQtW,KAAKw7B,YAI5BjC,IACFv5B,KAAKq8B,SAAW,WACd,OAAOr8B,KAAK80B,OAAOlf,KAAK0mB,KAI5Bt8B,KAAKu8B,KAAO,WACV,OAAOv8B,KAAK80B,OAAOlf,KAAK8L,KAAKlhB,QAGxBR,KA1MT+5B,EAAQjgC,UAAU2P,OAAS,SAAShR,EAAMU,GACxCV,EAAOkhC,EAAclhC,GACrBU,EAAQygC,EAAezgC,GACvB,IAAIqjC,EAAWx8B,KAAKJ,IAAInH,GACxBuH,KAAKJ,IAAInH,GAAQ+jC,EAAWA,EAAW,KAAOrjC,EAAQA,GAGxD4gC,EAAQjgC,UAAkB,OAAI,SAASrB,UAC9BuH,KAAKJ,IAAI+5B,EAAclhC,KAGhCshC,EAAQjgC,UAAUf,IAAM,SAASN,GAE/B,OADAA,EAAOkhC,EAAclhC,GACduH,KAAKyU,IAAIhc,GAAQuH,KAAKJ,IAAInH,GAAQ,MAG3CshC,EAAQjgC,UAAU2a,IAAM,SAAShc,GAC/B,OAAOuH,KAAKJ,IAAI7F,eAAe4/B,EAAclhC,KAG/CshC,EAAQjgC,UAAU6Z,IAAM,SAASlb,EAAMU,GACrC6G,KAAKJ,IAAI+5B,EAAclhC,IAASmhC,EAAezgC,IAGjD4gC,EAAQjgC,UAAUmF,QAAU,SAASw9B,EAAUC,GAC7C,IAAK,IAAIjkC,KAAQuH,KAAKJ,IAChBI,KAAKJ,IAAI7F,eAAetB,IAC1BgkC,EAASpkC,KAAKqkC,EAAS18B,KAAKJ,IAAInH,GAAOA,EAAMuH,OAKnD+5B,EAAQjgC,UAAUkF,KAAO,WACvB,IAAI+sB,EAAQ,GAIZ,OAHA/rB,KAAKf,SAAQ,SAAS9F,EAAOV,GAC3BszB,EAAM1jB,KAAK5P,MAENohC,EAAY9N,IAGrBgO,EAAQjgC,UAAU6iC,OAAS,WACzB,IAAI5Q,EAAQ,GAIZ,OAHA/rB,KAAKf,SAAQ,SAAS9F,GACpB4yB,EAAM1jB,KAAKlP,MAEN0gC,EAAY9N,IAGrBgO,EAAQjgC,UAAU+1B,QAAU,WAC1B,IAAI9D,EAAQ,GAIZ,OAHA/rB,KAAKf,SAAQ,SAAS9F,EAAOV,GAC3BszB,EAAM1jB,KAAK,CAAC5P,EAAMU,OAEb0gC,EAAY9N,IAGjBwN,IACFQ,EAAQjgC,UAAUb,OAAOiY,UAAY6oB,EAAQjgC,UAAU+1B,SAqJzD,IAAI+M,EAAU,CAAC,SAAU,MAAO,OAAQ,UAAW,OAAQ,OAOpD,SAASC,EAAQ3M,EAAOvhB,GAE7B,IAPuBmuB,EACnBC,EAMA5C,GADJxrB,EAAUA,GAAW,IACFwrB,KAEnB,GAAIjK,aAAiB2M,EAAS,CAC5B,GAAI3M,EAAMkK,SACR,MAAM,IAAI5S,UAAU,gBAEtBxnB,KAAKgY,IAAMkY,EAAMlY,IACjBhY,KAAKg9B,YAAc9M,EAAM8M,YACpBruB,EAAQqrB,UACXh6B,KAAKg6B,QAAU,IAAID,EAAQ7J,EAAM8J,UAEnCh6B,KAAK88B,OAAS5M,EAAM4M,OACpB98B,KAAK3G,KAAO62B,EAAM72B,KAClB2G,KAAKi9B,OAAS/M,EAAM+M,OACf9C,GAA2B,MAAnBjK,EAAMqL,YACjBpB,EAAOjK,EAAMqL,UACbrL,EAAMkK,UAAW,QAGnBp6B,KAAKgY,IAAMhb,OAAOkzB,GAYpB,GATAlwB,KAAKg9B,YAAcruB,EAAQquB,aAAeh9B,KAAKg9B,aAAe,eAC1DruB,EAAQqrB,SAAYh6B,KAAKg6B,UAC3Bh6B,KAAKg6B,QAAU,IAAID,EAAQprB,EAAQqrB,UAErCh6B,KAAK88B,QAjCkBA,EAiCOnuB,EAAQmuB,QAAU98B,KAAK88B,QAAU,MAhC3DC,EAAUD,EAAO3uB,cACdyuB,EAAQ3+B,QAAQ8+B,IAAY,EAAIA,EAAUD,GAgCjD98B,KAAK3G,KAAOsV,EAAQtV,MAAQ2G,KAAK3G,MAAQ,KACzC2G,KAAKi9B,OAAStuB,EAAQsuB,QAAUj9B,KAAKi9B,OACrCj9B,KAAKk9B,SAAW,MAEK,QAAhBl9B,KAAK88B,QAAoC,SAAhB98B,KAAK88B,SAAsB3C,EACvD,MAAM,IAAI3S,UAAU,6CAEtBxnB,KAAKs7B,UAAUnB,GAOjB,SAASmC,EAAOnC,GACd,IAAIgD,EAAO,IAAIxB,SAYf,OAXAxB,EACGiD,OACA/2B,MAAM,KACNpH,SAAQ,SAASo+B,GAChB,GAAIA,EAAO,CACT,IAAIh3B,EAAQg3B,EAAMh3B,MAAM,KACpB5N,EAAO4N,EAAM0D,QAAQnG,QAAQ,MAAO,KACpCzK,EAAQkN,EAAMmI,KAAK,KAAK5K,QAAQ,MAAO,KAC3Cu5B,EAAK1zB,OAAOhD,mBAAmBhO,GAAOgO,mBAAmBtN,QAGxDgkC,EAqBF,SAASG,EAASC,EAAU5uB,GAC5BA,IACHA,EAAU,IAGZ3O,KAAKlE,KAAO,UACZkE,KAAKw9B,YAA4B30B,IAAnB8F,EAAQ6uB,OAAuB,IAAM7uB,EAAQ6uB,OAC3Dx9B,KAAKy9B,GAAKz9B,KAAKw9B,QAAU,KAAOx9B,KAAKw9B,OAAS,IAC9Cx9B,KAAK09B,WAAa,eAAgB/uB,EAAUA,EAAQ+uB,WAAa,KACjE19B,KAAKg6B,QAAU,IAAID,EAAQprB,EAAQqrB,SACnCh6B,KAAKgY,IAAMrJ,EAAQqJ,KAAO,GAC1BhY,KAAKs7B,UAAUiC,GAjDjBV,EAAQ/iC,UAAU4Z,MAAQ,WACxB,OAAO,IAAImpB,EAAQ78B,KAAM,CAACm6B,KAAMn6B,KAAKu7B,aAmCvCF,EAAKhjC,KAAKwkC,EAAQ/iC,WAgBlBuhC,EAAKhjC,KAAKilC,EAASxjC,WAEnBwjC,EAASxjC,UAAU4Z,MAAQ,WACzB,OAAO,IAAI4pB,EAASt9B,KAAKu7B,UAAW,CAClCiC,OAAQx9B,KAAKw9B,OACbE,WAAY19B,KAAK09B,WACjB1D,QAAS,IAAID,EAAQ/5B,KAAKg6B,SAC1BhiB,IAAKhY,KAAKgY,OAIdslB,EAAShpB,MAAQ,WACf,IAAIqpB,EAAW,IAAIL,EAAS,KAAM,CAACE,OAAQ,EAAGE,WAAY,KAE1D,OADAC,EAAS7hC,KAAO,QACT6hC,GAGT,IAAIC,EAAmB,CAAC,IAAK,IAAK,IAAK,IAAK,KAE5CN,EAASO,SAAW,SAAS7lB,EAAKwlB,GAChC,IAA0C,IAAtCI,EAAiB3/B,QAAQu/B,GAC3B,MAAM,IAAIM,WAAW,uBAGvB,OAAO,IAAIR,EAAS,KAAM,CAACE,OAAQA,EAAQxD,QAAS,CAAC7oB,SAAU6G,MAG1D,IAAI+lB,EAAe7pB,KAAK6pB,aAC/B,IACE,IAAIA,EACJ,MAAOC,IACPD,EAAe,SAASlkB,EAASphB,GAC/BuH,KAAK6Z,QAAUA,EACf7Z,KAAKvH,KAAOA,EACZ,IAAI6b,EAAQpO,MAAM2T,GAClB7Z,KAAKya,MAAQnG,EAAMmG,QAER3gB,UAAYlB,OAAOY,OAAO0M,MAAMpM,WAC7CikC,EAAajkC,UAAUqZ,YAAc4qB,EAGhC,SAASzE,EAAMpJ,EAAO+N,GAC3B,OAAO,IAAI5D,SAAQ,SAAS/jB,EAASgkB,GACnC,IAAI4D,EAAU,IAAIrB,EAAQ3M,EAAO+N,GAEjC,GAAIC,EAAQjB,QAAUiB,EAAQjB,OAAOkB,QACnC,OAAO7D,EAAO,IAAIyD,EAAa,UAAW,eAG5C,IAAIK,EAAM,IAAIC,eAEd,SAASC,IACPF,EAAIG,QAGNH,EAAI3D,OAAS,WACX,IAxFgB+D,EAChBxE,EAuFIrrB,EAAU,CACZ6uB,OAAQY,EAAIZ,OACZE,WAAYU,EAAIV,WAChB1D,SA3FcwE,EA2FQJ,EAAIK,yBAA2B,GA1FvDzE,EAAU,IAAID,EAGQyE,EAAW56B,QAAQ,eAAgB,KACzCyC,MAAM,SAASpH,SAAQ,SAAS8uB,GAClD,IAAI/U,EAAQ+U,EAAK1nB,MAAM,KACnB5M,EAAMuf,EAAMjP,QAAQqzB,OACxB,GAAI3jC,EAAK,CACP,IAAIN,EAAQ6f,EAAMxK,KAAK,KAAK4uB,OAC5BpD,EAAQvwB,OAAOhQ,EAAKN,OAGjB6gC,IAgFHrrB,EAAQqJ,IAAM,gBAAiBomB,EAAMA,EAAIM,YAAc/vB,EAAQqrB,QAAQjhC,IAAI,iBAC3E,IAAIohC,EAAO,aAAciE,EAAMA,EAAIT,SAAWS,EAAIO,aAClDroB,EAAQ,IAAIgnB,EAASnD,EAAMxrB,KAG7ByvB,EAAI1D,QAAU,WACZJ,EAAO,IAAI9S,UAAU,4BAGvB4W,EAAIQ,UAAY,WACdtE,EAAO,IAAI9S,UAAU,4BAGvB4W,EAAIS,QAAU,WACZvE,EAAO,IAAIyD,EAAa,UAAW,gBAGrCK,EAAIU,KAAKZ,EAAQpB,OAAQoB,EAAQlmB,KAAK,GAEV,YAAxBkmB,EAAQlB,YACVoB,EAAIW,iBAAkB,EACW,SAAxBb,EAAQlB,cACjBoB,EAAIW,iBAAkB,GAGpB,iBAAkBX,GAAO7E,IAC3B6E,EAAIY,aAAe,QAGrBd,EAAQlE,QAAQ/6B,SAAQ,SAAS9F,EAAOV,GACtC2lC,EAAIa,iBAAiBxmC,EAAMU,MAGzB+kC,EAAQjB,SACViB,EAAQjB,OAAOiC,iBAAiB,QAASZ,GAEzCF,EAAIe,mBAAqB,WAEA,IAAnBf,EAAIgB,YACNlB,EAAQjB,OAAOoC,oBAAoB,QAASf,KAKlDF,EAAIkB,UAAkC,IAAtBpB,EAAQ3C,UAA4B,KAAO2C,EAAQ3C,cAIvEjC,EAAMiG,UAAW,EAEZrrB,KAAKolB,QACRplB,KAAKolB,MAAQA,EACbplB,KAAK6lB,QAAUA,EACf7lB,KAAK2oB,QAAUA,EACf3oB,KAAKopB,SAAWA,I,cClgBlB,IAAIrZ,EAGJA,EAAI,WACH,OAAOjkB,KADJ,GAIJ,IAECikB,EAAIA,GAAK,IAAI7nB,SAAS,cAAb,GACR,MAAO24B,GAEc,iBAAX5gB,SAAqB8P,EAAI9P,QAOrClc,EAAOD,QAAUisB,G,6BCjBjB,IAAI3N,EAAU,EAAQ,IAClBH,EAAO,EAAQ,GACfggB,EAAe,EAAQ,IACvBvD,EAAkB,EAAQ,IAE1B4M,EAAoB,EAAQ,IAM5Br8B,EAAagT,EAAKhT,WAClBD,EAAQ,EAAQ,IAGhBkzB,EAAkBD,EAAajc,WAySnC,SAASulB,EAAe96B,EAAQ6R,EAAMW,GAEpC,IAAI1X,EAAQigC,EAAUrnC,KAAK2H,KAAM2E,EAAQ6R,EAAMW,GAC/C,OAAI1X,GAAS,EAAU,CAAEA,MAAOA,EAAO81B,WAAW,IAClD91B,EAAQO,KAAK02B,cAAcp6B,OAC3B0D,KAAK02B,cAAcj3B,GAAS,CAC1BkF,OAAQA,EACR6R,KAAMA,EACNW,OAAQA,GAEH,CAAE1X,MAAOA,EAAO81B,WAAW,IAWpC,SAASoK,EAAah7B,EAAQ6R,EAAMW,GAElC,IAAIjf,EAAIwnC,EAAUrnC,KAAK2H,KAAM2E,EAAQ6R,EAAMW,GACvCjf,GAAK,GAAG8H,KAAK02B,cAActY,OAAOlmB,EAAG,GAY3C,SAASwnC,EAAU/6B,EAAQ6R,EAAMW,GAE/B,IAAK,IAAIjf,EAAE,EAAGA,EAAE8H,KAAK02B,cAAcp6B,OAAQpE,IAAK,CAC9C,IAAIK,EAAIyH,KAAK02B,cAAcx+B,GAC3B,GAAIK,EAAEoM,QAAUA,GAAUpM,EAAEie,MAAQA,GAAQje,EAAE4e,QAAUA,EAAQ,OAAOjf,EAEzE,OAAQ,EAIV,SAAS0nC,EAAY1nC,EAAG2nC,GACtB,MAAO,cAAgB3nC,EAAI,iBAAmBie,EAAKnR,eAAe66B,EAAS3nC,IAAM,KAInF,SAAS4nC,EAAY5nC,GACnB,MAAO,cAAgBA,EAAI,eAAiBA,EAAI,KAIlD,SAAS6nC,EAAW7nC,EAAGwe,GACrB,YAAqB7N,IAAd6N,EAAOxe,GAAmB,GAAK,aAAeA,EAAI,aAAeA,EAAI,KAI9E,SAAS8nC,EAAe9nC,GACtB,MAAO,iBAAmBA,EAAI,kBAAoBA,EAAI,KAIxD,SAAS+nC,EAAKr5B,EAAKs5B,GACjB,IAAKt5B,EAAItK,OAAQ,MAAO,GAExB,IADA,IAAIC,EAAO,GACFrE,EAAE,EAAGA,EAAE0O,EAAItK,OAAQpE,IAC1BqE,GAAQ2jC,EAAUhoC,EAAG0O,GACvB,OAAOrK,EA9WTtE,EAAOD,QAYP,SAASue,EAAQ5R,EAAQ6R,EAAM6B,EAAWlB,GAGxC,IAAIjD,EAAOlU,KACPsb,EAAOtb,KAAK8W,MACZJ,EAAS,MAAE7N,GACX8sB,EAAO,GACPkK,EAAW,GACXM,EAAe,GACfC,EAAW,GACXC,EAAe,GACfC,EAAc,GAElB9pB,EAAOA,GAAQ,CAAE7R,OAAQA,EAAQ+R,OAAQA,EAAQif,KAAMA,GAEvD,IAAIp9B,EAAIknC,EAAepnC,KAAK2H,KAAM2E,EAAQ6R,EAAMW,GAC5CopB,EAAcvgC,KAAK02B,cAAcn+B,EAAEkH,OACvC,GAAIlH,EAAEg9B,UAAW,OAAQgL,EAAY/K,aAwBrC,SAASA,IAEP,IAAIxe,EAAWupB,EAAYvpB,SACvB5O,EAAS4O,EAAS8N,MAAM9kB,KAAMgf,WAElC,OADAwW,EAAarb,OAASnD,EAASmD,OACxB/R,GA3BT,IAAIyqB,EAAU7yB,KAAK40B,SACf7M,EAAQ/nB,KAAK+nB,MAEjB,IACE,IAAI7Q,EAAIspB,EAAa77B,EAAQ6R,EAAM6B,EAAWlB,GAC9CopB,EAAYvpB,SAAWE,EACvB,IAAIupB,EAAKF,EAAY/K,aAUrB,OATIiL,IACFA,EAAG97B,OAASuS,EAAEvS,OACd87B,EAAGtmB,OAAS,KACZsmB,EAAG9K,KAAOze,EAAEye,KACZ8K,EAAG/pB,OAASQ,EAAER,OACd+pB,EAAGjqB,KAAOU,EAAEV,KACZiqB,EAAG5Y,OAAS3Q,EAAE2Q,OACVvM,EAAKkN,aAAYiY,EAAGllC,OAAS2b,EAAE3b,SAE9B2b,EACP,QACAyoB,EAAatnC,KAAK2H,KAAM2E,EAAQ6R,EAAMW,GAYxC,SAASqpB,EAAaE,EAASC,EAAOtoB,EAAWlB,GAC/C,IAAIypB,GAAUD,GAAUA,GAASA,EAAMh8B,QAAU+7B,EACjD,GAAIC,EAAMh8B,QAAU6R,EAAK7R,OACvB,OAAO4R,EAAQle,KAAK6b,EAAMwsB,EAASC,EAAOtoB,EAAWlB,GAEvD,IAgCIH,EAhCA6Q,GAA4B,IAAnB6Y,EAAQ7Y,OAEjBW,EAAagX,EAAkB,CACjCjX,OAAO,EACP5jB,OAAQ+7B,EACRE,OAAQA,EACRzpB,OAAQA,EACRX,KAAMmqB,EACN5X,WAAY,GACZE,cAAe,IACf4X,UAAW,KACXjnB,gBAAiBuc,EAAa7b,WAC9ByN,MAAOA,EACP/Q,SAAUwoB,EACVrpB,KAAMA,EACNG,QAASA,EACTwqB,WAAYA,EACZC,WAAYA,EACZjV,WAAYA,EACZkV,cAAeA,EACf1lB,KAAMA,EACNuX,QAASA,EACTxK,OAAQnU,EAAKmU,OACbnU,KAAMA,IAGRsU,EAAayX,EAAKvpB,EAAQqpB,GAAcE,EAAKJ,EAAUD,GACtCK,EAAKG,EAAUN,GAAeG,EAAKK,EAAaN,GAChDxX,EAEblN,EAAKmN,cAAaD,EAAalN,EAAKmN,YAAYD,IAGpD,IAeExR,EAdmB,IAAI5a,SACrB,OACA,QACA,UACA,OACA,SACA,WACA,cACA,QACA,aACA,kBACAosB,EAGSyY,CACT/sB,EACA6T,EACA8K,EACArc,EACAE,EACA0pB,EACAE,EACAp9B,EACAC,EACAizB,GAGF1f,EAAO,GAAKM,EACZ,MAAM+d,GAEN,MADA7gB,EAAKmU,OAAO/T,MAAM,yCAA0CkU,GACtDuM,EAiBR,OAdA/d,EAASrS,OAAS+7B,EAClB1pB,EAASmD,OAAS,KAClBnD,EAAS2e,KAAOA,EAChB3e,EAASN,OAASA,EAClBM,EAASR,KAAOoqB,EAAS5pB,EAAW2pB,EAChC9Y,IAAQ7Q,EAAS6Q,QAAS,IACN,IAApBvM,EAAKkN,aACPxR,EAASzb,OAAS,CAChBgB,KAAMisB,EACNqX,SAAUA,EACVO,SAAUA,IAIPppB,EAGT,SAAS8pB,EAAW3pB,EAAQV,EAAKmqB,GAC/BnqB,EAAMH,EAAQ0B,IAAIb,EAAQV,GAC1B,IACIyqB,EAASC,EADTC,EAAWzL,EAAKlf,GAEpB,QAAiB5N,IAAbu4B,EAGF,OAAOC,EAFPH,EAAUxqB,EAAO0qB,GACjBD,EAAU,UAAYC,EAAW,KAGnC,IAAKR,GAAUpqB,EAAKmf,KAAM,CACxB,IAAI2L,EAAY9qB,EAAKmf,KAAKlf,GAC1B,QAAkB5N,IAAdy4B,EAGF,OAAOD,EAFPH,EAAU1qB,EAAKE,OAAO4qB,GACtBH,EAAUI,EAAY9qB,EAAKyqB,IAK/BC,EAAUI,EAAY9qB,GACtB,IAAIS,EAAIZ,EAAQje,KAAK6b,EAAMssB,EAAchqB,EAAMC,GAC/C,QAAU5N,IAANqO,EAAiB,CACnB,IAAIsqB,EAAcnpB,GAAaA,EAAU5B,GACrC+qB,IACFtqB,EAAIZ,EAAQO,UAAU2qB,EAAalmB,EAAKvE,YAClCyqB,EACAjrB,EAAQle,KAAK6b,EAAMstB,EAAahrB,EAAM6B,EAAWlB,IAI3D,QAAUtO,IAANqO,EAIF,OAeJ,SAAyBT,EAAKS,GAC5B,IAAIuqB,EAAQ9L,EAAKlf,GACjBC,EAAO+qB,GAASvqB,EAlBdwqB,CAAgBjrB,EAAKS,GACdmqB,EAAYnqB,EAAGiqB,IAW1B,SAAwB1qB,UACfkf,EAAKlf,GAfVkrB,CAAelrB,GAOnB,SAAS8qB,EAAY9qB,EAAKS,GACxB,IAAIuqB,EAAQ/qB,EAAOpa,OAGnB,OAFAoa,EAAO+qB,GAASvqB,EAChBye,EAAKlf,GAAOgrB,EACL,SAAWA,EAYpB,SAASJ,EAAY3qB,EAAQna,GAC3B,MAAwB,iBAAVma,GAAuC,kBAAVA,EACjC,CAAEna,KAAMA,EAAMoI,OAAQ+R,EAAQkrB,QAAQ,GACtC,CAAErlC,KAAMA,EAAMsrB,OAAQnR,KAAYA,EAAOmR,QAGrD,SAASkZ,EAAWc,GAClB,IAAIpiC,EAAQ0gC,EAAa0B,GAKzB,YAJch5B,IAAVpJ,IACFA,EAAQ0gC,EAAa0B,GAAYhC,EAASvjC,OAC1CujC,EAASpgC,GAASoiC,GAEb,UAAYpiC,EAGrB,SAASqsB,EAAW3yB,GAClB,cAAeA,GACb,IAAK,UACL,IAAK,SACH,MAAO,GAAKA,EACd,IAAK,SACH,OAAOgd,EAAKnR,eAAe7L,GAC7B,IAAK,SACH,GAAc,OAAVA,EAAgB,MAAO,OAC3B,IAAI2oC,EAAWlP,EAAgBz5B,GAC3BsG,EAAQ4gC,EAAayB,GAKzB,YAJcj5B,IAAVpJ,IACFA,EAAQ4gC,EAAayB,GAAY1B,EAAS9jC,OAC1C8jC,EAAS3gC,GAAStG,GAEb,UAAYsG,GAIzB,SAASuhC,EAAce,EAAMp9B,EAAQiU,EAAc8O,GACjD,IAAkC,IAA9BxT,EAAK4C,MAAM6c,eAA0B,CACvC,IAAIqO,EAAOD,EAAKE,WAAWC,aAC3B,GAAIF,IAASA,EAAKG,OAAM,SAAStmB,GAC/B,OAAOjjB,OAAOkB,UAAUC,eAAe1B,KAAKugB,EAAciD,MAE1D,MAAM,IAAI3V,MAAM,kDAAoD87B,EAAKxzB,KAAK,MAEhF,IAAImlB,EAAiBoO,EAAKE,WAAWtO,eACrC,GAAIA,EAEF,IADYA,EAAehvB,GACf,CACV,IAAIkV,EAAU,8BAAgC3F,EAAK8f,WAAWL,EAAexZ,QAC7E,GAAiC,OAA7BjG,EAAK4C,MAAM6c,eACV,MAAM,IAAIztB,MAAM2T,GADmB3F,EAAKmU,OAAO/T,MAAMuF,IAMhE,IAII7C,EAJAT,EAAUwrB,EAAKE,WAAW1rB,QAC1BqrB,EAASG,EAAKE,WAAWL,OACzBQ,EAAQL,EAAKE,WAAWG,MAG5B,GAAI7rB,EACFS,EAAWT,EAAQle,KAAK6b,EAAMvP,EAAQiU,EAAc8O,QAC/C,GAAI0a,EACTprB,EAAWorB,EAAM/pC,KAAK6b,EAAMvP,EAAQiU,EAAc8O,IACtB,IAAxBpM,EAAKqY,gBAA0Bzf,EAAKyf,eAAe3c,GAAU,QAC5D,GAAI4qB,EACT5qB,EAAW4qB,EAAOvpC,KAAK6b,EAAMwT,EAAIqa,EAAKlmB,QAASlX,EAAQiU,QAGvD,KADA5B,EAAW+qB,EAAKE,WAAWjrB,UACZ,OAGjB,QAAiBnO,IAAbmO,EACF,MAAM,IAAI9Q,MAAM,mBAAqB67B,EAAKlmB,QAAU,sBAEtD,IAAIpc,EAAQ6gC,EAAYhkC,OAGxB,OAFAgkC,EAAY7gC,GAASuX,EAEd,CACLza,KAAM,aAAekD,EACrBuX,SAAUA,M;;0BC5ShB,SAAAqrB,I,2BAAyBC,EAAzB,qB,EAAA,gB,GACKA,EAAKhmC,OAAS,EAAG,C,EACf,GAAKgmC,EAAK,GAAG71B,MAAM,GAAI,G,QACtB81B,EAAKD,EAAKhmC,OAAS,EAChB6C,EAAI,EAAGA,EAAIojC,IAAMpjC,E,EACpBA,GAAKmjC,EAAKnjC,GAAGsN,MAAM,GAAI,G,SAExB81B,GAAMD,EAAKC,GAAI91B,MAAM,GACnB61B,EAAK9zB,KAAK,I,OAEV8zB,EAAK,GAId,SAAAE,EAAuBn/B,G,MACf,MAAQA,EAAM,IAGtB,SAAAo/B,EAAuB9pC,G,YACTkQ,IAANlQ,EAAkB,YAAqB,OAANA,EAAa,OAASC,OAAOkB,UAAU2Y,SAASpa,KAAKM,GAAG0N,MAAM,KAAKwD,MAAMxD,MAAM,KAAK0D,QAAQiE,cAGrI,SAAAG,EAA4B9K,G,OACpBA,EAAI8K,cCpBZ,SAAAu0B,EAA0BC,G,IAMxBC,EAAWP,EAFD,QAEgB,YAG1BQ,EAAeL,EAAOA,EAAO,UAAYI,EAAW,IAAMA,EAAWA,EAAW,IAAMA,EAAWA,GAAY,IAAMJ,EAAO,cAAgBI,EAAW,IAAMA,EAAWA,GAAY,IAAMJ,EAAO,IAAMI,EAAWA,IAEhNE,EAAe,sCACfC,EAAaV,EAFE,0BAEkBS,G,EAEpBH,EAAQ,oBAAsB,K,EAC5BN,EAbL,WAEA,QAW6B,iBAF3BM,EAAQ,8EAAgF,MAGpGK,EAAUR,EAdA,WAciBH,EAdjB,WAEA,QAYyC,eAAiB,KACpEY,EAAYT,EAAOA,EAAOK,EAAe,IAAMR,EAAMa,EAAcJ,EAAc,UAAY,KAE7FK,GADaX,EAAOA,EAAO,WAAa,IAAMA,EAAO,eAAsB,IAAMA,EAAO,eAA2B,IAAMA,EAAO,cAAqB,UAChIA,EAAOA,EAAO,WAAa,IAAMA,EAAO,eAAsB,IAAMA,EAAO,eAA2B,IAAMA,EAAO,gBAAuB,e,EAChJA,EAAOW,EAAqB,MAAQA,EAAqB,MAAQA,EAAqB,MAAQA,GAC7GC,EAAOZ,EAAOI,EAAW,SACzBS,EAAQb,EAAOA,EAAOY,EAAO,MAAQA,GAAQ,IAAME,GACnDC,EAAgBf,EAAmEA,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAwD,SAAWA,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAOA,EAAwCY,GAAQ,UAAYZ,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAAYZ,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAAYZ,EAAOY,EAAO,OAAS,MAAQC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAAmBA,EAAO,MAAiBC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAA2CC,G,EAClGb,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,UAA2CA,G,EAClGZ,EAAOA,EAAOA,EAAOY,EAAO,OAAS,QAAUA,GAAQ,W,EACxDZ,EAAO,CAACe,EAAeC,EAAeC,EAAeC,EAAeC,EAAeC,EAAeC,EAAeC,EAAeC,GAAev1B,KAAK,MACnKw1B,EAAUxB,EAAOA,EAAOU,EAAe,IAAML,GAAgB,K,GAChDL,EAAOyB,EAAe,QAAUD,GACxBxB,EAAOyB,EAAezB,EAAO,eAAiBI,EAAW,QAAUoB,I,EAC3ExB,EAAO,OAASI,EAAW,OAASP,EAAMa,EAAcJ,EAAc,SAAW,KAC9FoB,EAAc1B,EAAO,MAAQA,EAAO2B,EAAqB,IAAMF,EAAe,IAAMG,GAAc,O,EACtF5B,EAAOA,EAAOK,EAAe,IAAMR,EAAMa,EAAcJ,IAAiB,KACpFuB,EAAQ7B,EAAO0B,EAAc,IAAMZ,EAAe,MAAQgB,EAAY,KAAYA,GAClFC,EAAQ/B,EAAOgC,UACfC,EAAajC,EAAOA,EAAOS,EAAY,KAAO,IAAMoB,EAAQ7B,EAAO,MAAQ+B,GAAS,KACpFG,EAASlC,EAAOK,EAAe,IAAMR,EAAMa,EAAcJ,EAAc,aACvE6B,EAAWnC,EAAOkC,EAAS,KAC3BE,EAAcpC,EAAOkC,EAAS,KAC9BG,EAAiBrC,EAAOA,EAAOK,EAAe,IAAMR,EAAMa,EAAcJ,EAAc,UAAY,KAClGgC,EAAgBtC,EAAOA,EAAO,MAAQmC,GAAY,KAClDI,EAAiBvC,EAAO,MAAQA,EAAOoC,EAAcE,GAAiB,K,EACrDtC,EAAOqC,EAAiBC,G,EACxBtC,EAAOoC,EAAcE,G,EACxB,MAAQJ,EAAS,IAE/BM,GADQxC,EAAOsC,EAAgB,IAAMC,EAAiB,IAAME,EAAiB,IAAMC,EAAiB,IAAMC,GACjG3C,EAAOA,EAAOkC,EAAS,IAAMrC,EAAM,WAAY+C,IAAe,MACvEC,EAAY7C,EAAOA,EAAOkC,EAAS,aAAe,KAClDY,EAAa9C,EAAOA,EAAO,SAAWiC,EAAaK,GAAiB,IAAMC,EAAiB,IAAMG,EAAiB,IAAMC,GACxHI,EAAO/C,EAAOQ,EAAU,MAAQsC,EAAa9C,EAAO,MAAQwC,GAAU,IAAMxC,EAAO,MAAQ6C,GAAa,KACxGG,EAAiBhD,EAAOA,EAAO,SAAWiC,EAAaK,GAAiB,IAAMC,EAAiB,IAAME,EAAiB,IAAME,GAC5HM,EAAYjD,EAAOgD,EAAiBhD,EAAO,MAAQwC,GAAU,IAAMxC,EAAO,MAAQ6C,GAAa,K,OAC9E7C,EAAO+C,EAAO,IAAME,GACrBjD,EAAOQ,EAAU,MAAQsC,EAAa9C,EAAO,MAAQwC,GAAU,KAEtCxC,EAAOA,EAAO,UAAYA,EAAO,IAAMS,EAAY,MAAQ,KAAOoB,EAAQ,IAAM7B,EAAO,OAAS+B,EAAQ,KAAO,MAAQ,KAAOO,EAAgB,IAAMC,EAAiB,IAAMG,EAAiB,IAAMC,EAAc,KAAO3C,EAAO,OAASwC,EAAS,KAAaxC,EAAO,OAAS6C,EAAY,KACvS7C,EAAOA,EAAO,UAAYA,EAAO,IAAMS,EAAY,MAAQ,KAAOoB,EAAQ,IAAM7B,EAAO,OAAS+B,EAAQ,KAAO,MAAQ,KAAOO,EAAgB,IAAMC,EAAiB,IAAME,EAAiB,IAAME,EAAc,KAAO3C,EAAO,OAASwC,EAAS,KAAaxC,EAAO,OAAS6C,EAAY,KAC1Q7C,EAAOA,EAAO,UAAYA,EAAO,IAAMS,EAAY,MAAQ,KAAOoB,EAAQ,IAAM7B,EAAO,OAAS+B,EAAQ,KAAO,MAAQ,KAAOO,EAAgB,IAAMC,EAAiB,IAAMG,EAAiB,IAAMC,EAAc,KAAO3C,EAAO,OAASwC,EAAS,KACrQxC,EAAO,OAAS6C,EAAY,KAC1B7C,EAAO,IAAMS,EAAY,MAA6BT,EAAO,OAAS+B,EAAQ,KAG/F,C,WACO,IAAI9gC,OAAO4+B,EAAM,MAnEpB,WAEA,QAiE6C,eAAgB,K,aACxD,IAAI5+B,OAAO4+B,EAAM,YAAaa,EAAcJ,GAAe,K,SAC/D,IAAIr/B,OAAO4+B,EAAM,kBAAmBa,EAAcJ,GAAe,K,SACjE,IAAIr/B,OAAO4+B,EAAM,kBAAmBa,EAAcJ,GAAe,K,kBACxD,IAAIr/B,OAAO4+B,EAAM,eAAgBa,EAAcJ,GAAe,K,UACtE,IAAIr/B,OAAO4+B,EAAM,SAAUa,EAAcJ,EAAc,iBAAkBsC,GAAa,K,aACnF,IAAI3hC,OAAO4+B,EAAM,SAAUa,EAAcJ,EAAc,kBAAmB,K,OAChF,IAAIr/B,OAAO4+B,EAAM,MAAOa,EAAcJ,GAAe,K,WACjD,IAAIr/B,OAAOy/B,EAAc,K,YACxB,IAAIz/B,OAAO4+B,EAAM,SAAUa,EAAcH,GAAa,K,YACtD,IAAIt/B,OAAOo/B,EAAc,K,YACzB,IAAIp/B,OAAO,KAAO6/B,EAAe,M,YACjC,IAAI7/B,OAAO,SAAWwgC,EAAe,IAAMzB,EAAOA,EAAO,eAAiBI,EAAW,QAAU,IAAMoB,EAAU,KAAO,WAItI,MAAetB,GAAU,GCrFzB,EAAeA,GAAU,G,8YCAnBgD,EAAS,WAaTC,EAAgB,QAChBC,EAAgB,aAChBC,EAAkB,4BAGlB1rB,EAAS,C,SACF,kD,YACC,iD,gBACI,iBAKZ2rB,EAAQ/6B,KAAK+6B,MACbC,EAAqB/oC,OAAOyf,aAUlC,SAASnI,EAAMxY,G,MACR,IAAIgiC,WAAW3jB,EAAOre,IA8B7B,SAASkqC,EAAUC,EAAQt9B,G,IACpBqQ,EAAQitB,EAAO5/B,MAAM,KACvB+B,EAAS,GACT4Q,EAAM1c,OAAS,I,EAGT0c,EAAM,GAAK,I,EACXA,EAAM,I,IAKVktB,EA/BP,SAAazjC,EAAOkG,G,QACbP,EAAS,GACX9L,EAASmG,EAAMnG,OACZA,K,EACCA,GAAUqM,EAAGlG,EAAMnG,I,OAEpB8L,EAyBSxI,E,EAFPqmC,EAAOriC,QAAQiiC,EAAiB,MACnBx/B,MAAM,KACAsC,GAAI6F,KAAK,K,OAC9BpG,EAAS89B,EAgBjB,SAASC,EAAWF,G,QACbG,EAAS,GACXC,EAAU,EACR/pC,EAAS2pC,EAAO3pC,OACf+pC,EAAU/pC,GAAQ,C,IAClBnD,EAAQ8sC,EAAOrqC,WAAWyqC,K,GAC5BltC,GAAS,OAAUA,GAAS,OAAUktC,EAAU/pC,EAAQ,C,IAErDgqC,EAAQL,EAAOrqC,WAAWyqC,KACR,QAAX,MAARC,G,EACGj+B,OAAe,KAARlP,IAAkB,KAAe,KAARmtC,GAAiB,Q,EAIjDj+B,KAAKlP,G,YAINkP,KAAKlP,G,OAGPitC,EAWR,IAmCMG,EAAe,SAASC,EAAOC,G,OAG7BD,EAAQ,GAAK,IAAMA,EAAQ,MAAgB,GAARC,IAAc,IAQnDC,EAAQ,SAASC,EAAOC,EAAWC,G,IACpCC,EAAI,E,MACAD,EAAYf,EAAMa,EA1Kd,KA0K8BA,GAAS,E,GAC1Cb,EAAMa,EAAQC,GACOD,EAAQI,IAA2BD,GAhLrD,G,EAiLHhB,EAAMa,EA3JMx2B,I,OA6Jd21B,EAAMgB,EAAI,GAAsBH,GAASA,EAhLpC,MA0LPrK,EAAS,SAASpM,G,IApDM8W,EAsDvBZ,EAAS,GACTa,EAAc/W,EAAM5zB,OACtBpE,EAAI,EACJyB,EA5LY,IA6LZutC,EA9Le,GAoMfC,EAAQjX,EAAM/P,YAlMD,KAmMbgnB,EAAQ,I,EACH,G,IAGJ,IAAIC,EAAI,EAAGA,EAAID,IAASC,EAExBlX,EAAMt0B,WAAWwrC,IAAM,K,EACpB,a,EAEA/+B,KAAK6nB,EAAMt0B,WAAWwrC,I,IAMzB,IAAI3nC,EAAQ0nC,EAAQ,EAAIA,EAAQ,EAAI,EAAG1nC,EAAQwnC,GAAwC,C,QAOvFI,EAAOnvC,EACFovC,EAAI,EAAGR,EAjOL,IAiOmCA,GAjOnC,GAiO8C,CAEpDrnC,GAASwnC,G,EACN,iB,IAGDT,GA9FqBQ,EA8FA9W,EAAMt0B,WAAW6D,MA7F9B,GAAO,GACfunC,EAAY,GAEhBA,EAAY,GAAO,GACfA,EAAY,GAEhBA,EAAY,GAAO,GACfA,EAAY,GAjJR,IAyONR,GAzOM,IAyOWA,EAAQV,GAAOJ,EAASxtC,GAAKovC,K,EAC3C,Y,GAGFd,EAAQc,E,IACPluC,EAAI0tC,GAAKI,EA7OL,EA6OoBJ,GAAKI,EA5OzB,MA4O8CJ,EAAII,E,GAExDV,EAAQptC,E,UAINmuC,EApPI,GAoPgBnuC,EACtBkuC,EAAIxB,EAAMJ,EAAS6B,I,EAChB,Y,GAGFA,E,IAIAzjC,EAAMsiC,EAAO9pC,OAAS,E,EACrBoqC,EAAMxuC,EAAImvC,EAAMvjC,EAAa,GAARujC,GAIxBvB,EAAM5tC,EAAI4L,GAAO4hC,EAAS/rC,G,EACvB,Y,GAGFmsC,EAAM5tC,EAAI4L,G,GACVA,E,EAGEsa,OAAOlmB,IAAK,EAAGyB,G,OAIhBqD,OAAOwqC,cAAP,MAAAxqC,OAAwBopC,IAU1BqB,EAAS,SAASvX,G,IACjBkW,EAAS,GAMXa,G,EAHId,EAAWjW,IAGK5zB,OAGpB3C,EA5RY,IA6RZgtC,EAAQ,EACRO,EA/Re,G,+BAkSnB,E,EAA2BhX,EAA3B,+CAAkC,C,IAAvBwX,EAAuB,QAC7BA,EAAe,K,EACXr/B,KAAK09B,EAAmB2B,K,iFAI7BC,EAAcvB,EAAO9pC,OACrBsrC,EAAiBD,E,IAMjBA,G,EACIt/B,KA9SS,KAkTVu/B,EAAiBX,GAAa,C,IAIhC3uC,EAAIotC,E,+BACR,E,EAA2BxV,EAA3B,+CAAkC,C,IAAvBwX,EAAuB,QAC7BA,GAAgB/tC,GAAK+tC,EAAepvC,I,EACnCovC,I,iFAMAG,EAAwBD,EAAiB,EAC3CtvC,EAAIqB,EAAImsC,GAAOJ,EAASiB,GAASkB,I,EAC9B,Y,IAGGvvC,EAAIqB,GAAKkuC,E,EACfvvC,E,mCAEJ,E,EAA2B43B,EAA3B,+CAAkC,C,IAAvBwX,EAAuB,Q,GAC7BA,EAAe/tC,KAAOgtC,EAAQjB,G,EAC3B,YAEHgC,GAAgB/tC,EAAG,C,QAElBmqB,EAAI6iB,EACCG,EArVA,IAqV8BA,GArV9B,GAqVyC,C,IAC3C1tC,EAAI0tC,GAAKI,EArVP,EAqVsBJ,GAAKI,EApV3B,MAoVgDJ,EAAII,E,GACxDpjB,EAAI1qB,E,UAGF0uC,EAAUhkB,EAAI1qB,EACdmuC,EA3VE,GA2VkBnuC,E,EACnBiP,KACN09B,EAAmBQ,EAAantC,EAAI0uC,EAAUP,EAAY,K,EAEvDzB,EAAMgC,EAAUP,G,EAGdl/B,KAAK09B,EAAmBQ,EAAaziB,EAAG,K,EACxC4iB,EAAMC,EAAOkB,EAAuBD,GAAkBD,G,EACrD,IACNC,I,+EAIFjB,IACAhtC,E,OAGIysC,EAAO53B,KAAK,KA4Cdu5B,EAXU,SAAS7X,G,OACjB8V,EAAU9V,GAAO,SAAS+V,G,OACzBL,EAAc3/B,KAAKggC,GACvB,OAASwB,EAAOxB,GAChBA,MAOC8B,EA9BY,SAAS7X,G,OACnB8V,EAAU9V,GAAO,SAAS+V,G,OACzBN,EAAc1/B,KAAKggC,GACvB3J,EAAO2J,EAAOx5B,MAAM,GAAGuB,eACvBi4B,MC7SQ+B,EAA6C,GAE1D,SAAAC,EAA2BC,G,IACpB3vC,EAAI2vC,EAAItsC,WAAW,G,OAGrBrD,EAAI,GAAQ,KAAOA,EAAEka,SAAS,IAAItE,cAC7B5V,EAAI,IAAS,IAAMA,EAAEka,SAAS,IAAItE,cAClC5V,EAAI,KAAU,KAAQA,GAAK,EAAK,KAAKka,SAAS,IAAItE,cAAgB,KAAY,GAAJ5V,EAAU,KAAKka,SAAS,IAAItE,cACtG,KAAQ5V,GAAK,GAAM,KAAKka,SAAS,IAAItE,cAAgB,KAAS5V,GAAK,EAAK,GAAM,KAAKka,SAAS,IAAItE,cAAgB,KAAY,GAAJ5V,EAAU,KAAKka,SAAS,IAAItE,cAK9J,SAAAg6B,EAA4B9kC,G,QACvBsjB,EAAS,GACTzuB,EAAI,EACFkwC,EAAK/kC,EAAI/G,OAERpE,EAAIkwC,GAAI,C,IACR7vC,EAAI8vC,SAAShlC,EAAI6Y,OAAOhkB,EAAI,EAAG,GAAI,I,GAErCK,EAAI,I,GACGyE,OAAOyf,aAAalkB,G,GACzB,OAED,GAAIA,GAAK,KAAOA,EAAI,IAAK,C,GACxB6vC,EAAKlwC,GAAM,EAAG,C,IACZowC,EAAKD,SAAShlC,EAAI6Y,OAAOhkB,EAAI,EAAG,GAAI,I,GAChC8E,OAAOyf,cAAmB,GAAJlkB,IAAW,EAAW,GAAL+vC,Q,GAEvCjlC,EAAI6Y,OAAOhkB,EAAG,G,GAEpB,OAED,GAAIK,GAAK,IAAK,C,GACb6vC,EAAKlwC,GAAM,EAAG,C,IACZowC,EAAKD,SAAShlC,EAAI6Y,OAAOhkB,EAAI,EAAG,GAAI,IACpCqwC,EAAKF,SAAShlC,EAAI6Y,OAAOhkB,EAAI,EAAG,GAAI,I,GAChC8E,OAAOyf,cAAmB,GAAJlkB,IAAW,IAAa,GAAL+vC,IAAY,EAAW,GAALC,Q,GAE3DllC,EAAI6Y,OAAOhkB,EAAG,G,GAEpB,O,GAGKmL,EAAI6Y,OAAOhkB,EAAG,G,GACnB,E,OAIAyuB,EAGR,SAAA6hB,EAAqCC,EAA0BC,G,SAC/DC,EAA2BtlC,G,IACnBulC,EAAST,EAAY9kC,G,OAClBulC,EAAOplC,MAAMklC,EAASG,YAAoBD,EAANvlC,E,OAG1ColC,EAAWppB,SAAQopB,EAAWppB,OAASriB,OAAOyrC,EAAWppB,QAAQzb,QAAQ8kC,EAASI,YAAaH,GAAkB36B,cAAcpK,QAAQ8kC,EAASK,WAAY,UACpIlgC,IAAxB4/B,EAAWO,WAAwBP,EAAWO,SAAWhsC,OAAOyrC,EAAWO,UAAUplC,QAAQ8kC,EAASI,YAAaH,GAAkB/kC,QAAQ8kC,EAASO,aAAchB,GAAYrkC,QAAQ8kC,EAASI,YAAa36B,SAC1LtF,IAApB4/B,EAAWlpB,OAAoBkpB,EAAWlpB,KAAOviB,OAAOyrC,EAAWlpB,MAAM3b,QAAQ8kC,EAASI,YAAaH,GAAkB36B,cAAcpK,QAAQ8kC,EAASQ,SAAUjB,GAAYrkC,QAAQ8kC,EAASI,YAAa36B,SACxLtF,IAApB4/B,EAAWjjC,OAAoBijC,EAAWjjC,KAAOxI,OAAOyrC,EAAWjjC,MAAM5B,QAAQ8kC,EAASI,YAAaH,GAAkB/kC,QAAS6kC,EAAWppB,OAASqpB,EAASS,SAAWT,EAASU,kBAAoBnB,GAAYrkC,QAAQ8kC,EAASI,YAAa36B,SAC5NtF,IAArB4/B,EAAWY,QAAqBZ,EAAWY,MAAQrsC,OAAOyrC,EAAWY,OAAOzlC,QAAQ8kC,EAASI,YAAaH,GAAkB/kC,QAAQ8kC,EAASY,UAAWrB,GAAYrkC,QAAQ8kC,EAASI,YAAa36B,SAC1KtF,IAAxB4/B,EAAW1vB,WAAwB0vB,EAAW1vB,SAAW/b,OAAOyrC,EAAW1vB,UAAUnV,QAAQ8kC,EAASI,YAAaH,GAAkB/kC,QAAQ8kC,EAASa,aAActB,GAAYrkC,QAAQ8kC,EAASI,YAAa36B,IAE3Ms6B,EAGR,SAAAe,EAA4BnmC,G,OACpBA,EAAIO,QAAQ,UAAW,OAAS,IAGxC,SAAA6lC,EAAwBlqB,EAAampB,G,IAC9BnlC,EAAUgc,EAAK/b,MAAMklC,EAASgB,cAAgB,GAC3CC,E,EAAWpmC,EAFrB,M,OAIKomC,EACIA,EAAQtjC,MAAM,KAAKzG,IAAI4pC,GAAoBh7B,KAAK,KAEhD+Q,EAIT,SAAAqqB,EAAwBrqB,EAAampB,G,IAC9BnlC,EAAUgc,EAAK/b,MAAMklC,EAASmB,cAAgB,G,IAC1BtmC,EAF3B,GAEUomC,EAFV,KAEmBG,EAFnB,K,GAIKH,EAAS,C,UACUA,EAAQ37B,cAAc3H,MAAM,MAAM0jC,U,SAAjDthC,EADK,KACCD,EADD,KAENwhC,EAAcxhC,EAAQA,EAAMnC,MAAM,KAAKzG,IAAI4pC,GAAsB,GACjES,EAAaxhC,EAAKpC,MAAM,KAAKzG,IAAI4pC,GACjCU,EAAyBxB,EAASgB,YAAYzjC,KAAKgkC,EAAWA,EAAW3tC,OAAS,IAClF6tC,EAAaD,EAAyB,EAAI,EAC1CE,EAAkBH,EAAW3tC,OAAS6tC,EACtCE,EAASjrC,MAAc+qC,GAEpBhrC,EAAI,EAAGA,EAAIgrC,IAAchrC,E,EAC1BA,GAAK6qC,EAAY7qC,IAAM8qC,EAAWG,EAAkBjrC,IAAM,GAG9D+qC,I,EACIC,EAAa,GAAKV,EAAeY,EAAOF,EAAa,GAAIzB,I,IAe3D4B,EAZgBD,EAAO19B,QAA4C,SAAC49B,EAAKC,EAAO/qC,G,IAChF+qC,GAAmB,MAAVA,EAAe,C,IACtBC,EAAcF,EAAIA,EAAIjuC,OAAS,GACjCmuC,GAAeA,EAAYhrC,MAAQgrC,EAAYnuC,SAAWmD,E,EACjDnD,S,EAER+L,KAAK,CAAE5I,QAAOnD,OAAS,I,OAGtBiuC,IACL,IAEqCrsB,MAAK,SAAClX,EAAGC,G,OAAMA,EAAE3K,OAAS0K,EAAE1K,UAAQ,GAExEouC,S,GACAJ,GAAqBA,EAAkBhuC,OAAS,EAAG,C,IAChDquC,EAAWN,EAAO59B,MAAM,EAAG69B,EAAkB7qC,OAC7CmrC,EAAUP,EAAO59B,MAAM69B,EAAkB7qC,MAAQ6qC,EAAkBhuC,Q,EAC/DquC,EAASn8B,KAAK,KAAO,KAAOo8B,EAAQp8B,KAAK,U,EAEzC67B,EAAO77B,KAAK,K,OAGnBs7B,I,GACQ,IAAMA,GAGXY,E,OAEAnrB,EAIT,IAAMsrB,EAAY,kIACZC,OAAuEjiC,IAA3B,GAAIrF,MAAM,SAAU,GAEtE,SAAAhD,EAAsBuqC,G,IAAkBp8B,EAAxC,uDAA6D,GACtD85B,EAA2B,GAC3BC,GAA4B,IAAhB/5B,EAAQq8B,IAAgBC,EAAeC,EAE/B,WAAtBv8B,EAAQ0gB,YAAwB0b,GAAap8B,EAAQ0Q,OAAS1Q,EAAQ0Q,OAAS,IAAM,IAAM,KAAO0rB,G,IAEhGxnC,EAAUwnC,EAAUvnC,MAAMqnC,G,GAE5BtnC,EAAS,CACRunC,G,EAEQzrB,OAAS9b,EAAQ,G,EACjBylC,SAAWzlC,EAAQ,G,EACnBgc,KAAOhc,EAAQ,G,EACfic,KAAO6oB,SAAS9kC,EAAQ,GAAI,I,EAC5BiC,KAAOjC,EAAQ,IAAM,G,EACrB8lC,MAAQ9lC,EAAQ,G,EAChBwV,SAAWxV,EAAQ,GAG1BirB,MAAMia,EAAWjpB,Q,EACTA,KAAOjc,EAAQ,M,EAIhB8b,OAAS9b,EAAQ,SAAMsF,E,EACvBmgC,UAAwC,IAA5B+B,EAAU9sC,QAAQ,KAAcsF,EAAQ,QAAKsF,E,EACzD0W,MAAqC,IAA7BwrB,EAAU9sC,QAAQ,MAAesF,EAAQ,QAAKsF,E,EACtD2W,KAAO6oB,SAAS9kC,EAAQ,GAAI,I,EAC5BiC,KAAOjC,EAAQ,IAAM,G,EACrB8lC,OAAqC,IAA5B0B,EAAU9sC,QAAQ,KAAcsF,EAAQ,QAAKsF,E,EACtDkQ,UAAwC,IAA5BgyB,EAAU9sC,QAAQ,KAAcsF,EAAQ,QAAKsF,EAGhE2lB,MAAMia,EAAWjpB,Q,EACTA,KAAQurB,EAAUvnC,MAAM,iCAAmCD,EAAQ,QAAKsF,IAIjF4/B,EAAWlpB,O,EAEHA,KAAOqqB,EAAeH,EAAehB,EAAWlpB,KAAMmpB,GAAWA,SAInD7/B,IAAtB4/B,EAAWppB,aAAgDxW,IAAxB4/B,EAAWO,eAA8CngC,IAApB4/B,EAAWlpB,WAA0C1W,IAApB4/B,EAAWjpB,MAAuBipB,EAAWjjC,WAA6BqD,IAArB4/B,EAAWY,WAE5IxgC,IAAtB4/B,EAAWppB,O,EACVgQ,UAAY,gBACWxmB,IAAxB4/B,EAAW1vB,S,EACVsW,UAAY,W,EAEZA,UAAY,M,EANZA,UAAY,gBAUpB1gB,EAAQ0gB,WAAmC,WAAtB1gB,EAAQ0gB,WAA0B1gB,EAAQ0gB,YAAcoZ,EAAWpZ,Y,EAChF/a,MAAQm0B,EAAWn0B,OAAS,gBAAkB3F,EAAQ0gB,UAAY,e,IAIxE8b,EAAgBnD,GAASr5B,EAAQ0Q,QAAUopB,EAAWppB,QAAU,IAAIrR,e,GAGrEW,EAAQy8B,gBAAoBD,GAAkBA,EAAcC,e,EAcpC3C,EAAYC,OAdyC,C,GAE7ED,EAAWlpB,OAAS5Q,EAAQ08B,YAAeF,GAAiBA,EAAcE,Y,MAGjE9rB,KAAOwoB,EAAiBU,EAAWlpB,KAAK3b,QAAQ8kC,EAASI,YAAaX,GAAan6B,eAC7F,MAAO+mB,G,EACGzgB,MAAQm0B,EAAWn0B,OAAS,kEAAoEygB,E,EAIjF0T,EAAYyC,GAOrCC,GAAiBA,EAAc3qC,O,EACpBA,MAAMioC,EAAY95B,Q,EAGtB2F,MAAQm0B,EAAWn0B,OAAS,yB,OAGjCm0B,EAGR,SAAA6C,EAA6B7C,EAA0B95B,G,IAChD+5B,GAA4B,IAAhB/5B,EAAQq8B,IAAgBC,EAAeC,EACnDK,EAA0B,G,YAEJ1iC,IAAxB4/B,EAAWO,W,EACJ3gC,KAAKogC,EAAWO,U,EAChB3gC,KAAK,WAGQQ,IAApB4/B,EAAWlpB,M,EAEJlX,KAAKuhC,EAAeH,EAAezsC,OAAOyrC,EAAWlpB,MAAOmpB,GAAWA,GAAU9kC,QAAQ8kC,EAASmB,aAAa,SAAC2B,EAAGC,EAAIC,G,MAAO,IAAMD,GAAMC,EAAK,MAAQA,EAAK,IAAM,QAG9I,iBAApBjD,EAAWjpB,O,EACXnX,KAAK,K,EACLA,KAAKogC,EAAWjpB,KAAK/M,SAAS,MAGlC84B,EAAUjvC,OAASivC,EAAU/8B,KAAK,SAAM3F,EAGhD,IAAM8iC,EAAO,WACPC,EAAO,cACPC,EAAO,gBAEPC,EAAO,yBAEb,SAAAC,EAAkC7b,G,QAC3BkW,EAAuB,GAEtBlW,EAAM5zB,Q,GACR4zB,EAAM1sB,MAAMmoC,G,EACPzb,EAAMtsB,QAAQ+nC,EAAM,SACtB,GAAIzb,EAAM1sB,MAAMooC,G,EACd1b,EAAMtsB,QAAQgoC,EAAM,UACtB,GAAI1b,EAAM1sB,MAAMqoC,G,EACd3b,EAAMtsB,QAAQioC,EAAM,K,EACrBhiC,WACD,GAAc,MAAVqmB,GAA2B,OAAVA,E,EACnB,OACF,C,IACA8b,EAAK9b,EAAM1sB,MAAMsoC,G,IACnBE,E,MAKG,IAAI9lC,MAAM,oC,IAJVjM,EAAI+xC,EAAG,G,EACL9b,EAAMzjB,MAAMxS,EAAEqC,Q,EACf+L,KAAKpO,G,OAORmsC,EAAO53B,KAAK,IAGpB,SAAAiL,EAA0BgvB,G,IAA0B95B,EAApD,uDAAyE,GAClE+5B,EAAY/5B,EAAQq8B,IAAMC,EAAeC,EACzCK,EAA0B,GAG1BJ,EAAgBnD,GAASr5B,EAAQ0Q,QAAUopB,EAAWppB,QAAU,IAAIrR,e,GAGtEm9B,GAAiBA,EAAc1xB,WAAW0xB,EAAc1xB,UAAUgvB,EAAY95B,GAE9E85B,EAAWlpB,K,GAEVmpB,EAASmB,YAAY5jC,KAAKwiC,EAAWlpB,YAKpC,GAAI5Q,EAAQ08B,YAAeF,GAAiBA,EAAcE,W,MAGlD9rB,KAAS5Q,EAAQq8B,IAAmGjD,EAAmBU,EAAWlpB,MAA3HwoB,EAAiBU,EAAWlpB,KAAK3b,QAAQ8kC,EAASI,YAAaX,GAAan6B,eAC7G,MAAO+mB,G,EACGzgB,MAAQm0B,EAAWn0B,OAAS,+CAAkD3F,EAAQq8B,IAAgB,UAAV,SAAuB,kBAAoBjW,E,EAMzH0T,EAAYC,GAEd,WAAtB/5B,EAAQ0gB,WAA0BoZ,EAAWppB,S,EACtChX,KAAKogC,EAAWppB,Q,EAChBhX,KAAK,M,IAGV4jC,EAAYX,EAAoB7C,EAAY95B,G,QAChC9F,IAAdojC,IACuB,WAAtBt9B,EAAQ0gB,W,EACDhnB,KAAK,M,EAGNA,KAAK4jC,GAEXxD,EAAWjjC,MAAsC,MAA9BijC,EAAWjjC,KAAK+I,OAAO,I,EACnClG,KAAK,WAIOQ,IAApB4/B,EAAWjjC,KAAoB,C,IAC9BvL,EAAIwuC,EAAWjjC,KAEdmJ,EAAQu9B,cAAkBf,GAAkBA,EAAce,e,EAC1DH,EAAkB9xC,SAGL4O,IAAdojC,I,EACChyC,EAAE2J,QAAQ,QAAS,S,EAGdyE,KAAKpO,G,YAGS4O,IAArB4/B,EAAWY,Q,EACJhhC,KAAK,K,EACLA,KAAKogC,EAAWY,aAGCxgC,IAAxB4/B,EAAW1vB,W,EACJ1Q,KAAK,K,EACLA,KAAKogC,EAAW1vB,WAGpBwyB,EAAU/8B,KAAK,IAGvB,SAAA29B,EAAkCh8B,EAAoB8P,G,IAAwBtR,EAA9E,uDAAmG,GAAIy9B,EAAvG,aACOC,EAAuB,G,OAExBD,I,EACG5rC,EAAMiZ,EAAUtJ,EAAMxB,GAAUA,G,EAC5BnO,EAAMiZ,EAAUwG,EAAUtR,GAAUA,M,EAEtCA,GAAW,IAER29B,UAAYrsB,EAASZ,Q,EAC1BA,OAASY,EAASZ,O,EAElB2pB,SAAW/oB,EAAS+oB,S,EACpBzpB,KAAOU,EAASV,K,EAChBC,KAAOS,EAAST,K,EAChBha,KAAOumC,EAAkB9rB,EAASza,MAAQ,I,EAC1C6jC,MAAQppB,EAASopB,aAEExgC,IAAtBoX,EAAS+oB,eAA4CngC,IAAlBoX,EAASV,WAAwC1W,IAAlBoX,EAAST,M,EAEvEwpB,SAAW/oB,EAAS+oB,S,EACpBzpB,KAAOU,EAASV,K,EAChBC,KAAOS,EAAST,K,EAChBha,KAAOumC,EAAkB9rB,EAASza,MAAQ,I,EAC1C6jC,MAAQppB,EAASopB,QAEnBppB,EAASza,MAQmB,MAA5Bya,EAASza,KAAK+I,OAAO,G,EACjB/I,KAAOumC,EAAkB9rB,EAASza,YAElBqD,IAAlBsH,EAAK64B,eAAwCngC,IAAdsH,EAAKoP,WAAoC1W,IAAdsH,EAAKqP,MAAwBrP,EAAK3K,KAErF2K,EAAK3K,K,EAGTA,KAAO2K,EAAK3K,KAAKiH,MAAM,EAAG0D,EAAK3K,KAAK2a,YAAY,KAAO,GAAKF,EAASza,K,EAFrEA,KAAOya,EAASza,K,EAFhBA,KAAO,IAAMya,EAASza,K,EAMvBA,KAAOumC,EAAkBM,EAAO7mC,O,EAEjC6jC,MAAQppB,EAASopB,Q,EAnBjB7jC,KAAO2K,EAAK3K,UACIqD,IAAnBoX,EAASopB,M,EACLA,MAAQppB,EAASopB,M,EAEjBA,MAAQl5B,EAAKk5B,O,EAkBfL,SAAW74B,EAAK64B,S,EAChBzpB,KAAOpP,EAAKoP,K,EACZC,KAAOrP,EAAKqP,M,EAEbH,OAASlP,EAAKkP,Q,EAGftG,SAAWkH,EAASlH,SAEpBszB,EA0CR,SAAAE,EAAkClpC,EAAYsL,G,OACtCtL,GAAOA,EAAIoP,WAAW7O,QAAU+K,GAAYA,EAAQq8B,IAAiCC,EAAanC,YAAxCoC,EAAapC,YAAyCX,GCxiBxH,IAAMqE,EAA2B,C,OACvB,O,YAEI,E,MAEL,SAAU/D,EAA0B95B,G,OAEtC85B,EAAWlpB,O,EACJjL,MAAQm0B,EAAWn0B,OAAS,+BAGjCm0B,G,UAGI,SAAUA,EAA0B95B,G,OAE3C85B,EAAWjpB,QAAsD,UAA5CxiB,OAAOyrC,EAAWppB,QAAQrR,cAA4B,GAAK,MAA4B,KAApBy6B,EAAWjpB,O,EAC3FA,UAAO3W,GAId4/B,EAAWjjC,O,EACJA,KAAO,KAOZijC,IC5BH+D,EAA2B,C,OACvB,Q,WACIC,EAAKpB,W,MACVoB,EAAKjsC,M,UACDisC,EAAKhzB,WCSZizB,EAAkB,GAIlBxJ,EAAe,mGACfN,EAAW,cACXC,EAAeL,EAAOA,EAAO,UAAYI,EAAW,IAAMA,EAAWA,EAAW,IAAMA,EAAWA,GAAY,IAAMJ,EAAO,cAAgBI,EAAW,IAAMA,EAAWA,GAAY,IAAMJ,EAAO,IAAMI,EAAWA,IAehN+J,EAAUtK,EADA,6DACe,aAqBzBwG,EAAa,IAAIplC,OAAOy/B,EAAc,KACtC4F,EAAc,IAAIrlC,OAAOo/B,EAAc,KACvC+J,EAAiB,IAAInpC,OAAO4+B,EAAM,MAzBxB,wDAyBwC,QAAS,QAASsK,GAAU,KAE9EE,GAAa,IAAIppC,OAAO4+B,EAAM,MAAOa,EAjBrB,uCAiBmD,KACnE4J,GAAcD,GAIpB,SAAAlE,GAA0BtlC,G,IACnBulC,EAAST,EAAY9kC,G,OAClBulC,EAAOplC,MAAMqlC,GAAoBD,EAANvlC,EAGrC,IAAMmpC,GAA8C,C,OAC1C,S,MAED,SAAU/D,EAA0B95B,G,IACrCo+B,EAAmBtE,EACnBrmC,EAAK2qC,EAAiB3qC,GAAM2qC,EAAiBvnC,KAAOunC,EAAiBvnC,KAAKa,MAAM,KAAO,G,KAC5Eb,UAAOqD,EAEpBkkC,EAAiB1D,MAAO,C,QACvB2D,GAAiB,EACfhT,EAAwB,GACxBiT,EAAUF,EAAiB1D,MAAMhjC,MAAM,KAEpClH,EAAI,EAAGojC,EAAK0K,EAAQ3wC,OAAQ6C,EAAIojC,IAAMpjC,EAAG,C,IAC3C+tC,EAASD,EAAQ9tC,GAAGkH,MAAM,K,OAExB6mC,EAAO,I,IACT,K,QACEC,EAAUD,EAAO,GAAG7mC,MAAM,KACvBlH,EAAI,EAAGojC,EAAK4K,EAAQ7wC,OAAQ6C,EAAIojC,IAAMpjC,E,EAC3CkJ,KAAK8kC,EAAQhuC,I,UAGb,U,EACaiuC,QAAUb,EAAkBW,EAAO,GAAIv+B,G,UAEpD,O,EACawrB,KAAOoS,EAAkBW,EAAO,GAAIv+B,G,iBAGpC,E,EACT49B,EAAkBW,EAAO,GAAIv+B,IAAY49B,EAAkBW,EAAO,GAAIv+B,IAK7Eq+B,IAAgBD,EAAiB/S,QAAUA,G,EAG/BqP,WAAQxgC,E,IAEpB,IAAI1J,EAAI,EAAGojC,EAAKngC,EAAG9F,OAAQ6C,EAAIojC,IAAMpjC,EAAG,C,IACtCkuC,EAAOjrC,EAAGjD,GAAGkH,MAAM,K,KAEpB,GAAKkmC,EAAkBc,EAAK,IAE5B1+B,EAAQy8B,e,EAQP,GAAKmB,EAAkBc,EAAK,GAAI1+B,GAASX,mB,MALxC,GAAK+5B,EAAiBwE,EAAkBc,EAAK,GAAI1+B,GAASX,eAC9D,MAAO+mB,G,EACSzgB,MAAQy4B,EAAiBz4B,OAAS,2EAA6EygB,E,EAM/H51B,GAAKkuC,EAAK7+B,KAAK,K,OAGZu+B,G,UAGI,SAAUA,EAAmCp+B,G,IP7GlCqY,EO8GhByhB,EAAasE,EACb3qC,EP9GA4kB,OADgBA,EO+GH+lB,EAAiB3qC,IP9GO4kB,aAAe5nB,MAAQ4nB,EAA6B,iBAAfA,EAAI1qB,QAAuB0qB,EAAI3gB,OAAS2gB,EAAIsmB,aAAetmB,EAAI3uB,KAAO,CAAC2uB,GAAO5nB,MAAMtF,UAAU2S,MAAMpU,KAAK2uB,GAAS,G,GO+G9L5kB,EAAI,C,IACF,IAAIjD,EAAI,EAAGojC,EAAKngC,EAAG9F,OAAQ6C,EAAIojC,IAAMpjC,EAAG,C,IACtCouC,EAASvwC,OAAOoF,EAAGjD,IACnBquC,EAAQD,EAAOptB,YAAY,KAC3BstB,EAAaF,EAAO9gC,MAAM,EAAG+gC,GAAQ5pC,QAAQklC,EAAaH,IAAkB/kC,QAAQklC,EAAa36B,GAAavK,QAAQgpC,EAAgB3E,GACxIyF,EAASH,EAAO9gC,MAAM+gC,EAAQ,G,MAItB7+B,EAAQq8B,IAA2EjD,EAAmB2F,GAAxF3F,EAAiBwE,EAAkBmB,EAAQ/+B,GAASX,eAC5E,MAAO+mB,G,EACGzgB,MAAQm0B,EAAWn0B,OAAS,wDAA2D3F,EAAQq8B,IAAgB,UAAV,SAAuB,kBAAoBjW,E,EAGzJ51B,GAAKsuC,EAAY,IAAMC,E,EAGhBloC,KAAOpD,EAAGoM,KAAK,K,IAGrBwrB,EAAU+S,EAAiB/S,QAAU+S,EAAiB/S,SAAW,GAEnE+S,EAAiBK,UAASpT,EAAA,QAAqB+S,EAAiBK,SAChEL,EAAiB5S,OAAMH,EAAA,KAAkB+S,EAAiB5S,M,IAExDkQ,EAAS,G,IACV,IAAM5xC,KAAQuhC,EACdA,EAAQvhC,KAAUi0C,EAAEj0C,I,EAChB4P,KACN5P,EAAKmL,QAAQklC,EAAaH,IAAkB/kC,QAAQklC,EAAa36B,GAAavK,QAAQipC,GAAY5E,GAClG,IACAjO,EAAQvhC,GAAMmL,QAAQklC,EAAaH,IAAkB/kC,QAAQklC,EAAa36B,GAAavK,QAAQkpC,GAAa7E,I,OAI3GoC,EAAO/tC,S,EACC+sC,MAAQgB,EAAO77B,KAAK,MAGzBi6B,IC/JHkF,GAAY,kBAIZnB,GAAqD,C,OACjD,M,MAED,SAAU/D,EAA0B95B,G,IACrCpL,EAAUklC,EAAWjjC,MAAQijC,EAAWjjC,KAAKhC,MAAMmqC,IACrDC,EAAgBnF,E,GAEhBllC,EAAS,C,IACN8b,EAAS1Q,EAAQ0Q,QAAUuuB,EAAcvuB,QAAU,MACnDwuB,EAAMtqC,EAAQ,GAAGyK,cACjB8/B,EAAMvqC,EAAQ,GACdwqC,EAAe1uB,EAAf,KAAyB1Q,EAAQk/B,KAAOA,GACxC1C,EAAgBnD,EAAQ+F,G,EAEhBF,IAAMA,E,EACNC,IAAMA,E,EACNtoC,UAAOqD,EAEjBsiC,I,EACaA,EAAc3qC,MAAMotC,EAAej/B,S,EAGtC2F,MAAQs5B,EAAct5B,OAAS,yB,OAGvCs5B,G,UAGI,SAAUA,EAA6Bj/B,G,IAC5C0Q,EAAS1Q,EAAQ0Q,QAAUuuB,EAAcvuB,QAAU,MACnDwuB,EAAMD,EAAcC,IACpBE,EAAe1uB,EAAf,KAAyB1Q,EAAQk/B,KAAOA,GACxC1C,EAAgBnD,EAAQ+F,GAE1B5C,I,EACaA,EAAc1xB,UAAUm0B,EAAej/B,I,IAGlDq/B,EAAgBJ,EAChBE,EAAMF,EAAcE,I,SACZtoC,MAAUqoC,GAAOl/B,EAAQk/B,KAAvC,IAA8CC,EAEvCE,ICxDHC,GAAO,2DAIPzB,GAAsE,C,OAClE,W,MAED,SAAUoB,EAA6Bj/B,G,IACxCu/B,EAAiBN,E,SACRO,KAAOD,EAAeJ,I,EACtBA,SAAMjlC,EAEhB8F,EAAQ29B,UAAc4B,EAAeC,MAASD,EAAeC,KAAK3qC,MAAMyqC,M,EAC7D35B,MAAQ45B,EAAe55B,OAAS,sBAGzC45B,G,UAGI,SAAUA,EAA+Bv/B,G,IAC9Ci/B,EAAgBM,E,SAERJ,KAAOI,EAAeC,MAAQ,IAAIngC,cACzC4/B,IC5BT5F,EAAQyE,EAAKptB,QAAUotB,EAGvBzE,EAAQoG,EAAM/uB,QAAU+uB,EAGxBpG,EAAQqG,GAAOhvB,QAAUgvB,GAGzBrG,EAAQsG,GAAIjvB,QAAUivB,GAGtBtG,EAAQmG,GAAK9uB,QAAU8uB,G,yHNmfvB,SAAwBI,EAAgBC,EAAoB7/B,G,IACrD8/B,EJpeP,SAAuBpC,EAAgB9wC,G,IAChCyrB,EAAMqlB,E,GACR9wC,E,IACE,IAAM9B,KAAO8B,E,EACb9B,GAAO8B,EAAO9B,G,OAGbutB,EI6dmBqS,CAAO,CAAEha,OAAS,QAAU1Q,G,OAC/C8K,EAAU0yB,EAAkB3rC,EAAM+tC,EAASE,GAAoBjuC,EAAMguC,EAAaC,GAAoBA,GAAmB,GAAOA,I,YAKxI,SAA0BC,EAAS//B,G,MACf,iBAAR+/B,E,EACJj1B,EAAUjZ,EAAMkuC,EAAK//B,GAAUA,GACX,WAAhB8zB,EAAOiM,K,EACXluC,EAAMiZ,EAAyBi1B,EAAK//B,GAAUA,IAG9C+/B,G,QAKR,SAAsBC,EAAUC,EAAUjgC,G,MACrB,iBAATggC,E,EACHl1B,EAAUjZ,EAAMmuC,EAAMhgC,GAAUA,GACZ,WAAjB8zB,EAAOkM,K,EACVl1B,EAAyBk1B,EAAMhgC,IAGnB,iBAATigC,E,EACHn1B,EAAUjZ,EAAMouC,EAAMjgC,GAAUA,GACZ,WAAjB8zB,EAAOmM,K,EACVn1B,EAAyBm1B,EAAMjgC,IAGhCggC,IAASC,G,kBAGjB,SAAgCvrC,EAAYsL,G,OACpCtL,GAAOA,EAAIoP,WAAW7O,QAAU+K,GAAYA,EAAQq8B,IAA4BC,EAAa4D,OAAnC3D,EAAa2D,OAA+B5G,I,yGOliB9GhwC,EAAOD,QAAU,SAAoBqL,GAKnC,IAJA,IAGIlK,EAHAmD,EAAS,EACTwyC,EAAMzrC,EAAI/G,OACV0P,EAAM,EAEHA,EAAM8iC,GACXxyC,KACAnD,EAAQkK,EAAIzH,WAAWoQ,OACV,OAAU7S,GAAS,OAAU6S,EAAM8iC,GAGtB,QAAX,OADb31C,EAAQkK,EAAIzH,WAAWoQ,MACSA,IAGpC,OAAO1P,I,6BChBT,IAAI+Z,EAAWpe,EAAOD,QAAU,SAAU2M,EAAQ2W,EAAMyzB,GAEnC,mBAARzzB,IACTyzB,EAAKzzB,EACLA,EAAO,IAwDX,SAAS0zB,EAAU1zB,EAAM2zB,EAAKC,EAAMvqC,EAAQ6T,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,GAC3G,GAAIlU,GAA2B,iBAAVA,IAAuBvF,MAAMC,QAAQsF,GAAS,CAEjE,IAAK,IAAIlL,KADTw1C,EAAItqC,EAAQ6T,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,GAC7DlU,EAAQ,CACtB,IAAI4T,EAAM5T,EAAOlL,GACjB,GAAI2F,MAAMC,QAAQkZ,IAChB,GAAI9e,KAAO4c,EAAS84B,cAClB,IAAK,IAAIj3C,EAAE,EAAGA,EAAEqgB,EAAIjc,OAAQpE,IAC1B82C,EAAU1zB,EAAM2zB,EAAKC,EAAM32B,EAAIrgB,GAAIsgB,EAAU,IAAM/e,EAAM,IAAMvB,EAAGugB,EAAYD,EAAS/e,EAAKkL,EAAQzM,QAEnG,GAAIuB,KAAO4c,EAAS+4B,eACzB,GAAI72B,GAAqB,iBAAPA,EAChB,IAAK,IAAIhT,KAAQgT,EACfy2B,EAAU1zB,EAAM2zB,EAAKC,EAAM32B,EAAIhT,GAAOiT,EAAU,IAAM/e,EAAM,IAAoB8L,EAY/E3B,QAAQ,KAAM,MAAMA,QAAQ,MAAO,MAZmD6U,EAAYD,EAAS/e,EAAKkL,EAAQY,QAEpH9L,KAAO4c,EAASoF,UAAaH,EAAKhD,WAAa7e,KAAO4c,EAASg5B,gBACxEL,EAAU1zB,EAAM2zB,EAAKC,EAAM32B,EAAKC,EAAU,IAAM/e,EAAKgf,EAAYD,EAAS/e,EAAKkL,GAGnFuqC,EAAKvqC,EAAQ6T,EAASC,EAAYC,EAAeC,EAAeC,EAAcC,IApEhFm2B,CAAU1zB,EAHc,mBADxByzB,EAAKzzB,EAAKyzB,IAAMA,GACsBA,EAAKA,EAAGE,KAAO,aAC1CF,EAAGG,MAAQ,aAEKvqC,EAAQ,GAAIA,IAIzC0R,EAASoF,SAAW,CAClB6zB,iBAAiB,EACjBvjB,OAAO,EACPwjB,UAAU,EACVC,sBAAsB,EACtBC,eAAe,EACfC,KAAK,GAGPr5B,EAAS84B,cAAgB,CACvBpjB,OAAO,EACP4jB,OAAO,EACPC,OAAO,EACPC,OAAO,GAGTx5B,EAAS+4B,cAAgB,CACvBU,aAAa,EACb/7B,YAAY,EACZg8B,mBAAmB,EACnB7N,cAAc,GAGhB7rB,EAASg5B,aAAe,CACtBhuC,SAAS,EACT2uC,MAAM,EACNC,OAAO,EACPC,UAAU,EACVC,SAAS,EACTC,SAAS,EACTC,kBAAkB,EAClBC,kBAAkB,EAClBC,YAAY,EACZC,WAAW,EACXC,WAAW,EACXC,SAAS,EACT/b,QAAQ,EACRgc,UAAU,EACVC,UAAU,EACVC,aAAa,EACbC,eAAe,EACfC,eAAe,I,6BCvDjB,IAAIpe,EAAQ16B,EAAOD,QAAU,WAC3BgI,KAAKu0B,OAAS,IAIhB5B,EAAM74B,UAAUw7B,IAAM,SAAmB77B,EAAKN,GAC5C6G,KAAKu0B,OAAO96B,GAAON,GAIrBw5B,EAAM74B,UAAUf,IAAM,SAAmBU,GACvC,OAAOuG,KAAKu0B,OAAO96B,IAIrBk5B,EAAM74B,UAAU06B,IAAM,SAAmB/6B,UAChCuG,KAAKu0B,OAAO96B,IAIrBk5B,EAAM74B,UAAUuP,MAAQ,WACtBrJ,KAAKu0B,OAAS,K,6BCtBhB,IAAIpe,EAAO,EAAQ,GAEf66B,EAAO,6BACPC,EAAO,CAAC,EAAE,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,GAAG,IAC3CC,EAAO,0DACPC,EAAW,wGACXj7B,EAAM,+nCAGNk7B,EAAc,oLAKdxf,EAAM,4rDACNqc,EAAO,+DACPjoC,EAAe,4BACfqrC,EAA4B,+DAC5BlrC,EAAwB,mDAK5B,SAAS0sB,EAAQx5B,GAEf,OADAA,EAAe,QAARA,EAAiB,OAAS,OAC1B8c,EAAKhU,KAAK0wB,EAAQx5B,IA8D3B,SAASi4C,EAAKjuC,GAEZ,IAAIE,EAAUF,EAAIG,MAAMwtC,GACxB,IAAKztC,EAAS,OAAO,EAErB,IAAIguC,GAAQhuC,EAAQ,GAChBiuC,GAASjuC,EAAQ,GACjBkuC,GAAOluC,EAAQ,GAEnB,OAAOiuC,GAAS,GAAKA,GAAS,IAAMC,GAAO,GACnCA,IAAiB,GAATD,GAhBlB,SAAoBD,GAElB,OAAOA,EAAO,GAAM,IAAMA,EAAO,KAAQ,GAAKA,EAAO,KAAQ,GAc/BG,CAAWH,GAAQ,GAAKN,EAAKO,IAI7D,SAASG,EAAKtuC,EAAKuuC,GACjB,IAAIruC,EAAUF,EAAIG,MAAM0tC,GACxB,IAAK3tC,EAAS,OAAO,EAErB,IAAIsuC,EAAOtuC,EAAQ,GACfuuC,EAASvuC,EAAQ,GACjBwrB,EAASxrB,EAAQ,GACjBwuC,EAAWxuC,EAAQ,GACvB,OAASsuC,GAAQ,IAAMC,GAAU,IAAM/iB,GAAU,IAChC,IAAR8iB,GAAwB,IAAVC,GAA0B,IAAV/iB,MAC9B6iB,GAAQG,GA1FnB95C,EAAOD,QAAU66B,EAQjBA,EAAQmf,KAAO,CAEbV,KAAM,6BAENK,KAAM,8EACN,YAAa,0GAEbjD,IAAK,4CACL,gBAAiB,yEACjB,eAAgB0C,EAChBp5B,IAAK4Z,EAILqgB,MAAO,mHACPC,SAAUf,EAEVgB,KAAM,4EAENC,KAAM,qpCACNza,MAAOA,EAEPwW,KAAMF,EAGN,eAAgBjoC,EAChB,4BAA6BqrC,EAE7B,wBAAyBlrC,GAI3B0sB,EAAQ+e,KAAO,CACbN,KAAMA,EACNK,KAAMA,EACN,YAoDF,SAAmBtuC,GAEjB,IAAIgvC,EAAWhvC,EAAIgD,MAAMisC,GACzB,OAA0B,GAAnBD,EAAS/1C,QAAeg1C,EAAKe,EAAS,KAAOV,EAAKU,EAAS,IAAI,IAtDtE3D,IA2DF,SAAarrC,GAEX,OAAOkvC,EAAiBtsC,KAAK5C,IAAQ6S,EAAIjQ,KAAK5C,IA5D9C,gBA3DW,yoCA4DX,eAAgB+tC,EAChBp5B,IAAK4Z,EACLqgB,MAAO,2IACPC,SAAUf,EACVgB,KAAM,4EACNC,KAAM,qpCACNza,MAAOA,EACPwW,KAAMF,EACN,eAAgBjoC,EAChB,4BAA6BqrC,EAC7B,wBAAyBlrC,GAsC3B,IAAImsC,EAAsB,QAQ1B,IAAIC,EAAmB,OAOvB,IAAIC,EAAW,WACf,SAAS7a,EAAMt0B,GACb,GAAImvC,EAASvsC,KAAK5C,GAAM,OAAO,EAC/B,IAEE,OADA,IAAII,OAAOJ,IACJ,EACP,MAAM0xB,GACN,OAAO,K,6BCzIX,IAAI0d,EAAc,EAAQ,IACtBjwC,EAAS,EAAQ,GAAUA,OAE/BvK,EAAOD,QAAU,WACf,IAAI+vB,EAAQ,CACV,CAAEjsB,KAAM,SACN8I,MAAO,CAAE,CAAE,QAAW,CAAC,qBACd,CAAE,QAAW,CAAC,qBAAuB,aAAc,WAC9D,CAAE9I,KAAM,SACN8I,MAAO,CAAE,YAAa,YAAa,UAAW,WAChD,CAAE9I,KAAM,QACN8I,MAAO,CAAE,WAAY,WAAY,QAAS,WAAY,gBACxD,CAAE9I,KAAM,SACN8I,MAAO,CAAE,gBAAiB,gBAAiB,WAAY,eAAgB,gBAC9D,CAAE,WAAc,CAAC,uBAAwB,wBACpD,CAAEA,MAAO,CAAE,OAAQ,QAAS,OAAQ,MAAO,QAAS,QAAS,QAAS,QAGpE8tC,EAAM,CAAE,OAAQ,YA4CpB,OAnCA3qB,EAAMC,IAAMxlB,EAAOkwC,GACnB3qB,EAAMxlB,MAAQC,EAFF,CAAE,SAAU,UAAW,SAAU,QAAS,SAAU,UAAW,SAI3EulB,EAAM9oB,SAAQ,SAAU0zC,GACtBA,EAAM/tC,MAAQ+tC,EAAM/tC,MAAMhF,KAAI,SAAUic,GACtC,IAAI+2B,EACJ,GAAsB,iBAAX/2B,EAAqB,CAC9B,IAAIpiB,EAAMb,OAAOoG,KAAK6c,GAAS,GAC/B+2B,EAAe/2B,EAAQpiB,GACvBoiB,EAAUpiB,EACVm5C,EAAa3zC,SAAQ,SAAU6nC,GAC7B4L,EAAIrqC,KAAKy+B,GACT/e,EAAMC,IAAI8e,IAAK,KASnB,OANA4L,EAAIrqC,KAAKwT,GACEkM,EAAMC,IAAInM,GAAW,CAC9BA,QAASA,EACTtf,KAAMk2C,EAAY52B,GAClB2Q,WAAYomB,MAKhB7qB,EAAMC,IAAIuC,SAAW,CACnB1O,QAAS,WACTtf,KAAMk2C,EAAYloB,UAGhBooB,EAAM72C,OAAMisB,EAAMxlB,MAAMowC,EAAM72C,MAAQ62C,MAG5C5qB,EAAMtM,SAAWjZ,EAAOkwC,EAAI5yC,OAxCb,CACb,UAAW,MAAO,KAAM,QAAS,SAAU,QAC3C,cAAe,UAAW,cAC1B,WAAY,WAAY,YACxB,mBAAoB,kBACpB,kBAAmB,OAAQ,UAoC7BioB,EAAMjM,OAAS,GAERiM,I,6BC7DT9vB,EAAOD,QAAU,CACf,KAAQ,EAAQ,IAChB23C,MAAO,EAAQ,IACfC,MAAO,EAAQ,IACf,SAAY,EAAQ,IACpBK,MAAO,EAAQ,IACfV,SAAU,EAAQ,IAClBrN,aAAc,EAAQ,IACtB,KAAQ,EAAQ,IAChBvN,OAAQ,EAAQ,IAChB,GAAM,EAAQ,IACd5I,MAAO,EAAQ,IACfokB,QAAS,EAAQ,IACjBC,QAAS,EAAQ,IACjBO,SAAU,EAAQ,IAClBC,SAAU,EAAQ,IAClBJ,UAAW,EAAQ,IACnBC,UAAW,EAAQ,IACnBK,cAAe,EAAQ,IACvBC,cAAe,EAAQ,IACvBR,WAAY,EAAQ,IACpBb,IAAK,EAAQ,IACbG,MAAO,EAAQ,IACfa,QAAS,EAAQ,IACjB38B,WAAY,EAAQ,IACpB07B,cAAe,EAAQ,IACvBS,SAAU,EAAQ,IAClBW,YAAa,EAAQ,IACrB75B,SAAU,EAAQ,M,6BC9BpB/e,EAAOD,QAAU,SAAsB0vB,EAAIC,EAAUC,GACnD,IAQIC,EAAQgrB,EARR/uC,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EAEvB,GAAe,KAAXG,GAA6B,MAAXA,EAChBnB,EAAGkZ,QACL/Y,EAASH,EAAGvjB,MACZ0uC,EAAW,aAEXhrB,GAAmC,IAA1BH,EAAGlR,KAAK7R,OAAOkjB,OACxBgrB,EAAW,sBAER,CACL,IAAIC,EAAUprB,EAAGoZ,WAAWpZ,EAAGvQ,OAAQ0R,EAASnB,EAAGkZ,QACnD,QAAgB/3B,IAAZiqC,EAAuB,CACzB,IAAIC,EAAWrrB,EAAG9N,gBAAgBC,QAAQ6N,EAAGvQ,OAAQ0R,GACrD,GAA2B,QAAvBnB,EAAGpM,KAAK03B,YAAuB,CACjCtrB,EAAGW,OAAO/T,MAAMy+B,IACZ1pB,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,qDAAwE4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,sBAA0BtB,EAAGvR,KAAKlT,aAAa4lB,GAAY,QAChM,IAArBnB,EAAGpM,KAAKiO,WACVzlB,GAAO,0CAA+C4jB,EAAGvR,KAAKlT,aAAa4lB,GAAY,MAErFnB,EAAGpM,KAAKkO,UACV1lB,GAAO,cAAiB4jB,EAAGvR,KAAKnR,eAAe6jB,GAAY,mCAAsCnB,EAAa,WAAI,YAAc,EAAU,KAE5I5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAE/BolB,IACFplB,GAAO,sBAEJ,IAA2B,UAAvB4jB,EAAGpM,KAAK03B,YAMjB,MAAM,IAAItrB,EAAG9N,gBAAgB8N,EAAGvQ,OAAQ0R,EAASkqB,GALjDrrB,EAAGW,OAAOC,KAAKyqB,GACX7pB,IACFplB,GAAO,uBAKN,GAAIgvC,EAAQlR,OAAQ,CACzB,IAAIqR,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACvBurB,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC/B+yB,EAAItuC,OAASmuC,EAAQnuC,OACrBsuC,EAAIlqB,WAAa,GACjBkqB,EAAIhqB,cAAgBJ,EAEpB/kB,GAAO,IADK4jB,EAAG1Q,SAASi8B,GAAKrvC,QAAQ,oBAAqBkvC,EAAQv2C,MAC3C,IACnB2sB,IACFplB,GAAO,QAAU,EAAe,aAGlC+jB,GAA4B,IAAnBirB,EAAQjrB,QAAoBH,EAAGvjB,QAA4B,IAAnB2uC,EAAQjrB,OACzDgrB,EAAWC,EAAQv2C,KAGvB,GAAIs2C,EAAU,CACZ,IAAIxpB,KAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,GACF4jB,EAAGpM,KAAK63B,YACVrvC,GAAO,IAAM,EAAa,eAE1BA,GAAO,IAAM,EAAa,KAE5BA,GAAO,IAAM,EAAU,qBACH,MAAhB4jB,EAAGmZ,YACL/8B,GAAO,MAAS4jB,EAAY,WAK9B,IAAI0rB,EADJtvC,GAAO,OAFW6kB,EAAW,QAAWA,EAAW,GAAM,IAAM,cAEhC,OADPA,EAAWjB,EAAGmC,YAAYlB,GAAY,sBACC,gBAG/D,GADA7kB,EAAMulB,EAAWxf,MACbge,EAAQ,CACV,IAAKH,EAAGvjB,MAAO,MAAM,IAAI+B,MAAM,0CAC3BgjB,IACFplB,GAAO,QAAU,EAAW,MAE9BA,GAAO,gBAAkB,EAAmB,KACxColB,IACFplB,GAAO,IAAM,EAAW,aAE1BA,GAAO,4KACHolB,IACFplB,GAAO,IAAM,EAAW,cAE1BA,GAAO,MACHolB,IACFplB,GAAO,QAAU,EAAW,aAG9BA,GAAO,SAAW,EAAmB,uCAAyC,EAAa,0CAA4C,EAAa,wCAChJolB,IACFplB,GAAO,YAIb,OAAOA,I,6BCzHT7L,EAAOD,QAAU,SAAwB0vB,EAAIC,EAAUC,GACrD,IAAI9jB,EAAM,IACN+kB,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzB8pB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACnB2rB,EAAiB,GACrBJ,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC3BozB,EAAiBL,EAAI97B,OACvBo8B,GAAmB,EACjBvoB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIY,EAAMV,GAAM,EACdC,EAAKH,EAAK1uB,OAAS,EACd4uB,EAAKC,GACVS,EAAOZ,EAAKE,GAAM,IACbxD,EAAGpM,KAAK4M,eAAgC,iBAAR0D,GAAoBhzB,OAAOoG,KAAK4sB,GAAMtvB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeknB,EAAMlE,EAAGK,MAAMC,QAC5HurB,GAAmB,EACnBN,EAAItuC,OAASinB,EACbqnB,EAAIlqB,WAAaD,EAAc,IAAMoC,EAAK,IAC1C+nB,EAAIhqB,cAAgBD,EAAiB,IAAMkC,EAC3CpnB,GAAO,KAAQ4jB,EAAG1Q,SAASi8B,GAAQ,IACnCA,EAAI97B,OAASm8B,EACTpqB,IACFplB,GAAO,QAAU,EAAe,OAChCuvC,GAAkB,MAa1B,OARInqB,IAEAplB,GADEyvC,EACK,gBAEA,IAAOF,EAAe5mC,MAAM,GAAI,GAAM,KAGjD3I,EAAM4jB,EAAGvR,KAAKtS,YAAYC,K,6BCvC5B7L,EAAOD,QAAU,SAAwB0vB,EAAIC,EAAUC,GACrD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnB8qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACnB2rB,EAAiB,GACrBJ,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAI/B,GAHqB2I,EAAQsZ,OAAM,SAASvW,GAC1C,OAAQlE,EAAGpM,KAAK4M,eAAgC,iBAAR0D,GAAoBhzB,OAAOoG,KAAK4sB,GAAMtvB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeknB,EAAMlE,EAAGK,MAAMC,QAE/G,CAClB,IAAIsrB,EAAiBL,EAAI97B,OACzBrT,GAAO,QAAU,EAAU,kBAAoB,EAAW,cAC1D,IAAI2vC,EAAgB/rB,EAAGgC,cACvBhC,EAAGgC,cAAgBupB,EAAIvpB,eAAgB,EACvC,IAAIsB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIY,EAAMV,GAAM,EACdC,EAAKH,EAAK1uB,OAAS,EACd4uB,EAAKC,GACVS,EAAOZ,EAAKE,GAAM,GAClB+nB,EAAItuC,OAASinB,EACbqnB,EAAIlqB,WAAaD,EAAc,IAAMoC,EAAK,IAC1C+nB,EAAIhqB,cAAgBD,EAAiB,IAAMkC,EAC3CpnB,GAAO,KAAQ4jB,EAAG1Q,SAASi8B,GAAQ,IACnCA,EAAI97B,OAASm8B,EACbxvC,GAAO,IAAM,EAAW,MAAQ,EAAW,OAAS,EAAe,UAAY,EAAW,OAC1FuvC,GAAkB,IAGtB3rB,EAAGgC,cAAgBupB,EAAIvpB,cAAgB+pB,EACvC3vC,GAAO,IAAM,EAAmB,SAAW,EAAW,sBAC9B,IAApB4jB,EAAG4B,cACLxlB,GAAO,sDAAyE4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kBACtI,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,oDAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACF4jB,EAAGgC,eAAiBR,IAEnBxB,EAAGvjB,MACLL,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,uBAAyB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,4BACrH4jB,EAAGpM,KAAK6N,YACVrlB,GAAO,OAETA,EAAM4jB,EAAGvR,KAAKtS,YAAYC,QAEtBolB,IACFplB,GAAO,iBAGX,OAAOA,I,6BCvET7L,EAAOD,QAAU,SAA0B0vB,EAAIC,EAAUC,GACvD,IAAI9jB,EAAM,IACN+kB,EAAUnB,EAAG/iB,OAAOgjB,GACpBqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAE1C4C,GADiB7C,EAAGpM,KAAK6N,UACdzB,EAAGvR,KAAKnR,eAAe6jB,IAMtC,OALyB,IAArBnB,EAAGpM,KAAKiP,SACVzmB,GAAO,gBAAkB,EAAa,KACF,mBAApB4jB,EAAGpM,KAAKiP,WACxBzmB,GAAO,wBAA0B,EAAa,KAAQ4jB,EAAGvR,KAAKnR,eAAegkB,GAAmB,4BAE3FllB,I,6BCXT7L,EAAOD,QAAU,SAAwB0vB,EAAIC,EAAUC,GACrD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnBkE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,IACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,MAKlG+C,IACH9oB,GAAO,cAAgB,EAAS,qBAAuB,EAAgB,KAEzEA,GAAO,OAAS,EAAW,YAAc,EAAU,WAAa,EAAS,WAAa,EAAW,SACjG,IAAIulB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,sDAAyE4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,oCAAsC,EAAS,OACrL,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,8CAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHolB,IACFplB,GAAO,YAEFA,I,6BCrDT7L,EAAOD,QAAU,SAA2B0vB,EAAIC,EAAUC,GACxD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnB8qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GAEvBurB,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC3BwzB,EAAO,IAAMhrB,EACfirB,EAAWV,EAAIrqB,UAAYlB,EAAGkB,UAAY,EAC1CgrB,EAAY,OAASD,EACrBL,EAAiB5rB,EAAGvQ,OACpB08B,EAAmBnsB,EAAGpM,KAAK4M,eAAmC,iBAAXW,GAAuBjwB,OAAOoG,KAAK6pB,GAASvsB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAemkB,EAASnB,EAAGK,MAAMC,KAEvJ,GADAlkB,GAAO,OAAS,EAAU,iBAAmB,EAAW,IACpD+vC,EAAiB,CACnB,IAAIJ,EAAgB/rB,EAAGgC,cACvBhC,EAAGgC,cAAgBupB,EAAIvpB,eAAgB,EACvCupB,EAAItuC,OAASkkB,EACboqB,EAAIlqB,WAAaD,EACjBmqB,EAAIhqB,cAAgBD,EACpBllB,GAAO,QAAU,EAAe,sBAAwB,EAAS,SAAW,EAAS,MAAQ,EAAU,YAAc,EAAS,SAC9HmvC,EAAIpS,UAAYnZ,EAAGvR,KAAKlR,YAAYyiB,EAAGmZ,UAAW6S,EAAMhsB,EAAGpM,KAAKnW,cAAc,GAC9E,IAAI0mB,EAAYlmB,EAAQ,IAAM+tC,EAAO,IACrCT,EAAIppB,YAAY8pB,GAAYD,EAC5B,IAAInnB,EAAQ7E,EAAG1Q,SAASi8B,GACxBA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAC5C9vC,GAAO,IAAO4jB,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAAc,IAEjE/nB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAExEA,GAAO,QAAU,EAAe,eAChC4jB,EAAGgC,cAAgBupB,EAAIvpB,cAAgB+pB,EACvC3vC,GAAO,UAAoC,EAAe,WAE1DA,GAAO,QAAU,EAAU,kBAE7B,IAAIulB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,yDAA4E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kBACzI,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,8CAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAoBZ,OAnBAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,aACH+vC,IACF/vC,GAAO,cAAgB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,6BAE9G4jB,EAAGpM,KAAK6N,YACVrlB,GAAO,OAETA,EAAM4jB,EAAGvR,KAAKtS,YAAYC,K,6BC9E5B7L,EAAOD,QAAU,SAA+B0vB,EAAIC,EAAUC,GAC5D,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9B6qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACnB2rB,EAAiB,GACrBJ,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC3B4zB,EAAc,GAChBC,EAAgB,GAChBC,EAAiBtsB,EAAGpM,KAAK24B,cAC3B,IAAKC,KAAarrB,EAAS,CACzB,IAAI+C,EAAO/C,EAAQqrB,GACfC,EAAQ/0C,MAAMC,QAAQusB,GAAQmoB,EAAgBD,EAClDK,EAAMD,GAAatoB,EAErB9nB,GAAO,OAAS,EAAU,aAC1B,IAAIswC,EAAoB1sB,EAAGmZ,UAE3B,IAAK,IAAIqT,KADTpwC,GAAO,cAAgB,EAAS,IACViwC,EAEpB,IADAI,EAAQJ,EAAcG,IACZ53C,OAAQ,CAKhB,GAJAwH,GAAO,SAAW,EAAW4jB,EAAGvR,KAAKnT,YAAYkxC,GAAc,kBAC3DF,IACFlwC,GAAO,4CAA8C,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAaixC,GAAc,OAE1GhrB,EAAe,CACjBplB,GAAO,SACP,IAAIknB,EAAOmpB,EACX,GAAInpB,EAGF,IAFA,IAAkBE,GAAM,EACtBC,EAAKH,EAAK1uB,OAAS,EACd4uB,EAAKC,GAAI,CACdM,EAAeT,EAAKE,GAAM,GACtBA,IACFpnB,GAAO,QAITA,GAAO,SADLuwC,EAAW1uC,GADT2uC,EAAQ5sB,EAAGvR,KAAKnT,YAAYyoB,KAEF,kBAC1BuoB,IACFlwC,GAAO,8CAAgD,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAawoB,GAAiB,OAEnH3nB,GAAO,gBAAkB,EAAS,MAAS4jB,EAAGvR,KAAKnR,eAAe0iB,EAAGpM,KAAKnW,aAAesmB,EAAe6oB,GAAU,OAGtHxwC,GAAO,SACP,IAAIywC,EAAgB,UAAY7rB,EAC9B8rB,EAAmB,OAAUD,EAAgB,OAC3C7sB,EAAGpM,KAAK0b,yBACVtP,EAAGmZ,UAAYnZ,EAAGpM,KAAKnW,aAAeuiB,EAAGvR,KAAKlR,YAAYmvC,EAAmBG,GAAe,GAAQH,EAAoB,MAAQG,GAElI,IAAIlrB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,6DAAgF4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,2BAA+BtB,EAAGvR,KAAKlT,aAAaixC,GAAc,wBAA4B,EAAqB,iBAAqBC,EAAY,OAAI,YAAgBzsB,EAAGvR,KAAKlT,aAA6B,GAAhBkxC,EAAM73C,OAAc63C,EAAM,GAAKA,EAAM3lC,KAAK,OAAU,QAC9X,IAArBkZ,EAAGpM,KAAKiO,WACVzlB,GAAO,4BACa,GAAhBqwC,EAAM73C,OACRwH,GAAO,YAAe4jB,EAAGvR,KAAKlT,aAAakxC,EAAM,IAEjDrwC,GAAO,cAAiB4jB,EAAGvR,KAAKlT,aAAakxC,EAAM3lC,KAAK,OAE1D1K,GAAO,kBAAqB4jB,EAAGvR,KAAKlT,aAAaixC,GAAc,iBAE7DxsB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,mFAE9B,CACLA,GAAO,QACP,IAAIunB,EAAO8oB,EACX,GAAI9oB,EAGF,IAFA,IAAII,EAAcH,GAAM,EACtBC,EAAKF,EAAK/uB,OAAS,EACdgvB,EAAKC,GAAI,CACdE,EAAeJ,EAAKC,GAAM,GAC1B,IAAIgpB,EAAQ5sB,EAAGvR,KAAKnT,YAAYyoB,GAE9B4oB,GADAG,EAAmB9sB,EAAGvR,KAAKlT,aAAawoB,GAC7B9lB,EAAQ2uC,GACjB5sB,EAAGpM,KAAK0b,yBACVtP,EAAGmZ,UAAYnZ,EAAGvR,KAAK7Q,QAAQ8uC,EAAmB3oB,EAAc/D,EAAGpM,KAAKnW,eAE1ErB,GAAO,SAAW,EAAa,kBAC3BkwC,IACFlwC,GAAO,8CAAgD,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAawoB,GAAiB,OAEnH3nB,GAAO,qBACiB,IAApB4jB,EAAG4B,cACLxlB,GAAO,6DAAgF4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,2BAA+BtB,EAAGvR,KAAKlT,aAAaixC,GAAc,wBAA4B,EAAqB,iBAAqBC,EAAY,OAAI,YAAgBzsB,EAAGvR,KAAKlT,aAA6B,GAAhBkxC,EAAM73C,OAAc63C,EAAM,GAAKA,EAAM3lC,KAAK,OAAU,QAC9X,IAArBkZ,EAAGpM,KAAKiO,WACVzlB,GAAO,4BACa,GAAhBqwC,EAAM73C,OACRwH,GAAO,YAAe4jB,EAAGvR,KAAKlT,aAAakxC,EAAM,IAEjDrwC,GAAO,cAAiB4jB,EAAGvR,KAAKlT,aAAakxC,EAAM3lC,KAAK,OAE1D1K,GAAO,kBAAqB4jB,EAAGvR,KAAKlT,aAAaixC,GAAc,iBAE7DxsB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,kFAIbA,GAAO,QACHolB,IACFmqB,GAAkB,IAClBvvC,GAAO,YAIb4jB,EAAGmZ,UAAYuT,EACf,IAAId,EAAiBL,EAAI97B,OACzB,IAAK,IAAI+8B,KAAaJ,EAAa,CAC7BloB,EAAOkoB,EAAYI,IAClBxsB,EAAGpM,KAAK4M,eAAgC,iBAAR0D,GAAoBhzB,OAAOoG,KAAK4sB,GAAMtvB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeknB,EAAMlE,EAAGK,MAAMC,QAC5HlkB,GAAO,IAAM,EAAe,iBAAmB,EAAW4jB,EAAGvR,KAAKnT,YAAYkxC,GAAc,kBACxFF,IACFlwC,GAAO,4CAA8C,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAaixC,GAAc,OAE9GpwC,GAAO,OACPmvC,EAAItuC,OAASinB,EACbqnB,EAAIlqB,WAAaD,EAAcpB,EAAGvR,KAAKnT,YAAYkxC,GACnDjB,EAAIhqB,cAAgBD,EAAiB,IAAMtB,EAAGvR,KAAKzP,eAAewtC,GAClEpwC,GAAO,KAAQ4jB,EAAG1Q,SAASi8B,GAAQ,IACnCA,EAAI97B,OAASm8B,EACbxvC,GAAO,OACHolB,IACFplB,GAAO,QAAU,EAAe,OAChCuvC,GAAkB,MAQxB,OAJInqB,IACFplB,GAAO,MAAQ,EAAmB,QAAU,EAAU,iBAExDA,EAAM4jB,EAAGvR,KAAKtS,YAAYC,K,6BCpK5B7L,EAAOD,QAAU,SAAuB0vB,EAAIC,EAAUC,GACpD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnBkE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,IACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,MAKvG,IAAIqB,EAAK,IAAMxC,EACb+rB,EAAW,SAAW/rB,EACnBkE,IACH9oB,GAAO,QAAU,EAAa,qBAAuB,EAAgB,KAEvEA,GAAO,OAAS,EAAW,IACvB8oB,IACF9oB,GAAO,cAAgB,EAAS,mBAAqB,EAAW,0CAA4C,EAAS,MAAQ,EAAW,oBAE1IA,GAAY,EAAW,qBAAuB,EAAO,OAAS,EAAO,IAAM,EAAa,YAAc,EAAO,iBAAmB,EAAU,KAAO,EAAa,IAAM,EAAO,SAAW,EAAW,oBAC7L8oB,IACF9oB,GAAO,SAETA,GAAO,SAAW,EAAW,SAC7B,IAAIulB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,qDAAwE4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,qCAAuC,EAAS,OACrL,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,+DAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHolB,IACFplB,GAAO,YAEFA,I,6BC/DT7L,EAAOD,QAAU,SAAyB0vB,EAAIC,EAAUC,GACtD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAClC,IAAuB,IAAnBjB,EAAGpM,KAAKqZ,OAIV,OAHIzL,IACFplB,GAAO,iBAEFA,EAET,IACE6oB,EADEC,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB,IAAI6rB,EAAkBhtB,EAAGpM,KAAKq5B,eAC5BC,EAAgBx1C,MAAMC,QAAQq1C,GAChC,GAAI9nB,EAAS,CAIX9oB,GAAO,SAHH+wC,EAAU,SAAWnsB,GAGI,cAAgB,EAAiB,WAF5DosB,EAAY,WAAapsB,GAE6D,aAAe,EAAY,qBAAyB,EAAY,0BAA4B,EAAY,mBAD9LqsB,EAAc,aAAersB,GACqM,MAAQ,EAAc,OAAS,EAAY,0BAA8B,EAAc,OACvThB,EAAGvjB,QACLL,GAAO,aAAe,EAAS,MAAQ,EAAY,YAErDA,GAAO,IAAM,EAAY,MAAQ,EAAY,sBACzC8oB,IACF9oB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,KACgB,UAAnB4wC,IACF5wC,GAAO,KAAO,EAAiB,QAAU,EAAY,IACjD8wC,IACF9wC,GAAO,yCAA2C,EAAiB,YAErEA,GAAO,SAETA,GAAO,KAAO,EAAY,OAAS,EAAgB,QAAW,EAAc,iBAAoB,EAAY,oBACxG4jB,EAAGvjB,MACLL,GAAO,UAAY,EAAS,YAAc,EAAY,IAAM,EAAU,OAAS,EAAY,IAAM,EAAU,MAE3GA,GAAO,IAAM,EAAY,IAAM,EAAU,KAE3CA,GAAO,MAAQ,EAAY,SAAW,EAAU,cAC3C,CACL,IAAI+wC,EACJ,KADIA,EAAUntB,EAAGmL,QAAQhK,IACX,CACZ,GAAuB,UAAnB6rB,EAKF,OAJAhtB,EAAGW,OAAOC,KAAK,mBAAqBO,EAAU,gCAAkCnB,EAAGuB,cAAgB,KAC/FC,IACFplB,GAAO,iBAEFA,EACF,GAAI8wC,GAAiBF,EAAgBz2C,QAAQ4qB,IAAY,EAI9D,OAHIK,IACFplB,GAAO,iBAEFA,EAEP,MAAM,IAAIoC,MAAM,mBAAqB2iB,EAAU,gCAAkCnB,EAAGuB,cAAgB,KAGxG,IAAI6rB,EACAC,GADAD,EAA8B,iBAAXD,KAAyBA,aAAmBpxC,SAAWoxC,EAAQ79B,WACvD69B,EAAQ/4C,MAAQ,SAC/C,GAAIg5C,EAAW,CACb,IAAIjtB,GAA2B,IAAlBgtB,EAAQ1wC,MACrB0wC,EAAUA,EAAQ79B,SAEpB,GAAI+9B,GAAentB,EAIjB,OAHIsB,IACFplB,GAAO,iBAEFA,EAET,GAAI+jB,EAAQ,CACV,IAAKH,EAAGvjB,MAAO,MAAM,IAAI+B,MAAM,+BAE/BpC,GAAO,iBADHkxC,EAAa,UAAYttB,EAAGvR,KAAKnT,YAAY6lB,GAAW,aACpB,IAAM,EAAU,aACnD,CACL/kB,GAAO,UACP,IAAIkxC,EAAa,UAAYttB,EAAGvR,KAAKnT,YAAY6lB,GAC7CisB,IAAWE,GAAc,aAE3BlxC,GADoB,mBAAX+wC,EACF,IAAM,EAAe,IAAM,EAAU,KAErC,IAAM,EAAe,SAAW,EAAU,KAEnD/wC,GAAO,QAGX,IAAIulB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,uDAA0E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,yBAE9JllB,GADE8oB,EACK,GAAK,EAEL,GAAMlF,EAAGvR,KAAKnR,eAAe6jB,GAEtC/kB,GAAO,QACkB,IAArB4jB,EAAGpM,KAAKiO,WACVzlB,GAAO,sCAELA,GADE8oB,EACK,OAAU,EAAiB,OAE3B,GAAMlF,EAAGvR,KAAKlT,aAAa4lB,GAEpC/kB,GAAO,QAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,eAELA,GADE8oB,EACK,kBAAoB,EAEpB,GAAMlF,EAAGvR,KAAKnR,eAAe6jB,GAEtC/kB,GAAO,2CAA8C4jB,EAAa,WAAI,YAAc,EAAU,KAEhG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MACHolB,IACFplB,GAAO,YAEFA,I,6BCnJT7L,EAAOD,QAAU,SAAqB0vB,EAAIC,EAAUC,GAClD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnB8qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACvBurB,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC3B+0B,EAAWvtB,EAAG/iB,OAAa,KAC7BuwC,EAAWxtB,EAAG/iB,OAAa,KAC3BwwC,OAA4BtsC,IAAbosC,IAA2BvtB,EAAGpM,KAAK4M,eAAoC,iBAAZ+sB,GAAwBr8C,OAAOoG,KAAKi2C,GAAU34C,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeuwC,EAAUvtB,EAAGK,MAAMC,MAC/KotB,OAA4BvsC,IAAbqsC,IAA2BxtB,EAAGpM,KAAK4M,eAAoC,iBAAZgtB,GAAwBt8C,OAAOoG,KAAKk2C,GAAU54C,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAewwC,EAAUxtB,EAAGK,MAAMC,MAC/KsrB,EAAiBL,EAAI97B,OACvB,GAAIg+B,GAAgBC,EAAc,CAChC,IAAIC,EACJpC,EAAI3pB,cAAe,EACnB2pB,EAAItuC,OAASkkB,EACboqB,EAAIlqB,WAAaD,EACjBmqB,EAAIhqB,cAAgBD,EACpBllB,GAAO,QAAU,EAAU,kBAAoB,EAAW,aAC1D,IAAI2vC,EAAgB/rB,EAAGgC,cACvBhC,EAAGgC,cAAgBupB,EAAIvpB,eAAgB,EACvC5lB,GAAO,KAAQ4jB,EAAG1Q,SAASi8B,GAAQ,IACnCA,EAAI97B,OAASm8B,EACbL,EAAI3pB,cAAe,EACnBxlB,GAAO,cAAgB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,6BAChH4jB,EAAGgC,cAAgBupB,EAAIvpB,cAAgB+pB,EACnC0B,GACFrxC,GAAO,QAAU,EAAe,QAChCmvC,EAAItuC,OAAS+iB,EAAG/iB,OAAa,KAC7BsuC,EAAIlqB,WAAarB,EAAGqB,WAAa,QACjCkqB,EAAIhqB,cAAgBvB,EAAGuB,cAAgB,QACvCnlB,GAAO,KAAQ4jB,EAAG1Q,SAASi8B,GAAQ,IACnCA,EAAI97B,OAASm8B,EACbxvC,GAAO,IAAM,EAAW,MAAQ,EAAe,KAC3CqxC,GAAgBC,EAElBtxC,GAAO,SADPuxC,EAAY,WAAa3sB,GACM,cAE/B2sB,EAAY,SAEdvxC,GAAO,MACHsxC,IACFtxC,GAAO,aAGTA,GAAO,SAAW,EAAe,OAE/BsxC,IACFnC,EAAItuC,OAAS+iB,EAAG/iB,OAAa,KAC7BsuC,EAAIlqB,WAAarB,EAAGqB,WAAa,QACjCkqB,EAAIhqB,cAAgBvB,EAAGuB,cAAgB,QACvCnlB,GAAO,KAAQ4jB,EAAG1Q,SAASi8B,GAAQ,IACnCA,EAAI97B,OAASm8B,EACbxvC,GAAO,IAAM,EAAW,MAAQ,EAAe,KAC3CqxC,GAAgBC,EAElBtxC,GAAO,SADPuxC,EAAY,WAAa3sB,GACM,cAE/B2sB,EAAY,SAEdvxC,GAAO,OAETA,GAAO,SAAW,EAAW,sBACL,IAApB4jB,EAAG4B,cACLxlB,GAAO,mDAAsE4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,gCAAkC,EAAc,OACnL,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,mCAAsC,EAAc,mBAEzD4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACF4jB,EAAGgC,eAAiBR,IAEnBxB,EAAGvjB,MACLL,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,QACHolB,IACFplB,GAAO,YAETA,EAAM4jB,EAAGvR,KAAKtS,YAAYC,QAEtBolB,IACFplB,GAAO,iBAGX,OAAOA,I,6BCrGT7L,EAAOD,QAAU,SAAwB0vB,EAAIC,EAAUC,GACrD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnB8qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACnB2rB,EAAiB,GACrBJ,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC3BwzB,EAAO,IAAMhrB,EACfirB,EAAWV,EAAIrqB,UAAYlB,EAAGkB,UAAY,EAC1CgrB,EAAY,OAASD,EACrBL,EAAiB5rB,EAAGvQ,OAEtB,GADArT,GAAO,OAAS,EAAU,iBAAmB,EAAW,IACpD1E,MAAMC,QAAQwpB,GAAU,CAC1B,IAAIysB,EAAmB5tB,EAAG/iB,OAAO2qC,gBACjC,IAAyB,IAArBgG,EAA4B,CAC9BxxC,GAAO,IAAM,EAAW,MAAQ,EAAU,cAAiB+kB,EAAc,OAAI,KAC7E,IAAI0sB,EAAqBvsB,EACzBA,EAAiBtB,EAAGuB,cAAgB,mBACpCnlB,GAAO,UAAY,EAAW,SAC9B,IAAIulB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,gEAAmF4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,uBAA0BH,EAAc,OAAI,OAC5L,IAArBnB,EAAGpM,KAAKiO,WACVzlB,GAAO,0CAA8C+kB,EAAc,OAAI,YAErEnB,EAAGpM,KAAKkO,UACV1lB,GAAO,mDAAsD4jB,EAAa,WAAI,YAAc,EAAU,KAExG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MACPklB,EAAiBusB,EACbrsB,IACFmqB,GAAkB,IAClBvvC,GAAO,YAGX,IAAIknB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIY,EAAMV,GAAM,EACdC,EAAKH,EAAK1uB,OAAS,EACd4uB,EAAKC,GAEV,GADAS,EAAOZ,EAAKE,GAAM,GACbxD,EAAGpM,KAAK4M,eAAgC,iBAAR0D,GAAoBhzB,OAAOoG,KAAK4sB,GAAMtvB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeknB,EAAMlE,EAAGK,MAAMC,KAAO,CACnIlkB,GAAO,IAAM,EAAe,gBAAkB,EAAU,aAAe,EAAO,OAC9E,IAAI+nB,EAAYlmB,EAAQ,IAAMulB,EAAK,IACnC+nB,EAAItuC,OAASinB,EACbqnB,EAAIlqB,WAAaD,EAAc,IAAMoC,EAAK,IAC1C+nB,EAAIhqB,cAAgBD,EAAiB,IAAMkC,EAC3C+nB,EAAIpS,UAAYnZ,EAAGvR,KAAKlR,YAAYyiB,EAAGmZ,UAAW3V,EAAIxD,EAAGpM,KAAKnW,cAAc,GAC5E8tC,EAAIppB,YAAY8pB,GAAYzoB,EAC5B,IAAIqB,EAAQ7E,EAAG1Q,SAASi8B,GACxBA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAC5C9vC,GAAO,IAAO4jB,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAAc,IAEjE/nB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAExEA,GAAO,OACHolB,IACFplB,GAAO,QAAU,EAAe,OAChCuvC,GAAkB,KAK1B,GAA+B,iBAApBiC,IAAiC5tB,EAAGpM,KAAK4M,eAA4C,iBAApBotB,GAAgC18C,OAAOoG,KAAKs2C,GAAkBh5C,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAe4wC,EAAkB5tB,EAAGK,MAAMC,MAAO,CAC9MirB,EAAItuC,OAAS2wC,EACbrC,EAAIlqB,WAAarB,EAAGqB,WAAa,mBACjCkqB,EAAIhqB,cAAgBvB,EAAGuB,cAAgB,mBACvCnlB,GAAO,IAAM,EAAe,gBAAkB,EAAU,aAAgB+kB,EAAc,OAAI,iBAAmB,EAAS,MAASA,EAAc,OAAI,KAAO,EAAS,MAAQ,EAAU,YAAc,EAAS,SAC1MoqB,EAAIpS,UAAYnZ,EAAGvR,KAAKlR,YAAYyiB,EAAGmZ,UAAW6S,EAAMhsB,EAAGpM,KAAKnW,cAAc,GAC1E0mB,EAAYlmB,EAAQ,IAAM+tC,EAAO,IACrCT,EAAIppB,YAAY8pB,GAAYD,EACxBnnB,EAAQ7E,EAAG1Q,SAASi8B,GACxBA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAC5C9vC,GAAO,IAAO4jB,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAAc,IAEjE/nB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAEpEolB,IACFplB,GAAO,SAAW,EAAe,aAEnCA,GAAO,SACHolB,IACFplB,GAAO,QAAU,EAAe,OAChCuvC,GAAkB,WAGjB,GAAK3rB,EAAGpM,KAAK4M,eAAmC,iBAAXW,GAAuBjwB,OAAOoG,KAAK6pB,GAASvsB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAemkB,EAASnB,EAAGK,MAAMC,KAAO,CACnJirB,EAAItuC,OAASkkB,EACboqB,EAAIlqB,WAAaD,EACjBmqB,EAAIhqB,cAAgBD,EACpBllB,GAAO,cAAgB,EAAS,SAAqB,EAAS,MAAQ,EAAU,YAAc,EAAS,SACvGmvC,EAAIpS,UAAYnZ,EAAGvR,KAAKlR,YAAYyiB,EAAGmZ,UAAW6S,EAAMhsB,EAAGpM,KAAKnW,cAAc,GAC1E0mB,EAAYlmB,EAAQ,IAAM+tC,EAAO,IACrCT,EAAIppB,YAAY8pB,GAAYD,EACxBnnB,EAAQ7E,EAAG1Q,SAASi8B,GACxBA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAC5C9vC,GAAO,IAAO4jB,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAAc,IAEjE/nB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAEpEolB,IACFplB,GAAO,SAAW,EAAe,aAEnCA,GAAO,KAMT,OAJIolB,IACFplB,GAAO,IAAM,EAAmB,QAAU,EAAU,iBAEtDA,EAAM4jB,EAAGvR,KAAKtS,YAAYC,K,6BCzI5B7L,EAAOD,QAAU,SAA6B0vB,EAAIC,EAAUC,GAC1D,IASE+E,EATE7oB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BiE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB/kB,GAAO,eAAiB,EAAS,QAC7B8oB,IACF9oB,GAAO,IAAM,EAAiB,8BAAgC,EAAiB,oBAEjFA,GAAO,aAAe,EAAS,MAAQ,EAAU,MAAQ,EAAiB,KACtE4jB,EAAGpM,KAAKk6B,oBACV1xC,GAAO,gCAAkC,EAAS,eAAiB,EAAS,UAAa4jB,EAAGpM,KAAwB,oBAAI,IAExHxX,GAAO,YAAc,EAAS,yBAA2B,EAAS,KAEpEA,GAAO,MACH8oB,IACF9oB,GAAO,SAETA,GAAO,UACP,IAAIulB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,2DAA8E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,4BAA8B,EAAiB,OAC1L,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,sCAELA,GADE8oB,EACK,OAAU,EAEL,EAAiB,KAG7BlF,EAAGpM,KAAKkO,UACV1lB,GAAO,eAELA,GADE8oB,EACK,kBAAoB,EAEpB,GAAK,EAEd9oB,GAAO,2CAA8C4jB,EAAa,WAAI,YAAc,EAAU,KAEhG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHolB,IACFplB,GAAO,YAEFA,I,6BC1ET7L,EAAOD,QAAU,SAAsB0vB,EAAIC,EAAUC,GACnD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9B6qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACvBurB,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC/B,GAAKwH,EAAGpM,KAAK4M,eAAmC,iBAAXW,GAAuBjwB,OAAOoG,KAAK6pB,GAASvsB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAemkB,EAASnB,EAAGK,MAAMC,KAAO,CAC5IirB,EAAItuC,OAASkkB,EACboqB,EAAIlqB,WAAaD,EACjBmqB,EAAIhqB,cAAgBD,EACpBllB,GAAO,QAAU,EAAU,eAC3B,IAGI2xC,EAHAhC,EAAgB/rB,EAAGgC,cACvBhC,EAAGgC,cAAgBupB,EAAIvpB,eAAgB,EACvCupB,EAAI3pB,cAAe,EAEf2pB,EAAI33B,KAAK6N,YACXssB,EAAmBxC,EAAI33B,KAAK6N,UAC5B8pB,EAAI33B,KAAK6N,WAAY,GAEvBrlB,GAAO,IAAO4jB,EAAG1Q,SAASi8B,GAAQ,IAClCA,EAAI3pB,cAAe,EACfmsB,IAAkBxC,EAAI33B,KAAK6N,UAAYssB,GAC3C/tB,EAAGgC,cAAgBupB,EAAIvpB,cAAgB+pB,EACvC3vC,GAAO,QAAU,EAAe,SAChC,IAAIulB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,oDAAuE4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kBACpI,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,sCAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,uBAAyB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,4BACrH4jB,EAAGpM,KAAK6N,YACVrlB,GAAO,YAGTA,GAAO,kBACiB,IAApB4jB,EAAG4B,cACLxlB,GAAO,oDAAuE4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kBACpI,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,sCAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,+EACHolB,IACFplB,GAAO,kBAGX,OAAOA,I,6BCjFT7L,EAAOD,QAAU,SAAwB0vB,EAAIC,EAAUC,GACrD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnB8qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACnB2rB,EAAiB,GACrBJ,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC3BozB,EAAiBL,EAAI97B,OACvBu+B,EAAa,YAAchtB,EAC3BitB,EAAkB,iBAAmBjtB,EACvC5kB,GAAO,OAAS,EAAU,eAAiB,EAAe,cAAgB,EAAW,cAAgB,EAAoB,YACzH,IAAI2vC,EAAgB/rB,EAAGgC,cACvBhC,EAAGgC,cAAgBupB,EAAIvpB,eAAgB,EACvC,IAAIsB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIY,EAAMV,GAAM,EACdC,EAAKH,EAAK1uB,OAAS,EACd4uB,EAAKC,GACVS,EAAOZ,EAAKE,GAAM,IACbxD,EAAGpM,KAAK4M,eAAgC,iBAAR0D,GAAoBhzB,OAAOoG,KAAK4sB,GAAMtvB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeknB,EAAMlE,EAAGK,MAAMC,OAC5HirB,EAAItuC,OAASinB,EACbqnB,EAAIlqB,WAAaD,EAAc,IAAMoC,EAAK,IAC1C+nB,EAAIhqB,cAAgBD,EAAiB,IAAMkC,EAC3CpnB,GAAO,KAAQ4jB,EAAG1Q,SAASi8B,GAAQ,IACnCA,EAAI97B,OAASm8B,GAEbxvC,GAAO,QAAU,EAAe,YAE9BonB,IACFpnB,GAAO,QAAU,EAAe,OAAS,EAAe,OAAS,EAAW,aAAe,EAAoB,OAAS,EAAoB,KAAO,EAAO,eAC1JuvC,GAAkB,KAEpBvvC,GAAO,QAAU,EAAe,OAAS,EAAW,MAAQ,EAAe,YAAc,EAAoB,MAAQ,EAAO,MA8BhI,OA3BA4jB,EAAGgC,cAAgBupB,EAAIvpB,cAAgB+pB,EACvC3vC,GAAY,EAAmB,QAAU,EAAW,sBAC5B,IAApB4jB,EAAG4B,cACLxlB,GAAO,sDAAyE4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,gCAAkC,EAAoB,OAC5L,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,2DAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACF4jB,EAAGgC,eAAiBR,IAEnBxB,EAAGvjB,MACLL,GAAO,wCAEPA,GAAO,8CAGXA,GAAO,sBAAwB,EAAU,iCAAmC,EAAU,sBAAwB,EAAU,2BACpH4jB,EAAGpM,KAAK6N,YACVrlB,GAAO,OAEFA,I,6BCtET7L,EAAOD,QAAU,SAA0B0vB,EAAIC,EAAUC,GACvD,IASE+E,EATE7oB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BiE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAGjB/kB,GAAO,QACH8oB,IACF9oB,GAAO,KAAO,EAAiB,4BAA8B,EAAiB,qBAEhFA,GAAO,MALO8oB,EAAU,eAAiBD,EAAe,KAAOjF,EAAGqZ,WAAWlY,IAKnD,SAAW,EAAU,WAC/C,IAAIQ,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,wDAA2E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,0BAE/JllB,GADE8oB,EACK,GAAK,EAEL,GAAMlF,EAAGvR,KAAKnR,eAAe6jB,GAEtC/kB,GAAO,QACkB,IAArB4jB,EAAGpM,KAAKiO,WACVzlB,GAAO,uCAELA,GADE8oB,EACK,OAAU,EAAiB,OAE3B,GAAMlF,EAAGvR,KAAKlT,aAAa4lB,GAEpC/kB,GAAO,QAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,eAELA,GADE8oB,EACK,kBAAoB,EAEpB,GAAMlF,EAAGvR,KAAKnR,eAAe6jB,GAEtC/kB,GAAO,2CAA8C4jB,EAAa,WAAI,YAAc,EAAU,KAEhG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EAgBZ,OAfAA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,KACHolB,IACFplB,GAAO,YAEFA,I,6BCxET7L,EAAOD,QAAU,SAA6B0vB,EAAIC,EAAUC,GAC1D,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9B6qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACnB2rB,EAAiB,GACrBJ,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC3B01B,EAAO,MAAQltB,EACjBgrB,EAAO,MAAQhrB,EACfirB,EAAWV,EAAIrqB,UAAYlB,EAAGkB,UAAY,EAC1CgrB,EAAY,OAASD,EACrBkC,EAAkB,iBAAmBntB,EACnCotB,EAAcl9C,OAAOoG,KAAK6pB,GAAW,IACvCktB,EAAeruB,EAAG/iB,OAAOorC,mBAAqB,GAC9CiG,EAAiBp9C,OAAOoG,KAAK+2C,GAC7BE,EAAevuB,EAAG/iB,OAAO6qC,qBACzB0G,EAAkBJ,EAAYx5C,QAAU05C,EAAe15C,OACvD65C,GAAiC,IAAjBF,EAChBG,EAA6C,iBAAhBH,GAA4Br9C,OAAOoG,KAAKi3C,GAAc35C,OACnF+5C,EAAoB3uB,EAAGpM,KAAKg7B,iBAC5BC,EAAmBJ,GAAiBC,GAAuBC,EAC3DrC,EAAiBtsB,EAAGpM,KAAK24B,cACzBX,EAAiB5rB,EAAGvQ,OAClBq/B,EAAY9uB,EAAG/iB,OAAOurC,SAC1B,GAAIsG,KAAe9uB,EAAGpM,KAAK3V,QAAS6wC,EAAU7wC,QAAU6wC,EAAUl6C,OAASorB,EAAGpM,KAAKwb,aAAc,IAAI2f,EAAgB/uB,EAAGvR,KAAK3T,OAAOg0C,GAKpI,GAJA1yC,GAAO,OAAS,EAAU,iBAAmB,EAAe,WACxDkwC,IACFlwC,GAAO,QAAU,EAAoB,iBAEnCyyC,EAAkB,CAMpB,GAJEzyC,GADEkwC,EACK,IAAM,EAAoB,MAAQ,EAAoB,mBAAqB,EAAU,eAAiB,EAAS,OAAS,EAAS,IAAM,EAAoB,YAAc,EAAS,aAAe,EAAS,MAAQ,EAAoB,IAAM,EAAS,MAErP,aAAe,EAAS,OAAS,EAAU,OAEhDkC,EAAiB,CAEnB,GADApyC,GAAO,oBAAsB,EAAS,cAClCgyC,EAAYx5C,OACd,GAAIw5C,EAAYx5C,OAAS,EACvBwH,GAAO,sBAAwB,EAAgB,mBAAqB,EAAS,SACxE,CACL,IAAIknB,EAAO8qB,EACX,GAAI9qB,EAGF,IAFA,IAAkB0rB,GAAM,EACtBvrB,EAAKH,EAAK1uB,OAAS,EACdo6C,EAAKvrB,GACVM,EAAeT,EAAK0rB,GAAM,GAC1B5yC,GAAO,OAAS,EAAS,OAAU4jB,EAAGvR,KAAKnR,eAAeymB,GAAiB,IAKnF,GAAIuqB,EAAe15C,OAAQ,CACzB,IAAI+uB,EAAO2qB,EACX,GAAI3qB,EAGF,IAFA,IAAgBH,GAAM,EACpBK,EAAKF,EAAK/uB,OAAS,EACd4uB,EAAKK,GACVorB,GAAatrB,EAAKH,GAAM,GACxBpnB,GAAO,OAAU4jB,EAAGqZ,WAAW4V,IAAe,SAAW,EAAS,KAIxE7yC,GAAO,uBAAyB,EAAS,OAE3C,GAAyB,OAArBuyC,EACFvyC,GAAO,WAAa,EAAU,IAAM,EAAS,UACxC,CACL,IAAIswC,EAAoB1sB,EAAGmZ,UACvB+V,EAAsB,OAAUhB,EAAO,OAI3C,GAHIluB,EAAGpM,KAAK0b,yBACVtP,EAAGmZ,UAAYnZ,EAAGvR,KAAKlR,YAAYyiB,EAAGmZ,UAAW+U,EAAMluB,EAAGpM,KAAKnW,eAE7DgxC,EACF,GAAIE,EACFvyC,GAAO,WAAa,EAAU,IAAM,EAAS,UACxC,CACLA,GAAO,IAAM,EAAe,aAC5B,IAAIyxC,EAAqBvsB,EACzBA,EAAiBtB,EAAGuB,cAAgB,yBAChCI,GAAaA,IAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,qEAAwF4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,qCAAwC,EAAwB,QACrN,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gBACH4jB,EAAGpM,KAAK0b,uBACVlzB,GAAO,oCAEPA,GAAO,wCAETA,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,mDAAsD4jB,EAAa,WAAI,YAAc,EAAU,KAExG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,GAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCklB,EAAiBusB,EACbrsB,IACFplB,GAAO,iBAGN,GAAIsyC,EACT,GAAyB,WAArBC,EAAgC,CAClCvyC,GAAO,QAAU,EAAU,eAC3B,IAAI2vC,EAAgB/rB,EAAGgC,cACvBhC,EAAGgC,cAAgBupB,EAAIvpB,eAAgB,EACvCupB,EAAItuC,OAASsxC,EACbhD,EAAIlqB,WAAarB,EAAGqB,WAAa,wBACjCkqB,EAAIhqB,cAAgBvB,EAAGuB,cAAgB,wBACvCgqB,EAAIpS,UAAYnZ,EAAGpM,KAAK0b,uBAAyBtP,EAAGmZ,UAAYnZ,EAAGvR,KAAKlR,YAAYyiB,EAAGmZ,UAAW+U,EAAMluB,EAAGpM,KAAKnW,cAChH,IAAI0mB,EAAYlmB,EAAQ,IAAMiwC,EAAO,IACrC3C,EAAIppB,YAAY8pB,GAAYiC,EAC5B,IAAIrpB,EAAQ7E,EAAG1Q,SAASi8B,GACxBA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAC5C9vC,GAAO,IAAO4jB,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAAc,IAEjE/nB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAExEA,GAAO,SAAW,EAAe,gBAAkB,EAAU,wHAA0H,EAAU,IAAM,EAAS,SAChN4jB,EAAGgC,cAAgBupB,EAAIvpB,cAAgB+pB,MAClC,CACLR,EAAItuC,OAASsxC,EACbhD,EAAIlqB,WAAarB,EAAGqB,WAAa,wBACjCkqB,EAAIhqB,cAAgBvB,EAAGuB,cAAgB,wBACvCgqB,EAAIpS,UAAYnZ,EAAGpM,KAAK0b,uBAAyBtP,EAAGmZ,UAAYnZ,EAAGvR,KAAKlR,YAAYyiB,EAAGmZ,UAAW+U,EAAMluB,EAAGpM,KAAKnW,cAC5G0mB,EAAYlmB,EAAQ,IAAMiwC,EAAO,IACrC3C,EAAIppB,YAAY8pB,GAAYiC,EACxBrpB,EAAQ7E,EAAG1Q,SAASi8B,GACxBA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAC5C9vC,GAAO,IAAO4jB,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAAc,IAEjE/nB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAEpEolB,IACFplB,GAAO,SAAW,EAAe,aAIvC4jB,EAAGmZ,UAAYuT,EAEb8B,IACFpyC,GAAO,OAETA,GAAO,OACHolB,IACFplB,GAAO,QAAU,EAAe,OAChCuvC,GAAkB,KAGtB,IAAIwD,EAAenvB,EAAGpM,KAAKwO,cAAgBpC,EAAGgC,cAC9C,GAAIosB,EAAYx5C,OAAQ,CACtB,IAAIkvB,EAAOsqB,EACX,GAAItqB,EAGF,IAFA,IAAIC,EAAcC,GAAM,EACtBC,EAAKH,EAAKlvB,OAAS,EACdovB,EAAKC,GAAI,CAEd,IAAIC,EAAO/C,EADX4C,EAAeD,EAAKE,GAAM,IAE1B,GAAKhE,EAAGpM,KAAK4M,eAAgC,iBAAR0D,GAAoBhzB,OAAOoG,KAAK4sB,GAAMtvB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeknB,EAAMlE,EAAGK,MAAMC,KAAO,CACnI,IAAIssB,EAAQ5sB,EAAGvR,KAAKnT,YAAYyoB,GAE9BqrB,GADAjrB,EAAYlmB,EAAQ2uC,EACNuC,QAAiChuC,IAAjB+iB,EAAKvqB,SACrC4xC,EAAItuC,OAASinB,EACbqnB,EAAIlqB,WAAaD,EAAcwrB,EAC/BrB,EAAIhqB,cAAgBD,EAAiB,IAAMtB,EAAGvR,KAAKzP,eAAe+kB,GAClEwnB,EAAIpS,UAAYnZ,EAAGvR,KAAK7Q,QAAQoiB,EAAGmZ,UAAWpV,EAAc/D,EAAGpM,KAAKnW,cACpE8tC,EAAIppB,YAAY8pB,GAAYjsB,EAAGvR,KAAKnR,eAAeymB,GAC/Cc,EAAQ7E,EAAG1Q,SAASi8B,GAExB,GADAA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAAG,CAC/CrnB,EAAQ7E,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAC7C,IAAIwoB,GAAWxoB,MACV,CACDwoB,GAAWT,EACf9vC,GAAO,QAAU,EAAc,MAAQ,EAAc,KAEvD,GAAIgzC,EACFhzC,GAAO,IAAM,EAAU,QAClB,CACL,GAAI2yC,GAAiBA,EAAchrB,GAAe,CAChD3nB,GAAO,SAAW,GAAa,kBAC3BkwC,IACFlwC,GAAO,8CAAgD,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAawoB,GAAiB,OAEnH3nB,GAAO,OAAS,EAAe,aAC3BswC,EAAoB1sB,EAAGmZ,UACzB0U,EAAqBvsB,EADvB,IAOIK,GALFmrB,GAAmB9sB,EAAGvR,KAAKlT,aAAawoB,GACtC/D,EAAGpM,KAAK0b,yBACVtP,EAAGmZ,UAAYnZ,EAAGvR,KAAK7Q,QAAQ8uC,EAAmB3oB,EAAc/D,EAAGpM,KAAKnW,eAE1E6jB,EAAiBtB,EAAGuB,cAAgB,aAChCI,GAAaA,IAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,yDAA4E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kCAAqC,GAAqB,QACnM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gBACH4jB,EAAGpM,KAAK0b,uBACVlzB,GAAO,yBAEPA,GAAO,oCAAuC,GAAqB,MAErEA,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAEL2lB,EAAQ3lB,EACZA,EAAMulB,GAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCklB,EAAiBusB,EACjB7tB,EAAGmZ,UAAYuT,EACftwC,GAAO,kBAEHolB,GACFplB,GAAO,SAAW,GAAa,kBAC3BkwC,IACFlwC,GAAO,8CAAgD,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAawoB,GAAiB,OAEnH3nB,GAAO,OAAS,EAAe,uBAE/BA,GAAO,QAAU,GAAa,kBAC1BkwC,IACFlwC,GAAO,8CAAgD,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAawoB,GAAiB,OAEnH3nB,GAAO,SAGXA,GAAO,IAAM,EAAU,OAGvBolB,IACFplB,GAAO,QAAU,EAAe,OAChCuvC,GAAkB,MAK1B,GAAI2C,EAAe15C,OAAQ,CACzB,IAAI0vB,GAAOgqB,EACX,GAAIhqB,GAGF,IAFA,IAAI2qB,GAAYI,IAAM,EACpB9qB,GAAKD,GAAK1vB,OAAS,EACdy6C,GAAK9qB,IAAI,CAEVL,EAAOmqB,EADXY,GAAa3qB,GAAK+qB,IAAM,IAExB,GAAKrvB,EAAGpM,KAAK4M,eAAgC,iBAAR0D,GAAoBhzB,OAAOoG,KAAK4sB,GAAMtvB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeknB,EAAMlE,EAAGK,MAAMC,KAAO,CACnIirB,EAAItuC,OAASinB,EACbqnB,EAAIlqB,WAAarB,EAAGqB,WAAa,qBAAuBrB,EAAGvR,KAAKnT,YAAY2zC,IAC5E1D,EAAIhqB,cAAgBvB,EAAGuB,cAAgB,sBAAwBvB,EAAGvR,KAAKzP,eAAeiwC,IAEpF7yC,GADEkwC,EACK,IAAM,EAAoB,MAAQ,EAAoB,mBAAqB,EAAU,eAAiB,EAAS,OAAS,EAAS,IAAM,EAAoB,YAAc,EAAS,aAAe,EAAS,MAAQ,EAAoB,IAAM,EAAS,MAErP,aAAe,EAAS,OAAS,EAAU,OAEpDlwC,GAAO,QAAW4jB,EAAGqZ,WAAW4V,IAAe,SAAW,EAAS,QACnE1D,EAAIpS,UAAYnZ,EAAGvR,KAAKlR,YAAYyiB,EAAGmZ,UAAW+U,EAAMluB,EAAGpM,KAAKnW,cAC5D0mB,EAAYlmB,EAAQ,IAAMiwC,EAAO,IACrC3C,EAAIppB,YAAY8pB,GAAYiC,EACxBrpB,EAAQ7E,EAAG1Q,SAASi8B,GACxBA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAC5C9vC,GAAO,IAAO4jB,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAAc,IAEjE/nB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAEpEolB,IACFplB,GAAO,SAAW,EAAe,aAEnCA,GAAO,MACHolB,IACFplB,GAAO,SAAW,EAAe,aAEnCA,GAAO,OACHolB,IACFplB,GAAO,QAAU,EAAe,OAChCuvC,GAAkB,OAU5B,OAJInqB,IACFplB,GAAO,IAAM,EAAmB,QAAU,EAAU,iBAEtDA,EAAM4jB,EAAGvR,KAAKtS,YAAYC,K,6BCtU5B7L,EAAOD,QAAU,SAAgC0vB,EAAIC,EAAUC,GAC7D,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9B6qB,EAAQ,SAAW9qB,EACnBuqB,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GAEvBurB,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAE/B,GADApc,GAAO,OAAS,EAAU,aACrB4jB,EAAGpM,KAAK4M,eAAmC,iBAAXW,GAAuBjwB,OAAOoG,KAAK6pB,GAASvsB,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAemkB,EAASnB,EAAGK,MAAMC,KAAO,CAC5IirB,EAAItuC,OAASkkB,EACboqB,EAAIlqB,WAAaD,EACjBmqB,EAAIhqB,cAAgBD,EACpB,IAAI4sB,EAAO,MAAQltB,EACjBgrB,EAAO,MAAQhrB,EACfwC,EAAK,IAAMxC,EACXsuB,EAAe,OAAUpB,EAAO,OAEhChC,EAAY,QADDX,EAAIrqB,UAAYlB,EAAGkB,UAAY,GAE1CitB,EAAkB,iBAAmBntB,EACrCsrB,EAAiBtsB,EAAGpM,KAAK24B,cACzBX,EAAiB5rB,EAAGvQ,OAClB68B,IACFlwC,GAAO,QAAU,EAAoB,kBAGrCA,GADEkwC,EACK,IAAM,EAAoB,MAAQ,EAAoB,mBAAqB,EAAU,eAAiB,EAAS,OAAS,EAAS,IAAM,EAAoB,YAAc,EAAS,aAAe,EAAS,MAAQ,EAAoB,IAAM,EAAS,MAErP,aAAe,EAAS,OAAS,EAAU,OAEpDlwC,GAAO,iBAAmB,EAAS,cACnC,IAAI+nB,EAAY+pB,EACZnC,EAAgB/rB,EAAGgC,cACvBhC,EAAGgC,cAAgBupB,EAAIvpB,eAAgB,EACvC,IAAI6C,EAAQ7E,EAAG1Q,SAASi8B,GACxBA,EAAI97B,OAASm8B,EACT5rB,EAAGvR,KAAK/S,cAAcmpB,EAAOqnB,GAAa,EAC5C9vC,GAAO,IAAO4jB,EAAGvR,KAAKzS,WAAW6oB,EAAOqnB,EAAW/nB,GAAc,IAEjE/nB,GAAO,QAAU,EAAc,MAAQ,EAAc,KAAO,EAAU,IAExE4jB,EAAGgC,cAAgBupB,EAAIvpB,cAAgB+pB,EACvC3vC,GAAO,SAAW,EAAe,gBAAkB,EAAO,aAAe,EAAS,KAAO,EAAO,YAAc,EAAO,iBAAmB,EAAO,oBAAsB,EAAS,sBACtJ,IAApB4jB,EAAG4B,cACLxlB,GAAO,8DAAiF4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,+BAAkC,EAAiB,QACjM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,iCAAqC,EAAiB,oBAE3D4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACF4jB,EAAGgC,eAAiBR,IAEnBxB,EAAGvjB,MACLL,GAAO,wCAEPA,GAAO,8CAGPolB,IACFplB,GAAO,YAETA,GAAO,OAMT,OAJIolB,IACFplB,GAAO,SAAmC,EAAU,iBAEtDA,EAAM4jB,EAAGvR,KAAKtS,YAAYC,K,6BC9E5B7L,EAAOD,QAAU,SAA2B0vB,EAAIC,EAAUC,GACxD,IAAI9jB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnBkE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,IACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,MAKvG,IAAI4qB,EAAW,SAAW/rB,EAC1B,IAAKkE,EACH,GAAI/D,EAAQvsB,OAASorB,EAAGpM,KAAKwb,cAAgBpP,EAAG/iB,OAAOoP,YAAcnb,OAAOoG,KAAK0oB,EAAG/iB,OAAOoP,YAAYzX,OAAQ,CAC7G,IAAIk6C,EAAY,GACZxrB,EAAOnC,EACX,GAAImC,EAGF,IAFA,IAAIkpB,EAAWwC,GAAM,EACnBvrB,EAAKH,EAAK1uB,OAAS,EACdo6C,EAAKvrB,GAAI,CACd+oB,EAAYlpB,EAAK0rB,GAAM,GACvB,IAAIO,EAAevvB,EAAG/iB,OAAOoP,WAAWmgC,GAClC+C,IAAiBvvB,EAAGpM,KAAK4M,eAAwC,iBAAhB+uB,GAA4Br+C,OAAOoG,KAAKi4C,GAAc36C,OAAS,EAAIorB,EAAGvR,KAAKzR,eAAeuyC,EAAcvvB,EAAGK,MAAMC,QACtKwuB,EAAUA,EAAUl6C,QAAU43C,SAKhCsC,EAAY3tB,EAGpB,GAAI+D,GAAW4pB,EAAUl6C,OAAQ,CAC/B,IAAI83C,EAAoB1sB,EAAGmZ,UACzBqW,EAAgBtqB,GAAW4pB,EAAUl6C,QAAUorB,EAAGpM,KAAKwb,aACvDkd,EAAiBtsB,EAAGpM,KAAK24B,cAC3B,GAAI/qB,EAEF,GADAplB,GAAO,eAAiB,EAAS,KAC7BozC,EAAe,CACZtqB,IACH9oB,GAAO,QAAU,EAAa,qBAAuB,EAAgB,MAEvE,IAEE0wC,EAAmB,QADnBD,EAAgB,SAAW7rB,EAAO,KADhCwC,EAAK,IAAMxC,GACgC,KACA,OAC3ChB,EAAGpM,KAAK0b,yBACVtP,EAAGmZ,UAAYnZ,EAAGvR,KAAKlR,YAAYmvC,EAAmBG,EAAe7sB,EAAGpM,KAAKnW,eAE/ErB,GAAO,QAAU,EAAW,YACxB8oB,IACF9oB,GAAO,cAAgB,EAAS,mBAAqB,EAAW,0CAA4C,EAAS,MAAQ,EAAW,oBAE1IA,GAAO,aAAe,EAAO,SAAW,EAAO,MAAQ,EAAa,YAAc,EAAO,SAAW,EAAW,MAAQ,EAAU,IAAM,EAAa,IAAM,EAAO,oBAC7JkwC,IACFlwC,GAAO,8CAAgD,EAAU,KAAO,EAAa,IAAM,EAAO,OAEpGA,GAAO,UAAY,EAAW,cAC1B8oB,IACF9oB,GAAO,SAETA,GAAO,UAAY,EAAW,UAC1BulB,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,yDAA4E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gBACH4jB,EAAGpM,KAAK0b,uBACVlzB,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,iBACF,CACLA,GAAO,SACP,IAAIunB,EAAOmrB,EACX,GAAInrB,EAGF,IAFA,IAAkBH,GAAM,EACtBK,EAAKF,EAAK/uB,OAAS,EACd4uB,EAAKK,GAAI,CACdE,EAAeJ,EAAKH,GAAM,GACtBA,IACFpnB,GAAO,QAITA,GAAO,SADLuwC,EAAW1uC,GADT2uC,EAAQ5sB,EAAGvR,KAAKnT,YAAYyoB,KAEF,kBAC1BuoB,IACFlwC,GAAO,8CAAgD,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAawoB,GAAiB,OAEnH3nB,GAAO,gBAAkB,EAAS,MAAS4jB,EAAGvR,KAAKnR,eAAe0iB,EAAGpM,KAAKnW,aAAesmB,EAAe6oB,GAAU,OAGtHxwC,GAAO,QACP,IAKIulB,EAJFmrB,EAAmB,QADjBD,EAAgB,UAAY7rB,GACe,OAC3ChB,EAAGpM,KAAK0b,yBACVtP,EAAGmZ,UAAYnZ,EAAGpM,KAAKnW,aAAeuiB,EAAGvR,KAAKlR,YAAYmvC,EAAmBG,GAAe,GAAQH,EAAoB,MAAQG,IAE9HlrB,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,yDAA4E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gBACH4jB,EAAGpM,KAAK0b,uBACVlzB,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAEL2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,kBAGT,GAAIozC,EAAe,CACZtqB,IACH9oB,GAAO,QAAU,EAAa,qBAAuB,EAAgB,MAEvE,IACEywC,EACAC,EAAmB,QADnBD,EAAgB,SAAW7rB,EAAO,KADhCwC,EAAK,IAAMxC,GACgC,KACA,OAC3ChB,EAAGpM,KAAK0b,yBACVtP,EAAGmZ,UAAYnZ,EAAGvR,KAAKlR,YAAYmvC,EAAmBG,EAAe7sB,EAAGpM,KAAKnW,eAE3EynB,IACF9oB,GAAO,QAAU,EAAa,sBAAwB,EAAa,sBAC3C,IAApB4jB,EAAG4B,cACLxlB,GAAO,yDAA4E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gBACH4jB,EAAGpM,KAAK0b,uBACVlzB,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,0FAA4F,EAAa,sBAElHA,GAAO,aAAe,EAAO,SAAW,EAAO,MAAQ,EAAa,YAAc,EAAO,aAAe,EAAU,IAAM,EAAa,IAAM,EAAO,oBAC9IkwC,IACFlwC,GAAO,8CAAgD,EAAU,KAAO,EAAa,IAAM,EAAO,OAEpGA,GAAO,qBACiB,IAApB4jB,EAAG4B,cACLxlB,GAAO,yDAA4E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gBACH4jB,EAAGpM,KAAK0b,uBACVlzB,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,mFACH8oB,IACF9oB,GAAO,aAEJ,CACL,IAAI0nB,EAAOgrB,EACX,GAAIhrB,EAGF,IAFA,IAAIC,EAAcC,GAAM,EACtBC,EAAKH,EAAKlvB,OAAS,EACdovB,EAAKC,GAAI,CACdF,EAAeD,EAAKE,GAAM,GAC1B,IAAI4oB,EAAQ5sB,EAAGvR,KAAKnT,YAAYyoB,GAE9B4oB,GADAG,EAAmB9sB,EAAGvR,KAAKlT,aAAawoB,GAC7B9lB,EAAQ2uC,GACjB5sB,EAAGpM,KAAK0b,yBACVtP,EAAGmZ,UAAYnZ,EAAGvR,KAAK7Q,QAAQ8uC,EAAmB3oB,EAAc/D,EAAGpM,KAAKnW,eAE1ErB,GAAO,SAAW,EAAa,kBAC3BkwC,IACFlwC,GAAO,8CAAgD,EAAU,MAAU4jB,EAAGvR,KAAKlT,aAAawoB,GAAiB,OAEnH3nB,GAAO,qBACiB,IAApB4jB,EAAG4B,cACLxlB,GAAO,yDAA4E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,kCAAqC,EAAqB,QACnM,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,gBACH4jB,EAAGpM,KAAK0b,uBACVlzB,GAAO,yBAEPA,GAAO,oCAAuC,EAAqB,MAErEA,GAAO,MAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,kFAKf4jB,EAAGmZ,UAAYuT,OACNlrB,IACTplB,GAAO,gBAET,OAAOA,I,6BC3QT7L,EAAOD,QAAU,SAA8B0vB,EAAIC,EAAUC,GAC3D,IAUE+E,EAVE7oB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UACzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnBkE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAQlD,GANIinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,GAEZA,GAAW+D,KAAoC,IAAxBlF,EAAGpM,KAAKu1B,YAAuB,CACrDjkB,IACF9oB,GAAO,QAAU,EAAW,SAAW,EAAiB,iBAAmB,EAAiB,mBAAqB,EAAW,4BAA8B,EAAiB,kBAAsB,EAAW,qBAE9MA,GAAO,YAAc,EAAU,aAAe,EAAW,6BACzD,IAAIqzC,EAAYzvB,EAAG/iB,OAAOonB,OAASrE,EAAG/iB,OAAOonB,MAAMjwB,KACjDsuB,EAAehrB,MAAMC,QAAQ83C,GAC/B,IAAKA,GAA0B,UAAbA,GAAsC,SAAbA,GAAyB/sB,IAAiB+sB,EAAUl5C,QAAQ,WAAa,GAAKk5C,EAAUl5C,QAAQ,UAAY,GACrJ6F,GAAO,uDAAyD,EAAU,QAAU,EAAU,WAAa,EAAW,oCACjH,CACLA,GAAO,yDAA2D,EAAU,QAC5E,IAAI8mB,EAAU,iBAAmBR,EAAe,IAAM,IACtDtmB,GAAO,QAAW4jB,EAAGvR,KAAKyU,GAASusB,EAAW,QAAQ,GAAS,eAC3D/sB,IACFtmB,GAAO,sDAETA,GAAO,gDAAoD,EAAW,sEAExEA,GAAO,MACH8oB,IACF9oB,GAAO,SAETA,GAAO,SAAW,EAAW,SAC7B,IAAIulB,EAAaA,GAAc,GAC/BA,EAAWhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,4DAA+E4jB,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,8BAC5I,IAArBtB,EAAGpM,KAAKiO,WACVzlB,GAAO,mGAEL4jB,EAAGpM,KAAKkO,UACV1lB,GAAO,eAELA,GADE8oB,EACK,kBAAoB,EAEpB,GAAK,EAEd9oB,GAAO,2CAA8C4jB,EAAa,WAAI,YAAc,EAAU,KAEhG5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnCA,GAAO,MACHolB,IACFplB,GAAO,iBAGLolB,IACFplB,GAAO,iBAGX,OAAOA,I,6BClFT,IAAIszC,EAAW,CACb,aACA,UACA,mBACA,UACA,mBACA,YACA,YACA,UACA,kBACA,WACA,WACA,cACA,gBACA,gBACA,WACA,uBACA,OACA,SACA,SAGFn/C,EAAOD,QAAU,SAAUs/B,EAAY+f,GACrC,IAAK,IAAIn/C,EAAE,EAAGA,EAAEm/C,EAAqB/6C,OAAQpE,IAAK,CAChDo/B,EAAa5V,KAAKlhB,MAAMkhB,KAAK4F,UAAUgQ,IACvC,IAEI8P,EAFAhhC,EAAWixC,EAAqBn/C,GAAGmO,MAAM,KACzCoV,EAAW6b,EAEf,IAAK8P,EAAE,EAAGA,EAAEhhC,EAAS9J,OAAQ8qC,IAC3B3rB,EAAWA,EAASrV,EAASghC,IAE/B,IAAKA,EAAE,EAAGA,EAAEgQ,EAAS96C,OAAQ8qC,IAAK,CAChC,IAAI3tC,EAAM29C,EAAShQ,GACfziC,EAAS8W,EAAShiB,GAClBkL,IACF8W,EAAShiB,GAAO,CACdm2C,MAAO,CACLjrC,EACA,CAAEsU,KAAM,oFAOlB,OAAOqe,I,6BC7CT,IAAI1d,EAAkB,EAAQ,IAAmBU,WAEjDriB,EAAOD,QAYP,SAAS69B,EAAalxB,EAAQmvB,EAAM2I,GAIlC,IAAIvoB,EAAOlU,KACX,GAAoC,mBAAzBA,KAAK8W,MAAMwgC,WACpB,MAAM,IAAIpxC,MAAM,2CAEC,mBAAR4tB,IACT2I,EAAW3I,EACXA,OAAOjrB,GAGT,IAAI7O,EAAIu9C,EAAiB5yC,GAAQiR,MAAK,WACpC,IAAIsd,EAAYhf,EAAKif,WAAWxuB,OAAQkE,EAAWirB,GACnD,OAAOZ,EAAUlc,UAqBnB,SAASwgC,EAActkB,GACrB,IAAM,OAAOhf,EAAK+C,SAASic,GAC3B,MAAM6B,GACJ,GAAIA,aAAanb,EAAiB,OAAO69B,EAAkB1iB,GAC3D,MAAMA,EAIR,SAAS0iB,EAAkB1iB,GACzB,IAAIte,EAAMse,EAAEhb,cACZ,GAAI29B,EAAMjhC,GAAM,MAAM,IAAIvQ,MAAM,UAAYuQ,EAAM,kBAAoBse,EAAEjb,WAAa,uBAErF,IAAI69B,EAAgBzjC,EAAKuiB,gBAAgBhgB,GAMzC,OALKkhC,IACHA,EAAgBzjC,EAAKuiB,gBAAgBhgB,GAAOvC,EAAK4C,MAAMwgC,WAAW7gC,IACpDb,KAAKgiC,EAAeA,GAG7BD,EAAc/hC,MAAK,SAAU2C,GAClC,IAAKm/B,EAAMjhC,GACT,OAAO8gC,EAAiBh/B,GAAK3C,MAAK,WAC3B8hC,EAAMjhC,IAAMvC,EAAKof,UAAU/a,EAAK9B,OAAK5N,EAAWirB,SAGxDle,MAAK,WACN,OAAO4hC,EAActkB,MAGvB,SAAS0kB,WACA1jC,EAAKuiB,gBAAgBhgB,GAG9B,SAASihC,EAAMjhC,GACb,OAAOvC,EAAKyC,MAAMF,IAAQvC,EAAK0C,SAASH,KAtDf+gC,CAActkB,MAGzCuJ,GACFziC,EAAE4b,MACA,SAASsB,GAAKulB,EAAS,KAAMvlB,KAC7BulB,GAIJ,OAAOziC,EAGP,SAASu9C,EAAiBh/B,GACxB,IAAIsQ,EAAUtQ,EAAIsQ,QAClB,OAAOA,IAAY3U,EAAK+e,UAAUpK,GACxBgN,EAAax9B,KAAK6b,EAAM,CAAE+E,KAAM4P,IAAW,GAC3CwR,QAAQ/jB,a,6BC9CtB,IAAIxP,EAAa,yBACbk5B,EAAiB,EAAQ,IACzB6X,EAAmB,EAAQ,IAE/B5/C,EAAOD,QAAU,CACfqd,IAcF,SAAoBwG,EAASomB,GAG3B,IAAIla,EAAQ/nB,KAAK+nB,MACjB,GAAIA,EAAMtM,SAASI,GACjB,MAAM,IAAI3V,MAAM,WAAa2V,EAAU,uBAEzC,IAAK/U,EAAWb,KAAK4V,GACnB,MAAM,IAAI3V,MAAM,WAAa2V,EAAU,8BAEzC,GAAIomB,EAAY,CACdjiC,KAAKk2B,gBAAgB+L,GAAY,GAEjC,IAAIrgC,EAAWqgC,EAAWnmC,KAC1B,GAAIsD,MAAMC,QAAQuC,GAChB,IAAK,IAAI1J,EAAE,EAAGA,EAAE0J,EAAStF,OAAQpE,IAC/B4/C,EAASj8B,EAASja,EAAS1J,GAAI+pC,QAEjC6V,EAASj8B,EAASja,EAAUqgC,GAG9B,IAAI3K,EAAa2K,EAAW3K,WACxBA,IACE2K,EAAWt8B,OAAS3F,KAAK8W,MAAMnR,QACjC2xB,EAAa,CACXsY,MAAO,CACLtY,EACA,CAAE,KAAQ,mFAIhB2K,EAAWtO,eAAiB3zB,KAAKuW,QAAQ+gB,GAAY,IAOzD,SAASwgB,EAASj8B,EAASja,EAAUqgC,GAEnC,IADA,IAAI8V,EACK7/C,EAAE,EAAGA,EAAE6vB,EAAMzrB,OAAQpE,IAAK,CACjC,IAAI8/C,EAAKjwB,EAAM7vB,GACf,GAAI8/C,EAAGl8C,MAAQ8F,EAAU,CACvBm2C,EAAYC,EACZ,OAICD,IACHA,EAAY,CAAEj8C,KAAM8F,EAAUgD,MAAO,IACrCmjB,EAAM1f,KAAK0vC,IAGb,IAAIhW,EAAO,CACTlmB,QAASA,EACTomB,WAAYA,EACZnmB,QAAQ,EACRvf,KAAMyjC,EACNxT,WAAYyV,EAAWzV,YAEzBurB,EAAUnzC,MAAMyD,KAAK05B,GACrBha,EAAMjM,OAAOD,GAAWkmB,EAG1B,OA7BAha,EAAMtM,SAASI,GAAWkM,EAAMC,IAAInM,IAAW,EA6BxC7b,MA7EPjH,IAuFF,SAAoB8iB,GAElB,IAAIkmB,EAAO/hC,KAAK+nB,MAAMjM,OAAOD,GAC7B,OAAOkmB,EAAOA,EAAKE,WAAajiC,KAAK+nB,MAAMtM,SAASI,KAAY,GAzFhEjS,OAmGF,SAAuBiS,GAErB,IAAIkM,EAAQ/nB,KAAK+nB,aACVA,EAAMtM,SAASI,UACfkM,EAAMC,IAAInM,UACVkM,EAAMjM,OAAOD,GACpB,IAAK,IAAI3jB,EAAE,EAAGA,EAAE6vB,EAAMzrB,OAAQpE,IAE5B,IADA,IAAI0M,EAAQmjB,EAAM7vB,GAAG0M,MACZwiC,EAAE,EAAGA,EAAExiC,EAAMtI,OAAQ8qC,IAC5B,GAAIxiC,EAAMwiC,GAAGvrB,SAAWA,EAAS,CAC/BjX,EAAMwZ,OAAOgpB,EAAG,GAChB,MAIN,OAAOpnC,MAjHPgX,SA4HF,SAASkf,EAAgB+L,EAAYgW,GACnC/hB,EAAgB/b,OAAS,KACzB,IAAIjD,EAAIlX,KAAKk4C,iBAAmBl4C,KAAKk4C,kBACFl4C,KAAKuW,QAAQshC,GAAkB,GAElE,GAAI3gC,EAAE+qB,GAAa,OAAO,EAE1B,GADA/L,EAAgB/b,OAASjD,EAAEiD,OACvB89B,EACF,MAAM,IAAI/xC,MAAM,yCAA4ClG,KAAKg0B,WAAW9c,EAAEiD,SAE9E,OAAO,K,6BC/IXliB,EAAOD,QAAU,SAAyB0vB,EAAIC,EAAUC,GACtD,IAOIuF,EAKFR,EAZE7oB,EAAM,IACN4kB,EAAOhB,EAAGxH,MACVyI,EAAWjB,EAAGkB,UACdC,EAAUnB,EAAG/iB,OAAOgjB,GACpBmB,EAAcpB,EAAGqB,WAAarB,EAAGvR,KAAKnT,YAAY2kB,GAClDqB,EAAiBtB,EAAGuB,cAAgB,IAAMtB,EAC1CuB,GAAiBxB,EAAGpM,KAAK6N,UAEzBxjB,EAAQ,QAAUgjB,GAAY,IAC9BS,EAAS,QAAUV,EACnB8qB,EAAQ,SAAW9qB,EACnBkE,EAAUlF,EAAGpM,KAAK3V,OAASkjB,GAAWA,EAAQljB,MAE9CinB,GACF9oB,GAAO,cAAgB,EAAS,MAAS4jB,EAAGvR,KAAKzQ,QAAQmjB,EAAQljB,MAAOgjB,EAAUjB,EAAGmC,aAAgB,KACrG8C,EAAe,SAAWjE,GAE1BiE,EAAe9D,EAEjB,IAIIsvB,EAAUC,EAASC,EAAQC,EAAeC,EAH5CC,EAAc,aAAe9vB,EAC7B+vB,EAFUz4C,KAEIiiC,WACdoR,EAAiB,GAEnB,GAAIzmB,GAAW6rB,EAAM9yC,MAAO,CAC1B4yC,EAAgB,kBAAoB7vB,EACpC,IAAIgwB,EAAkBD,EAAM9kB,eAC5B7vB,GAAO,QAAU,EAAgB,oBAAuB,EAAa,sBAAyB,EAAkB,MAAQ,EAAgB,iBACnI,CAEL,KADAw0C,EAAgB5wB,EAAGsZ,cAVThhC,KAU8B6oB,EAASnB,EAAG/iB,OAAQ+iB,IACxC,OACpBiF,EAAe,kBAAoB7D,EACnCyvB,EAAgBD,EAAc/7C,KAC9B47C,EAAWM,EAAMliC,QACjB6hC,EAAUK,EAAM7W,OAChByW,EAASI,EAAMrW,MAEjB,IAAIuW,EAAYJ,EAAgB,UAC9BrtB,EAAK,IAAMxC,EACXkwB,EAAW,UAAYlwB,EACvBmwB,EAAgBJ,EAAMt0C,MACxB,GAAI00C,IAAkBnxB,EAAGvjB,MAAO,MAAM,IAAI+B,MAAM,gCAahD,GAZMkyC,GAAWC,IACfv0C,GAAY,EAAc,YAE5BA,GAAO,OAAS,EAAU,iBAAmB,EAAW,IACpD8oB,GAAW6rB,EAAM9yC,QACnB0tC,GAAkB,IAClBvvC,GAAO,QAAU,EAAiB,qBAAuB,EAAW,qBAChE40C,IACFrF,GAAkB,IAClBvvC,GAAO,IAAM,EAAW,MAAQ,EAAgB,mBAAqB,EAAiB,UAAY,EAAW,SAG7Gs0C,EACEK,EAAMK,WACRh1C,GAAO,IAAOw0C,EAAsB,SAAI,IAExCx0C,GAAO,IAAM,EAAW,MAASw0C,EAAsB,SAAI,UAExD,GAAID,EAAQ,CACjB,IAAIpF,EAAMvrB,EAAGvR,KAAKhU,KAAKulB,GACnB2rB,EAAiB,GACrBJ,EAAI/yB,QACJ,IAAIgzB,EAAa,QAAUD,EAAI/yB,MAC/B+yB,EAAItuC,OAAS2zC,EAActhC,SAC3Bi8B,EAAIlqB,WAAa,GACjB,IAAI0qB,EAAgB/rB,EAAGgC,cACvBhC,EAAGgC,cAAgBupB,EAAIvpB,eAAgB,EACvC,IAAI6C,EAAQ7E,EAAG1Q,SAASi8B,GAAKrvC,QAAQ,oBAAqB20C,GAC1D7wB,EAAGgC,cAAgBupB,EAAIvpB,cAAgB+pB,EACvC3vC,GAAO,IAAM,MACR,EACDulB,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,GACNA,GAAO,KAAO,EAAkB,UAC5B4jB,EAAGpM,KAAK63B,YACVrvC,GAAO,OAEPA,GAAO,OAELq0C,IAA6B,IAAjBM,EAAM9zC,OACpBb,GAAO,MAAQ,EAAU,IAEzBA,GAAO,MAAQ,EAAiB,MAAQ,EAAU,qBAAwB4jB,EAAa,WAAI,IAE7F5jB,GAAO,sBACa,MAAhB4jB,EAAGmZ,YACL/8B,GAAO,MAAS4jB,EAAY,WAE9B,IAAI0D,EAAczC,EAAW,QAAWA,EAAW,GAAM,IAAM,aAC7DowB,EAAsBpwB,EAAWjB,EAAGmC,YAAYlB,GAAY,qBAE1DqwB,EADJl1C,GAAO,MAAQ,EAAgB,MAAQ,EAAwB,kBAE/DA,EAAMulB,EAAWxf,OACI,IAAjB4uC,EAAMt+B,QACRrW,GAAO,IAAM,EAAW,MACpB+0C,IACF/0C,GAAO,UAETA,GAAY,EAAyB,MAInCA,GAFE+0C,EAEK,SADPF,EAAY,eAAiBjwB,GACE,kBAAoB,EAAW,YAAc,EAAyB,mBAAqB,EAAW,+CAAiD,EAAc,gCAE7L,IAAM,EAAc,YAAc,EAAW,MAAQ,EAAyB,KAQ3F,GAJI+vB,EAAMQ,YACRn1C,GAAO,QAAU,EAAgB,KAAO,EAAU,MAAQ,EAAgB,IAAM,EAAwB,MAE1GA,GAAO,GAAK,EACR20C,EAAMrlB,MACJlK,IACFplB,GAAO,qBAEJ,CAcL,IAGIulB,EAhBJvlB,GAAO,cACa+E,IAAhB4vC,EAAMrlB,OACRtvB,GAAO,KAELA,GADEu0C,EACK,GAAK,EAEL,GAAK,GAGdv0C,GAAO,KAAQ20C,EAAMrlB,MAAS,IAEhCtvB,GAAO,OACPqpB,EAjHUntB,KAiHY6b,SAClBwN,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACFulB,EAAaA,GAAc,IACpBhhB,KAAKvE,GAChBA,EAAM,IACkB,IAApB4jB,EAAG4B,cACLxlB,GAAO,iBAAoBqpB,GAAiB,UAAY,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,0BAzHzKhpB,KAyHoN,QAAI,QACvM,IAArB0nB,EAAGpM,KAAKiO,WACVzlB,GAAO,8BA3HD9D,KA2H+C,QAAI,2BAEvD0nB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAET,IAAI2lB,EAAQ3lB,EACZA,EAAMulB,EAAWxf,OACZ6d,EAAGgC,eAAiBR,EAEnBxB,EAAGvjB,MACLL,GAAO,+BAAiC,EAAU,OAElDA,GAAO,uBAAyB,EAAU,oBAG5CA,GAAO,cAAgB,EAAU,+EAEnC,IAAIo1C,EAAkBp1C,EACtBA,EAAMulB,EAAWxf,MACbuuC,EACEK,EAAMt+B,OACY,QAAhBs+B,EAAMt+B,SACRrW,GAAO,cAAgB,EAAO,IAAM,EAAU,KAAO,EAAO,YAAc,EAAO,aAAe,EAAa,cAAgB,EAAO,UAAY,EAAa,4BAA8B,EAAa,kCAAuC4jB,EAAY,UAAI,SAAW,EAAa,gCAAkC,EAAa,kBAAoB,EAAmB,QACzWA,EAAGpM,KAAKkO,UACV1lB,GAAO,IAAM,EAAa,aAAe,EAAiB,KAAO,EAAa,WAAa,EAAU,MAEvGA,GAAO,QAGY,IAAjB20C,EAAMt+B,OACRrW,GAAO,IAAM,EAAoB,KAEjCA,GAAO,QAAU,EAAU,iBAAmB,EAAoB,uBAAyB,EAAO,IAAM,EAAU,KAAO,EAAO,YAAc,EAAO,aAAe,EAAa,cAAgB,EAAO,UAAY,EAAa,4BAA8B,EAAa,kCAAuC4jB,EAAY,UAAI,SAAW,EAAa,gCAAkC,EAAa,kBAAoB,EAAmB,QAC7aA,EAAGpM,KAAKkO,UACV1lB,GAAO,IAAM,EAAa,aAAe,EAAiB,KAAO,EAAa,WAAa,EAAU,MAEvGA,GAAO,SAGFu0C,GACTv0C,GAAO,mBACiB,IAApB4jB,EAAG4B,cACLxlB,GAAO,iBAAoBqpB,GAAiB,UAAY,oCAA0CzF,EAAY,UAAI,kBAAqBA,EAAGvR,KAAKnR,eAAegkB,GAAmB,0BAzK3KhpB,KAyKsN,QAAI,QACvM,IAArB0nB,EAAGpM,KAAKiO,WACVzlB,GAAO,8BA3KH9D,KA2KiD,QAAI,2BAEvD0nB,EAAGpM,KAAKkO,UACV1lB,GAAO,6BAA+B,EAAgB,mCAAsC4jB,EAAa,WAAI,YAAc,EAAU,KAEvI5jB,GAAO,OAEPA,GAAO,OAETA,GAAO,gFACF4jB,EAAGgC,eAAiBR,IAEnBxB,EAAGvjB,MACLL,GAAO,wCAEPA,GAAO,gDAIU,IAAjB20C,EAAMt+B,OACRrW,GAAO,IAAM,EAAoB,KAEjCA,GAAO,sBAAwB,EAAc,wCAA0C,EAAc,mCAAqC,EAAc,yCAA2C,EAAO,IAAM,EAAU,KAAO,EAAO,YAAc,EAAO,aAAe,EAAa,cAAgB,EAAO,UAAY,EAAa,4BAA8B,EAAa,kCAAuC4jB,EAAY,UAAI,MAAQ,EAAa,kBAAoB,EAAmB,OACneA,EAAGpM,KAAKkO,UACV1lB,GAAO,IAAM,EAAa,aAAe,EAAiB,KAAO,EAAa,WAAa,EAAU,MAEvGA,GAAO,eAAiB,EAAoB,OAGhDA,GAAO,MACHolB,IACFplB,GAAO,YAGX,OAAOA,I,6BChOT,IAAIwzB,EAAa,EAAQ,IAEzBr/B,EAAOD,QAAU,CACfiwB,IAAK,0EACL6nB,YAAa,CACXqJ,YAAa7hB,EAAWwY,YAAYqJ,aAEtCr9C,KAAM,SACNomC,aAAc,CACZv9B,OAAQ,CAAC,YACTgB,MAAO,CAAC,YACRmzC,WAAY,CAAC,UACb1lB,MAAO,CAACsc,IAAK,CAACQ,SAAU,CAAC,YAE3Bn8B,WAAY,CACVjY,KAAMw7B,EAAWvjB,WAAWjY,KAC5B6I,OAAQ,CAAC7I,KAAM,WACfg9C,WAAY,CAACh9C,KAAM,WACnBomC,aAAc,CACZpmC,KAAM,QACNiwB,MAAO,CAACjwB,KAAM,WAEhBw7B,WAAY,CAACx7B,KAAM,UACnBm9C,UAAW,CAACn9C,KAAM,WAClBs3B,MAAO,CAACt3B,KAAM,WACd6J,MAAO,CAAC7J,KAAM,WACdqI,MAAO,CAACrI,KAAM,WACdqe,OAAQ,CACNy1B,MAAO,CACL,CAAC9zC,KAAM,WACP,CAACm0C,MAAO,a,icChChB,SAASmJ,EAAoBC,GAC5B,IAAItkB,EAAI,IAAI7uB,MAAM,uBAAyBmzC,EAAM,KAEjD,MADAtkB,EAAEx4B,KAAO,mBACHw4B,EAEPqkB,EAAoBp6C,KAAO,WAAa,MAAO,IAC/Co6C,EAAoB9iC,QAAU8iC,EAC9BnhD,EAAOD,QAAUohD,EACjBA,EAAoBnnC,GAAK,I,gBCKzBha,EAAOD,QAAU,EAAQ,IAAYwB,OAbrC,WAGI,IAFA,IAAIitB,EAAO,GAEFvuB,EAAI,EAAGA,EAAI8mB,UAAU1iB,OAAQpE,IAAK,CACvC,IAAIohD,EAAMt6B,UAAU9mB,GACpB,IAAK,IAAIuB,KAAO6/C,EACZ7yB,EAAKhtB,GAAO6/C,EAAI7/C,GAIxB,OAAOgtB,EAIP4b,CACI,EAAQ,KACR,EAAQ,KACR,EAAQ,Q,gBCjBhB,IAAI96B,EAAO,EAAQ,GACfgT,EAAc,EAAQ,IACtBrgB,EAAc,EAAQ,GACtBq/C,EAAQ,EAAQ,IAChBC,EAAmB,EAAQ,IAC3Bl+C,EAAW,EAAQ,GACnBm+C,EAAe,EAAQ,IACvBC,EAAkB,EAAQ,KAC1BC,EAAkB,EAAQ,KAC1BC,EAAe,EAAQ,KACvBlmC,EAAQ,EAAQ,KAChBmmC,EAAQ,EAAQ,IAChBC,EAAM,EAAQ,KA8DlB9hD,EAAQwB,OAAS,SAASugD,GACtB,OA7DJ,SAASC,EAAaD,GAClB,IAAIv5C,EAAQi5C,EAAaM,GACrBzpB,EAAOspB,EAAaG,GACpB74C,EAAWw4C,EAAgBK,GAC3BE,EAAUN,EAAgBrpB,GAE1Bf,EAAS,CACThoB,KAAMA,EACNgT,YAAaA,EACbrgB,YAAaA,EACbq/C,MAAOA,EAEPl9B,aAAcw9B,EAAMx9B,aACpBR,QAASg+B,EAAMh+B,QACfhiB,SAAUggD,EAAMhgD,SAChB6hB,iBAAkBm+B,EAAMn+B,iBAExB89B,iBAAkBA,EAClB91B,MAAO,KACPw2B,YAAa,SAASH,GAClB,OAAO,IAAIR,EAAMQ,EAAQxqB,EAAQA,EAAO7L,MAAMnjB,YAGlDjF,SAAUA,EACVkF,MAAOA,EACP8vB,KAAMA,EACNpvB,SAAUA,EAEVi5C,KAAM7pB,EAAK6pB,KACXC,SAAU9pB,EAAK8pB,SACfC,QAAS/pB,EAAK+pB,QAEd3mC,MAAOA,EACP4mC,gBAAiBL,EAAQK,gBACzBC,cAAeN,EAAQM,cAEvBP,aAAc,SAASD,GACnB,OAAOC,EAAaF,EAAI,GAAIC,KAEhCS,KAAM,SAASC,GACX,IAAItqC,EAAO2pC,EAAI,GAAIC,GACnB,OAAOC,EACkB,mBAAdS,EACDA,EAAUtqC,EAAMvX,OAAOygC,QACvBygB,EAAI3pC,EAAMsqC,MAa5B,OARAlrB,EAAO7L,MAAQ,IAAI61B,EAAM,CACrBmB,SAAS,EACTn4C,MAAOw3C,EAAOx3C,MACdo4C,QAASZ,EAAOY,QAChB5mC,WAAYgmC,EAAOhmC,WACnB5S,KAAM44C,EAAO54C,MACdouB,GAEIA,EAIAyqB,CAAaF,EAAI,GAAIC,M,gBC3EhC,IAAI5qB,EAAuB,EAAQ,IAAWA,qBAC1CG,EAAa,EAAQ,IAAWA,WAChCuqB,EAAQ,EAAQ,IAChBa,EAAU,EAAQ,IAClBl6C,EAAQ,EAAQ,IAChBU,EAAW,EAAQ,IACnBovB,EAAO,EAAQ,IACfsqB,EAAgB,EAAQ,IACxB5pB,EAAkB,EAAQ,IAAiBA,gBAC3C6pB,EAAc,EAAQ,IAAWA,YACjCC,EAAQ,EAAQ,IAChBC,EAAS,EAAQ,IACjBC,EAAyB,EAAQ,IAAeA,uBAChDC,EAAkBjqB,EAAgB,6BAClCkqB,EAAgClqB,EAAgB,uDAEpD,SAASmqB,EAAcv7C,EAAKib,EAASugC,GACjC,IAAIhzC,EAAS,GAEb,IAAK,IAAI3P,KAAQmH,EACTA,EAAInH,GAAM82B,SACVnnB,EAAO3P,GAAQ2iD,EACTx7C,EAAInH,GAAM82B,OACVruB,EAAStB,EAAInH,GAAM82B,OAAQ,CAAE1U,QAASA,KAIpD,OAAOzS,EAaX,SAASizC,EAAiB73C,EAAO8Q,EAAOgnC,GACpC,MAAO,CACHC,QAAS/3C,EACT83C,WAAYA,EACZhnC,MAAOA,EACPknC,SAAUV,EAAMU,SAChBr2B,OAAQ21B,EAAM31B,OACds2B,WAAYX,EAAMW,WAClBC,UAAWZ,EAAMY,WAIzB,SAASC,EAAYj4B,EAAO6L,EAAQp2B,EAAOyiD,GACvC,IACIxzC,EADAsnB,EAASkrB,EAAczhD,EAAOuqB,EAAM6L,QAGxC,OA1BJ,SAAqBG,GACjB,IAAK,IAAIx3B,EAAI,EAAGA,EAAIw3B,EAAOpzB,OAAQpE,IAC/B,GAAsC,SAAlCw3B,EAAOx3B,GAAGiB,MAAM6U,cAChB,OAAO,EAIf,OAAO,EAmBH6tC,CAAYnsB,GACL2rB,EAAiB,KAAM,IAAIn1C,MAAM,qDAGxC01C,IACAxzC,EAASyyC,EAAYnrB,EAAQhM,EAAMo4B,kBAAmBp4B,IAGrDk4B,GAAcxzC,EAAO5E,QACtB4E,EAASyyC,EAAYnrB,EAAQH,EAAO/rB,MAAOkgB,IAC/BlgB,MAST63C,EAAiBjzC,EAAO5E,MAAO,KAAM4E,EAAOkzC,YARpCD,EACH,KACA,IAAI/rB,EAAWlnB,EAAO2zC,OAAQxsB,EAAOA,OAAQp2B,EAAOiP,GACpDA,EAAOkzC,aAQvB,IAAI/B,EAAQ,SAASQ,EAAQxqB,EAAQhvB,GASjC,GARAP,KAAK87C,kBAAoBb,EACzBj7C,KAAKuvB,OAASA,EACdvvB,KAAK06C,SAAU,EACf16C,KAAK26C,QAAU,GACf36C,KAAK+T,WAAa,GAClB/T,KAAKuC,MAAQ,GACbvC,KAAKO,UAAYA,GAAay6C,EAAuBjB,GAEjDA,EAAQ,CACR,GAAIA,EAAOx3C,MACP,IAAK,IAAI9J,KAAQshD,EAAOx3C,MACpBvC,KAAKg8C,SAASvjD,EAAMshD,EAAOx3C,MAAM9J,IAIzC,GAAIshD,EAAOW,QAEP,IAAK,IAAIjiD,KADTuH,KAAK06C,SAAU,EACEA,EACb16C,KAAKg8C,SAASvjD,EAAMiiD,EAAQjiD,IAIpC,GAAIshD,EAAOY,QACP,IAAK,IAAIliD,KAAQshD,EAAOY,QACpB36C,KAAKi8C,WAAWxjD,EAAMshD,EAAOY,QAAQliD,IAI7C,GAAIshD,EAAOhmC,WACP,IAAK,IAAItb,KAAQshD,EAAOhmC,WACpB/T,KAAKk8C,aAAazjD,EAAMshD,EAAOhmC,WAAWtb,MAM1D8gD,EAAMz/C,UAAY,CACdyG,UAAW,GACX47C,eAAgB,SAAS9jB,GACrB,SAAS+jB,EAAej7C,EAAM0Y,GAC1BwiC,EAAMh0C,KAAK,CACPlH,KAAMA,EACN0Y,QAASA,IAIjB,IAAItZ,EAAYP,KAAKO,UACjB87C,EAAQ,GAUZ,OARAr8C,KAAKuvB,OAAOe,KAAK+H,GAAK,SAASl3B,GACvBZ,EAAUxG,eAAeoH,EAAKrF,MAC9ByE,EAAUY,EAAKrF,MAAMwgD,MAAMn7C,EAAMi7C,GAEjCA,EAAej7C,EAAM,sBAAwBA,EAAKrF,KAAO,UAI1DugD,EAAM//C,QAAS+/C,GAG1BE,iBAAkB,SAAShtB,EAAQzzB,EAAMrD,GACrC,IAAIge,EAAM,CACN3a,KAAMA,EACNrD,KAAMA,GAENub,EAAa,CACblY,KAAMA,EACNrD,KAAMA,EACN82B,OAAQ,KACR/rB,MAAO,MAiCX,MA9BsB,mBAAX+rB,EACPvb,EAAWxQ,MAAQwtB,EAAgBzB,EAAQ9Y,IAErB,iBAAX8Y,EAEP32B,OAAOC,eAAemb,EAAY,SAAU,CACxCjb,IAAK,WAKD,OAJAH,OAAOC,eAAemb,EAAY,SAAU,CACxC7a,MAAOqH,EAAM+uB,KAGVvb,EAAWub,UAI1Bvb,EAAWub,OAASA,EAIxB32B,OAAOC,eAAemb,EAAY,QAAS,CACvCjb,IAAK,WAKD,OAJAH,OAAOC,eAAemb,EAAY,QAAS,CACvC7a,MAAO63B,EAAgBhd,EAAWub,OAAQ9Y,KAGvCzC,EAAWxQ,UAKvBwQ,GAEXioC,WAAY,SAASxjD,EAAM82B,GACvBvvB,KAAK26C,QAAQliD,GAAQ,CACjBquB,QAASyI,EAAOzI,QAAU9mB,KAAKu8C,iBAAiBhtB,EAAOzI,QAAS,gBAAiBruB,GAAQ,KACzF+jD,YAAajtB,EAAOitB,YACd5jD,OAAOoG,KAAKuwB,EAAOitB,aAAa7vC,OAAO,CAACyK,EAAK3e,KAC3C2e,EAAI3e,GAAQuH,KAAKu8C,iBAAiBhtB,EAAOitB,YAAY/jD,GAAO,mBAAoBA,GACzE2e,GACR,IACD,OAGd8kC,aAAc,SAASzjD,EAAM82B,GACzBvvB,KAAK+T,WAAWtb,GAAQuH,KAAKu8C,iBAAiBhtB,EAAQ,WAAY92B,IAEtEujD,SAAU,SAASvjD,EAAM82B,GACrBvvB,KAAKuC,MAAM9J,GAAQuH,KAAKu8C,iBAAiBhtB,EAAQ,OAAQ92B,GAErD82B,IAAWmrB,EAAQ,2BACnB16C,KAAK87C,kBAAoBZ,IAIjCuB,mBAAoB,SAASC,EAAY51B,GACrC,IAAI61B,EAAS9C,EAAMh+B,QAAQ6gC,GAEvBE,EAAsBD,EAAO5gC,OAC3B/b,KAAK68C,iBAAiBF,EAAOlkD,OAASuH,KAAK68C,iBAAiBF,EAAO1gC,UACnEjc,KAAK68C,iBAAiBF,EAAOlkD,MAEnC,OAAKmkD,EAQEjB,EAAY37C,KAAM48C,EAAqB91B,GAAS,GAP/C61B,EAAO1gC,YAAYjc,KAAK26C,QACjBU,EAAiB,KAAM,IAAIn1C,MAAM,YAAcw2C,EAAa,mCAGhErB,EAAiB,KAAM,IAAIlsB,EAAqB,kBAAmButB,KAKlFI,sBAAuB,SAASJ,EAAYK,EAAgB5jD,GACxD,IAAIwjD,EAAS9C,EAAMh+B,QAAQ6gC,GACvB1oC,EAAa6lC,EAAMh+B,QAAQkhC,GAE3BC,EAAcL,EAAO5gC,OACnB/b,KAAK26C,QAAQgC,EAAOlkD,OAASuH,KAAK26C,QAAQgC,EAAO1gC,UACjDjc,KAAK26C,QAAQgC,EAAOlkD,MAE1B,IAAKukD,EACD,OAAO3B,EAAiB,KAAM,IAAIlsB,EAAqB,kBAAmButB,IAG9E,IAAKM,EAAYR,YACb,OAAOnB,EAAiB,KAAM,IAAIn1C,MAAM,YAAcw2C,EAAa,+BAGvE,IAAIO,EAAyBjpC,EAAW+H,OAClCihC,EAAYR,YAAYxoC,EAAWvb,OAASukD,EAAYR,YAAYxoC,EAAWiI,UAC/E+gC,EAAYR,YAAYxoC,EAAWvb,MAEzC,OAAKwkD,EAIEtB,EAAY37C,KAAMi9C,EAAwB9jD,GAAO,GAH7CkiD,EAAiB,KAAM,IAAIlsB,EAAqB,6BAA8B4tB,KAK7F73B,iBAAkB,SAAS/jB,GACvB,MAAkB,gBAAdA,EAAKrF,KACEu/C,EAAiB,KAAM,IAAIn1C,MAAM,2BAGrClG,KAAKk9C,cAAc/7C,EAAKtH,SAAUsH,EAAKhI,QAElD+jD,cAAe,SAAS7uC,EAAclV,GAClC,IAAIU,EAAWggD,EAAMhgD,SAASwU,GAG9B,GAAIxU,EAASiiB,OACT,OAAOu/B,EAAiB,KAAM,IAAIn1C,MAAM,4DAG5C,IAAIi3C,EAAiBtjD,EAASkiB,OACxB/b,KAAKgD,YAAYnJ,EAASpB,OAASuH,KAAKgD,YAAYnJ,EAASoiB,UAC7Djc,KAAKgD,YAAYnJ,EAASpB,MAEhC,OAAK0kD,EAIExB,EAAY37C,KAAMm9C,EAAgBhkD,GAAO,GAHrCkiD,EAAiB,KAAM,IAAIlsB,EAAqB,mBAAoB9gB,KAKnF+uC,UAAW,SAASC,EAAUlkD,GAC1B,IAAImkD,EAAat9C,KAAKu9C,QAAQF,GAE9B,OAAKC,EAIE3B,EAAY37C,KAAMs9C,EAAYnkD,GAAO,GAHjCkiD,EAAiB,KAAM,IAAIlsB,EAAqB,eAAgBkuB,KAK/E75C,MAAO,SAAS+rB,EAAQp2B,GACpB,MAAsB,iBAAXo2B,GAAyBA,GAAWA,EAAOzzB,MAIhC,iBAAXyzB,GAAwBA,EAAO/rB,QACtC+rB,EAASvvB,KAAKu8C,iBAAiBhtB,EAAQ,OAAQ,cAG5CosB,EAAY37C,KAAMuvB,EAAQp2B,GAAO,IAP7BkiD,EAAiB,KAAM,IAAIlsB,EAAqB,gBAU/DquB,mBAAoB,SAASnvC,EAAclV,EAAO2C,EAAMrD,GACpD,OAAOsiD,EAAO0C,eAAez9C,KAAM7G,EAAO6G,KAAKk9C,cAAc7uC,EAAclV,GAAQ2C,EAAMrD,IAE7FilD,8BAA+B,SAAS/tC,EAAa7T,EAAMrD,GACvD,OAAOsiD,EAAO0C,eAAez9C,KAAM2P,EAAYxW,MAAO6G,KAAKklB,iBAAiBvV,GAAc7T,EAAMrD,IAEpGklD,iBAAkB,SAAStlB,EAAKv8B,EAAMrD,GAClC,IAAI2P,EAAS,GASb,OAPApI,KAAKuvB,OAAOe,KAAK+H,EAAK,CAClBulB,MAAO,cACPxtB,MAAO,SAASzgB,GACZvH,EAAOC,KAAKyc,MAAM1c,EAAQpI,KAAK09C,8BAA8B/tC,EAAa7T,EAAMrD,KAClFiB,KAAKsG,QAGJoI,GAGXy0C,iBAAkB,SAASH,GACvB,OAAO18C,KAAK26C,QAAQ5gD,eAAe2iD,GAAc18C,KAAK26C,QAAQ+B,GAAY51B,QAAU,MAExF+2B,oBAAqB,SAASnB,EAAYjkD,GACtC,OAAOuH,KAAK26C,QAAQ5gD,eAAe2iD,IAAe18C,KAAK26C,QAAQmD,aACzD99C,KAAK26C,QAAQ+B,GAAYoB,YAAYrlD,IACrC,MAEVuK,YAAa,SAASvK,GAClB,OAAOuH,KAAK+T,WAAWha,eAAetB,GAAQuH,KAAK+T,WAAWtb,GAAQ,MAE1E8kD,QAAS,SAAS9kD,GACd,OAAOuH,KAAKuC,MAAMxI,eAAetB,GAAQuH,KAAKuC,MAAM9J,GAAQ,MAGhEue,SAAU,WACN,SAASA,EAASuY,EAAQ92B,EAAMslD,EAAQ/pC,GACpC,GAAI+pC,EAAOhkD,eAAetB,GACtB,OAAOslD,EAAOtlD,GAGlBslD,EAAOtlD,IAAQ,EACW,OAAtBub,EAAWub,QACXe,EAAKtc,EAAWub,QAAQ,SAASpuB,GAC7B,GAAkB,SAAdA,EAAKrF,MAAiC,aAAdqF,EAAKrF,KAAjC,CAIA,IAAI8D,EAAoB,SAAduB,EAAKrF,KAAkByzB,EAAOhtB,MAAQgtB,EAAOxb,WACnDiqC,EAA0B,SAAd78C,EAAKrF,KAAkBmiD,EAAcC,EAEhDt+C,EAAI7F,eAAeoH,EAAK1I,QAASue,EAASuY,EAAQpuB,EAAK1I,KAAMulD,EAAWp+C,EAAIuB,EAAK1I,SAClFslD,EAAOtlD,IAAQ,MAEpBuH,MAIX,IAAIi+C,EAAc,GACdC,EAAmB,GAEvB,IAAK,IAAIzkD,KAAOuG,KAAKuC,MACjByU,EAAShX,KAAMvG,EAAKwkD,EAAaj+C,KAAKuC,MAAM9I,IAGhD,IAAK,IAAIA,KAAOuG,KAAK+T,WACjBiD,EAAShX,KAAMvG,EAAKykD,EAAkBl+C,KAAK+T,WAAWta,IAU1D,OAPAwkD,EAAcrlD,OAAOoG,KAAKi/C,GAAa70C,QAAO,SAAS3Q,GACnD,OAAOwlD,EAAYxlD,MAEvBylD,EAAmBtlD,OAAOoG,KAAKk/C,GAAkB90C,QAAO,SAAS3Q,GAC7D,OAAOylD,EAAiBzlD,MAGxBwlD,EAAY3hD,QAAU4hD,EAAiB5hD,OAChC,CACHiG,MAAO07C,EACPlqC,WAAYmqC,GAIb,MAEX1xC,KAAM,SAAS4uC,EAAa+C,GACxB,MAAO,CACHzD,QAAS16C,KAAK06C,QACdn4C,MAAO44C,EAAcn7C,KAAKuC,OAAQ47C,EAAQ/C,GAC1CrnC,WAAYonC,EAAcn7C,KAAK+T,YAAaoqC,EAAQ/C,KAG5D3oC,SAAU,WACN,OAAOiP,KAAK4F,UAAUtnB,KAAKwM,UAInCvU,EAAOD,QAAUuhD,G,gBCtYjB,IAgLc9gD,EAhLVqkB,EAAY,EAAQ,GACpBniB,EAAoBmiB,EAAUniB,kBAC9B4P,EAAauS,EAAUvS,WACvBD,EAAUwS,EAAUxS,QACpBvP,EAAS+hB,EAAU/hB,OACnBK,EAAgB0hB,EAAU1hB,cAC1Bf,EAAOyiB,EAAUziB,KACjB+jD,EAAU,EAAQ,IAClBC,EAAS,EAAQ,IAEjBpD,EAAkB,CAAC,QAAS,UAAW,WACvCqD,EAAoB,CAAC,QAAS,aAAc,iBAoEhD,SAAShhC,EAASja,EAAK5D,GACnB,OAAOA,EAAQ4D,EAAI/G,OAAS+G,EAAIzH,WAAW6D,GAAS,EAGxD,SAAS8+C,EAAMC,EAAQC,GACnB,OAAO1jD,EAAOyjD,EAAQ,EAAGA,EAAOliD,OAAQmiD,GAG5C,SAASC,EAASF,EAAQC,GACtB,IAAK,IAAIvmD,EAAI,EAAGA,EAAIumD,EAASniD,OAAQpE,IACjC,GAAIqmD,EAAMC,EAAQC,EAASvmD,IACvB,OAAO,EAIf,OAAO,EAIX,SAASymD,EAAgBt7C,EAAK3H,GAC1B,OAAIA,IAAW2H,EAAI/G,OAAS,IAKG,KAA3B+G,EAAIzH,WAAWF,IACf4O,EAAQjH,EAAIzH,WAAWF,EAAS,KAIxC,SAASkjD,EAAWtjC,EAAMniB,EAAO0lD,GAC7B,GAAIvjC,GAAsB,UAAdA,EAAKxf,KAAkB,CAC/B,IAAIkyB,EAAM/xB,YACK4M,IAAXg2C,GAAwBA,IAAW1lD,EAAMmD,OACnCnD,EAAM+iB,OAAO,EAAG2iC,GAChB1lD,GAGV,GAAIq1B,MAAMR,GACN,OAAO,EAGX,GAAiB,OAAb1S,EAAKtQ,KAAgBgjB,EAAM1S,EAAKtQ,IAChC,OAAO,EAGX,GAAiB,OAAbsQ,EAAKzP,KAAgBmiB,EAAM1S,EAAKzP,IAChC,OAAO,EAIf,OAAO,EAGX,SAASizC,EAAgBxgC,EAAOygC,GAC5B,IAAIC,EAAW1gC,EAAM7e,MACjBnD,EAAS,EAGb,GAGI,GAFAA,IAEIgiB,EAAMlhB,SAAW4hD,EACjB,YAEC1gC,EAAQygC,EAAaziD,IAE9B,OAAOA,EAMX,SAAS2iD,EAAKlgD,GACV,OAAO,SAASuf,EAAOygC,EAAczjC,GACjC,OAAc,OAAVgD,EACO,EAGPA,EAAMxiB,OAASzB,EAAK+B,UAAYsiD,EAASpgC,EAAMnlB,MAAOmlD,GAC/CQ,EAAgBxgC,EAAOygC,GAG3BhgD,EAAKuf,EAAOygC,EAAczjC,IAIzC,SAAS/Z,EAAU29C,GACf,OAAO,SAAS5gC,GACZ,OAAc,OAAVA,GAAkBA,EAAMxiB,OAASojD,EAC1B,EAGJ,GAgOf,SAASC,EAAUrjD,GACf,OAAO,SAASwiB,EAAOygC,EAAczjC,GACjC,GAAc,OAAVgD,GAAkBA,EAAMxiB,OAASzB,EAAK0B,UACtC,OAAO,EAGX,IAAIqjD,EAAYhkD,EAAckjB,EAAMnlB,MAAO,GAG3C,GAAa,OAAT2C,EAAe,CAEf,IAAIujD,EAAuB/gC,EAAMnlB,MAAM8E,QAAQ,KAAMmhD,GACjDE,GAAiC,IAA1BD,GAAgCV,EAAgBrgC,EAAMnlB,MAAOkmD,GAElE/gC,EAAMnlB,MAAM8H,UAAUm+C,EAAWC,GADjC/gC,EAAMnlB,MAAM+iB,OAAOkjC,GAGzB,IAAgD,IAA5CtjD,EAAK/B,eAAeulD,EAAKtxC,eACzB,OAAO,EAKf,OAAI4wC,EAAWtjC,EAAMgD,EAAMnlB,MAAOimD,GACvB,EAGJ,GAgCf,SAASG,EAAKxgD,GAOV,MANoB,mBAATA,IACPA,EAAO,WACH,OAAO,IAIR,SAASuf,EAAOygC,EAAczjC,GACjC,OAAc,OAAVgD,GAAkBA,EAAMxiB,OAASzB,EAAK4B,QACV,IAAxBA,OAAOqiB,EAAMnlB,OACN,EAIR4F,EAAKuf,EAAOygC,EAAczjC,IAsDzCrjB,EAAOD,QAAU,CAEb,cAAeuJ,EAAUlH,EAAKwC,OAC9B,iBAAkB0E,EAAUlH,EAAK+B,UACjC,mBAAoBmF,EAAUlH,EAAKgE,WACnC,aAAckD,EAAUlH,EAAKqD,MAC7B,eAAgB6D,EAAUlH,EAAK2C,QAC/B,mBAAoBuE,EAAUlH,EAAK4C,WACnC,YAAasE,EAAUlH,EAAKgC,KAC5B,gBAAiBkF,EAAUlH,EAAKqC,QAChC,cAAe6E,EAAUlH,EAAKsD,OAC9B,eAAgB4D,EAAUlH,EAAK4B,QAC/B,mBAAoBsF,EAAUlH,EAAK2B,YACnC,kBAAmBuF,EAAUlH,EAAK0B,WAClC,mBAAoBwF,EAAUlH,EAAKoC,YACnC,YAAa8E,EAAUlH,EAAK+D,KAC5B,YAAamD,EAAUlH,EAAK0D,KAC5B,cAAewD,EAAUlH,EAAK6D,OAC9B,kBAAmBqD,EAAUlH,EAAK8D,WAClC,cAAeoD,EAAUlH,EAAKyD,OAC9B,UAAWyD,EAAUlH,EAAKiE,mBAC1B,UAAWiD,EAAUlH,EAAKkE,oBAC1B,UAAWgD,EAAUlH,EAAKuD,iBAC1B,UAAW2D,EAAUlH,EAAKwD,kBAC1B,UAAW0D,EAAUlH,EAAKmE,kBAC1B,UAAW+C,EAAUlH,EAAKoE,mBAG1B,OAAU8C,EAAUlH,EAAK2C,QACzB,MAASuE,EAAUlH,EAAKwC,OAGxB,eAnWJ,SAAqByhB,GACjB,GAAc,OAAVA,GAAkBA,EAAMxiB,OAASzB,EAAKwC,MACtC,OAAO,EAGX,IAAIpE,EAAO6lB,EAAMnlB,MAAM6U,cAGvB,OAAI0wC,EAASjmD,EAAMwiD,IAKfsD,EAAM9lD,EAAM,WAJL,EAcJ,GA6UP,uBArUJ,SAA4B6lB,GAExB,OAAc,OAAVA,GAAkBA,EAAMxiB,OAASzB,EAAKwC,OAKT,KAA7BygB,EAASgB,EAAMnlB,MAAO,IAA8C,KAA7BmkB,EAASgB,EAAMnlB,MAAO,GAJtD,EAQJ,GA2TP,YApTJ,SAAkBmlB,GACd,GAAc,OAAVA,GAAkBA,EAAMxiB,OAASzB,EAAKqD,KACtC,OAAO,EAGX,IAAIpB,EAASgiB,EAAMnlB,MAAMmD,OAGzB,GAAe,IAAXA,GAA2B,IAAXA,GAA2B,IAAXA,GAA2B,IAAXA,EAChD,OAAO,EAGX,IAAK,IAAIpE,EAAI,EAAGA,EAAIoE,EAAQpE,IACxB,IAAKqS,EAAW+T,EAAMnlB,MAAMyC,WAAW1D,IACnC,OAAO,EAIf,OAAO,GAmSP,cAhSJ,SAAoBomB,GAChB,OAAc,OAAVA,GAAkBA,EAAMxiB,OAASzB,EAAKqD,KAC/B,EAGN/C,EAAkB2iB,EAASgB,EAAMnlB,MAAO,GAAImkB,EAASgB,EAAMnlB,MAAO,GAAImkB,EAASgB,EAAMnlB,MAAO,IAI1F,EAHI,GA2RX,YAAailD,EACb,OAAUC,EACV,oBArRJ,SAA0B//B,EAAOygC,GAC7B,IAAKzgC,EACD,OAAO,EAGX,IAAIhiB,EAAS,EACT4jB,EAAQ,EACR8+B,EAAW1gC,EAAM7e,MAIrB+/C,EACA,EAAG,CACC,OAAQlhC,EAAMxiB,MAEV,KAAKzB,EAAK4C,UACV,KAAK5C,EAAKqC,OACN,MAAM8iD,EAGV,KAAKnlD,EAAKoE,kBACV,KAAKpE,EAAKwD,iBACV,KAAKxD,EAAKkE,mBACN,GAAI+f,EAAMlhB,QAAUkhB,EAAM7e,OAAS6e,EAAMlhB,QAAU4hD,EAC/C,MAAMQ,EAGVt/B,IACA,MAGJ,KAAK7lB,EAAK8D,UACN,GAAc,IAAV+hB,EACA,MAAMs/B,EAGV,MAGJ,KAAKnlD,EAAKsD,MACN,GAAoB,MAAhB2gB,EAAMnlB,OAA2B,IAAV+mB,EACvB,MAAMs/B,EAGV,MAEJ,KAAKnlD,EAAK+B,SACV,KAAK/B,EAAKuD,gBACV,KAAKvD,EAAKiE,kBACV,KAAKjE,EAAKmE,iBACN0hB,IAOR,GAHA5jB,IAGIgiB,EAAMlhB,SAAW4hD,EACjB,YAEC1gC,EAAQygC,EAAaziD,IAE9B,OAAOA,GAwNP,YAjNJ,SAAkBgiB,EAAOygC,GACrB,IAAKzgC,EACD,OAAO,EAGX,IAAI0gC,EAAW1gC,EAAM7e,MACjBnD,EAAS,EAIbkjD,EACA,EAAG,CACC,OAAQlhC,EAAMxiB,MAEV,KAAKzB,EAAK4C,UACV,KAAK5C,EAAKqC,OACN,MAAM8iD,EAGV,KAAKnlD,EAAKoE,kBACV,KAAKpE,EAAKwD,iBACV,KAAKxD,EAAKkE,mBACN,GAAI+f,EAAMlhB,QAAUkhB,EAAM7e,OAAS6e,EAAMlhB,QAAU4hD,EAC/C,MAAMQ,EASlB,GAHAljD,IAGIgiB,EAAMlhB,SAAW4hD,EACjB,YAEC1gC,EAAQygC,EAAaziD,IAE9B,OAAOA,GA+KP,UAAa2iD,EAAKE,EAAU,OAC5B,MAASF,EAAKE,EA/gBN,CACR,KAAO,EACP,MAAQ,EACR,KAAO,EACP,MAAQ,KA4gBR,QAAWF,EAAKE,EAjfN,CACV,IAAM,KAifN,UAAaF,EAAKE,EArgBN,CACZ,IAAM,EACN,KAAO,KAogBP,KAAQF,EAAKE,EAxfN,CACP,IAAM,KAwfN,OAAUF,EAAKM,EAAKJ,EA3iBX,CAET,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,GAAK,EAGL,IAAM,EACN,IAAM,EACN,IAAM,EACN,KAAO,EAGP,IAAM,EACN,IAAM,EACN,MAAQ,EACR,MAAQ,EACR,IAAM,MAuhBN,WAAcF,EAAKE,EAlgBN,CACb,KAAO,EACP,MAAQ,EACR,MAAQ,EACR,GAAK,KA+fL,UAAaF,EAAKE,EAjfN,CACZ,IAAM,KAifN,KAAQF,EAAKE,EA/gBN,CACP,GAAK,EACL,IAAM,KAghBN,WAAcF,GA/IlB,SAAoB3gC,EAAOygC,EAAczjC,GAErC,OAAc,OAAVgD,GAAkBA,EAAMxiB,OAASzB,EAAK2B,YAKtC4iD,EAAWtjC,EAAMgD,EAAMnlB,MAAOmlB,EAAMnlB,MAAMmD,OAAS,GAJ5C,EAQJ,KAuIP,KAAQijD,IACR,OAAUN,GAvGd,SAAgB3gC,EAAOygC,EAAczjC,GACjC,GAAc,OAAVgD,EACA,OAAO,EAGX,IAAI8gC,EAAYhkD,EAAckjB,EAAMnlB,MAAO,GAE3C,OADeimD,IAAc9gC,EAAMnlB,MAAMmD,QACvBqiD,EAAgBrgC,EAAMnlB,MAAOimD,GAK3CR,EAAWtjC,EAAMgD,EAAMnlB,MAAOimD,GACvB,EAGJ,EARI,KAgGX,QAAWH,GAnFf,SAAiB3gC,EAAOygC,EAAczjC,GAElC,GAAc,OAAVgD,GAAkBA,EAAMxiB,OAASzB,EAAK4B,OACtC,OAAO,EAQX,IAJA,IAAI/D,EAAkC,KAA9BomB,EAAMnlB,MAAMyC,WAAW,IACO,KAA9B0iB,EAAMnlB,MAAMyC,WAAW,GAAgB,EAAI,EAG5C1D,EAAIomB,EAAMnlB,MAAMmD,OAAQpE,IAC3B,IAAKoS,EAAQgU,EAAMnlB,MAAMyC,WAAW1D,IAChC,OAAO,EAKf,OAAI0mD,EAAWtjC,EAAMgD,EAAMnlB,MAAOjB,GACvB,EAGJ,KAgEP,yBAvZUO,EAuZoB,aAtZ9BA,GAAc,IAEP,SAAS6lB,EAAOygC,GACnB,OAAc,OAAVzgC,GAAkBigC,EAAMjgC,EAAMnlB,MAAOV,GAC9BqmD,EAAgBxgC,EAAOygC,GAG3B,M,gBCxLf,IAAIz0C,EAAU,EAAQ,GAAgBA,QAClCI,EAAU,EAAQ,GAAgBA,QAClCrQ,EAAO,EAAQ,GAAgBA,KAE/B83B,EAAQ93B,EAAKsD,MACb4N,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QACfwzB,EAAQn3B,EAAKwC,MACb60B,EAASr3B,EAAK4B,OACd61B,EAAYz3B,EAAK0B,UAOrB,SAASkQ,EAAQqS,EAAO/hB,GACpB,OAAiB,OAAV+hB,GAAkBA,EAAMxiB,OAASq2B,GAAS7T,EAAMnlB,MAAMyC,WAAW,KAAOW,EAGnF,SAASgQ,EAAO+R,EAAO5iB,EAAQqjD,GAC3B,KAAiB,OAAVzgC,IAAmBA,EAAMxiB,OAASyP,GAAc+S,EAAMxiB,OAAS0P,IAClE8S,EAAQygC,IAAerjD,GAG3B,OAAOA,EAGX,SAAS+jD,EAAanhC,EAAOohC,EAAaC,EAAcjkD,GACpD,IAAK4iB,EACD,OAAO,EAGX,IAAI/hB,EAAO+hB,EAAMnlB,MAAMyC,WAAW8jD,GAElC,GAzBW,KAyBPnjD,GAxBU,KAwBWA,EAAsB,CAC3C,GAAIojD,EAEA,OAAO,EAEXD,IAGJ,KAAOA,EAAcphC,EAAMnlB,MAAMmD,OAAQojD,IACrC,IAAKp1C,EAAQgU,EAAMnlB,MAAMyC,WAAW8jD,IAEhC,OAAO,EAIf,OAAOhkD,EAAS,EAKpB,SAASkkD,EAASthC,EAAOuhC,EAASd,GAC9B,IAAI9zC,GAAO,EACPvP,EAAS6Q,EAAO+R,EAAOuhC,EAASd,GAIpC,GAAc,QAFdzgC,EAAQygC,EAAarjD,IAGjB,OAAOmkD,EAGX,GAAIvhC,EAAMxiB,OAAS41B,EAAQ,CACvB,IAAIzlB,EAAQqS,EAxDL,MAwDyBrS,EAAQqS,EAvD9B,IAgEN,OAAOuhC,EAJP,GAJA50C,GAAO,EACPvP,EAAS6Q,EAAOwyC,IAAerjD,GAASA,EAAQqjD,GAGlC,QAFdzgC,EAAQygC,EAAarjD,KAEC4iB,EAAMxiB,OAAS41B,EACjC,OAAO,EAOnB,IAAKzmB,EAAM,CACP,IAAI1O,EAAO+hB,EAAMnlB,MAAMyC,WAAW,GAClC,GAvEO,KAuEHW,GAtEM,KAsEeA,EAErB,OAAO,EAIf,OAAOkjD,EAAanhC,EAAOrT,EAAO,EAAI,EAAGA,EAAMvP,GAInDzD,EAAOD,QAAU,SAAiBsmB,EAAOygC,GAErC,IAAIrjD,EAAS,EAEb,IAAK4iB,EACD,OAAO,EAIX,GAAIA,EAAMxiB,OAAS41B,EACf,OAAO+tB,EAAanhC,EAAO,GAvFlB,EAuFiC5iB,GAQzC,GAAI4iB,EAAMxiB,OAAS01B,GAlGV,KAkGmBlT,EAAMnlB,MAAMyC,WAAW,GAAoB,CAExE,IAAK8O,EAAQ4T,EAAMnlB,MAAO,EAnG1B,KAoGI,OAAO,EAGX,OAAQmlB,EAAMnlB,MAAMmD,QAIhB,KAAK,EACD,OAAOsjD,EAASb,IAAerjD,GAASA,EAAQqjD,GAGpD,KAAK,EACD,OAjHE,KAiHEzgC,EAAMnlB,MAAMyC,WAAW,GAChB,GAGXF,EAAS6Q,EAAOwyC,IAAerjD,GAASA,EAAQqjD,GAGzCU,EAFPnhC,EAAQygC,EAAarjD,GAEM,GAtHvB,EAsHyCA,IAGjD,QACI,OA5HE,KA4HE4iB,EAAMnlB,MAAMyC,WAAW,GAChB,EAGJ6jD,EAAanhC,EAAO,GA9HvB,EA8HyC5iB,SASpD,GAAI4iB,EAAMxiB,OAAS01B,GAAUvlB,EAAQqS,EA1I/B,KA0ImDygC,EAAarjD,EAAS,GAAGI,OAAS01B,EAAQ,CAMpG,GAJIlT,EAAMxiB,OAAS01B,IACflT,EAAQygC,IAAerjD,IAGb,OAAV4iB,IAAmB5T,EAAQ4T,EAAMnlB,MAAO,EA9I5C,KA+II,OAAO,EAGX,OAAQmlB,EAAMnlB,MAAMmD,QAIhB,KAAK,EACD,OAAOsjD,EAASb,IAAerjD,GAASA,EAAQqjD,GAGpD,KAAK,EACD,OA5JE,KA4JEzgC,EAAMnlB,MAAMyC,WAAW,GAChB,GAGXF,EAAS6Q,EAAOwyC,IAAerjD,GAASA,EAAQqjD,GAGzCU,EAFPnhC,EAAQygC,EAAarjD,GAEM,GAjKvB,EAiKyCA,IAGjD,QACI,OAvKE,KAuKE4iB,EAAMnlB,MAAMyC,WAAW,GAChB,EAGJ6jD,EAAanhC,EAAO,GAzKvB,EAyKyC5iB,SASpD,GAAI4iB,EAAMxiB,OAASg2B,EAAW,CAI/B,IAHA,IAAIv1B,EAAO+hB,EAAMnlB,MAAMyC,WAAW,GAC9BqP,EAvLG,KAuLI1O,GAtLD,KAsLsBA,EAAuB,EAAI,EAElDrE,EAAI+S,EAAM/S,EAAIomB,EAAMnlB,MAAMmD,QAC1BgO,EAAQgU,EAAMnlB,MAAMyC,WAAW1D,IADGA,KAM3C,OAAIA,IAAM+S,EAEC,EAGNP,EAAQ4T,EAAMnlB,MAAOjB,EAlM1B,KAyMIA,EAAI,IAAMomB,EAAMnlB,MAAMmD,OACfsjD,EAASb,IAAerjD,GAASA,EAAQqjD,GA3M1C,KA6MFzgC,EAAMnlB,MAAMyC,WAAW1D,EAAI,GACpB,EAIPA,EAAI,IAAMomB,EAAMnlB,MAAMmD,QACtBZ,EAAS6Q,EAAOwyC,IAAerjD,GAASA,EAAQqjD,GAGzCU,EAFPnhC,EAAQygC,EAAarjD,GAEM,GApNvB,EAoNyCA,IAItC+jD,EAAanhC,EAAOpmB,EAAI,GAxN3B,EAwN6CwD,GAtB9C,EA2Bf,OAAO,I,gBC1OX,IAAI6O,EAAa,EAAQ,GAAgBA,WACrCG,EAAU,EAAQ,GAAgBA,QAClCrQ,EAAO,EAAQ,GAAgBA,KAE/Bm3B,EAAQn3B,EAAKwC,MACbs1B,EAAQ93B,EAAKsD,MACb+zB,EAASr3B,EAAK4B,OACd61B,EAAYz3B,EAAK0B,UAMrB,SAASkQ,EAAQqS,EAAO/hB,GACpB,OAAiB,OAAV+hB,GAAkBA,EAAMxiB,OAASq2B,GAAS7T,EAAMnlB,MAAMyC,WAAW,KAAOW,EAGnF,SAASgT,EAAW+O,EAAO/hB,GACvB,OAAO+hB,EAAMnlB,MAAMyC,WAAW,KAAOW,EAGzC,SAASujD,EAAYxhC,EAAO5iB,EAAQqkD,GAChC,IAAK,IAAI/zC,EAAMtQ,EAAQskD,EAAS,EAAGh0C,EAAMsS,EAAMnlB,MAAMmD,OAAQ0P,IAAO,CAChE,IAAIzP,EAAO+hB,EAAMnlB,MAAMyC,WAAWoQ,GAElC,GAhBU,KAgBNzP,GAAwBwjD,GAAwB,IAAXC,EACrC,OAAIF,EAAYxhC,EAAO5iB,EAASskD,EAAS,GAAG,GAAS,EAC1C,EAGJ,EAGX,IAAKz1C,EAAWhO,GACZ,OAAO,EAGX,KAAMyjD,EAAS,EACX,OAAO,EAIf,OAAOA,EAGX,SAASC,EAAyB/lB,EAAU59B,EAAQyiD,GAChD,IAAK7kB,EACD,OAAO,EAGX,KAAOjuB,EAAQ8yC,EAAaziD,GAxCb,KAwCqC,CAChD,KAAM49B,EAAW,EACb,OAAO,EAGX59B,IAGJ,OAAOA,EAsBXrE,EAAOD,QAAU,SAAgBsmB,EAAOygC,GACpC,IAAIziD,EAAS,EAGb,GAAc,OAAVgiB,GAAkBA,EAAMxiB,OAAS01B,IAAU9mB,EAAQ4T,EAAMnlB,MAAO,EAzEhE,KA0EA,OAAO,EAIX,GAAc,QADdmlB,EAAQygC,IAAeziD,IAEnB,OAAO,EAKX,GAAI2P,EAAQqS,EAvFD,IAyFP,OAAc,QADdA,EAAQygC,IAAeziD,IAEZ,EAGPgiB,EAAMxiB,OAAS01B,EAERyuB,EAAyBH,EAAYxhC,EAAO,GAAG,KAAShiB,EAAQyiD,GAGvE9yC,EAAQqS,EAhGD,IAkGA2hC,EAAyB,IAAK3jD,EAAQyiD,GAI1C,EAMX,GAAIzgC,EAAMxiB,OAAS41B,EAAQ,CACvB,IAAKniB,EAAW+O,EA/GT,IAgHH,OAAO,EAGX,IAAI4hC,EAAoBJ,EAAYxhC,EAAO,GAAG,GAC9C,OAA0B,IAAtB4hC,EACO,EAIG,QADd5hC,EAAQygC,IAAeziD,IAGZA,EAGPgiB,EAAMxiB,OAASg2B,GAAaxT,EAAMxiB,OAAS41B,EAGtCniB,EAAW+O,EAhIV,KAgIkCwhC,EAAYxhC,EAAO,GAAG,GAIvDhiB,EAAS,EAHL,EAOR2jD,EAAyBC,EAAmB5jD,EAAQyiD,GAI/D,OAAIzgC,EAAMxiB,OAASg2B,GACVviB,EAAW+O,EA9IT,IAkJA2hC,EAAyBH,EAAYxhC,EAAO,GAAG,KAAShiB,EAAQyiD,GAGpE,I,gBC7JX,IAAIxkC,EAAc,EAAQ,IAQtB+B,EAAY,SAASjZ,GACrBrD,KAAKqD,IAAMA,EACXrD,KAAKgM,IAAM,GAGfsQ,EAAUxiB,UAAY,CAClB8B,WAAY,SAASoQ,GACjB,OAAOA,EAAMhM,KAAKqD,IAAI/G,OAAS0D,KAAKqD,IAAIzH,WAAWoQ,GAAO,GAE9DsR,SAAU,WACN,OAAOtd,KAAKpE,WAAWoE,KAAKgM,MAEhC6R,aAAc,WACV,OAAO7d,KAAKpE,WAAWoE,KAAKgM,IAAM,IAEtCm0C,cAAe,SAASn0C,GACpB,OAAOhM,KAAKpE,WAAWoE,KAAKgd,UAAUhR,KAE1CgR,UAAW,SAAShR,GAChB,KAAOA,EAAMhM,KAAKqD,IAAI/G,OAAQ0P,IAAO,CACjC,IAAIzP,EAAOyD,KAAKqD,IAAIzH,WAAWoQ,GAC/B,GAxBJ,KAwBQzP,GA1BR,KA0BsBA,GAzBtB,KAyBoCA,GAvBhC,KAuB8CA,GA3BhD,IA2BkEA,EAC5D,MAIR,OAAOyP,GAEX+Q,eAAgB,SAAS7R,GACrB,OAAOlL,KAAKqD,IAAIpC,UAAUjB,KAAKgM,IAAKhM,KAAKgM,IAAMd,IAEnDmS,IAAK,SAAS9gB,GACNyD,KAAKsd,aAAe/gB,GACpByD,KAAKsU,MAAM,WAAatX,OAAOyf,aAAalgB,GAAQ,KAGxDyD,KAAKgM,OAET2R,KAAM,WACF,OAAO3d,KAAKgM,IAAMhM,KAAKqD,IAAI/G,OAAS0D,KAAKqD,IAAIkL,OAAOvO,KAAKgM,OAAS,IAEtEsI,MAAO,SAASuF,GACZ,MAAM,IAAIU,EAAYV,EAAS7Z,KAAKqD,IAAKrD,KAAKgM,OAItD/T,EAAOD,QAAUskB,G,gBCtDjB,IAAIhhB,EAAW,EAAQ,GAEnB8kD,EAAc,IADA,EAAQ,IAEtBC,EAAc,CACdC,UAAW,SAAS9nB,GAChB,IAAI+nB,EAAU,KACV1gD,EAAO,CAAEivC,IAAK,EAAG3tC,KAAM,MACvBq/C,EAAQ,CAAC3gD,GACT8V,EAAS,GAEb,MAAO,CACH9I,SAAU2rB,EAAS3rB,SACnB1L,KAAM,SAASA,GACX,IAAI23B,EAAMynB,EACVA,EAAUp/C,EACVq3B,EAASr3B,KAAK9I,KAAK2H,KAAMmB,GACzBo/C,EAAUznB,GAEd13B,MAAO,SAASA,GACZuU,GAAUvU,EACNvB,EAAKsB,OAASo/C,EACdC,EAAMn4C,KAAK,CACPymC,IAAK1tC,EAAM9E,OACX6E,KAAMo/C,IAGV1gD,EAAKivC,KAAO1tC,EAAM9E,QAG1B8L,OAAQ,WACJ,OAAOwyC,EAAcjlC,EAAQ6qC,OAM7C,SAAS5F,EAAcv3C,EAAKm9C,GACxB,IAAI9wB,EAAS,GACT+wB,EAAc,EACdC,EAAa,EACbC,EAAcH,EAAQA,EAAME,GAAYv/C,KAAO,KAInD,IAFA7F,EAAS+H,EAAK+8C,IAENA,EAAY30C,KAAK,CACrB,GAAI+0C,EACA,KAAOE,EAAaF,EAAMlkD,QAAUmkD,EAAcD,EAAME,GAAY5R,KAAOsR,EAAY//C,YACnFogD,GAAeD,EAAME,KAAc5R,IACnC6R,EAAcH,EAAME,GAAYv/C,KAIxCuuB,EAAOrnB,KAAK,CACRvM,KAAMskD,EAAY7+C,UAClBpI,MAAOinD,EAAYl0C,gBACnBzM,MAAO2gD,EAAYlgD,WACnB9C,QAASgjD,EAAYhjD,QAAQgjD,EAAYlgD,YACzCiB,KAAMw/C,IAEVP,EAAYrhD,OAIhB,OAAO2wB,EAGXz3B,EAAOD,QAAU,SAASmB,EAAOo2B,GAC7B,MAAqB,iBAAVp2B,EACAyhD,EAAczhD,EAAO,MAGzBo2B,EAAOruB,SAAS/H,EAAOknD,K,gBCvElC,IAAItmD,EAAiBnB,OAAOkB,UAAUC,eAClC6mD,EAAa,EAAQ,IACrBrwB,EAAQqwB,EAAWrwB,MACnBC,EAAWowB,EAAWpwB,SACtBC,EAAiBmwB,EAAWnwB,eAC5Bp2B,EAAO,EAAQ,GAAsBA,KAYrCwmD,EAAsB,EAE1B,SAASC,EAAYthD,GAKjB,IAJA,IAAIK,EAAO,KACPd,EAAO,KACPmJ,EAAO1I,EAEK,OAAT0I,GACHnJ,EAAOmJ,EAAKrI,KACZqI,EAAKrI,KAAOA,EACZA,EAAOqI,EACPA,EAAOnJ,EAGX,OAAOc,EAGX,SAASkhD,EAA+Bp2C,EAASQ,GAC7C,GAAIR,EAAQrO,SAAW6O,EAAa7O,OAChC,OAAO,EAGX,IAAK,IAAIpE,EAAI,EAAGA,EAAIyS,EAAQrO,OAAQpE,IAAK,CACrC,IAAIkT,EAAWT,EAAQ/O,WAAW1D,GAQlC,GAJIkT,GAAY,IAAUA,GAAY,KAClCA,GAAsB,IAGtBA,IAPgBD,EAAavP,WAAW1D,GAQxC,OAAO,EAIf,OAAO,EAGX,SAAS8oD,EAAoB1iC,GACzB,OAAc,OAAVA,IAKAA,EAAMxiB,OAASzB,EAAKyD,OACpBwgB,EAAMxiB,OAASzB,EAAK+B,UACpBkiB,EAAMxiB,OAASzB,EAAKuD,iBACpB0gB,EAAMxiB,OAASzB,EAAKiE,mBACpBggB,EAAMxiB,OAASzB,EAAKmE,kBACpB8f,EAAMxiB,OAASzB,EAAKsD,OAI5B,SAASsjD,EAAkB3iC,GACvB,OAAc,OAAVA,IAKAA,EAAMxiB,OAASzB,EAAKwD,kBACpBygB,EAAMxiB,OAASzB,EAAKkE,oBACpB+f,EAAMxiB,OAASzB,EAAKoE,mBACpB6f,EAAMxiB,OAASzB,EAAKsD,OAI5B,SAASujD,EAAcxxB,EAAQyxB,EAAOC,GAClC,SAASC,IACL,GACInhD,IACAoe,EAAQpe,EAAawvB,EAAOpzB,OAASozB,EAAOxvB,GAAc,WAC3C,OAAVoe,IAAmBA,EAAMxiB,OAASzB,EAAKoC,YAAc6hB,EAAMxiB,OAASzB,EAAK2D,UAGtF,SAAS+gD,EAAarjD,GAClB,IAAI4lD,EAAYphD,EAAaxE,EAE7B,OAAO4lD,EAAY5xB,EAAOpzB,OAASozB,EAAO4xB,GAAa,KAG3D,SAASC,EAAwBC,EAAW3hD,GACxC,MAAO,CACH2hD,UAAWA,EACXC,WAAYA,EACZC,YAAaA,EACbC,UAAWA,EACXzhD,WAAYA,EACZL,KAAMA,GAId,SAAS+hD,EAAcJ,GACnBG,EAAY,CACRH,UAAWA,EACXC,WAAYA,EACZC,YAAaA,EACb7hD,KAAM8hD,GAId,SAASE,EAAcL,GACnBM,EAAYP,EAAwBC,EAAWM,GAGnD,SAASC,IACLN,EAAa,CACT3lD,KApHA,EAqHAyzB,OAAQ4xB,EAAM5xB,OACdjR,MAAOA,EACPze,KAAM4hD,GAGVJ,IACAW,EAAc,KAEV9hD,EAAayvB,IACbA,EAAezvB,GAmBvB,SAAS+hD,IAEDR,EAlJM,IAiJNA,EAAW3lD,KACE2lD,EAAW5hD,KAEX,CACT/D,KApJG,EAqJHyzB,OAAQmyB,EAAYnyB,OACpBjR,MAAOmjC,EAAWnjC,MAClBze,KAAM4hD,GAIdC,EAAcA,EAAY7hD,KAG9B,IAAI6hD,EAAc,KACdC,EAAY,KACZG,EAAY,KAKZE,EAAc,KAEdE,EAAiB,EACjBC,EAAa,KAEb7jC,EAAQ,KACRpe,GAAc,EACdyvB,EAAe,EACf8xB,EAAa,CACb3lD,KAjLG,EAkLHyzB,OAAQ,KACRjR,MAAO,KACPze,KAAM,MAKV,IAFAwhD,IAEsB,OAAfc,KAAyBD,EAhLd,MAkMd,OAAQf,EAAMrlD,MACV,IAAK,QACD,GAAkB,OAAd6lD,EAAoB,CAEpB,GAAc,OAAVrjC,IAEIpe,IAAewvB,EAAOpzB,OAAS,GAAsB,QAAhBgiB,EAAMnlB,OAAmC,QAAhBmlB,EAAMnlB,OAAkB,CACtFgoD,EAAQ3wB,EACR,MAKR2xB,EAnNI,QAoNJ,MAOJ,IAHAhB,EAAQQ,EAAUH,aAGJ/wB,EAAgB,CAC1B,GAAIkxB,EAAUF,aAAeA,EAAY,CACrCN,EAAQ3wB,EACR,MAEA2wB,EAAQ5wB,EAKhB,KAAOoxB,EAAUD,cAAgBA,GAC7BO,IAIJN,EAAYA,EAAU9hD,KACtB,MAEJ,IAAK,WAED,GAAoB,OAAhBmiD,IAAwC,IAAhBA,GAEN,OAAdF,GAAsB5hD,EAAa4hD,EAAU5hD,cAE7C4hD,EAAYE,EACZA,GAAc,QAEf,GAAkB,OAAdF,EAAoB,CAG3BK,EAxPO,WAyPP,MAIJhB,EAAQW,EAAUN,UAGlBG,EAAYG,EAAUH,UACtBD,EAAcI,EAAUJ,YACxBD,EAAaK,EAAUL,WACvBvhD,EAAa4hD,EAAU5hD,WACvBoe,EAAQpe,EAAawvB,EAAOpzB,OAASozB,EAAOxvB,GAAc,KAG1D4hD,EAAYA,EAAUjiD,KACtB,MAEJ,IAAK,aACDshD,EAAQA,EAAM39C,MACd,MAEJ,IAAK,KAGG29C,EAAMtwB,OAASL,GACfqxB,EAAcV,EAAMtwB,MAGpBswB,EAAMvrC,OAAS2a,GACfqxB,EAAcT,EAAMvrC,MAGxBurC,EAAQA,EAAM39C,MACd,MAEJ,IAAK,YACD29C,EAAQ,CACJrlD,KAAM,kBACNyzB,OAAQ4xB,EACR1hD,MAAO,EACP2iD,KAAM,GAEV,MAEJ,IAAK,kBACD,IAAIpnC,EAAQmmC,EAAM5xB,OAAOvU,MAEzB,GAAImmC,EAAM1hD,QAAUub,EAAM1e,OAAQ,CAE9B,GAAmB,IAAf6kD,EAAMiB,MAAcjB,EAAM5xB,OAAOvH,IAAK,CACtCm5B,EAAQ3wB,EACR,MAIJ2wB,EAAQ5wB,EACR,MAIJ,GAAI4wB,EAAMiB,QAAU,GAAKpnC,EAAM1e,QAAU,EAAG,CACxC6kD,EAAQ5wB,EACR,MAGJ,KAAO4wB,EAAM1hD,MAAQub,EAAM1e,OAAQ6kD,EAAM1hD,QAAS,CAC9C,IAAI4iD,EAAY,GAAKlB,EAAM1hD,MAE3B,GAAiC,IAA5B0hD,EAAMiB,KAAOC,GAAkB,CAGhCR,EAAcV,GACdS,EAAc,CACV9lD,KAAM,eACNyzB,OAAQ4xB,EAAM5xB,OACd6yB,KAAMjB,EAAMiB,KAAOC,IAIvBlB,EAAQnmC,EAAMmmC,EAAM1hD,SACpB,OAGR,MAEJ,IAAK,eACD0hD,EAAQ,CACJrlD,KAAM,kBACNyzB,OAAQ4xB,EAAM5xB,OACd9vB,MAAO,EACP2iD,KAAMjB,EAAMiB,MAEhB,MAEJ,IAAK,OACD,GAAc,OAAV9jC,EAQA,IAJ4B,KAHxB7lB,EAAO6lB,EAAMnlB,MAAM6U,eAGd/P,QAAQ,QACbxF,EAAOA,EAAKmL,QAAQ,YAAa,KAGjC7J,EAAe1B,KAAK8oD,EAAMvhD,IAAKnH,GAAO,CACtC0oD,EAAQA,EAAMvhD,IAAInH,GAClB,MAIR0oD,EAAQ3wB,EACR,MAEJ,IAAK,UACD,IAAIlV,EAAuB,OAAhBomC,EAAuBA,EAAYpmC,KAAO,KACjDgnC,EAAiBpiD,EAAa6K,KAAK+6B,MAAMqb,EAAMx4C,GAAG2V,EAAOygC,EAAczjC,IAE3E,IAAKkT,MAAM8zB,IAAmBA,EAAiBpiD,EAAY,CACvD,KAAOA,EAAaoiD,GAChBP,IAGJZ,EAAQ5wB,OAER4wB,EAAQ3wB,EAGZ,MAEJ,IAAK,OACL,IAAK,WACD,IAAI+xB,EAA4B,SAAfpB,EAAMrlD,KAAkB,QAAU,aAC/C0mD,EAAazoD,EAAe1B,KAAK+oD,EAAUmB,GAAcnB,EAASmB,GAAYpB,EAAM1oD,MAAQ,KAEhG,IAAK+pD,IAAeA,EAAWh/C,MAC3B,MAAM,IAAI0C,MACN,0BACgB,SAAfi7C,EAAMrlD,KACD,IAAMqlD,EAAM1oD,KAAO,IACnB,KAAQ0oD,EAAM1oD,KAAO,OAKnC,IAAoB,IAAhBupD,GAAmC,OAAV1jC,GAAiC,SAAf6iC,EAAMrlD,KAYjD,GAPoB,iBAAfqlD,EAAM1oD,MAA2B6lB,EAAMxiB,OAASzB,EAAKwC,OAKtC,WAAfskD,EAAM1oD,MAAqC,MAAhB6lB,EAAMnlB,MAEb,CACD,OAAhB6oD,IACAA,EAAcT,EAAwBJ,EAAOW,IAGjDX,EAAQ3wB,EACR,MA5RhBkxB,EAAc,CACVnyB,OAAQ4xB,EAAM5xB,OACdjU,KAAM6lC,EAAM5xB,OAAOjU,MAAyB,OAAhBomC,GAAwBA,EAAYpmC,MAAS,KACzEzb,KAAM6hD,GAGVD,EAAa,CACT3lD,KAzIM,EA0INyzB,OAAQ4xB,EAAM5xB,OACdjR,MAAOmjC,EAAWnjC,MAClBze,KAAM4hD,GAuRFN,EAAQqB,EAAWh/C,MACnB,MAEJ,IAAK,UACD,IAAI/K,EAAO0oD,EAAM1oD,KAEjB,GAAc,OAAV6lB,EAAgB,CAChB,IAAImkC,EAAcnkC,EAAMnlB,MAOxB,IAJmC,IAA/BspD,EAAYxkD,QAAQ,QACpBwkD,EAAcA,EAAY7+C,QAAQ,YAAa,KAG/Cm9C,EAA+B0B,EAAahqD,GAAO,CACnDspD,IACAZ,EAAQ5wB,EACR,OAIR4wB,EAAQ3wB,EACR,MAEJ,IAAK,YACL,IAAK,WACD,GAAc,OAAVlS,GAAkByiC,EAA+BziC,EAAMnlB,MAAOgoD,EAAM1oD,MAAO,CAC3EspD,IACAZ,EAAQ5wB,EACR,MAGJ4wB,EAAQ3wB,EACR,MAEJ,IAAK,QACD,GAAc,OAAVlS,GAAkBA,EAAMnlB,QAAUgoD,EAAMhoD,MAAO,CAC/C4oD,IACAZ,EAAQ5wB,EACR,MAGJ4wB,EAAQ3wB,EACR,MAEJ,IAAK,QACa,OAAVlS,GAAkBA,EAAMxiB,OAASzB,EAAKyD,MAClCkjD,EAAoBS,EAAWnjC,OAC/B6iC,EAAQ3wB,GAERuxB,IACAZ,EAAQF,EAAkB3iC,GAASkS,EAAWD,GAGlD4wB,EAAQH,EAAoBS,EAAWnjC,QAAU2iC,EAAkB3iC,GAASiS,EAAQC,EAGxF,MAEJ,IAAK,SACD,IAAIyV,EAAS,GAEb,IAASqc,EAAiBpiD,EAAYoiD,EAAiB5yB,EAAOpzB,QAAU2pC,EAAO3pC,OAAS6kD,EAAMhoD,MAAMmD,OAAQgmD,IACxGrc,GAAUvW,EAAO4yB,GAAgBnpD,MAGrC,GAAI4nD,EAA+B9a,EAAQkb,EAAMhoD,OAAQ,CACrD,KAAO+G,EAAaoiD,GAChBP,IAGJZ,EAAQ5wB,OAER4wB,EAAQ3wB,EAGZ,MAEJ,QACI,MAAM,IAAItqB,MAAM,sBAAwBi7C,EAAMrlD,MAM1D,OAFA+kD,GAAuBqB,EAEfC,GACJ,KAAK,KACD9tC,QAAQiU,KAAK,gDACb65B,EAtfsB,wGAuftBV,EAAa,KACb,MAEJ,IA5fgB,QA6fZ,KAAuB,OAAhBC,GACHO,IAEJ,MAEJ,QACIR,EAAa,KAGrB,MAAO,CACH/xB,OAAQA,EACRqsB,OAAQoG,EACR7G,WAAY4G,EACZ1+C,MAAOi+C,EACP9xB,aAAcA,GAuFtB13B,EAAOD,QAAU,CACb0qD,YApFJ,SAAqBhzB,EAAQkxB,EAAYQ,GACrC,IAAI5xB,EAAc0xB,EAAcxxB,EAAQkxB,EAAYQ,GAAY,IAEhE,GAA0B,OAAtB5xB,EAAYhsB,MAAgB,CAC5B,IAAI0E,EAAO44C,EAAYtxB,EAAYhsB,OAAO3D,KAI1C,IAFA2vB,EAAYhsB,MAAQ,GAEJ,OAAT0E,GAAe,CAClB,OAAQA,EAAKpM,MACT,KA9hBL,EA+hBS,MAEJ,KA/hBE,EAgiBF,KA/hBG,EAgiBC0zB,EAAYhsB,MAAM6E,KAAK,CACnBvM,KAAMoM,EAAKpM,KACXyzB,OAAQrnB,EAAKqnB,SAEjB,MAEJ,QACIC,EAAYhsB,MAAM6E,KAAK,CACnBiW,MAAOpW,EAAKoW,MAAMnlB,MAClBgI,KAAM+G,EAAKoW,MAAMnd,OAK7B+G,EAAOA,EAAKrI,MAIpB,OAAO2vB,GAoDPqrB,YAjDJ,SAAqBnrB,EAAQkxB,EAAYQ,GACrC,IAAI5xB,EAAc0xB,EAAcxxB,EAAQkxB,EAAYQ,GAAY,IAEhE,GAA0B,OAAtB5xB,EAAYhsB,MACZ,OAAOgsB,EAGX,IAAItnB,EAAOsnB,EAAYhsB,MACnB+b,EAAOiQ,EAAYhsB,MAAQ,CAC3B+rB,OAAQqxB,EAAWrxB,QAAU,KAC7B/rB,MAAO,IAEPm/C,EAAY,CAACpjC,GAMjB,IAHArX,EAAO44C,EAAY54C,GAAMrI,KAGT,OAATqI,GAAe,CAClB,OAAQA,EAAKpM,MACT,KA1kBM,EA2kBFyjB,EAAK/b,MAAM6E,KAAKkX,EAAO,CACnBgQ,OAAQrnB,EAAKqnB,OACb/rB,MAAO,KAEXm/C,EAAUt6C,KAAKkX,GACf,MAEJ,KAjlBO,EAklBHojC,EAAU94C,MACV0V,EAAOojC,EAAUA,EAAUrmD,OAAS,GACpC,MAEJ,QACIijB,EAAK/b,MAAM6E,KAAK,CACZknB,OAAQrnB,EAAKqnB,QAAU,KACvBjR,MAAOpW,EAAKoW,MAAMnlB,MAClBgI,KAAM+G,EAAKoW,MAAMnd,OAI7B+G,EAAOA,EAAKrI,KAGhB,OAAO2vB,GAMPozB,uBAAwB,WACpB,OAAO/B,K,cClnBf,SAASrF,EAASr6C,GACd,SAAS0hD,EAAiBtzB,GACtB,OAAe,OAAXA,IAKgB,SAAhBA,EAAOzzB,MACS,aAAhByzB,EAAOzzB,MACS,YAAhByzB,EAAOzzB,MA2Bf,IAAIsM,EAAS,KAMb,OAJqB,OAAjBpI,KAAKu7C,SAzBT,SAASuH,EAASC,GACd,GAAI3jD,MAAMC,QAAQ0jD,EAAUv/C,QAExB,IAAK,IAAItL,EAAI,EAAGA,EAAI6qD,EAAUv/C,MAAMlH,OAAQpE,IACxC,GAAI4qD,EAASC,EAAUv/C,MAAMtL,IAKzB,OAJI2qD,EAAiBE,EAAUxzB,SAC3BnnB,EAAO0B,QAAQi5C,EAAUxzB,SAGtB,OAGZ,GAAIwzB,EAAU5hD,OAASA,EAK1B,OAJAiH,EAASy6C,EAAiBE,EAAUxzB,QAC9B,CAACwzB,EAAUxzB,QACX,IAEC,EAGX,OAAO,EAMPuzB,CAAS9iD,KAAKu7C,SAGXnzC,EAGX,SAAS46C,EAASx/C,EAAOrC,EAAMwH,GAC3B,IAAImyC,EAAQU,EAASnjD,KAAKmL,EAAOrC,GAEjC,OAAc,OAAV25C,GAIGA,EAAM5xC,KAAKP,GAqBtB1Q,EAAOD,QAAU,CACbwjD,SAAUA,EACVr2B,OApBJ,SAAgBhkB,EAAMrF,GAClB,OAAOknD,EAAShjD,KAAMmB,GAAM,SAAS4hD,GACjC,MAA0B,SAAnBA,EAAUjnD,MAAmBinD,EAAUtqD,OAASqD,MAmB3D2/C,WAfJ,SAAoBt6C,EAAMtH,GACtB,OAAOmpD,EAAShjD,KAAMmB,GAAM,SAAS4hD,GACjC,MAA0B,aAAnBA,EAAUjnD,MAAuBinD,EAAUtqD,OAASoB,MAc/D6hD,UAVJ,SAAmBv6C,GACf,OAAO6hD,EAAShjD,KAAMmB,GAAM,SAAS4hD,GACjC,MAA0B,YAAnBA,EAAUjnD,W,gBCrEzB,IAAIyL,EAAO,EAAQ,GA8DnBtP,EAAOD,QAAU,CACbylD,eA7CJ,SAAwB/5B,EAAO2U,EAAK70B,EAAO1H,EAAMrD,GAmC7C,IAAIwqD,EAAY,GAMhB,OAJsB,OAAlBz/C,EAAM+3C,SApCV,SAAS2H,EAAcH,GACnB,GAAyB,OAArBA,EAAUxzB,QACVwzB,EAAUxzB,OAAOzzB,OAASA,GAC1BinD,EAAUxzB,OAAO92B,OAASA,EAAM,CAChC,IAAI6E,EArBhB,SAAS6lD,EAAkBJ,GACvB,MAAI,SAAUA,EACHA,EAAU5hD,KAGdgiD,EAAkBJ,EAAUv/C,MAAM,IAgBrB2/C,CAAkBJ,GAC1B73C,EAdhB,SAASk4C,EAAiBL,GACtB,MAAI,SAAUA,EACHA,EAAU5hD,KAGdiiD,EAAiBL,EAAUv/C,MAAMu/C,EAAUv/C,MAAMlH,OAAS,IAS/C8mD,CAAiBL,GAE3Br/B,EAAM6L,OAAOe,KAAK+H,GAAK,SAASl3B,EAAM+G,EAAM1I,GACxC,GAAI2B,IAAS7D,EAAO,CAChB,IAAIkjD,EAAQ,IAAIj5C,EAEhB,EAAG,CAGC,GAFAi5C,EAAMr3C,WAAWjB,EAAKrG,MAElBqG,EAAKrG,OAASqJ,EACd,MAGJhD,EAAOA,EAAKnJ,WACE,OAATmJ,GAET+6C,EAAU56C,KAAK,CACXg7C,OAAQ7jD,EACRghD,MAAOA,QAMnBphD,MAAMC,QAAQ0jD,EAAUv/C,QACxBu/C,EAAUv/C,MAAMvE,QAAQikD,GAO5BA,CAAc1/C,EAAM+3C,SAGjB0H,K,gBC3DX,IAAI17C,EAAO,EAAQ,GACfxN,EAAiBnB,OAAOkB,UAAUC,eAEtC,SAASupD,EAAcnqD,GAEnB,MACqB,iBAAVA,GACPouB,SAASpuB,IACT4R,KAAK+6B,MAAM3sC,KAAWA,GACtBA,GAAS,EAIjB,SAASoqD,EAAgBxiD,GACrB,OACIya,QAAQza,IACRuiD,EAAcviD,EAAIrF,SAClB4nD,EAAcviD,EAAIgtB,OAClBu1B,EAAcviD,EAAImtB,QAI1B,SAASs1B,EAA2B1nD,EAAMuuC,GACtC,OAAO,SAAmBlpC,EAAMmnB,GAC5B,IAAKnnB,GAAQA,EAAKgS,cAAgBva,OAC9B,OAAO0vB,EAAKnnB,EAAM,oCAGtB,IAAK,IAAI1H,KAAO0H,EAAM,CAClB,IAAIiyB,GAAQ,EAEZ,IAAuC,IAAnCr5B,EAAe1B,KAAK8I,EAAM1H,GAA9B,CAIA,GAAY,SAARA,EACI0H,EAAKrF,OAASA,GACdwsB,EAAKnnB,EAAM,oBAAsBA,EAAKrF,KAAO,gBAAkBA,EAAO,UAEvE,GAAY,QAARrC,EAAe,CACtB,GAAiB,OAAb0H,EAAKJ,IACL,SACG,GAAII,EAAKJ,KAAOI,EAAKJ,IAAIoS,cAAgBva,OAC5C,GAA+B,iBAApBuI,EAAKJ,IAAIxF,OAChB9B,GAAO,eACJ,GAAK8pD,EAAgBpiD,EAAKJ,IAAIzD,OAE9B,IAAKimD,EAAgBpiD,EAAKJ,IAAImK,KAGjC,SAFAzR,GAAO,YAFPA,GAAO,SAQf25B,GAAQ,OACL,GAAIiX,EAAOtwC,eAAeN,GACxB,KAAIvB,EAAI,EAAb,IAAgBk7B,GAAQ,GAAQA,GAASl7B,EAAImyC,EAAO5wC,GAAK6C,OAAQpE,IAAK,CAClE,IAAIurD,EAAYpZ,EAAO5wC,GAAKvB,GAE5B,OAAQurD,GACJ,KAAKzmD,OACDo2B,EAA6B,iBAAdjyB,EAAK1H,GACpB,MAEJ,KAAK+hB,QACD4X,EAA6B,kBAAdjyB,EAAK1H,GACpB,MAEJ,KAAK,KACD25B,EAAsB,OAAdjyB,EAAK1H,GACb,MAEJ,QAC6B,iBAAdgqD,EACPrwB,EAAQjyB,EAAK1H,IAAQ0H,EAAK1H,GAAKqC,OAAS2nD,EACjCrkD,MAAMC,QAAQokD,KACrBrwB,EAAQjyB,EAAK1H,aAAgB8N,UAK7C+gB,EAAKnnB,EAAM,kBAAoB1H,EAAM,SAAWqC,EAAO,cAGtDs3B,GACD9K,EAAKnnB,EAAM,kBAAoBrF,EAAO,IAAMrC,EAAM,MAI1D,IAAK,IAAIA,KAAO4wC,EACRtwC,EAAe1B,KAAKgyC,EAAQ5wC,KACO,IAAnCM,EAAe1B,KAAK8I,EAAM1H,IAC1B6uB,EAAKnnB,EAAM,UAAYrF,EAAO,IAAMrC,EAAM,gBAM1D,SAASiqD,EAAiBjrD,EAAMkrD,GAC5B,IAAIpjD,EAAYojD,EAASpjD,UACrB8pC,EAAS,CACTvuC,KAAMkB,OACN+D,KAAK,GAEL6iD,EAAO,CACP9nD,KAAM,IAAMrD,EAAO,KAGvB,IAAK,IAAIgB,KAAO8G,EACZ,IAA4C,IAAxCxG,EAAe1B,KAAKkI,EAAW9G,GAAnC,CASA,IALA,IAAIoqD,EAAY,GACZC,EAAazZ,EAAO5wC,GAAO2F,MAAMC,QAAQkB,EAAU9G,IACjD8G,EAAU9G,GAAKgT,QACf,CAAClM,EAAU9G,IAERvB,EAAI,EAAGA,EAAI4rD,EAAWxnD,OAAQpE,IAAK,CACxC,IAAIurD,EAAYK,EAAW5rD,GAC3B,GAAIurD,IAAczmD,QAAUymD,IAAcjoC,QACtCqoC,EAAUx7C,KAAKo7C,EAAUhrD,WACtB,GAAkB,OAAdgrD,EACPI,EAAUx7C,KAAK,aACZ,GAAyB,iBAAdo7C,EACdI,EAAUx7C,KAAK,IAAMo7C,EAAY,SAC9B,KAAIrkD,MAAMC,QAAQokD,GAGrB,MAAM,IAAIv9C,MAAM,gBAAkBu9C,EAAY,SAAWhrD,EAAO,IAAMgB,EAAM,0BAF5EoqD,EAAUx7C,KAAK,SAMvBu7C,EAAKnqD,GAAOoqD,EAAUr1C,KAAK,OAG/B,MAAO,CACHo1C,KAAMA,EACNtH,MAAOkH,EAA2B/qD,EAAM4xC,IAIhDpyC,EAAOD,QAAU,CACbgjD,uBAAwB,SAASjB,GAC7B,IAAIx5C,EAAY,GAEhB,GAAIw5C,EAAO54C,KACP,IAAK,IAAI1I,KAAQshD,EAAO54C,KACpB,GAAIpH,EAAe1B,KAAK0hD,EAAO54C,KAAM1I,GAAO,CACxC,IAAIkrD,EAAW5J,EAAO54C,KAAK1I,GAE3B,IAAIkrD,EAASpjD,UAGT,MAAM,IAAI2F,MAAM,gCAAkCzN,EAAO,0BAFzD8H,EAAU9H,GAAQirD,EAAiBjrD,EAAMkrD,GAQzD,OAAOpjD,K,gBChKftI,EAAOD,QAAU,CACbuiB,YAAa,EAAQ,IACrB/Z,MAAO,EAAQ,IACfU,SAAU,EAAQ,IAClBovB,KAAM,EAAQ,M,gBCJlB,IAAIyzB,EAAmB,EAAQ,IAC3BxpC,EAAc,EAAQ,IACtBrgB,EAAc,EAAQ,GACtBqN,EAAO,EAAQ,GACfjM,EAAW,EAAQ,GACnBlB,EAAY,EAAQ,GACpBiR,EAAsB,EAAQ,GAAsBA,oBACpD24C,EAAW,EAAQ,IACnBtpC,EAAO,aAEPrgB,EAAOD,EAAUC,KACjBiR,EAAOlR,EAAUkR,KACjBC,EAAalR,EAAKoC,WAClB+0B,EAAQn3B,EAAKwC,MACb80B,EAAWt3B,EAAK+B,SAChBw1B,EAAMv3B,EAAKgC,IACXw1B,EAAOx3B,EAAKqD,KACZq0B,EAAa13B,EAAK2B,WAClB01B,EAASr3B,EAAK4B,OAIlB,SAASgoD,EAAmBxrD,GACxB,OAAO,WACH,OAAOuH,KAAKvH,MA6DpBR,EAAOD,QAAU,SAAsB+hD,GACnC,IAAImK,EAAS,CACTjkD,QAAS,IAAI/F,EACbiqD,YAAa,IAAIJ,EAEjBrrB,SAAU,YACV0rB,eAAe,EACfC,aAAc3pC,EACd4pC,mBAAmB,EACnBC,oBAAoB,EACpBC,kBAAkB,EAClBC,YAAY,EACZC,qBAAqB,EAErBpyB,aAAc0xB,EAEdW,WAAY,WACR,OAAO,IAAIp9C,GAEfirB,qBAAsB,SAASrxB,GAC3B,OAAO,IAAIoG,GAAO4B,WAAWhI,IAEjCyjD,iBAAkB,SAASplD,GACvB,OAAOA,GAAQA,EAAKgJ,SAExBq8C,gBAAiB,SAASrlD,GACtB,OAAOA,EAAKiJ,QAGhBq8C,kBAAmB,SAASC,EAAUC,GAClC,IAAIvkD,EAAaT,KAAKC,QAAQC,WAE9B,IACI,OAAO6kD,EAAS1sD,KAAK2H,MACvB,MAAO+0B,GACL,GAAI/0B,KAAKskD,kBACL,MAAMvvB,EAGV,IAAIkwB,EAAeD,EAAS3sD,KAAK2H,KAAMS,GAMvC,OAJAT,KAAKskD,mBAAoB,EACzBtkD,KAAKqkD,aAAatvB,EAAGkwB,GACrBjlD,KAAKskD,mBAAoB,EAElBW,IAIfC,gBAAiB,SAASxpD,GACtB,EAAG,CACC,IAAII,EAAOkE,KAAKC,QAAQE,WAAWzE,KACnC,GAAII,IAASyP,EACT,OAAOzP,QAtHhB,IAwHUA,GAET,OA1HD,GA6HHuhB,IAAK,SAAS9b,GACV,GAAIvB,KAAKC,QAAQsB,YAAcA,EAAW,CACtC,IAAI7F,EAASsE,KAAKC,QAAQI,WACtBwZ,EAAUvO,EAAK/J,GAAa,eAGhC,OAAQA,GACJ,KAAKiwB,EAEGxxB,KAAKC,QAAQsB,YAAcowB,GAAY3xB,KAAKC,QAAQsB,YAAcqwB,GAClEl2B,EAASsE,KAAKC,QAAQyL,SAAW,EACjCmO,EAAU,6CAEVA,EAAU,yBAEd,MAEJ,KAAKgY,EACG7xB,KAAKC,QAAQgM,QAhJxB,MAiJWjM,KAAKC,QAAQlB,OACbrD,IACAme,EAAU,oBAEd,MAEJ,KAAKkY,EACG/xB,KAAKC,QAAQsB,YAAcmwB,IAC3Bh2B,EAASsE,KAAKC,QAAQyL,SACtBmO,EAAU,4BAEd,MAEJ,QAGQ7Z,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,cAAgBkB,IAC5D7F,GAAkB,GAI9BsE,KAAKsU,MAAMuF,EAASne,GAGxBsE,KAAKC,QAAQlB,QAGjBomD,QAAS,SAAS5jD,GACd,IAAIpI,EAAQ6G,KAAKC,QAAQiM,gBAIzB,OAFAlM,KAAKqd,IAAI9b,GAEFpI,GAEXisD,oBAAqB,WACjB,IAAI3sD,EAAOuH,KAAKC,QAAQ1E,OAAO0F,UAAUjB,KAAKC,QAAQI,WAAYL,KAAKC,QAAQyL,SAAW,GAI1F,OAFA1L,KAAKqd,IAAIsU,GAEFl5B,GAGXuI,YAAa,SAAS1D,EAAO4N,GACzB,OAAIlL,KAAKokD,cACEpkD,KAAKmkD,YAAYkB,iBACpB/nD,EACA4N,EACAlL,KAAK04B,UAIN,MAEX4sB,oBAAqB,SAAS9lD,GAC1B,GAAIQ,KAAKokD,cAAe,CACpB,IAAI58C,EAAOxH,KAAK4kD,iBAAiBplD,GAC7BiI,EAAOzH,KAAK6kD,gBAAgBrlD,GAChC,OAAOQ,KAAKmkD,YAAYkB,iBACX,OAAT79C,EAAgBA,EAAKzG,IAAIzD,MAAM5B,OAASsE,KAAKmkD,YAAYvjD,YAAcZ,KAAKC,QAAQI,WAC3E,OAAToH,EAAgBA,EAAK1G,IAAImK,IAAIxP,OAASsE,KAAKmkD,YAAYvjD,YAAcZ,KAAKC,QAAQI,WAClFL,KAAK04B,UAIb,OAAO,MAGXpkB,MAAO,SAASuF,EAASne,GACrB,IAAIyV,OAA6B,IAAXzV,GAA0BA,EAASsE,KAAKC,QAAQ1E,OAAOe,OACvE0D,KAAKmkD,YAAYnjD,YAAYtF,GAC7BsE,KAAKC,QAAQwL,IACTzL,KAAKmkD,YAAYnjD,YAAYqK,EAAoBrL,KAAKC,QAAQ1E,OAAQyE,KAAKC,QAAQ1E,OAAOe,OAAS,IACnG0D,KAAKmkD,YAAYnjD,YAAYhB,KAAKC,QAAQI,YAEpD,MAAM,IAAIka,EACNV,GAAW,mBACX7Z,KAAKC,QAAQ1E,OACb4V,EAASzV,OACTyV,EAAS4c,KACT5c,EAAS+c,UAMrB,IAAK,IAAIz0B,KADTsgD,EA5NJ,SAAuBA,GACnB,IAAIwL,EAAe,CACf38C,QAAS,GACT48C,MAAO,GACP7I,OAAQ,GACR8I,OAAQ,IAGZ,GAAI1L,EAAO2L,aACP,IAAK,IAAIjtD,KAAQshD,EAAO2L,aACpB,cAAe3L,EAAO2L,aAAajtD,IAC/B,IAAK,WACD8sD,EAAa38C,QAAQnQ,GAAQshD,EAAO2L,aAAajtD,GACjD,MAEJ,IAAK,SACD8sD,EAAa38C,QAAQnQ,GAAQwrD,EAAmBlK,EAAO2L,aAAajtD,IAMpF,GAAIshD,EAAOyL,MACP,IAAK,IAAI/sD,KAAQshD,EAAOyL,MACpBD,EAAaC,MAAM/sD,GAAQshD,EAAOyL,MAAM/sD,GAIhD,GAAIshD,EAAO4C,OACP,IAAK,IAAIlkD,KAAQshD,EAAO4C,OAAQ,CAC5B,IAAIA,EAAS5C,EAAO4C,OAAOlkD,GAEvBkkD,EAAOn8C,QACP+kD,EAAa5I,OAAOlkD,GAAQkkD,EAAOn8C,OAK/C,GAAIu5C,EAAO0L,OACP,IAAK,IAAIhtD,KAAQshD,EAAO0L,OAAQ,CAC5B,IAAIA,EAAS1L,EAAO0L,OAAOhtD,GAEvBgtD,EAAOjlD,QACP+kD,EAAaE,OAAOhtD,GAAQgtD,EAAOjlD,OAK/C,GAAIu5C,EAAO54C,KACP,IAAK,IAAI1I,KAAQshD,EAAO54C,KACpBokD,EAAa9sD,GAAQshD,EAAO54C,KAAK1I,GAAM+H,MAI/C,OAAO+kD,EAsKEI,CAAc5L,GAAU,IAE7BmK,EAAOzqD,GAAOsgD,EAAOtgD,GAGzB,OAAO,SAAS8B,EAAQoT,GAGpB,IACI0pB,EADAzvB,GAFJ+F,EAAUA,GAAW,IAEC/F,SAAW,UAoBjC,GAjBAtN,EAASC,EAAQ2oD,EAAOjkD,SACxBikD,EAAOC,YAAYyB,UACfrqD,EACAoT,EAAQjT,OACRiT,EAAQof,KACRpf,EAAQuf,QAGZg2B,EAAOxrB,SAAW/pB,EAAQ+pB,UAAY,YACtCwrB,EAAOE,cAAgB5oC,QAAQ7M,EAAQgqB,WACvCurB,EAAOG,aAA+C,mBAAzB11C,EAAQ01C,aAA8B11C,EAAQ01C,aAAe3pC,EAC1FwpC,EAAOI,mBAAoB,EAC3BJ,EAAOK,qBAAqB,uBAAwB51C,IAAU6M,QAAQ7M,EAAQ41C,oBAC9EL,EAAOM,mBAAmB,qBAAsB71C,IAAU6M,QAAQ7M,EAAQ61C,kBAC1EN,EAAOO,aAAa,eAAgB91C,IAAU6M,QAAQ7M,EAAQ81C,YAC9DP,EAAOQ,oBAAsB,wBAAyB/1C,GAAU6M,QAAQ7M,EAAQ+1C,sBAE3ER,EAAOt7C,QAAQ7O,eAAe6O,GAC/B,MAAM,IAAI1C,MAAM,oBAAsB0C,EAAU,KASpD,OANAyvB,EAAM6rB,EAAOt7C,QAAQA,GAASvQ,KAAK6rD,EAAQv1C,GAEtCu1C,EAAOjkD,QAAQwL,KAChBy4C,EAAO5vC,QAGJ+jB,K,gBC9Rf,IAAIl+B,EAAc,EAAQ,IACtBU,EAAQ,EAAQ,GAAgBA,MAuCpC,IAAIkpD,EAAmB,WACnB/jD,KAAK8tB,MAAQ,KACb9tB,KAAK6lD,QAAU,KACf7lD,KAAK8lD,yBAA0B,GAGnC/B,EAAiBjqD,UAAY,CACzB8rD,UAAW,SAASrqD,EAAQqF,EAAautB,EAAW43B,GAChD/lD,KAAKzE,OAASA,EACdyE,KAAKY,iBAAqC,IAAhBA,EAA8B,EAAIA,EAC5DZ,KAAKmuB,eAAiC,IAAdA,EAA4B,EAAIA,EACxDnuB,KAAK+lD,iBAAqC,IAAhBA,EAA8B,EAAIA,EAC5D/lD,KAAK8lD,yBAA0B,GAGnCE,8BAA+B,WACtBhmD,KAAK8lD,2BAjDlB,SAAgCvmC,EAAMhkB,GAQlC,IAPA,IAAII,EAAeJ,EAAOe,OACtBwxB,EAAQ3zB,EAAYolB,EAAKuO,MAAOnyB,GAChCoyB,EAAOxO,EAAK4O,UACZ03B,EAAU1rD,EAAYolB,EAAKsmC,QAASlqD,GACpCuyB,EAAS3O,EAAKwmC,YAGT7tD,EAFSqD,EAAOe,OAAS,EAAIzB,EAAMU,EAAOK,WAAW,IAAM,EAE1C1D,EAAIyD,EAAczD,IAAK,CAC7C,IAAIqE,EAAOhB,EAAOK,WAAW1D,GAE7B41B,EAAM51B,GAAK61B,EACX83B,EAAQ3tD,GAAKg2B,IAhBb,KAkBI3xB,GAhBJ,KAgBkBA,GAjBlB,KAiBgCA,IAhBhC,KAiBQA,GAAcrE,EAAI,EAAIyD,GAnB9B,KAmB8CJ,EAAOK,WAAW1D,EAAI,KAE5D41B,IADA51B,GACW61B,EACX83B,EAAQ3tD,GAAKg2B,GAGjBH,IACAG,EAAS,GAIjBJ,EAAM51B,GAAK61B,EACX83B,EAAQ3tD,GAAKg2B,EAEb3O,EAAKuO,MAAQA,EACbvO,EAAKsmC,QAAUA,EAoBPI,CAAuBjmD,KAAMA,KAAKzE,QAClCyE,KAAK8lD,yBAA0B,IAGvC9kD,YAAa,SAAStF,EAAQg9B,GAG1B,OAFA14B,KAAKgmD,gCAEE,CACHzqD,OAAQm9B,EACRh9B,OAAQsE,KAAKY,YAAclF,EAC3BqyB,KAAM/tB,KAAK8tB,MAAMpyB,GACjBwyB,OAAQluB,KAAK6lD,QAAQnqD,KAG7B2pD,iBAAkB,SAAS/nD,EAAO4N,EAAKwtB,GAGnC,OAFA14B,KAAKgmD,gCAEE,CACHzqD,OAAQm9B,EACRp7B,MAAO,CACH5B,OAAQsE,KAAKY,YAActD,EAC3BywB,KAAM/tB,KAAK8tB,MAAMxwB,GACjB4wB,OAAQluB,KAAK6lD,QAAQvoD,IAEzB4N,IAAK,CACDxP,OAAQsE,KAAKY,YAAcsK,EAC3B6iB,KAAM/tB,KAAK8tB,MAAM5iB,GACjBgjB,OAAQluB,KAAK6lD,QAAQ36C,OAMrCjT,EAAOD,QAAU+rD,G,gBC1FjB,IAAI1pD,EAAO,EAAQ,GAAgBA,KAC/BkR,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QAEnB/F,EAAOD,QAAU,SAAsBu6B,GACnC,IAAI1lB,EAAW7M,KAAK2kD,aAChBj0C,EAAQ,KACR9H,EAAU,CACV2pB,WAAYA,EACZH,MAAO,KACP8zB,UAAU,EACV7zB,eAAe,GAKnB,IAFAryB,KAAKC,QAAQsM,UAELvM,KAAKC,QAAQwL,KAAK,CACtB,OAAQzL,KAAKC,QAAQsB,WACjB,KAAKiK,EACDxL,KAAKC,QAAQlB,OACb,SAEJ,KAAKwM,EACG3C,EAAQs9C,SACRlmD,KAAKC,QAAQlB,OAEb6J,EAAQwpB,MAAQpyB,KAAKvD,aAEzB,SAKR,QAAcoM,KAFd6H,EAAQ6hB,EAAW4zB,QAAQ9tD,KAAK2H,KAAM4I,IAGlC,MAGkB,OAAlBA,EAAQwpB,QACRvlB,EAASxE,KAAKO,EAAQwpB,OACtBxpB,EAAQwpB,MAAQ,MAGpBvlB,EAASxE,KAAKqI,GAEV9H,EAAQypB,eACRzpB,EAAQypB,eAAgB,EACxBzpB,EAAQs9C,UAAW,GAEnBt9C,EAAQs9C,UAAW,EAI3B,OAAOr5C,I,gBCpDX,IAAI+rB,EAAY,EAAQ,KACpB7+B,EAAiBnB,OAAOkB,UAAUC,eAEtC,SAASqsD,EAAgBjlD,EAAMklD,GAC3B,IAAI7mD,EAAO2B,EAAK0L,SACZhN,EAAO,KAEc,mBAAdwmD,EACP7mD,EAAKP,QAAQe,KAAKmB,KAAMnB,MAExBR,EAAKP,SAAQ,SAASkC,GACL,OAATtB,GACAwmD,EAAUhuD,KAAK2H,KAAMH,GAGzBG,KAAKmB,KAAKA,GACVtB,EAAOsB,IACRnB,MAIX/H,EAAOD,QAAU,SAAyB+hD,GACtC,SAASuM,EAAYnlD,GACjB,IAAIpH,EAAe1B,KAAKkK,EAAOpB,EAAKrF,MAGhC,MAAM,IAAIoK,MAAM,sBAAwB/E,EAAKrF,MAF7CyG,EAAMpB,EAAKrF,MAAMzD,KAAK2H,KAAMmB,GAMpC,IAAIoB,EAAQ,GAEZ,GAAIw3C,EAAO54C,KACP,IAAK,IAAI1I,KAAQshD,EAAO54C,KACpBoB,EAAM9J,GAAQshD,EAAO54C,KAAK1I,GAAMyI,SAIxC,OAAO,SAASC,EAAMwN,GAClB,IAAIgH,EAAS,GACT6iB,EAAW,CACX3rB,SAAUu5C,EACVjlD,KAAMmlD,EACNllD,MAAO,SAASA,GACZuU,GAAUvU,GAEdgH,OAAQ,WACJ,OAAOuN,IAgBf,OAZIhH,IACiC,mBAAtBA,EAAQ2xC,YACf9nB,EAAW7pB,EAAQ2xC,UAAU9nB,IAG7B7pB,EAAQiqB,YACRJ,EAAWI,EAAUJ,KAI7BA,EAASr3B,KAAKA,GAEPq3B,EAASpwB,Y,gBC/DxB,IAAIm+C,EAAqB,EAAQ,KAAuCA,mBACpEC,EAAa,CACbvkC,QAAQ,EACRoB,UAAU,EACVb,aAAa,GAGjBvqB,EAAOD,QAAU,SAA2BwgC,GACxC,IAAI54B,EAAM,IAAI2mD,EACVx4B,EAAO,EACPG,EAAS,EACTu4B,EAAY,CACZ14B,KAAM,EACNG,OAAQ,GAERw4B,EAAW,CACX34B,KAAM,EACNG,OAAQ,GAERy4B,GAAsB,EACtBC,EAAqB,CACrB74B,KAAM,EACNG,OAAQ,GAER24B,EAAmB,CACnBJ,UAAWG,GAGXE,EAAetuB,EAASr3B,KAC5Bq3B,EAASr3B,KAAO,SAASA,GACrB,GAAIA,EAAKJ,KAAOI,EAAKJ,IAAIzD,OAASkpD,EAAWzsD,eAAeoH,EAAKrF,MAAO,CACpE,IAAIirD,EAAW5lD,EAAKJ,IAAIzD,MAAMywB,KAC1Bi5B,EAAa7lD,EAAKJ,IAAIzD,MAAM4wB,OAAS,EAErCw4B,EAAS34B,OAASg5B,GAClBL,EAASx4B,SAAW84B,IACpBN,EAAS34B,KAAOg5B,EAChBL,EAASx4B,OAAS84B,EAElBP,EAAU14B,KAAOA,EACjB04B,EAAUv4B,OAASA,EAEfy4B,IACAA,GAAsB,EAClBF,EAAU14B,OAAS64B,EAAmB74B,MACtC04B,EAAUv4B,SAAW04B,EAAmB14B,QACxCtuB,EAAIqnD,WAAWJ,IAIvBF,GAAsB,EACtB/mD,EAAIqnD,WAAW,CACX1rD,OAAQ4F,EAAKJ,IAAIxF,OACjBmrD,SAAUA,EACVD,UAAWA,KAKvBK,EAAazuD,KAAK2H,KAAMmB,GAEpBwlD,GAAuBH,EAAWzsD,eAAeoH,EAAKrF,QACtD8qD,EAAmB74B,KAAOA,EAC1B64B,EAAmB14B,OAASA,IAIpC,IAAIg5B,EAAgB1uB,EAASp3B,MAC7Bo3B,EAASp3B,MAAQ,SAASA,GACtB,IAAK,IAAIlJ,EAAI,EAAGA,EAAIkJ,EAAM9E,OAAQpE,IACF,KAAxBkJ,EAAMxF,WAAW1D,IACjB61B,IACAG,EAAS,GAETA,IAIRg5B,EAAc9lD,IAGlB,IAAI+lD,EAAiB3uB,EAASpwB,OAY9B,OAXAowB,EAASpwB,OAAS,WAKd,OAJIu+C,GACA/mD,EAAIqnD,WAAWJ,GAGZ,CACH73C,IAAKm4C,IACLvnD,IAAKA,IAIN44B,I,gBCtFX,IAAI4uB,EAAY,EAAQ,KACpBjxC,EAAO,EAAQ,IACfkxC,EAAW,EAAQ,KAAeA,SAClCC,EAAc,EAAQ,KAAkBA,YAU5C,SAASf,EAAmB1nC,GACrBA,IACHA,EAAQ,IAEV7e,KAAKi5B,MAAQ9iB,EAAKyI,OAAOC,EAAO,OAAQ,MACxC7e,KAAKunD,YAAcpxC,EAAKyI,OAAOC,EAAO,aAAc,MACpD7e,KAAKuzB,gBAAkBpd,EAAKyI,OAAOC,EAAO,kBAAkB,GAC5D7e,KAAKwnD,SAAW,IAAIH,EACpBrnD,KAAKynD,OAAS,IAAIJ,EAClBrnD,KAAK0nD,UAAY,IAAIJ,EACrBtnD,KAAK2nD,iBAAmB,KAG1BpB,EAAmBzsD,UAAU8tD,SAAW,EAOxCrB,EAAmBsB,cACjB,SAA0CC,GACxC,IAAIlmC,EAAakmC,EAAmBlmC,WAChCmmC,EAAY,IAAIxB,EAAmB,CACrCyB,KAAMF,EAAmBE,KACzBpmC,WAAYA,IA2Cd,OAzCAkmC,EAAmBG,aAAY,SAAUC,GACvC,IAAIC,EAAa,CACf1B,UAAW,CACT14B,KAAMm6B,EAAQ7mC,cACd6M,OAAQg6B,EAAQ9mC,kBAIE,MAAlB8mC,EAAQ3sD,SACV4sD,EAAW5sD,OAAS2sD,EAAQ3sD,OACV,MAAdqmB,IACFumC,EAAW5sD,OAAS4a,EAAK8J,SAAS2B,EAAYumC,EAAW5sD,SAG3D4sD,EAAWzB,SAAW,CACpB34B,KAAMm6B,EAAQhnC,aACdgN,OAAQg6B,EAAQ/mC,gBAGE,MAAhB+mC,EAAQzvD,OACV0vD,EAAW1vD,KAAOyvD,EAAQzvD,OAI9BsvD,EAAUd,WAAWkB,MAEvBL,EAAmBM,QAAQnpD,SAAQ,SAAUopD,GAC3C,IAAIC,EAAiBD,EACF,OAAfzmC,IACF0mC,EAAiBnyC,EAAK8J,SAAS2B,EAAYymC,IAGxCN,EAAUP,SAAS/yC,IAAI6zC,IAC1BP,EAAUP,SAASnyC,IAAIizC,GAGzB,IAAI74C,EAAUq4C,EAAmBS,iBAAiBF,GACnC,MAAX54C,GACFs4C,EAAU7uB,iBAAiBmvB,EAAY54C,MAGpCs4C,GAaXxB,EAAmBzsD,UAAUmtD,WAC3B,SAAuCpoC,GACrC,IAAI4nC,EAAYtwC,EAAKyI,OAAOC,EAAO,aAC/B6nC,EAAWvwC,EAAKyI,OAAOC,EAAO,WAAY,MAC1CtjB,EAAS4a,EAAKyI,OAAOC,EAAO,SAAU,MACtCpmB,EAAO0d,EAAKyI,OAAOC,EAAO,OAAQ,MAEjC7e,KAAKuzB,iBACRvzB,KAAKwoD,iBAAiB/B,EAAWC,EAAUnrD,EAAQ9C,GAGvC,MAAV8C,IACFA,EAASyB,OAAOzB,GACXyE,KAAKwnD,SAAS/yC,IAAIlZ,IACrByE,KAAKwnD,SAASnyC,IAAI9Z,IAIV,MAAR9C,IACFA,EAAOuE,OAAOvE,GACTuH,KAAKynD,OAAOhzC,IAAIhc,IACnBuH,KAAKynD,OAAOpyC,IAAI5c,IAIpBuH,KAAK0nD,UAAUryC,IAAI,CACjBgM,cAAeolC,EAAU14B,KACzB3M,gBAAiBqlC,EAAUv4B,OAC3BhN,aAA0B,MAAZwlC,GAAoBA,EAAS34B,KAC3C5M,eAA4B,MAAZulC,GAAoBA,EAASx4B,OAC7C3yB,OAAQA,EACR9C,KAAMA,KAOZ8tD,EAAmBzsD,UAAUo/B,iBAC3B,SAA6CuvB,EAAaC,GACxD,IAAIntD,EAASktD,EACW,MAApBzoD,KAAKunD,cACPhsD,EAAS4a,EAAK8J,SAASjgB,KAAKunD,YAAahsD,IAGrB,MAAlBmtD,GAGG1oD,KAAK2nD,mBACR3nD,KAAK2nD,iBAAmB/uD,OAAOY,OAAO,OAExCwG,KAAK2nD,iBAAiBxxC,EAAKuK,YAAYnlB,IAAWmtD,GACzC1oD,KAAK2nD,0BAGP3nD,KAAK2nD,iBAAiBxxC,EAAKuK,YAAYnlB,IACI,IAA9C3C,OAAOoG,KAAKgB,KAAK2nD,kBAAkBrrD,SACrC0D,KAAK2nD,iBAAmB,QAqBhCpB,EAAmBzsD,UAAU6uD,eAC3B,SAA2Cb,EAAoBW,EAAaG,GAC1E,IAAIP,EAAaI,EAEjB,GAAmB,MAAfA,EAAqB,CACvB,GAA+B,MAA3BX,EAAmBE,KACrB,MAAM,IAAI9hD,MACR,iJAIJmiD,EAAaP,EAAmBE,KAElC,IAAIpmC,EAAa5hB,KAAKunD,YAEJ,MAAd3lC,IACFymC,EAAalyC,EAAK8J,SAAS2B,EAAYymC,IAIzC,IAAIQ,EAAa,IAAIxB,EACjByB,EAAW,IAAIzB,EAGnBrnD,KAAK0nD,UAAUqB,iBAAgB,SAAUb,GACvC,GAAIA,EAAQ3sD,SAAW8sD,GAAsC,MAAxBH,EAAQhnC,aAAsB,CAEjE,IAAIwlC,EAAWoB,EAAmBkB,oBAAoB,CACpDj7B,KAAMm6B,EAAQhnC,aACdgN,OAAQg6B,EAAQ/mC,iBAEK,MAAnBulC,EAASnrD,SAEX2sD,EAAQ3sD,OAASmrD,EAASnrD,OACJ,MAAlBqtD,IACFV,EAAQ3sD,OAAS4a,EAAK3H,KAAKo6C,EAAgBV,EAAQ3sD,SAEnC,MAAdqmB,IACFsmC,EAAQ3sD,OAAS4a,EAAK8J,SAAS2B,EAAYsmC,EAAQ3sD,SAErD2sD,EAAQhnC,aAAewlC,EAAS34B,KAChCm6B,EAAQ/mC,eAAiBulC,EAASx4B,OACb,MAAjBw4B,EAASjuD,OACXyvD,EAAQzvD,KAAOiuD,EAASjuD,OAK9B,IAAI8C,EAAS2sD,EAAQ3sD,OACP,MAAVA,GAAmBstD,EAAWp0C,IAAIlZ,IACpCstD,EAAWxzC,IAAI9Z,GAGjB,IAAI9C,EAAOyvD,EAAQzvD,KACP,MAARA,GAAiBqwD,EAASr0C,IAAIhc,IAChCqwD,EAASzzC,IAAI5c,KAGduH,MACHA,KAAKwnD,SAAWqB,EAChB7oD,KAAKynD,OAASqB,EAGdhB,EAAmBM,QAAQnpD,SAAQ,SAAUopD,GAC3C,IAAI54C,EAAUq4C,EAAmBS,iBAAiBF,GACnC,MAAX54C,IACoB,MAAlBm5C,IACFP,EAAalyC,EAAK3H,KAAKo6C,EAAgBP,IAEvB,MAAdzmC,IACFymC,EAAalyC,EAAK8J,SAAS2B,EAAYymC,IAEzCroD,KAAKk5B,iBAAiBmvB,EAAY54C,MAEnCzP,OAcPumD,EAAmBzsD,UAAU0uD,iBAC3B,SAA4CS,EAAYC,EAAWC,EACvBrqC,GAK1C,GAAIoqC,GAAuC,iBAAnBA,EAAUn7B,MAAiD,iBAArBm7B,EAAUh7B,OACpE,MAAM,IAAIhoB,MACN,gPAMR,MAAI+iD,GAAc,SAAUA,GAAc,WAAYA,GAC/CA,EAAWl7B,KAAO,GAAKk7B,EAAW/6B,QAAU,IAC3Cg7B,GAAcC,GAAYrqC,MAIzBmqC,GAAc,SAAUA,GAAc,WAAYA,GAC/CC,GAAa,SAAUA,GAAa,WAAYA,GAChDD,EAAWl7B,KAAO,GAAKk7B,EAAW/6B,QAAU,GAC5Cg7B,EAAUn7B,KAAO,GAAKm7B,EAAUh7B,QAAU,GAC1Ci7B,GAKV,MAAM,IAAIjjD,MAAM,oBAAsBwb,KAAK4F,UAAU,CACnDm/B,UAAWwC,EACX1tD,OAAQ4tD,EACRzC,SAAUwC,EACVzwD,KAAMqmB,MASdynC,EAAmBzsD,UAAUsvD,mBAC3B,WAcE,IAbA,IAOIrqD,EACAmpD,EACAmB,EACAC,EAVAC,EAA0B,EAC1BC,EAAwB,EACxBC,EAAyB,EACzBC,EAAuB,EACvBC,EAAe,EACfC,EAAiB,EACjBxhD,EAAS,GAMTyhD,EAAW7pD,KAAK0nD,UAAUv/C,UACrBjQ,EAAI,EAAG42C,EAAM+a,EAASvtD,OAAQpE,EAAI42C,EAAK52C,IAAK,CAInD,GAFA6G,EAAO,IADPmpD,EAAU2B,EAAS3xD,IAGPmpB,gBAAkBmoC,EAE5B,IADAD,EAA0B,EACnBrB,EAAQ7mC,gBAAkBmoC,GAC/BzqD,GAAQ,IACRyqD,SAIF,GAAItxD,EAAI,EAAG,CACT,IAAKie,EAAKqL,oCAAoC0mC,EAAS2B,EAAS3xD,EAAI,IAClE,SAEF6G,GAAQ,IAIZA,GAAQqoD,EAAU3f,OAAOygB,EAAQ9mC,gBACJmoC,GAC7BA,EAA0BrB,EAAQ9mC,gBAEZ,MAAlB8mC,EAAQ3sD,SACV+tD,EAAYtpD,KAAKwnD,SAASvpD,QAAQiqD,EAAQ3sD,QAC1CwD,GAAQqoD,EAAU3f,OAAO6hB,EAAYM,GACrCA,EAAiBN,EAGjBvqD,GAAQqoD,EAAU3f,OAAOygB,EAAQhnC,aAAe,EACnBwoC,GAC7BA,EAAuBxB,EAAQhnC,aAAe,EAE9CniB,GAAQqoD,EAAU3f,OAAOygB,EAAQ/mC,eACJsoC,GAC7BA,EAAyBvB,EAAQ/mC,eAEb,MAAhB+mC,EAAQzvD,OACV4wD,EAAUrpD,KAAKynD,OAAOxpD,QAAQiqD,EAAQzvD,MACtCsG,GAAQqoD,EAAU3f,OAAO4hB,EAAUM,GACnCA,EAAeN,IAInBjhD,GAAUrJ,EAGZ,OAAOqJ,GAGXm+C,EAAmBzsD,UAAUgwD,wBAC3B,SAAmDC,EAAUC,GAC3D,OAAOD,EAASnqD,KAAI,SAAUrE,GAC5B,IAAKyE,KAAK2nD,iBACR,OAAO,KAEU,MAAfqC,IACFzuD,EAAS4a,EAAK8J,SAAS+pC,EAAazuD,IAEtC,IAAI9B,EAAM0c,EAAKuK,YAAYnlB,GAC3B,OAAO3C,OAAOkB,UAAUC,eAAe1B,KAAK2H,KAAK2nD,iBAAkBluD,GAC/DuG,KAAK2nD,iBAAiBluD,GACtB,OACHuG,OAMPumD,EAAmBzsD,UAAUwO,OAC3B,WACE,IAAI1I,EAAM,CACRu5B,QAASn5B,KAAK4nD,SACdQ,QAASpoD,KAAKwnD,SAASr/C,UACvB0xC,MAAO75C,KAAKynD,OAAOt/C,UACnB0hD,SAAU7pD,KAAKopD,sBAYjB,OAVkB,MAAdppD,KAAKi5B,QACPr5B,EAAIooD,KAAOhoD,KAAKi5B,OAEM,MAApBj5B,KAAKunD,cACP3nD,EAAIgiB,WAAa5hB,KAAKunD,aAEpBvnD,KAAK2nD,mBACP/nD,EAAIqqD,eAAiBjqD,KAAK8pD,wBAAwBlqD,EAAIwoD,QAASxoD,EAAIgiB,aAG9DhiB,GAMX2mD,EAAmBzsD,UAAU2Y,SAC3B,WACE,OAAOiP,KAAK4F,UAAUtnB,KAAKsI,WAG/BtQ,EAAQuuD,mBAAqBA,G,gBCnY7B,IAAI2D,EAAS,EAAQ,KAsDrBlyD,EAAQyvC,OAAS,SAA0B0iB,GACzC,IACI3jB,EADAN,EAAU,GAGVkkB,EA3BN,SAAqBD,GACnB,OAAOA,EAAS,EACO,IAAhBA,GAAW,GACE,GAAfA,GAAU,GAwBLE,CAAYF,GAEtB,GACE3jB,EAzCgB8jB,GAyCRF,GACRA,KAhDiB,GAiDP,IAGR5jB,GAjDS,IAmDXN,GAAWgkB,EAAOziB,OAAOjB,SAClB4jB,EAAM,GAEf,OAAOlkB,GAOTluC,EAAQskC,OAAS,SAA0B3b,EAAM4pC,EAAQC,GACvD,IAGIC,EAAcjkB,EAvCG2jB,EAEjBO,EAkCAC,EAAShqC,EAAKrkB,OACd8L,EAAS,EACT2B,EAAQ,EAGZ,EAAG,CACD,GAAIwgD,GAAUI,EACZ,MAAM,IAAIzkD,MAAM,8CAIlB,IAAe,KADfsgC,EAAQ0jB,EAAO5tB,OAAO3b,EAAK/kB,WAAW2uD,OAEpC,MAAM,IAAIrkD,MAAM,yBAA2Bya,EAAKpS,OAAOg8C,EAAS,IAGlEE,KA7EW,GA6EOjkB,GAElBp+B,IADAo+B,GA3EgB8jB,KA4EYvgD,EAC5BA,GAnFiB,QAoFV0gD,GAETD,EAAUrxD,OAvDNuxD,GAFiBP,EAyDW/hD,IAvDR,EADU,IAAP,EAAT+hD,IAGbO,EACDA,GAqDJF,EAAUI,KAAOL,I,cCnInB,IAAIM,EAAe,mEAAmExkD,MAAM,IAK5FrO,EAAQyvC,OAAS,SAAU9kC,GACzB,GAAI,GAAKA,GAAUA,EAASkoD,EAAavuD,OACvC,OAAOuuD,EAAaloD,GAEtB,MAAM,IAAI6kB,UAAU,6BAA+B7kB,IAOrD3K,EAAQskC,OAAS,SAAUhf,GAiBzB,OAhBW,IAgBCA,GAAYA,GAfb,GAgBDA,EAjBC,GAGG,IAkBCA,GAAYA,GAjBb,IAkBJA,EAnBI,GASK,GANR,IAoBCA,GAAYA,GAnBb,GAoBDA,EArBC,GAOQ,GAJR,IAsBPA,EACK,GAtBG,IA0BRA,EACK,IAID,I,gBC1DV,IAAInH,EAAO,EAAQ,IACf1B,EAAM7b,OAAOkB,UAAUC,eACvB+wD,EAA8B,oBAAR31C,IAQ1B,SAASkyC,IACPrnD,KAAK+qD,OAAS,GACd/qD,KAAKgrD,KAAOF,EAAe,IAAI31C,IAAQvc,OAAOY,OAAO,MAMvD6tD,EAASp/C,UAAY,SAA4BgjD,EAAQC,GAEvD,IADA,IAAIv3C,EAAM,IAAI0zC,EACLnvD,EAAI,EAAG42C,EAAMmc,EAAO3uD,OAAQpE,EAAI42C,EAAK52C,IAC5Cyb,EAAI0B,IAAI41C,EAAO/yD,GAAIgzD,GAErB,OAAOv3C,GAST0zC,EAASvtD,UAAUkO,KAAO,WACxB,OAAO8iD,EAAe9qD,KAAKgrD,KAAKhjD,KAAOpP,OAAO+Z,oBAAoB3S,KAAKgrD,MAAM1uD,QAQ/E+qD,EAASvtD,UAAUub,IAAM,SAAsBsL,EAAMuqC,GACnD,IAAIC,EAAOL,EAAenqC,EAAOxK,EAAKuK,YAAYC,GAC9CyqC,EAAcN,EAAe9qD,KAAKyU,IAAIkM,GAAQlM,EAAIpc,KAAK2H,KAAKgrD,KAAMG,GAClEz+C,EAAM1M,KAAK+qD,OAAOzuD,OACjB8uD,IAAeF,GAClBlrD,KAAK+qD,OAAO1iD,KAAKsY,GAEdyqC,IACCN,EACF9qD,KAAKgrD,KAAKr3C,IAAIgN,EAAMjU,GAEpB1M,KAAKgrD,KAAKG,GAAQz+C,IAUxB26C,EAASvtD,UAAU2a,IAAM,SAAsBkM,GAC7C,GAAImqC,EACF,OAAO9qD,KAAKgrD,KAAKv2C,IAAIkM,GAErB,IAAIwqC,EAAOh1C,EAAKuK,YAAYC,GAC5B,OAAOlM,EAAIpc,KAAK2H,KAAKgrD,KAAMG,IAS/B9D,EAASvtD,UAAUmE,QAAU,SAA0B0iB,GACrD,GAAImqC,EAAc,CAChB,IAAIp+C,EAAM1M,KAAKgrD,KAAKjyD,IAAI4nB,GACxB,GAAIjU,GAAO,EACP,OAAOA,MAEN,CACL,IAAIy+C,EAAOh1C,EAAKuK,YAAYC,GAC5B,GAAIlM,EAAIpc,KAAK2H,KAAKgrD,KAAMG,GACtB,OAAOnrD,KAAKgrD,KAAKG,GAIrB,MAAM,IAAIjlD,MAAM,IAAMya,EAAO,yBAQ/B0mC,EAASvtD,UAAUuxD,GAAK,SAAqBC,GAC3C,GAAIA,GAAQ,GAAKA,EAAOtrD,KAAK+qD,OAAOzuD,OAClC,OAAO0D,KAAK+qD,OAAOO,GAErB,MAAM,IAAIplD,MAAM,yBAA2BolD,IAQ7CjE,EAASvtD,UAAUqO,QAAU,WAC3B,OAAOnI,KAAK+qD,OAAOt+C,SAGrBzU,EAAQqvD,SAAWA,G,gBCjHnB,IAAIlxC,EAAO,EAAQ,IAqBnB,SAASmxC,IACPtnD,KAAK+qD,OAAS,GACd/qD,KAAKurD,SAAU,EAEfvrD,KAAKwrD,MAAQ,CAACnqC,eAAgB,EAAGD,gBAAiB,GASpDkmC,EAAYxtD,UAAUivD,gBACpB,SAA6B0C,EAAWC,GACtC1rD,KAAK+qD,OAAO9rD,QAAQwsD,EAAWC,IAQnCpE,EAAYxtD,UAAUub,IAAM,SAAyBs2C,GAtCrD,IAAgC7qC,EAAUC,EAEpC6qC,EACAC,EACAC,EACAC,EAL0BjrC,EAuCH9gB,KAAKwrD,MAvCQzqC,EAuCD4qC,EArCnCC,EAAQ9qC,EAASO,cACjBwqC,EAAQ9qC,EAASM,cACjByqC,EAAUhrC,EAASM,gBACnB2qC,EAAUhrC,EAASK,gBAChByqC,EAAQD,GAASC,GAASD,GAASG,GAAWD,GAC9C31C,EAAKqL,oCAAoCV,EAAUC,IAAa,GAiCrE/gB,KAAKwrD,MAAQG,EACb3rD,KAAK+qD,OAAO1iD,KAAKsjD,KAEjB3rD,KAAKurD,SAAU,EACfvrD,KAAK+qD,OAAO1iD,KAAKsjD,KAarBrE,EAAYxtD,UAAUqO,QAAU,WAK9B,OAJKnI,KAAKurD,UACRvrD,KAAK+qD,OAAO7sC,KAAK/H,EAAKqL,qCACtBxhB,KAAKurD,SAAU,GAEVvrD,KAAK+qD,QAGd/yD,EAAQsvD,YAAcA,G,gBC9EtB,IAAI//C,EAAO,EAAQ,GAEnBtP,EAAOD,QAAU,SAA0Bs4B,GACvC,MAAO,CACHgqB,gBAAiB,SAASjiB,GAStB,OARA/H,EAAK+H,EAAK,CACNjI,MAAO,SAASjvB,GACRA,EAAK0L,UAAY1L,EAAK0L,oBAAoBtF,IAAS,IACnDpG,EAAK0L,UAAW,IAAItF,GAAOU,UAAU9G,EAAK0L,cAK/CwrB,GAEXkiB,cAAe,SAASliB,GASpB,OARA/H,EAAK+H,EAAK,CACNhI,MAAO,SAASlvB,GACRA,EAAK0L,UAAY1L,EAAK0L,oBAAoBtF,IAC1CpG,EAAK0L,SAAW1L,EAAK0L,SAAS1E,cAKnCkwB,M,cCxBnB,IAAIt+B,EAAiBnB,OAAOkB,UAAUC,eAClC2gB,EAAO,aAEX,SAASyV,EAAeh3B,GACpB,MAAwB,mBAAVA,EAAuBA,EAAQuhB,EAGjD,SAASsxC,EAAcrjD,EAAI7M,GACvB,OAAO,SAASqF,EAAM+G,EAAM1I,GACpB2B,EAAKrF,OAASA,GACd6M,EAAGtQ,KAAK2H,KAAMmB,EAAM+G,EAAM1I,IAKtC,SAASysD,EAAwBxzD,EAAMkrD,GACnC,IAAIpjD,EAAYojD,EAASpjD,UACrB2rD,EAAU,GAEd,IAAK,IAAIzyD,KAAO8G,EACZ,IAA4C,IAAxCxG,EAAe1B,KAAKkI,EAAW9G,GAAnC,CAIA,IAAIqqD,EAAavjD,EAAU9G,GACvB0yD,EAAS,CACT1zD,KAAMgB,EACNqC,MAAM,EACNuuB,UAAU,GAGTjrB,MAAMC,QAAQkB,EAAU9G,MACzBqqD,EAAa,CAACvjD,EAAU9G,KAG5B,IAAK,IAAIvB,EAAI,EAAGA,EAAI4rD,EAAWxnD,OAAQpE,IAAK,CACxC,IAAIurD,EAAYK,EAAW5rD,GACT,OAAdurD,EACA0I,EAAO9hC,UAAW,EACU,iBAAdo5B,EACd0I,EAAOrwD,KAAO,OACPsD,MAAMC,QAAQokD,KACrB0I,EAAOrwD,KAAO,QAIlBqwD,EAAOrwD,MACPowD,EAAQ7jD,KAAK8jD,GAIrB,OAAID,EAAQ5vD,OACD,CACHsM,QAAS+6C,EAASyI,YAClB/hB,OAAQ6hB,GAIT,KAqBX,SAASG,EAAmBtS,EAAQhQ,GAChC,IAAIM,EAAS0P,EAAO1P,OAAO59B,QACvB6/C,EAAcvS,EAAOnxC,QACrB2jD,EAAoC,iBAAhBD,EAMxB,OAJIviB,GACAM,EAAON,UAGJ,SAAS5oC,EAAMyH,EAAS0nB,GAC3B,IAAIk8B,EAEAD,IACAC,EAAmB5jD,EAAQ0jD,GAC3B1jD,EAAQ0jD,GAAenrD,GAG3B,IAAK,IAAIjJ,EAAI,EAAGA,EAAImyC,EAAO/tC,OAAQpE,IAAK,CACpC,IAAIsyC,EAAQH,EAAOnyC,GACfue,EAAMtV,EAAKqpC,EAAM/xC,MAEhB+xC,EAAMngB,WAAY5T,IACA,SAAf+zB,EAAM1uC,KACFiuC,EACAtzB,EAAI1N,aAAaunB,GAEjB7Z,EAAIxX,QAAQqxB,GAGhBA,EAAK7Z,IAKb81C,IACA3jD,EAAQ0jD,GAAeE,IAKnC,SAASC,EAAsBC,GAC3B,MAAO,CACHzqC,OAAQ,CACJsB,WAAYmpC,EAAUnpC,WACtBtB,OAAQyqC,EAAUzqC,OAClBmB,KAAMspC,EAAUtpC,KAChBhB,MAAOsqC,EAAUtqC,OAErBgB,KAAM,CACFG,WAAYmpC,EAAUnpC,WACtBtB,OAAQyqC,EAAUzqC,OAClBmB,KAAMspC,EAAUtpC,KAChBhB,MAAOsqC,EAAUtqC,OAErBI,YAAa,CACTe,WAAYmpC,EAAUnpC,WACtBtB,OAAQyqC,EAAUzqC,OAClBmB,KAAMspC,EAAUtpC,KAChBhB,MAAOsqC,EAAUtqC,MACjBK,gBAAiBiqC,EAAUjqC,kBAKvCxqB,EAAOD,QAAU,SAAsB+hD,GACnC,IAAIx3C,EAnFR,SAA4Bw3C,GACxB,IAAIx3C,EAAQ,GAEZ,IAAK,IAAI9J,KAAQshD,EAAO54C,KACpB,GAAIpH,EAAe1B,KAAK0hD,EAAO54C,KAAM1I,GAAO,CACxC,IAAIkrD,EAAW5J,EAAO54C,KAAK1I,GAE3B,IAAKkrD,EAASpjD,UACV,MAAM,IAAI2F,MAAM,gCAAkCzN,EAAO,0BAG7D8J,EAAM9J,GAAQwzD,EAAwBxzD,EAAMkrD,GAIpD,OAAOphD,EAoEKoqD,CAAmB5S,GAC3B6S,EAAmB,GACnBC,EAAmB,GAEvB,IAAK,IAAIp0D,KAAQ8J,EACTxI,EAAe1B,KAAKkK,EAAO9J,IAAyB,OAAhB8J,EAAM9J,KAC1Cm0D,EAAiBn0D,GAAQ4zD,EAAmB9pD,EAAM9J,IAAO,GACzDo0D,EAAiBp0D,GAAQ4zD,EAAmB9pD,EAAM9J,IAAO,IAIjE,IAAIq0D,EAAgCL,EAAsBG,GACtDG,EAAgCN,EAAsBI,GAEtDv8B,EAAO,SAAS9Z,EAAM7H,GAWtB,IAAIyhB,EAAQ1V,EACR2V,EAAQ3V,EACRgyC,EAAYE,EACZhkD,EAAU,CACV4N,KAAMA,EACNw2C,WAAY,KACZrQ,OAAQ,KACRsQ,cAAe,KACflrB,KAAM,KACNn0B,SAAU,KACVmZ,MAAO,KACPpX,YAAa,KACbqV,SAAU,MAGd,GAAuB,mBAAZrW,EACPyhB,EAAQzhB,OACL,GAAIA,IACPyhB,EAAQD,EAAexhB,EAAQyhB,OAC/BC,EAAQF,EAAexhB,EAAQ0hB,OAE3B1hB,EAAQo7B,UACR2iB,EAAYG,GAGZl+C,EAAQivC,OAAO,CACf,GAAIkP,EAA8B/yD,eAAe4U,EAAQivC,OACrD8O,EAAY/9C,EAAQo7B,QACdgjB,EAA8Bp+C,EAAQivC,OACtCkP,EAA8Bn+C,EAAQivC,YACzC,IAAKr7C,EAAMxI,eAAe4U,EAAQivC,OACrC,MAAM,IAAI13C,MAAM,cAAgByI,EAAQivC,MAAQ,oCAAsChlD,OAAOoG,KAAKuD,GAAOiM,KAAK,MAAQ,KAG1H4hB,EAAQ47B,EAAc57B,EAAOzhB,EAAQivC,OACrCvtB,EAAQ27B,EAAc37B,EAAO1hB,EAAQivC,OAI7C,GAAIxtB,IAAU1V,GAAQ2V,IAAU3V,EAC5B,MAAM,IAAIxU,MAAM,+EAIpB,GAAIyI,EAAQo7B,QAAS,CACjB,IAAIjR,EAAM1I,EACVA,EAAQC,EACRA,EAAQyI,GAzDZ,SAASo0B,EAAS/rD,EAAM+G,EAAM1I,GAC1B4wB,EAAM/3B,KAAKuQ,EAASzH,EAAM+G,EAAM1I,GAE5BktD,EAAU3yD,eAAeoH,EAAKrF,OAC9B4wD,EAAUvrD,EAAKrF,MAAMqF,EAAMyH,EAASskD,GAGxC78B,EAAMh4B,KAAKuQ,EAASzH,EAAM+G,EAAM1I,GAqDpC0tD,CAAS12C,IA0Cb,OAvCA8Z,EAAK6pB,KAAO,SAAS9hB,EAAK1vB,GACtB,IAAIwkD,EAAQ,KAQZ,OANA78B,EAAK+H,GAAK,SAASl3B,EAAM+G,EAAM1I,GACb,OAAV2tD,GAAkBxkD,EAAGtQ,KAAK2H,KAAMmB,EAAM+G,EAAM1I,KAC5C2tD,EAAQhsD,MAITgsD,GAGX78B,EAAK8pB,SAAW,SAAS/hB,EAAK1vB,GAC1B,IAAIwkD,EAAQ,KAWZ,OATA78B,EAAK+H,EAAK,CACN0R,SAAS,EACT3Z,MAAO,SAASjvB,EAAM+G,EAAM1I,GACV,OAAV2tD,GAAkBxkD,EAAGtQ,KAAK2H,KAAMmB,EAAM+G,EAAM1I,KAC5C2tD,EAAQhsD,MAKbgsD,GAGX78B,EAAK+pB,QAAU,SAAShiB,EAAK1vB,GACzB,IAAIwkD,EAAQ,GAQZ,OANA78B,EAAK+H,GAAK,SAASl3B,EAAM+G,EAAM1I,GACvBmJ,EAAGtQ,KAAK2H,KAAMmB,EAAM+G,EAAM1I,IAC1B2tD,EAAM9kD,KAAKlH,MAIZgsD,GAGJ78B,I,gBCrQX,IAAI/oB,EAAO,EAAQ,GAEnBtP,EAAOD,QAAU,SAAS0b,EAAMvS,GAC5B,IAAIiH,EAAS,GAEb,IAAK,IAAI3O,KAAO0H,EAAM,CAClB,IAAIhI,EAAQgI,EAAK1H,GAEbN,IACIiG,MAAMC,QAAQlG,IAAUA,aAAiBoO,EACzCpO,EAAQA,EAAMyG,IAAI8T,GACXva,EAAMga,cAAgBva,SAC7BO,EAAQua,EAAMva,KAItBiP,EAAO3O,GAAON,EAGlB,OAAOiP,I,cCnBX,IAAIrO,EAAiBnB,OAAOkB,UAAUC,eAClCqzD,EAAQ,CACR1S,SAAS,EACTn4C,MAAO,GACPo4C,QAAS,GACT5mC,WAAY,GACZ2xC,aAAc,GACdF,MAAO,GACP7I,OAAQ,CAAC,SACT8I,OAAQ,CAAC,SACTtkD,KAAM,CAAC,OAAQ,YAAa,QAAS,WAAY,gBAGrD,SAASjC,EAAS/F,GACd,OAAOA,GAASA,EAAMga,cAAgBva,OAG1C,SAASuJ,EAAKhJ,GACV,OAAI+F,EAAS/F,GACFP,OAAOygC,OAAO,GAAIlgC,GAElBA,EAGf,SAASk0D,EAAO5mC,EAAM6yB,GAClB,IAAK,IAAI7/C,KAAO6/C,EACRv/C,EAAe1B,KAAKihD,EAAK7/C,KACrByF,EAASunB,EAAKhtB,IACd4zD,EAAO5mC,EAAKhtB,GAAM0I,EAAKm3C,EAAI7/C,KAE3BgtB,EAAKhtB,GAAO0I,EAAKm3C,EAAI7/C,KAuDrCxB,EAAOD,QAAU,SAASyuB,EAAM6yB,GAC5B,OAlDJ,SAASQ,EAAIrzB,EAAM6yB,EAAK8T,GACpB,IAAK,IAAI3zD,KAAO2zD,EACZ,IAAwC,IAApCrzD,EAAe1B,KAAK+0D,EAAO3zD,GAI/B,IAAmB,IAAf2zD,EAAM3zD,GACFA,KAAO6/C,GACHv/C,EAAe1B,KAAKihD,EAAK7/C,KACzBgtB,EAAKhtB,GAAO0I,EAAKm3C,EAAI7/C,UAG1B,GAAI2zD,EAAM3zD,GAAM,CACnB,GAAIyF,EAASkuD,EAAM3zD,IAEf4zD,EADIj2C,EAAM,GACEqP,EAAKhtB,IACjB4zD,EAAOj2C,EAAKkiC,EAAI7/C,IAChBgtB,EAAKhtB,GAAO2d,OACT,GAAIhY,MAAMC,QAAQ+tD,EAAM3zD,IAAO,CAClC,IAAI2d,EAAM,GACNk2C,EAAaF,EAAM3zD,GAAKkT,QAAO,SAAS1S,EAAG6sC,GAE3C,OADA7sC,EAAE6sC,IAAK,EACA7sC,IACR,IACH,IAAK,IAAIxB,KAAQguB,EAAKhtB,GACdM,EAAe1B,KAAKouB,EAAKhtB,GAAMhB,KAC/B2e,EAAI3e,GAAQ,GACRguB,EAAKhtB,IAAQgtB,EAAKhtB,GAAKhB,IACvBqhD,EAAI1iC,EAAI3e,GAAOguB,EAAKhtB,GAAKhB,GAAO60D,IAI5C,IAAK,IAAI70D,KAAQ6gD,EAAI7/C,GACbM,EAAe1B,KAAKihD,EAAI7/C,GAAMhB,KACzB2e,EAAI3e,KACL2e,EAAI3e,GAAQ,IAEZ6gD,EAAI7/C,IAAQ6/C,EAAI7/C,GAAKhB,IACrBqhD,EAAI1iC,EAAI3e,GAAO6gD,EAAI7/C,GAAKhB,GAAO60D,IAI3C7mC,EAAKhtB,GAAO2d,GAIxB,OAAOqP,EAIAqzB,CAAIrzB,EAAM6yB,EAAK8T,K,gBCtF1B,IAAIvrD,EAAO,EAAQ,KAEnB5J,EAAOD,QAAU,CACb0iD,SAAS,EACTn4C,MAAOV,EAAKU,MACZo4C,QAAS94C,EAAK84C,QACd5mC,WAAYlS,EAAKkS,WACjB5S,KAAM,EAAQ,M,w5xDCPlB,IAAIuJ,EAAU,EAAQ,GAAmBA,QACrCJ,EAAU,EAAQ,GAAmBA,QACrCjQ,EAAO,EAAQ,GAAmBA,KAElCkR,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QACfwzB,EAAQn3B,EAAKwC,MACb60B,EAASr3B,EAAK4B,OACd61B,EAAYz3B,EAAK0B,UAGjBwxD,EAAI,IAIR,SAAS9N,EAAa/jD,EAAQikD,GAC1B,IAAI3zC,EAAMhM,KAAKC,QAAQI,WAAa3E,EAChCa,EAAOyD,KAAKC,QAAQ1E,OAAOK,WAAWoQ,GAS1C,IAjBW,KAUPzP,GATU,KASWA,IACjBojD,GACA3/C,KAAKsU,MAAM,8BAEftI,KAGGA,EAAMhM,KAAKC,QAAQyL,SAAUM,IAC3B1B,EAAQtK,KAAKC,QAAQ1E,OAAOK,WAAWoQ,KACxChM,KAAKsU,MAAM,sBAAuBtI,GAK9C,SAASwhD,EAAoB7N,GACzB,OAAOF,EAAapnD,KAAK2H,KAAM,EAAG2/C,GAGtC,SAAS8N,EAAe/xD,EAAQa,GAC5B,IAAKmO,EAAQ1K,KAAKC,QAAQ1E,OAAQyE,KAAKC,QAAQI,WAAa3E,EAAQa,GAAO,CACvE,IAAImxD,EAAM,GAEV,OAAQnxD,GACJ,KAAKgxD,EACDG,EAAM,gBACN,MACJ,KAnCM,GAoCFA,EAAM,0BAId1tD,KAAKsU,MAAMo5C,EAAK1tD,KAAKC,QAAQI,WAAa3E,IAMlD,SAASkkD,IAKL,IAJA,IAAIlkD,EAAS,EACTuP,EAAO,EACPnP,EAAOkE,KAAKC,QAAQsB,UAEjBzF,IAASyP,GAAczP,IAAS0P,GACnC1P,EAAOkE,KAAKC,QAAQE,aAAazE,GAGrC,GAAII,IAAS41B,EAAQ,CACjB,IAAI1xB,KAAKC,QAAQgM,QAzDV,GAyD4BvQ,KAC/BsE,KAAKC,QAAQgM,QAzDP,GAyD4BvQ,GAYlC,OAAO,KAXPuP,EAAOjL,KAAKC,QAAQgM,QA3DjB,GA2DmCvQ,GA3DnC,GACG,GA4DN,GACII,EAAOkE,KAAKC,QAAQE,aAAazE,SAC5BI,IAASyP,GAAczP,IAAS0P,GAErC1P,IAAS41B,IACT1xB,KAAKC,QAAQY,KAAKnF,GAClB8xD,EAAoBn1D,KAAK2H,MAhErB,IAmFhB,OAZItE,EAAS,GACTsE,KAAKC,QAAQY,KAAKnF,GAGT,IAATuP,GA9EO,MA+EPnP,EAAOkE,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,cA9EzC,KA+EevE,GACrBkE,KAAKsU,MAAM,2BAInBk5C,EAAoBn1D,KAAK2H,KAAe,IAATiL,GApFjB,KAqFPA,EAAuB,IAAMjL,KAAKmlD,QAAQzzB,GAAU1xB,KAAKmlD,QAAQzzB,GAI5Ez5B,EAAOD,QAAU,CACbS,KAAM,UACN8H,UAAW,CACPyG,EAAG,CAAChK,OAAQ,MACZiK,EAAG,CAACjK,OAAQ,OAEhBwD,MAAO,WAEH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WACrB2G,EAAI,KACJC,EAAI,KAGR,GAAIjH,KAAKC,QAAQsB,YAAcmwB,EAC3B87B,EAAoBn1D,KAAK2H,MApGpB,GAqGLiH,EAAIjH,KAAKmlD,QAAQzzB,QAQhB,GAAI1xB,KAAKC,QAAQsB,YAAciwB,GAAS9mB,EAAQ1K,KAAKC,QAAQ1E,OAAQyE,KAAKC,QAAQI,WAhH7E,IAqHN,OAJA2G,EAAI,KAEJymD,EAAep1D,KAAK2H,KAAM,EAAGutD,GAErBvtD,KAAKC,QAAQkM,kBAIjB,KAAK,EACDnM,KAAKC,QAAQlB,OACbkI,EAAI24C,EAASvnD,KAAK2H,MAClB,MAGJ,KAAK,EACDytD,EAAep1D,KAAK2H,KAAM,EAhI5B,IAkIEA,KAAKC,QAAQlB,OACbiB,KAAKC,QAAQsM,SAEbihD,EAAoBn1D,KAAK2H,MAnIzB,GAqIAiH,EAAI,IAAMjH,KAAKmlD,QAAQzzB,GACvB,MAGJ,QACI+7B,EAAep1D,KAAK2H,KAAM,EA5I5B,IA6IEy/C,EAAapnD,KAAK2H,KAAM,GA3IxB,GA4IAA,KAAKC,QAAQlB,OAEbkI,EAAIjH,KAAKC,QAAQmM,eAAe9O,EAAQ,QAS/C,GAAI0C,KAAKC,QAAQsB,YAAciwB,GAAUxxB,KAAKC,QAAQgM,QA1JpD,KA0JyEjM,KAAKC,QAAQE,WAAW,KAAOqxB,EAAQ,CACnH,IAAIvmB,EAAO,EAWX,OAVAjE,EAAI,IAGAhH,KAAKC,QAAQgM,QA/Jd,MAgKChB,EAAO,EACPjL,KAAKC,QAAQlB,QAGjB0uD,EAAep1D,KAAK2H,KAAM,EAAGutD,GAErBvtD,KAAKC,QAAQkM,kBAIjB,KAAK,EACDnM,KAAKC,QAAQlB,OACbkI,EAAI24C,EAASvnD,KAAK2H,MAClB,MAGJ,KAAK,EACDytD,EAAep1D,KAAK2H,KAAM,EAhL5B,IAkLEA,KAAKC,QAAQlB,OACbiB,KAAKC,QAAQsM,SAEbihD,EAAoBn1D,KAAK2H,MAnLzB,GAqLAiH,EAAI,IAAMjH,KAAKmlD,QAAQzzB,GACvB,MAGJ,QACI+7B,EAAep1D,KAAK2H,KAAM,EA5L5B,IA6LEy/C,EAAapnD,KAAK2H,KAAM,GA3LxB,GA4LAA,KAAKC,QAAQlB,OAEbkI,EAAIjH,KAAKC,QAAQmM,eAAe9O,EAAQ2N,EAAO,SAStD,GAAIjL,KAAKC,QAAQsB,YAAcuwB,EAAW,CAI3C,IAHA,IAAIv1B,EAAOyD,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,YAG9CnI,GAFL+S,EA5MD,KA4MQ1O,GA3ML,KA2M0BA,EAEnByD,KAAKC,QAAQI,WAAa4K,GAAM/S,EAAI8H,KAAKC,QAAQyL,UACrDpB,EAAQtK,KAAKC,QAAQ1E,OAAOK,WAAW1D,IADwBA,KAMpEA,IAAM8H,KAAKC,QAAQI,WAAa4K,GAChCjL,KAAKsU,MAAM,sBAAuBtU,KAAKC,QAAQI,WAAa4K,GAGhEwiD,EAAep1D,KAAK2H,KAAM9H,EAAI8H,KAAKC,QAAQI,WAAYktD,GACvDvmD,EAAIhH,KAAKC,QAAQ1E,OAAO0F,UAAU3D,EAAOpF,GAKrCA,EAAI,IAAM8H,KAAKC,QAAQyL,UACvB1L,KAAKC,QAAQlB,OACbkI,EAAI24C,EAASvnD,KAAK2H,QAElBytD,EAAep1D,KAAK2H,KAAM9H,EAAI8H,KAAKC,QAAQI,WAAa,EAjOtD,IAoOEnI,EAAI,IAAM8H,KAAKC,QAAQyL,UACvB1L,KAAKC,QAAQlB,OACbiB,KAAKC,QAAQsM,SACbihD,EAAoBn1D,KAAK2H,MArOzB,GAsOAiH,EAAI,IAAMjH,KAAKmlD,QAAQzzB,KAIvB+tB,EAAapnD,KAAK2H,KAAM9H,EAAI8H,KAAKC,QAAQI,WAAa,GA1OtD,GA2OAL,KAAKC,QAAQlB,OACbkI,EAAIjH,KAAKC,QAAQmM,eAAelU,EAAI,UAI5C8H,KAAKsU,QAWT,OARU,OAANtN,GAtPG,KAsPWA,EAAEpL,WAAW,KAC3BoL,EAAIA,EAAEkV,OAAO,IAGP,OAANjV,GA1PG,KA0PWA,EAAErL,WAAW,KAC3BqL,EAAIA,EAAEiV,OAAO,IAGV,CACHpgB,KAAM,UACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C2G,EAAGA,EACHC,EAAGA,IAGX/F,SAAU,SAASC,GACf,IAAI6F,EAAe,OAAX7F,EAAK6F,QAAyB6B,IAAX1H,EAAK6F,EAC5BC,EAAe,OAAX9F,EAAK8F,QAAyB4B,IAAX1H,EAAK8F,EAE5BD,GACAhH,KAAKoB,MACU,OAAXD,EAAK6F,EAAa,KACN,MAAZ7F,EAAK6F,EAAc,IACR,OAAX7F,EAAK6F,EAAa,KAClB7F,EAAK6F,EAAI,KAGTC,IAEoB,OADpBA,EAAIjK,OAAOmE,EAAK8F,IACVsH,OAAO,IAA8B,MAAhBtH,EAAEsH,OAAO,IAChCvO,KAAKoB,MAAM6F,EAAEsH,OAAO,IACpBvO,KAAKoB,MAAM6F,EAAEiV,OAAO,MAEpBlc,KAAKoB,MAAM,KACXpB,KAAKoB,MAAM6F,MAInBjH,KAAKoB,MAAMpE,OAAOmE,EAAK8F,O,gBCrSnC,IAAI5M,EAAO,EAAQ,GAAmBA,KAClCszD,EAAU,EAAQ,GAASt0D,KAE3Bu0D,EAAYvzD,EAAKgE,UACjBwvD,EAAYxzD,EAAK8D,UACjB2vD,EAAmBzzD,EAAKmE,iBACxBuvD,EAAoB1zD,EAAKoE,kBAE7B,SAASuvD,EAAWvtD,GAChB,OAAOT,KAAKoN,IAAI3M,EAAYktD,EAAQnsD,6BAA6B,GAGrE,SAASysD,IACL,IAAK,IAAgBnyD,EAAZJ,EAAS,EAASI,EAAOkE,KAAKC,QAAQE,WAAWzE,GAASA,IAAU,CACzE,GAAII,IAASiyD,EACT,OAAO,EAGX,GAAIjyD,IAASgyD,GACThyD,IAAS8xD,EACT,OAAO,EAIf,OAAO,EAGX31D,EAAOD,QAAU,CACbS,KAAM,SACN8H,UAAW,CACP9H,KAAMuE,OACN8pB,QAAS,CAAC,gBAAiB,MAAO,MAClCC,MAAO,CAAC,QAAS,OAErBvmB,MAAO,WACH,IACI/H,EACAy1D,EAFA5wD,EAAQ0C,KAAKC,QAAQI,WAGrBymB,EAAU,KACVC,EAAQ,KA0BZ,OAxBA/mB,KAAKqd,IAAIuwC,GAGTM,GADAz1D,EAAOuH,KAAKC,QAAQmM,eAAe9O,EAAQ,IACtB0Q,cACrBhO,KAAKC,QAAQsM,UAGY,IAArBvM,KAAKC,QAAQwL,KACbzL,KAAKC,QAAQsB,YAAcusD,GAC3B9tD,KAAKC,QAAQsB,YAAcssD,IACvB7tD,KAAKukD,mBAIgB,mBAHrBz9B,EAAU9mB,KAAK8kD,kBAAkB9kD,KAAKkiB,cAAcxoB,KAAKsG,KAAMvH,GAAOu1D,IAG1DlyD,MAAsD,OAA1BgrB,EAAQja,SAASrF,OACrDsf,EAAU,MAGdA,EAAUknC,EAAW31D,KAAK2H,KAAMA,KAAKC,QAAQC,YAGjDF,KAAKC,QAAQsM,UAGTvM,KAAKC,QAAQsB,WACjB,KAAKssD,EACD7tD,KAAKC,QAAQlB,OACb,MAEJ,KAAK+uD,EAGG/mC,EAFA/mB,KAAK28C,OAAO5iD,eAAem0D,IACiB,mBAArCluD,KAAK28C,OAAOuR,GAAennC,MAC1B/mB,KAAK28C,OAAOuR,GAAennC,MAAM1uB,KAAK2H,MAGtCA,KAAKoiB,MAAM6rC,EAAyB51D,KAAK2H,OAM7D,MAAO,CACHlE,KAAM,SACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMA,EACNquB,QAASA,EACTC,MAAOA,IAGf7lB,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAK1I,MAEK,OAAjB0I,EAAK2lB,UACL9mB,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAK2lB,UAGf3lB,EAAK4lB,MACL/mB,KAAKmB,KAAKA,EAAK4lB,OAEf/mB,KAAKoB,MAAM,MAGnBgrD,YAAa,W,gBCzGjB,IAAI/xD,EAAO,EAAQ,GAAmBA,KAElCwzD,EAAYxzD,EAAK8D,UACjB2vD,EAAmBzzD,EAAKmE,iBAE5BvG,EAAOD,QAAU,CACbS,KAAM,gBACN8H,UAAW,CACPsM,SAAU,CAAC,KAEfrM,MAAO,SAAS/H,GACZ,IAAIoU,EAAW,KA6Bf,OA3Ba,OAATpU,IACAA,EAAOA,EAAKuV,eAGhBhO,KAAKC,QAAQsM,SAKTM,EAHA7M,KAAK28C,OAAO5iD,eAAetB,IACU,mBAA9BuH,KAAK28C,OAAOlkD,GAAMquB,QAEd9mB,KAAK28C,OAAOlkD,GAAMquB,QAAQzuB,KAAK2H,MAG/BA,KAAKsyB,aAAatyB,KAAKwlD,MAAMtjC,eAG5CliB,KAAKC,QAAQsM,UAEY,IAArBvM,KAAKC,QAAQwL,KACbzL,KAAKC,QAAQsB,YAAcusD,GAC3B9tD,KAAKC,QAAQsB,YAAcssD,GAC3B7tD,KAAKsU,MAAM,kCAGE,OAAbzH,IACAA,EAAW7M,KAAK2kD,cAGb,CACH7oD,KAAM,gBACNiF,IAAKf,KAAKslD,oBAAoBz4C,GAC9BA,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAK6M,SAAS1L,IAElBirD,YAAa,kB,gBCjDjB,IAAI/xD,EAAO,EAAQ,GAAmBA,KAElCm3B,EAAQn3B,EAAKwC,MACb40B,EAASp3B,EAAK2C,OACdmxD,EAAQ9zD,EAAK6D,MACb+zB,EAAoB53B,EAAKiE,kBACzB8vD,EAAqB/zD,EAAKkE,mBAQ9B,SAAS8vD,IACDruD,KAAKC,QAAQwL,KACbzL,KAAKsU,MAAM,2BAGf,IAAIhX,EAAQ0C,KAAKC,QAAQI,WACrBiuD,GAAc,EACdC,GAAa,EA0BjB,OAxBIvuD,KAAKC,QAAQgM,QAfN,KAgBPqiD,GAAc,EACdC,GAAa,EACbvuD,KAAKC,QAAQlB,QACLiB,KAAKC,QAAQgM,QAhBV,MAiBXjM,KAAKqd,IAAImU,GAGTxxB,KAAKC,QAAQgM,QApBF,KAFF,KAuBLjM,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,WAAa,IACzDL,KAAKC,QAAQlB,OACbiB,KAAKqd,IAAImU,IACF88B,GACPtuD,KAAKsU,MAAM,yBAA0BtU,KAAKC,QAAQyL,UAE/C4iD,GACPtuD,KAAKsU,MAAM,6BAGXi6C,GAAcvuD,KAAKC,QAAQsB,YAAc4sD,IACzCnuD,KAAKC,QAAQlB,OACbiB,KAAKqd,IAAImU,IAGN,CACH11B,KAAM,aACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMuH,KAAKC,QAAQmM,eAAe9O,IAI1C,SAASkxD,IACL,IAAIlxD,EAAQ0C,KAAKC,QAAQI,WACrB9D,EAAOyD,KAAKC,QAAQ1E,OAAOK,WAAW0B,GAsB1C,OArEa,KAiDTf,GA9CI,MA+CJA,GAjDe,KAkDfA,GArDS,KAsDTA,GArDO,KAsDPA,GAnDW,MAoDXA,GAEAyD,KAAKsU,MAAM,0DAGftU,KAAKC,QAAQlB,OA3DA,KA6DTxC,IACKyD,KAAKC,QAAQgM,QA9DT,KA+DLjM,KAAKsU,MAAM,0BAGftU,KAAKC,QAAQlB,QAGViB,KAAKC,QAAQmM,eAAe9O,GAKvCrF,EAAOD,QAAU,CACbS,KAAM,oBACN8H,UAAW,CACP9H,KAAM,aACNg2D,QAAS,CAACzxD,OAAQ,MAClB7D,MAAO,CAAC,SAAU,aAAc,MAChCwb,MAAO,CAAC3X,OAAQ,OAEpBwD,MAAO,WACH,IACI/H,EADA6E,EAAQ0C,KAAKC,QAAQI,WAErBouD,EAAU,KACVt1D,EAAQ,KACRwb,EAAQ,KAiCZ,OA/BA3U,KAAKqd,IAAI4U,GACTjyB,KAAKC,QAAQsM,SAEb9T,EAAO41D,EAAiBh2D,KAAK2H,MAC7BA,KAAKC,QAAQsM,SAETvM,KAAKC,QAAQsB,YAAc6sD,IAEvBpuD,KAAKC,QAAQsB,YAAciwB,IAC3Bi9B,EAAUD,EAAYn2D,KAAK2H,MAE3BA,KAAKC,QAAQsM,SAEbpT,EAAQ6G,KAAKC,QAAQsB,YAAckwB,EAC7BzxB,KAAKhD,SACLgD,KAAKmN,aAEXnN,KAAKC,QAAQsM,UAIbvM,KAAKC,QAAQsB,YAAciwB,IAC3B7c,EAAQ3U,KAAKC,QAAQiM,gBACrBlM,KAAKC,QAAQlB,OAEbiB,KAAKC,QAAQsM,WAIrBvM,KAAKqd,IAAI+wC,GAEF,CACHtyD,KAAM,oBACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMA,EACNg2D,QAASA,EACTt1D,MAAOA,EACPwb,MAAOA,IAGfzT,SAAU,SAASC,GACf,IAAIutD,EAAc,IAElB1uD,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAK1I,MAEM,OAAjB0I,EAAKstD,UACLzuD,KAAKoB,MAAMD,EAAKstD,SAEG,OAAfttD,EAAKhI,QACL6G,KAAKmB,KAAKA,EAAKhI,OAGS,WAApBgI,EAAKhI,MAAM2C,OACX4yD,EAAc,MAKP,OAAfvtD,EAAKwT,QACL3U,KAAKoB,MAAMstD,GACX1uD,KAAKoB,MAAMD,EAAKwT,QAGpB3U,KAAKoB,MAAM,Q,gBClKnB,IAAI/G,EAAO,EAAQ,GAAmBA,KAClCszD,EAAU,EAAQ,GAASt0D,KAE3BkS,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QACf6vD,EAAYxzD,EAAK8D,UACjByvD,EAAYvzD,EAAKgE,UACjByvD,EAAmBzzD,EAAKmE,iBACxBuvD,EAAoB1zD,EAAKoE,kBAE7B,SAASuvD,EAAWvtD,GAChB,OAAOT,KAAKoN,IAAI3M,EAAY,MAAM,GAEtC,SAASkuD,IACL,OAAO3uD,KAAK8kD,kBAAkB9kD,KAAKojB,KAAM4qC,GAE7C,SAASY,EAAsBnuD,GAC3B,OAAOT,KAAKoN,IAAI3M,EAAYktD,EAAQjsD,mBAAmB,GAE3D,SAASmtD,IACL,GAAI7uD,KAAKC,QAAQsB,YAAcssD,EAC3B,OAAOe,EAAsBv2D,KAAK2H,KAAMA,KAAKC,QAAQC,YAGzD,IAAIiB,EAAOnB,KAAK8kD,kBAAkB9kD,KAAKwiB,YAAaosC,GAMpD,OAJI5uD,KAAKC,QAAQsB,YAAcssD,GAC3B7tD,KAAKC,QAAQlB,OAGVoC,EAGXlJ,EAAOD,QAAU,CACbS,KAAM,QACN8H,UAAW,CACPsM,SAAU,CAAC,CACP,SACA,OACA,iBAGRrM,MAAO,SAASsuD,GACZ,IAAI/J,EAAW+J,EAAgBD,EAAqBF,EAEhDrxD,EAAQ0C,KAAKC,QAAQI,WACrBwM,EAAW7M,KAAK2kD,aAEpB3kD,KAAKqd,IAAIywC,GAETtO,EACA,MAAQx/C,KAAKC,QAAQwL,KACjB,OAAQzL,KAAKC,QAAQsB,WACjB,KAAKwsD,EACD,MAAMvO,EAEV,KAAKj0C,EACL,KAAKC,EACDxL,KAAKC,QAAQlB,OACb,MAEJ,KAAK6uD,EACD/gD,EAASxE,KAAKrI,KAAK8kD,kBAAkB9kD,KAAKiiB,OAAQ+rC,IAClD,MAEJ,QACInhD,EAASxE,KAAK08C,EAAS1sD,KAAK2H,OAQxC,OAJKA,KAAKC,QAAQwL,KACdzL,KAAKqd,IAAI0wC,GAGN,CACHjyD,KAAM,QACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1CwM,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAK6M,SAAS1L,GAAM,SAAStB,GACP,gBAAdA,EAAK/D,MACLkE,KAAKoB,MAAM,QAGnBpB,KAAKoB,MAAM,MAEfgrD,YAAa,U,gBCzFjB,IAAI/xD,EAAO,EAAQ,GAAmBA,KAElC43B,EAAoB53B,EAAKiE,kBACzB8vD,EAAqB/zD,EAAKkE,mBAE9BtG,EAAOD,QAAU,CACbS,KAAM,WACN8H,UAAW,CACPsM,SAAU,CAAC,KAEfrM,MAAO,SAAS8xB,EAAcC,GAC1B,IACI1lB,EADAvP,EAAQ0C,KAAKC,QAAQI,WAWzB,OARAL,KAAKqd,IAAI4U,GAETplB,EAAWylB,EAAaj6B,KAAK2H,KAAMuyB,GAE9BvyB,KAAKC,QAAQwL,KACdzL,KAAKqd,IAAI+wC,GAGN,CACHtyD,KAAM,WACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1CwM,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAK6M,SAAS1L,GACdnB,KAAKoB,MAAM,Q,gBC/BnB,IAAIrD,EAAM,EAAQ,GAAmB1D,KAAK0D,IAE1C9F,EAAOD,QAAU,CACbS,KAAM,MACN8H,UAAW,GACXC,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WAIzB,OAFAL,KAAKqd,IAAItf,GAEF,CACHjC,KAAM,MACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,cAGlDa,SAAU,WACNlB,KAAKoB,MAAM,a,gBChBnB,IAAIhD,EAAM,EAAQ,GAAmB/D,KAAK+D,IAE1CnG,EAAOD,QAAU,CACbS,KAAM,MACN8H,UAAW,GACXC,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WAIzB,OAFAL,KAAKqd,IAAIjf,GAEF,CACHtC,KAAM,MACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,cAGlDa,SAAU,WACNlB,KAAKoB,MAAM,c,gBChBnB,IAEIowB,EAFO,EAAQ,GAAmBn3B,KAErBwC,MAIjB5E,EAAOD,QAAU,CACbS,KAAM,gBACN8H,UAAW,CACP9H,KAAMuE,QAEVwD,MAAO,WAOH,OANKR,KAAKC,QAAQgM,QATX,KAUHjM,KAAKsU,MAAM,yBAGftU,KAAKC,QAAQlB,OAEN,CACHjD,KAAM,gBACNiF,IAAKf,KAAKgB,YAAYhB,KAAKC,QAAQI,WAAa,EAAGL,KAAKC,QAAQyL,UAChEjT,KAAMuH,KAAKmlD,QAAQ3zB,KAG3BtwB,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAK1I,S,gBC1BxB,IAEI+4B,EAFO,EAAQ,GAAmBn3B,KAErBwC,MAOjB5E,EAAOD,QAAU,CACbS,KAAM,aACN8H,UAAW,CACP9H,KAAMuE,QAEVwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WAGzB,OAFWL,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,aAGnD,KAdU,GAeV,KAjBG,GAkBH,KAfA,IAgBIL,KAAKC,QAAQlB,OACb,MAEJ,KArBE,GAsBEiB,KAAKC,QAAQlB,OAETiB,KAAKC,QAAQsB,YAAciwB,IAAiD,IAAxCxxB,KAAKC,QAAQ2L,YAAY,EAAG,SAChE5L,KAAKsU,MAAM,iCAGftU,KAAKC,QAAQlB,OAERiB,KAAKC,QAAQgM,QA9BpB,KA+BMjM,KAAKsU,MAAM,uBAGftU,KAAKC,QAAQlB,OACb,MAEJ,QACIiB,KAAKsU,MAAM,0BAGnB,MAAO,CACHxY,KAAM,aACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMuH,KAAKC,QAAQmM,eAAe9O,KAG1C4D,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK1I,S,gBCpDxB,IAEI+S,EAFO,EAAQ,GAAmBnR,KAEnB2D,QAKnB/F,EAAOD,QAAU,CACbS,KAAM,UACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WACrB6K,EAAMlL,KAAKC,QAAQyL,SAUvB,OARA1L,KAAKqd,IAAI7R,GAEJN,EAAM5N,EAAQ,GAAM,GAflB,KAgBH0C,KAAKC,QAAQ1E,OAAOK,WAAWsP,EAAM,IAfnC,KAgBFlL,KAAKC,QAAQ1E,OAAOK,WAAWsP,EAAM,KACrCA,GAAO,GAGJ,CACHpP,KAAM,UACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1ClH,MAAO6G,KAAKC,QAAQ1E,OAAO0F,UAAU3D,EAAQ,EAAG4N,KAGxDhK,SAAU,SAASC,GACfnB,KAAKoB,MAAM,MACXpB,KAAKoB,MAAMD,EAAKhI,OAChB6G,KAAKoB,MAAM,S,gBCjCnB,IAAIsa,EAAmB,EAAQ,IAAqBA,iBAChDrhB,EAAO,EAAQ,GAAmBA,KAClCszD,EAAU,EAAQ,GAASt0D,KAE3Bm4B,EAAQn3B,EAAKwC,MACbg1B,EAAOx3B,EAAKqD,KACZywD,EAAQ9zD,EAAK6D,MACb2vD,EAAYxzD,EAAK8D,UACjBg0B,EAAQ93B,EAAKsD,MASjB,SAASoxD,EAAgBtuD,GACrB,OAAOT,KAAKoN,IAAI3M,EAAYktD,EAAQlsD,4BAA4B,GAGpE,SAASutD,EAAyBvuD,GAC9B,OAAOT,KAAKoN,IAAI3M,EAAYktD,EAAQlsD,4BAA4B,GAGpE,SAASwtD,IACL,IAAIC,EAAkBlvD,KAAKC,QAAQC,WAC/B/G,EAAQ6G,KAAKyjB,QAUjB,MARmB,QAAftqB,EAAM2C,OACe,IAArBkE,KAAKC,QAAQwL,KACbzL,KAAKC,QAAQsB,YAAcssD,IACe,IAA1C7tD,KAAKC,QAAQgM,QAvBC,MAwBkC,IAAhDjM,KAAKC,QAAQ8L,cAAcmjD,IAC3BlvD,KAAKsU,QAGFnb,EAmEX,SAASwlB,IACL,IAAIrhB,EAAQ0C,KAAKC,QAAQI,WAIzB,GAAIL,KAAKC,QAAQsB,YAAc4wB,EAC3B,OAAQnyB,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,aAChD,KAlGG,GAmGH,KArGK,GAsGL,KAnGG,GAoGH,KAxGK,GAyGL,KAvGI,GAwGAL,KAAKC,QAAQlB,OACb,MAGJ,KAzGE,GA0GEiB,KAAKC,QAAQlB,OACTiB,KAAKC,QAAQgM,QA3GnB,KA4GMjM,KAAKC,QAAQlB,OAgB7B,OANIiB,KAAKC,QAAQsB,YAAcswB,EAC3B7xB,KAAKqd,IAAIwU,GAET7xB,KAAKqd,IAAImU,GAGNxxB,KAAKC,QAAQmM,eAAe9O,GAIvC,SAAS6xD,IACLnvD,KAAKqd,IAAI8U,GACTnyB,KAAKC,QAAQsM,SAEb,IAAIga,EAAYvmB,KAAKmlD,QAAQ3zB,GAI7B,MAAqB,cAAdjL,GAAmCA,EA/G9CtuB,EAAOD,QAAU,CACbS,KAAM,cACN8H,UAAW,CACPgmB,UAAW,CAAC/K,QAASxe,QACrBnD,SAAUmD,OACV7D,MAAO,CAAC,QAAS,QAErBqH,MAAO,WACH,IAOIrH,EAPAmE,EAAQ0C,KAAKC,QAAQI,WACrBI,EAAaT,KAAKC,QAAQC,WAC1BrG,EAAW8kB,EAAatmB,KAAK2H,MAC7BovD,EAAiB1zC,EAAiB7hB,GAClC4qD,EAAa2K,EAAiBpvD,KAAK0kD,oBAAsB1kD,KAAKykD,WAC9DuJ,EAAaoB,EAAiBJ,EAA2BD,EACzDxoC,GAAY,EA8BhB,OA3BAvmB,KAAKC,QAAQsM,SACbvM,KAAKqd,IAAI8wC,GAEJiB,GACDpvD,KAAKC,QAAQsM,SAIbpT,EADAsrD,EACQzkD,KAAK8kD,kBAAkBmK,EAAcjB,GAErCA,EAAW31D,KAAK2H,KAAMA,KAAKC,QAAQC,YAG3CF,KAAKC,QAAQgM,QA7DH,MA8DVsa,EAAY4oC,EAAa92D,KAAK2H,MAC9BA,KAAKC,QAAQsM,WAMQ,IAArBvM,KAAKC,QAAQwL,KACbzL,KAAKC,QAAQsB,YAAcssD,IACgB,IAA3C7tD,KAAKC,QAAQ8L,cAActL,IAC3BT,KAAKsU,QAGF,CACHxY,KAAM,cACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1CkmB,UAAWA,EACX1sB,SAAUA,EACVV,MAAOA,IAGf+H,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKtH,UAChBmG,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAKhI,OAEXgI,EAAKolB,WACLvmB,KAAKoB,OAAyB,IAAnBD,EAAKolB,UAAqB,aAAe,IAAMplB,EAAKolB,YAGvE6lC,YAAa,gB,gBCrGjB,IAAI/xD,EAAO,EAAQ,GAAmBA,KAClCszD,EAAU,EAAQ,GAASt0D,KAE3BkS,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QACf6vD,EAAYxzD,EAAK8D,UAErB,SAAS6vD,EAAWvtD,GAChB,OAAOT,KAAKoN,IAAI3M,EAAYktD,EAAQjsD,mBAAmB,GAG3DzJ,EAAOD,QAAU,CACbS,KAAM,kBACN8H,UAAW,CACPsM,SAAU,CAAC,CACP,iBAGRrM,MAAO,WAIH,IAHA,IAAIqM,EAAW7M,KAAK2kD,cAGZ3kD,KAAKC,QAAQwL,KACjB,OAAQzL,KAAKC,QAAQsB,WACjB,KAAKgK,EACL,KAAKC,EACL,KAAKqiD,EACD7tD,KAAKC,QAAQlB,OACb,MAEJ,QACI8N,EAASxE,KAAKrI,KAAK8kD,kBAAkB9kD,KAAKwiB,YAAawrC,IAInE,MAAO,CACHlyD,KAAM,kBACNiF,IAAKf,KAAKslD,oBAAoBz4C,GAC9BA,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAK6M,SAAS1L,GAAM,SAAStB,GACP,gBAAdA,EAAK/D,MACLkE,KAAKoB,MAAM,W,gBC5C3B,IAAIhG,EAAgB,EAAQ,GAAyBA,cAGjD02B,EAFO,EAAQ,GAAmBz3B,KAEjB0B,UAErB9D,EAAOD,QAAU,CACbS,KAAM,YACN8H,UAAW,CACPpH,MAAO6D,OACPsiD,KAAMtiD,QAEVwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WACrB++C,EAAYhkD,EAAc4E,KAAKC,QAAQ1E,OAAQ+B,GAInD,OAFA0C,KAAKqd,IAAIyU,GAEF,CACHh2B,KAAM,YACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1ClH,MAAO6G,KAAKC,QAAQ1E,OAAO0F,UAAU3D,EAAO8hD,GAC5CE,KAAMt/C,KAAKC,QAAQ1E,OAAO0F,UAAUm+C,EAAWp/C,KAAKC,QAAQI,cAGpEa,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKhI,OAChB6G,KAAKoB,MAAMD,EAAKm+C,S,gBC1BxB,IAEI+P,EAFO,EAAQ,GAAmBh1D,KAEVwD,iBAG5B5F,EAAOD,QAAU,CACbS,KAAM,WACN8H,UAAW,CACP9H,KAAMuE,OACN6P,SAAU,CAAC,KAEfrM,MAAO,SAAS8xB,EAAcC,GAC1B,IAGI1lB,EAHAvP,EAAQ0C,KAAKC,QAAQI,WACrB5H,EAAOuH,KAAKolD,sBACZ8I,EAAgBz1D,EAAKuV,cAWzB,OARAnB,EAAW0lB,EAAWx4B,eAAem0D,GAC/B37B,EAAW27B,GAAe71D,KAAK2H,KAAMuyB,GACrCD,EAAaj6B,KAAK2H,KAAMuyB,GAEzBvyB,KAAKC,QAAQwL,KACdzL,KAAKqd,IAAIgyC,GAGN,CACHvzD,KAAM,WACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMA,EACNoU,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK1I,MAChBuH,KAAKoB,MAAM,KACXpB,KAAK6M,SAAS1L,GACdnB,KAAKoB,MAAM,MAEfgrD,YAAa,a,gBCtCjB,IAEIv6B,EAFO,EAAQ,GAAmBx3B,KAEtBqD,KAGhBzF,EAAOD,QAAU,CACbS,KAAM,WACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WAIzB,OAFAL,KAAKqd,IAAIwU,GAEF,CACH/1B,KAAM,WACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1ClH,MAAO6G,KAAKC,QAAQmM,eAAe9O,EAAQ,KAGnD4D,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAKhI,U,gBCvBxB,IAEIq4B,EAFO,EAAQ,GAAmBn3B,KAErBwC,MAEjB5E,EAAOD,QAAU,CACbS,KAAM,aACN8H,UAAW,CACP9H,KAAMuE,QAEVwD,MAAO,WACH,MAAO,CACH1E,KAAM,aACNiF,IAAKf,KAAKgB,YAAYhB,KAAKC,QAAQI,WAAYL,KAAKC,QAAQyL,UAC5DjT,KAAMuH,KAAKmlD,QAAQ3zB,KAG3BtwB,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK1I,S,gBCjBxB,IAEIo5B,EAFO,EAAQ,GAAmBx3B,KAEtBqD,KAGhBzF,EAAOD,QAAU,CACbS,KAAM,aACN8H,UAAW,CACP9H,KAAMuE,QAEVwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WAKzB,OAFAL,KAAKqd,IAAIwU,GAEF,CACH/1B,KAAM,aACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMuH,KAAKC,QAAQmM,eAAe9O,EAAQ,KAGlD4D,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAK1I,S,gBCxBxB,IAAI4B,EAAO,EAAQ,GAAmBA,KAElCm3B,EAAQn3B,EAAKwC,MACb60B,EAASr3B,EAAK4B,OACd61B,EAAYz3B,EAAK0B,UACjBi2B,EAAkB33B,EAAKuD,gBACvByxD,EAAmBh1D,EAAKwD,iBACxBswD,EAAQ9zD,EAAK6D,MACbi0B,EAAQ93B,EAAKsD,MAEjB1F,EAAOD,QAAU,CACbS,KAAM,eACN8H,UAAW,CACP9H,KAAMuE,OACN7D,MAAO,CAAC,aAAc,SAAU,YAAa,QAAS,OAE1DqH,MAAO,WACH,IACI/H,EADA6E,EAAQ0C,KAAKC,QAAQI,WAErBlH,EAAQ,KAQZ,GANA6G,KAAKqd,IAAI2U,GACThyB,KAAKC,QAAQsM,SAEb9T,EAAOuH,KAAKmlD,QAAQ3zB,GACpBxxB,KAAKC,QAAQsM,SAETvM,KAAKC,QAAQsB,YAAc8tD,EAAkB,CAI7C,OAHArvD,KAAKqd,IAAI8wC,GACTnuD,KAAKC,QAAQsM,SAELvM,KAAKC,QAAQsB,WACjB,KAAKmwB,EAEGv4B,EADA6G,KAAKklD,gBAAgB,KAAO/yB,EACpBnyB,KAAKmjB,QAELnjB,KAAK/D,SAGjB,MAEJ,KAAK61B,EACD34B,EAAQ6G,KAAKjE,YACb,MAEJ,KAAKy1B,EACDr4B,EAAQ6G,KAAKmN,aAEb,MAEJ,QACInN,KAAKsU,MAAM,sDAGnBtU,KAAKC,QAAQsM,SAKjB,OAFAvM,KAAKqd,IAAIgyC,GAEF,CACHvzD,KAAM,eACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMA,EACNU,MAAOA,IAGf+H,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAK1I,MACG,OAAf0I,EAAKhI,QACL6G,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAKhI,QAEnB6G,KAAKoB,MAAM,Q,gBCzEnB,IAAI/G,EAAO,EAAQ,GAAmBA,KAElCkR,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QACfwzB,EAAQn3B,EAAKwC,MACbm1B,EAAkB33B,EAAKuD,gBAE3B3F,EAAOD,QAAU,CACbS,KAAM,aACN8H,UAAW,CACPsM,SAAU,CAAC,CACP,aACA,eACA,gBAGRrM,MAAO,WACHR,KAAKC,QAAQsM,SAEb,IAAIM,EAAW7M,KAAK2kD,aAChBj0C,EAAQ,KACR0hB,EAAQ,KAEZotB,EACA,MAAQx/C,KAAKC,QAAQwL,KAAK,CACtB,OAAQzL,KAAKC,QAAQsB,WACjB,KAAKiK,EACDxL,KAAKC,QAAQlB,OACb,SAEJ,KAAKwM,EACD6mB,EAAQpyB,KAAKvD,aACb,SAEJ,KAAK+0B,EACD9gB,EAAQ1Q,KAAKmN,aACb,MAEJ,KAAK6kB,EACDthB,EAAQ1Q,KAAK2iB,eACb,MAEJ,QACI,MAAM68B,EAGA,OAAVptB,IACAvlB,EAASxE,KAAK+pB,GACdA,EAAQ,MAGZvlB,EAASxE,KAAKqI,GAOlB,OAJc,OAAVA,GACA1Q,KAAKsU,MAAM,yCAGR,CACHxY,KAAM,aACNiF,IAAKf,KAAKslD,oBAAoBz4C,GAC9BA,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAK6M,SAAS1L,M,gBCjEtB,IAAI+wB,EAAQ,EAAQ,GAAmB73B,KAAKyD,MAE5C7F,EAAOD,QAAU,CACbS,KAAM,iBACN8H,UAAW,CACPsM,SAAU,CAAC,CACP,gBAGRrM,MAAO,SAASyf,GACZ,IAAIpT,EAAW7M,KAAK2kD,aAIpB,IAFA3kD,KAAKC,QAAQsM,UAELvM,KAAKC,QAAQwL,MACjBoB,EAASxE,KAAKrI,KAAK4iB,WAAW3C,IAE1BjgB,KAAKC,QAAQsB,YAAc2wB,IAI/BlyB,KAAKC,QAAQlB,OAGjB,MAAO,CACHjD,KAAM,iBACNiF,IAAKf,KAAKslD,oBAAoBz4C,GAC9BA,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAK6M,SAAS1L,GAAM,WAChBnB,KAAKoB,MAAM,W,cChCvBnJ,EAAOD,QAAU,CACbS,KAAM,MACN8H,UAAW,CACP+uD,IAAK,CAAC,UAAW,cACjB1hD,SAAU,CAAC,eAAgB,OAE/BpN,MAAO,SAAS+uD,GACZvvD,KAAKC,QAAQsM,SAEb,IAGI88B,EAHA/rC,EAAQ0C,KAAKC,QAAQI,WACrB6K,EAAM5N,EACNsQ,EAAW,KAyBf,OArBIy7B,EADArpC,KAAKC,QAAQ2L,YAAY,EAAG,QAAU5L,KAAKC,QAAQ2L,YAAY,EAAG,QAC1D5L,KAAKmN,aAELnN,KAAKgiB,UAGjBhiB,KAAKC,QAAQsM,SAETgjD,GAAiBvvD,KAAKC,QAAQ2L,YAAY,EAAG,OAC7C5L,KAAKC,QAAQlB,OAEb6O,EAAW5N,KAAKsjB,eAEZtjB,KAAKokD,gBACLl5C,EAAMlL,KAAK6kD,gBAAgBj3C,EAASf,UAAU9L,IAAImK,IAAIxP,SAGtDsE,KAAKokD,gBACLl5C,EAAMm+B,EAAMtoC,IAAImK,IAAIxP,QAIrB,CACHI,KAAM,MACNiF,IAAKf,KAAKgB,YAAY1D,EAAO4N,GAC7BokD,IAAKjmB,EACLz7B,SAAUA,IAGlB1M,SAAU,SAASC,GACfnB,KAAKmB,KAAKA,EAAKmuD,KACO,OAAlBnuD,EAAKyM,WACL5N,KAAKoB,MAAM,QACXpB,KAAKmB,KAAKA,EAAKyM,c,gBC/C3B,IAAI8jB,EAAS,EAAQ,GAAmBr3B,KAAK4B,OAE7ChE,EAAOD,QAAU,CACbS,KAAM,SACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,WACH,MAAO,CACH1E,KAAM,SACNiF,IAAKf,KAAKgB,YAAYhB,KAAKC,QAAQI,WAAYL,KAAKC,QAAQyL,UAC5DvS,MAAO6G,KAAKmlD,QAAQzzB,KAG5BxwB,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKhI,U,cCdxBlB,EAAOD,QAAU,CACbS,KAAM,WACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WAIzB,OAFAL,KAAKC,QAAQlB,OAEN,CACHjD,KAAM,WACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1ClH,MAAO6G,KAAKC,QAAQmM,eAAe9O,KAG3C4D,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKhI,U,gBClBxB,IAAIkB,EAAO,EAAQ,GAAmBA,KAElC23B,EAAkB33B,EAAKuD,gBACvByxD,EAAmBh1D,EAAKwD,iBAE5B5F,EAAOD,QAAU,CACbS,KAAM,cACN8H,UAAW,CACPsM,SAAU,CAAC,KAEfrM,MAAO,SAAS8xB,EAAcC,GAC1B,IACI1lB,EADAvP,EAAQ0C,KAAKC,QAAQI,WAWzB,OARAL,KAAKqd,IAAI2U,GAETnlB,EAAWylB,EAAaj6B,KAAK2H,KAAMuyB,GAE9BvyB,KAAKC,QAAQwL,KACdzL,KAAKqd,IAAIgyC,GAGN,CACHvzD,KAAM,cACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1CwM,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAK6M,SAAS1L,GACdnB,KAAKoB,MAAM,Q,gBC/BnB,IAAIhG,EAAgB,EAAQ,GAAyBA,cAGjD22B,EAFO,EAAQ,GAAmB13B,KAEhB2B,WAEtB/D,EAAOD,QAAU,CACbS,KAAM,aACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WACrB++C,EAAYhkD,EAAc4E,KAAKC,QAAQ1E,OAAQ+B,GAInD,OAFA0C,KAAKqd,IAAI0U,GAEF,CACHj2B,KAAM,aACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1ClH,MAAO6G,KAAKC,QAAQ1E,OAAO0F,UAAU3D,EAAO8hD,KAGpDl+C,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKhI,OAChB6G,KAAKoB,MAAM,Q,gBCxBnB,IAAI/G,EAAO,EAAQ,GAAmBA,KAElCm3B,EAAQn3B,EAAKwC,MACb80B,EAAWt3B,EAAK+B,SAChB+xD,EAAQ9zD,EAAK6D,MACbmxD,EAAmBh1D,EAAKwD,iBAG5B5F,EAAOD,QAAU,CACbS,KAAM,sBACN8H,UAAW,CACP9H,KAAMuE,OACN6P,SAAU,CAAC,CAAC,OAAQ,OAExBrM,MAAO,WACH,IAEI/H,EACAy1D,EAHA5wD,EAAQ0C,KAAKC,QAAQI,WACrBwM,EAAW,KA0Bf,OAtBA7M,KAAKqd,IAAI8wC,GAELnuD,KAAKC,QAAQsB,YAAcowB,GAE3Bu8B,GADAz1D,EAAOuH,KAAKolD,uBACSp3C,cAEjBhO,KAAKylD,OAAO1rD,eAAem0D,IAC3BluD,KAAKC,QAAQsM,SACbM,EAAW7M,KAAKylD,OAAOyI,GAAe71D,KAAK2H,MAC3CA,KAAKC,QAAQsM,WAEbM,EAAW7M,KAAK2kD,cACPt8C,KACLrI,KAAKoN,IAAIpN,KAAKC,QAAQC,WAAY,MAAM,IAIhDF,KAAKqd,IAAIgyC,IAET52D,EAAOuH,KAAKmlD,QAAQ3zB,GAGjB,CACH11B,KAAM,sBACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMA,EACNoU,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAK1I,MAEM,OAAlB0I,EAAK0L,WACL7M,KAAKoB,MAAM,KACXpB,KAAK6M,SAAS1L,GACdnB,KAAKoB,MAAM,OAGnBgrD,YAAa,a,gBC3DjB,IAAI/xD,EAAO,EAAQ,GAAmBA,KAElCm3B,EAAQn3B,EAAKwC,MACb80B,EAAWt3B,EAAK+B,SAChB+xD,EAAQ9zD,EAAK6D,MACbmxD,EAAmBh1D,EAAKwD,iBAG5B5F,EAAOD,QAAU,CACbS,KAAM,wBACN8H,UAAW,CACP9H,KAAMuE,OACN6P,SAAU,CAAC,CAAC,OAAQ,OAExBrM,MAAO,WACH,IAEI/H,EACAy1D,EAHA5wD,EAAQ0C,KAAKC,QAAQI,WACrBwM,EAAW,KA2Bf,OAvBA7M,KAAKqd,IAAI8wC,GACTnuD,KAAKqd,IAAI8wC,GAELnuD,KAAKC,QAAQsB,YAAcowB,GAE3Bu8B,GADAz1D,EAAOuH,KAAKolD,uBACSp3C,cAEjBhO,KAAKylD,OAAO1rD,eAAem0D,IAC3BluD,KAAKC,QAAQsM,SACbM,EAAW7M,KAAKylD,OAAOyI,GAAe71D,KAAK2H,MAC3CA,KAAKC,QAAQsM,WAEbM,EAAW7M,KAAK2kD,cACPt8C,KACLrI,KAAKoN,IAAIpN,KAAKC,QAAQC,WAAY,MAAM,IAIhDF,KAAKqd,IAAIgyC,IAET52D,EAAOuH,KAAKmlD,QAAQ3zB,GAGjB,CACH11B,KAAM,wBACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMA,EACNoU,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAKoB,MAAM,MACXpB,KAAKoB,MAAMD,EAAK1I,MAEM,OAAlB0I,EAAK0L,WACL7M,KAAKoB,MAAM,KACXpB,KAAK6M,SAAS1L,GACdnB,KAAKoB,MAAM,OAGnBgrD,YAAa,a,gBC5DjB,IAAI9hD,EAAU,EAAQ,GAAmBA,QACrCjQ,EAAO,EAAQ,GAAmBA,KAElCq3B,EAASr3B,EAAK4B,OACdk2B,EAAQ93B,EAAKsD,MAUjB,SAASvC,IACL4E,KAAKC,QAAQoM,SAIb,IAFA,IAAIlT,EAAQ6G,KAAKmlD,QAAQzzB,GAEhBx5B,EAAI,EAAGA,EAAIiB,EAAMmD,OAAQpE,IAAK,CACnC,IAAIqE,EAAOpD,EAAMyC,WAAW1D,GACvBoS,EAAQ/N,IAfN,KAeeA,GAClByD,KAAKsU,MAAM,8BAA+BtU,KAAKC,QAAQI,WAAalH,EAAMmD,OAASpE,GAQ3F,OAJsB,IAAlB+D,OAAO9C,IACP6G,KAAKsU,MAAM,6BAA8BtU,KAAKC,QAAQI,WAAalH,EAAMmD,QAGtEnD,EAIXlB,EAAOD,QAAU,CACbS,KAAM,QACN8H,UAAW,CACPivD,KAAMxyD,OACNyyD,MAAOzyD,QAEXwD,MAAO,WACH,IAEIivD,EAFAnyD,EAAQ0C,KAAKC,QAAQI,WACrBmvD,EAAOp0D,EAAc/C,KAAK2H,MAW9B,OARAA,KAAKC,QAAQoM,SAERrM,KAAKC,QAAQgM,QA1CZ,KA2CFjM,KAAKsU,MAAM,uBAEftU,KAAKqd,IAAI8U,GACTs9B,EAAQr0D,EAAc/C,KAAK2H,MAEpB,CACHlE,KAAM,QACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1CmvD,KAAMA,EACNC,MAAOA,IAGfvuD,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKquD,MAChBxvD,KAAKoB,MAAM,KACXpB,KAAKoB,MAAMD,EAAKsuD,U,gBC/DxB,IAAIp1D,EAAO,EAAQ,GAAmBA,KAClCszD,EAAU,EAAQ,GAASt0D,KAE3By0D,EAAmBzzD,EAAKmE,iBAE5B,SAASwvD,EAAWvtD,GAChB,OAAOT,KAAKoN,IAAI3M,EAAYktD,EAAQrsD,kBAAkB,GAG1D,SAASouD,IACL,IAAI5oC,EAAU9mB,KAAKsjB,eAQnB,MANqB,QAAjBwD,EAAQhrB,OACa,IAArBkE,KAAKC,QAAQwL,KACbzL,KAAKC,QAAQsB,YAAcusD,GAC3B9tD,KAAKsU,QAGFwS,EAGX7uB,EAAOD,QAAU,CACbS,KAAM,OACN8H,UAAW,CACPumB,QAAS,CAAC,eAAgB,OAC1BC,MAAO,CAAC,UAEZvmB,MAAO,WACH,IAEIsmB,EACAC,EAHAtmB,EAAaT,KAAKC,QAAQC,WAC1BU,EAAcZ,KAAKC,QAAQI,WAY/B,OAPIymB,EADA9mB,KAAKwkD,iBACKxkD,KAAK8kD,kBAAkB4K,EAAgB1B,GAEvCA,EAAW31D,KAAK2H,KAAMS,GAGpCsmB,EAAQ/mB,KAAKoiB,OAAM,GAEZ,CACHtmB,KAAM,OACNiF,IAAKf,KAAKgB,YAAYJ,EAAaZ,KAAKC,QAAQI,YAChDymB,QAASA,EACTC,MAAOA,IAGf7lB,SAAU,SAASC,GACfnB,KAAKmB,KAAKA,EAAK2lB,SACf9mB,KAAKmB,KAAKA,EAAK4lB,QAEnBqlC,YAAa,S,cCpDjBn0D,EAAOD,QAAU,CACbS,KAAM,WACN8H,UAAW,CACPsM,SAAU,CAAC,CACP,eACA,aACA,gBACA,oBACA,sBACA,wBACA,aACA,gBAGRrM,MAAO,WACH,IAAIqM,EAAW7M,KAAKsyB,aAAatyB,KAAKwlD,MAAMniC,UAO5C,OAJwC,OAApCrjB,KAAK4kD,iBAAiB/3C,IACtB7M,KAAKsU,MAAM,wBAGR,CACHxY,KAAM,WACNiF,IAAKf,KAAKslD,oBAAoBz4C,GAC9BA,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAK6M,SAAS1L,M,gBC7BtB,IAEI+wB,EAFO,EAAQ,GAAmB73B,KAErByD,MAEjB7F,EAAOD,QAAU,CACbS,KAAM,eACN8H,UAAW,CACPsM,SAAU,CAAC,CACP,WACA,SAGRrM,MAAO,WAGH,IAFA,IAAIqM,EAAW7M,KAAK2kD,cAEZ3kD,KAAKC,QAAQwL,MACjBoB,EAASxE,KAAKrI,KAAKqjB,YAEfrjB,KAAKC,QAAQsB,YAAc2wB,IAC3BlyB,KAAKC,QAAQlB,OAOrB,MAAO,CACHjD,KAAM,eACNiF,IAAKf,KAAKslD,oBAAoBz4C,GAC9BA,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAK6M,SAAS1L,GAAM,WAChBnB,KAAKoB,MAAM,SAGnBgrD,YAAa,a,gBCrCjB,IAAI36B,EAAS,EAAQ,GAAmBp3B,KAAK2C,OAE7C/E,EAAOD,QAAU,CACbS,KAAM,SACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,WACH,MAAO,CACH1E,KAAM,SACNiF,IAAKf,KAAKgB,YAAYhB,KAAKC,QAAQI,WAAYL,KAAKC,QAAQyL,UAC5DvS,MAAO6G,KAAKmlD,QAAQ1zB,KAG5BvwB,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKhI,U,gBCfxB,IAAIkB,EAAO,EAAQ,GAAmBA,KAElCkR,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QACf4vD,EAAYvzD,EAAKgE,UACjBD,EAAM/D,EAAK+D,IACXL,EAAM1D,EAAK0D,IAGf,SAASiwD,EAAWvtD,GAChB,OAAOT,KAAKoN,IAAI3M,EAAY,MAAM,GAGtCxI,EAAOD,QAAU,CACbS,KAAM,aACN8H,UAAW,CACPsM,SAAU,CAAC,CACP,UACA,MACA,MACA,SACA,OACA,SAGRrM,MAAO,WAMH,IALA,IAEIkQ,EAFApT,EAAQ0C,KAAKC,QAAQI,WACrBwM,EAAW7M,KAAK2kD,cAIZ3kD,KAAKC,QAAQwL,KAAK,CACtB,OAAQzL,KAAKC,QAAQsB,WACjB,KAAKgK,EACDvL,KAAKC,QAAQlB,OACb,SAEJ,KAAKyM,EAED,GAhCE,KAgCExL,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,WAAa,GAAwB,CACjFL,KAAKC,QAAQlB,OACb,SAGJ2R,EAAQ1Q,KAAKhC,UACb,MAEJ,KAAKI,EACDsS,EAAQ1Q,KAAK5B,MACb,MAEJ,KAAKL,EACD2S,EAAQ1Q,KAAKjC,MACb,MAKJ,KAAK6vD,EACDl9C,EAAQ1Q,KAAK8kD,kBAAkB9kD,KAAKiiB,OAAQ+rC,GAC5C,MAGJ,QACIt9C,EAAQ1Q,KAAK8kD,kBAAkB9kD,KAAKojB,KAAM4qC,GAGlDnhD,EAASxE,KAAKqI,GAGlB,MAAO,CACH5U,KAAM,aACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1CwM,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAK6M,SAAS1L,IAElBirD,YAAa,e,gBC/EjB,IAEI56B,EAFO,EAAQ,GAAmBn3B,KAErBwC,MAIjB,SAAS8yD,IACD3vD,KAAKC,QAAQsB,YAAciwB,IACQ,IAAnCxxB,KAAKC,QAAQgM,QALN,KAMPjM,KAAKsU,MAAM,sCAGftU,KAAKC,QAAQlB,OAWjB9G,EAAOD,QAAU,CACbS,KAAM,eACN8H,UAAW,CACP9H,KAAMuE,QAEVwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WAczB,OAZIL,KAAKC,QAAQgM,QA3BN,MA4BPjM,KAAKC,QAAQlB,OACb4wD,EAAwBt3D,KAAK2H,QAE7B2vD,EAAwBt3D,KAAK2H,MAEzBA,KAAKC,QAAQgM,QAjCV,OAkCHjM,KAAKC,QAAQlB,OACb4wD,EAAwBt3D,KAAK2H,QAI9B,CACHlE,KAAM,eACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1C5H,KAAMuH,KAAKC,QAAQmM,eAAe9O,KAG1C4D,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAK1I,S,gBClDxB,IAAI8R,EAAa,EAAQ,GAAmBA,WACxCG,EAAU,EAAQ,GAAmBA,QACrCrQ,EAAO,EAAQ,GAAmBA,KAClCiR,EAAO,EAAQ,GAAmBA,KAElCkmB,EAAQn3B,EAAKwC,MACb60B,EAASr3B,EAAK4B,OACd61B,EAAYz3B,EAAK0B,UAMrB,SAAS6zD,EAAel0D,EAAQqkD,GAC5B,IAAK,IAAI/zC,EAAMhM,KAAKC,QAAQI,WAAa3E,EAAQozC,EAAM,EAAG9iC,EAAMhM,KAAKC,QAAQyL,SAAUM,IAAO,CAC1F,IAAIzP,EAAOyD,KAAKC,QAAQ1E,OAAOK,WAAWoQ,GAE1C,GARU,KAQNzP,GAAwBwjD,GAAqB,IAARjR,EAKrC,OAJ2D,IAAvD8gB,EAAev3D,KAAK2H,KAAMtE,EAASozC,EAAM,GAAG,IAC5C9uC,KAAKsU,SAGD,EAGP/J,EAAWhO,IACZyD,KAAKsU,MACDyrC,GAAqB,IAARjR,EACP,eAAiBA,EAAM,EAAI,gBAAkB,IAAM,eAClDA,EAAM,EAAI,wBAA0B,mBAC3C9iC,KAIF8iC,EAAM,GACR9uC,KAAKsU,MAAM,sBAAuBtI,GAK1C,OADAhM,KAAKC,QAAQlB,OACN+vC,EAGX,SAAS+gB,EAAwBhkD,GAG7B,IAFA,IAAIyN,EAAQ,EAELtZ,KAAKC,QAAQgM,QApCL,OAqCLqN,EAAQzN,GACV7L,KAAKsU,MAAM,2BAGftU,KAAKC,QAAQlB,OAIrB,SAASwQ,EAAWhT,GACZyD,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,cAAgB9D,GAC5DyD,KAAKsU,MAAMhJ,EAAK/O,GAAQ,gBAuBhC,SAASuzD,IACL,IAAIC,EAAY,EAIhB,OAAI/vD,KAAKC,QAAQgM,QA7EN,KA8EPjM,KAAKC,QAAQlB,OAETiB,KAAKC,QAAQsB,YAAciwB,QAC3Bu+B,EAAYH,EAAev3D,KAAK2H,KAAM,GAAG,IACzB,GACZ6vD,EAAwBx3D,KAAK2H,KAAM,EAAI+vD,IAK3C/vD,KAAKC,QAAQgM,QAtFN,KAuFPjM,KAAKC,QAAQlB,YACb8wD,EAAwBx3D,KAAK2H,KAAM,SAIvCA,KAAKsU,MAAM,2CAOXtU,KAAKC,QAAQsB,YAAcmwB,GAC3BniB,EAAWlX,KAAK2H,KAtGT,IAuGP+vD,EAAYH,EAAev3D,KAAK2H,KAAM,GAAG,GAErCA,KAAKC,QAAQgM,QAvGN,SAwGP4jD,EAAwBx3D,KAAK2H,KAAM,EAAI+vD,GAIvC/vD,KAAKC,QAAQsB,YAAcuwB,GAC3B9xB,KAAKC,QAAQsB,YAAcmwB,GAC3BniB,EAAWlX,KAAK2H,KA/GV,SAgHN4vD,EAAev3D,KAAK2H,KAAM,GAAG,SAIjC,GAIAA,KAAKC,QAAQsB,YAAcuwB,GAC3BviB,EAAWlX,KAAK2H,KA1HT,UA2HP+vD,EAAYH,EAAev3D,KAAK2H,KAAM,GAAG,IAEzB,GACZ6vD,EAAwBx3D,KAAK2H,KAAM,EAAI+vD,UAM/C/vD,KAAKsU,QAGTrc,EAAOD,QAAU,CACbS,KAAM,eACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WAczB,OAXKqK,EAAQ1K,KAAKC,QAAQ1E,OAAQ+B,EA7IlC,MA8II0C,KAAKsU,MAAM,iBAGV5J,EAAQ1K,KAAKC,QAAQ1E,OAAQ+B,EAAQ,EApJnC,KAqJH0C,KAAKsU,MAAM,yBAGftU,KAAKC,QAAQlB,OACb+wD,EAAiBz3D,KAAK2H,MAEf,CACHlE,KAAM,eACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1ClH,MAAO6G,KAAKC,QAAQmM,eAAe9O,KAG3C4D,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKhI,U,gBC1KxB,IAAIsR,EAAe,EAAQ,GAAmBA,aAC1C1P,EAAS,EAAQ,GAAmBA,OACpCV,EAAO,EAAQ,GAAmBA,KAElCs3B,EAAWt3B,EAAK+B,SAChBw1B,EAAMv3B,EAAKgC,IACXgzD,EAAmBh1D,EAAKwD,iBAG5B5F,EAAOD,QAAU,CACbS,KAAM,MACN8H,UAAW,CACPpH,MAAO,CAAC,SAAU,QAEtBqH,MAAO,WACH,IACIrH,EADAmE,EAAQ0C,KAAKC,QAAQI,WAGzB,OAAQL,KAAKC,QAAQsB,WACjB,KAAKqwB,EAID,IAHA,IAAIo+B,EAAW1yD,EAAQ,EACnB2yD,EAASjwD,KAAKC,QAAQyL,SAAW,EAE9BskD,EAAWC,GAAUxlD,EAAazK,KAAKC,QAAQ1E,OAAOK,WAAWo0D,KACpEA,IAGJ,KAAOA,EAAWC,GAAUxlD,EAAazK,KAAKC,QAAQ1E,OAAOK,WAAWq0D,EAAS,KAC7EA,IAGJ92D,EAAQ,CACJ2C,KAAM,MACNiF,IAAKf,KAAKgB,YAAYgvD,EAAUC,GAChC92D,MAAO6G,KAAKC,QAAQ1E,OAAO0F,UAAU+uD,EAAUC,IAGnDjwD,KAAKqd,IAAIuU,GACT,MAEJ,KAAKD,EACI52B,EAAOiF,KAAKC,QAAQ1E,OAAQyE,KAAKC,QAAQI,WAAYL,KAAKC,QAAQyL,SAAU,SAC7E1L,KAAKsU,MAAM,+BAGftU,KAAKqd,IAAIsU,GACT3xB,KAAKC,QAAQsM,SACbpT,EAAQ6G,KAAKhD,SACbgD,KAAKC,QAAQsM,SACbvM,KAAKqd,IAAIgyC,GACT,MAEJ,QACIrvD,KAAKsU,MAAM,+BAGnB,MAAO,CACHxY,KAAM,MACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1ClH,MAAOA,IAGf+H,SAAU,SAASC,GACfnB,KAAKoB,MAAM,OACXpB,KAAKoB,MAAM,KACXpB,KAAKmB,KAAKA,EAAKhI,OACf6G,KAAKoB,MAAM,Q,cClEnBnJ,EAAOD,QAAU,CACbS,KAAM,QACN8H,UAAW,CACPsM,SAAU,CAAC,KAEfrM,MAAO,WACH,IAAIlD,EAAQ0C,KAAKC,QAAQI,WACrBwM,EAAW7M,KAAKsyB,aAAatyB,KAAKwlD,MAAM/hC,OAE5C,MAAO,CACH3nB,KAAM,QACNiF,IAAKf,KAAKgB,YAAY1D,EAAO0C,KAAKC,QAAQI,YAC1CwM,SAAUA,IAGlB3L,SAAU,SAASC,GACfnB,KAAK6M,SAAS1L,M,gBChBtB,IAAIoK,EAAa,EAAQ,GAAmBlR,KAAKoC,WAC7CyzD,EAAQt3D,OAAOojB,OAAO,CACtBlgB,KAAM,aACNiF,IAAK,KACL5H,MAAO,MAGXlB,EAAOD,QAAU,CACbS,KAAM,aACN8H,UAAW,CACPpH,MAAO6D,QAEXwD,MAAO,WAEH,OADAR,KAAKqd,IAAI9R,GACF2kD,GAQXhvD,SAAU,SAASC,GACfnB,KAAKoB,MAAMD,EAAKhI,U,gBCvBxBlB,EAAOD,QAAU,CACb0tD,aAAc,CACVrkD,QAAS,aACT2rD,WAAY,aACZrQ,OAAQ,SACRsQ,cAAe,SAASt+C,GACpB,OAAO3O,KAAKkiB,cAAcvT,EAAQguC,OAAS3/C,OAAO2R,EAAQguC,QAAU,OAExEwT,eAAgB,iBAChBC,WAAY,aACZruB,KAAM,OACNsuB,aAAc,eACdziD,SAAU,WACVmZ,MAAO,WACH,OAAO/mB,KAAKoiB,OAAM,IAEtBkuC,gBAAiB,kBACjB3gD,YAAa,cACbxW,MAAO,SAEXqsD,MAAO,EAAQ,KACf7I,OAAQ,EAAQ,KAChB8I,OAAQ,EAAQ,KAChBtkD,KAAM,EAAQ,M,gBCvBlBlJ,EAAOD,QAAU,CACbkqB,cAAe,EAAQ,KACvBmB,SAAU,EAAQ,KAClBI,MAAO,EAAQ,O,gBCHnBxrB,EAAOD,QAAU,CACbmuD,QAAS,EAAQ,M,gBCDrB,IAAI9rD,EAAO,EAAQ,GAAmBA,KAElC83B,EAAQ93B,EAAKsD,MACb6zB,EAAQn3B,EAAKwC,MACbi1B,EAAYz3B,EAAK0B,UACjBg2B,EAAa13B,EAAK2B,WAClB01B,EAASr3B,EAAK4B,OACd41B,EAAOx3B,EAAKqD,KACZywD,EAAQ9zD,EAAK6D,MACb+zB,EAAoB53B,EAAKiE,kBAoE7BrG,EAAOD,QAAU,CACbmuD,QA3DJ,SAAiBv9C,GACb,OAAQ5I,KAAKC,QAAQsB,WACjB,KAAK0wB,EACD,OAAOjyB,KAAKmiB,oBAEhB,KAAK0P,EACD,OAAO7xB,KAAK0iB,aAEhB,KAAKyrC,EACD,OAAInuD,KAAKC,QAAQE,WAAW,KAAOguD,EACxBnuD,KAAKkjB,wBAELljB,KAAKijB,sBAGpB,KAAKuO,EACD,OAAOxxB,KAAKwjB,eAEhB,KAAKkO,EACL,KAAKK,EACD,OAAO/xB,KAAKhE,aAEhB,KAAK81B,EA3BE,KA6BC9xB,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,aAC5CL,KAAKsU,MAAM,yBAA0BtU,KAAKC,QAAQI,WAAa,GAEnE,MAEJ,KAAK8xB,EAGD,OAFWnyB,KAAKC,QAAQ1E,OAAOK,WAAWoE,KAAKC,QAAQI,aAGnD,KAxCD,GAyCC,KAtCM,GAuCN,KArCJ,IAwCQ,OAFAuI,EAAQwpB,MAAQ,KAChBxpB,EAAQypB,eAAgB,EACjBryB,KAAKuiB,aAEhB,KA9CF,GA+CM,OAAOviB,KAAKuiB,aAEhB,KAhDD,GAiDK,OAAOviB,KAAKsiB,gBAEhB,KAtDD,GAuDC,KAlDG,IAmDC,OAAOtiB,KAAKwjB,eAEhB,KA3DC,GA4DG,OAAOxjB,KAAK0iB,kB,gBCtEhCzqB,EAAOD,QAAU,CACbmuD,QAAS,EAAQ,IACjB,eAAgB,EAAQ,IACxB,QAAW,EAAQ,IACnB,WAAc,EAAQ,KACtB,IAAO,EAAQ,O,cCHnBluD,EAAOD,QAAU,WACb,OAAOgI,KAAKwyB,qBACRxyB,KAAKoN,IAAIpN,KAAKC,QAAQC,WAAY,MAAM,M,gBCJhD,IAAI7F,EAAO,EAAQ,GAAmBA,KAClCszD,EAAU,EAAQ,GAAet0D,KAEjC64B,EAAQ73B,EAAKyD,MAGjB7F,EAAOD,QAAU,WACb,IAAI6U,EAAW7M,KAAK2kD,aAiBpB,OAfA3kD,KAAKC,QAAQsM,SAGbM,EAASxE,KAAKrI,KAAKmN,cAEnBnN,KAAKC,QAAQsM,SAETvM,KAAKC,QAAQsB,YAAc2wB,IAC3BrlB,EAASxE,KAAKrI,KAAK+iB,YACnBlW,EAASxE,KAAKrI,KAAK0kD,oBACb1kD,KAAKyjB,MAAM,MACXzjB,KAAKoN,IAAIpN,KAAKC,QAAQC,WAAYytD,EAAQlsD,4BAA4B,KAIzEoL,I,gBCxBX5U,EAAOD,QAAU,CACb,YAAa,EAAQ,KACrB,OAAU,EAAQ,KAClB,MAAS,EAAQ,KACjB,KAAQ,EAAQ,KAChB,SAAY,EAAQ,O,cCLxBC,EAAOD,QAAU,CACbwI,MAAO,CACHsmB,QAAS,KACTC,MAAO,WACH,OAAO/mB,KAAKoiB,OAAM,O,gBCJ9B,IAAI/nB,EAAO,EAAQ,GAAmBA,KAElCo3B,EAASp3B,EAAK2C,OACdw0B,EAAQn3B,EAAKwC,MACb+0B,EAAMv3B,EAAKgC,IACXs1B,EAAWt3B,EAAK+B,SAChB41B,EAAkB33B,EAAKuD,gBAE3B3F,EAAOD,QAAU,CACbwI,MAAO,CACHsmB,QAAS,WACL,IAAIja,EAAW7M,KAAK2kD,aAIpB,OAFA3kD,KAAKC,QAAQsM,SAELvM,KAAKC,QAAQsB,WACjB,KAAKkwB,EACD5kB,EAASxE,KAAKrI,KAAKhD,UACnB,MAEJ,KAAK40B,EACL,KAAKD,EACD9kB,EAASxE,KAAKrI,KAAK3D,OACnB,MAEJ,QACI2D,KAAKsU,MAAM,+BASnB,OANItU,KAAKklD,gBAAgB,KAAO1zB,GAC5BxxB,KAAKklD,gBAAgB,KAAOlzB,IAC5BnlB,EAASxE,KAAKrI,KAAKvD,cACnBoQ,EAASxE,KAAKrI,KAAK6iB,mBAGhBhW,GAEXka,MAAO,Q,cCrCf9uB,EAAOD,QAAU,CACbwI,MAAO,CACHsmB,QAAS,WACL,OAAO9mB,KAAKwyB,qBACRxyB,KAAK6iB,mBAGbkE,MAAO,WACH,OAAO/mB,KAAKoiB,OAAM,O,cCR9BnqB,EAAOD,QAAU,CACbwI,MAAO,CACHsmB,QAAS,WACL,OAAO9mB,KAAKwyB,qBACRxyB,KAAKsjB,iBAGbyD,MAAO,WACH,OAAO/mB,KAAKoiB,OAAM,O,gBCR9B,IAAI/nB,EAAO,EAAQ,GAAmBA,KAElCkR,EAAalR,EAAKoC,WAClB+O,EAAUnR,EAAK2D,QACfwzB,EAAQn3B,EAAKwC,MACb80B,EAAWt3B,EAAK+B,SAChB+xD,EAAQ9zD,EAAK6D,MACb8zB,EAAkB33B,EAAKuD,gBAE3B,SAASowD,IACL,OAAOhuD,KAAKwyB,qBACRxyB,KAAKoN,IAAIpN,KAAKC,QAAQC,WAAY,MAAM,IAIhD,SAASqwD,IAGL,OAFAvwD,KAAKC,QAAQsM,SAETvM,KAAKC,QAAQsB,YAAciwB,GAC3BxxB,KAAKklD,gBAAgB,KAAOiJ,EACrBnuD,KAAKwyB,qBACRxyB,KAAKwiB,eAIN8P,EAAaj6B,KAAK2H,MAG7B,SAASsyB,IACL,IAEI5hB,EAFA7D,EAAW7M,KAAK2kD,aAChBvyB,EAAQ,KAGZpyB,KAAKC,QAAQsM,SAEbizC,EACA,MAAQx/C,KAAKC,QAAQwL,KAAK,CACtB,OAAQzL,KAAKC,QAAQsB,WACjB,KAAKgK,EACD6mB,EAAQpyB,KAAKvD,aACb,SAEJ,KAAK+O,EACDxL,KAAKC,QAAQlB,OACb,SAEJ,KAAK4yB,EACDjhB,EAAQ1Q,KAAK5D,SAAS4xD,EAAYhuD,KAAKwlD,MAAMtjC,eAC7C,MAEJ,KAAKsP,EACD9gB,EAAQ1Q,KAAKmN,aACb,MAEJ,KAAK6kB,EACDthB,EAAQ1Q,KAAKgjB,YAAYutC,EAAavwD,KAAKwlD,MAAMtjC,eACjD,MAEJ,QACI,MAAMs9B,EAGA,OAAVptB,IACAvlB,EAASxE,KAAK+pB,GACdA,EAAQ,MAGZvlB,EAASxE,KAAKqI,GAGlB,OAAO7D,EAGX5U,EAAOD,QAAU,CACbwI,MAAO,CACHsmB,QAAS,WACL,IAAIja,EAAWylB,EAAaj6B,KAAK2H,MAMjC,OAJwC,OAApCA,KAAK4kD,iBAAiB/3C,IACtB7M,KAAKsU,MAAM,yBAGRzH,GAEXka,MAAO,WACH,OAAO/mB,KAAKoiB,OAAM,O,gBCrF9BnqB,EAAOD,QAAU,CACb,IAAO,EAAQ,KACf,IAAO,EAAQ,KACf,KAAQ,EAAQ,KAChB,QAAW,EAAQ,KACnB,IAAO,EAAQ,KACf,YAAa,EAAQ,KACrB,iBAAkB,EAAQ,KAC1B,mBAAoB,EAAQ,KAC5B,cAAe,EAAQ,KACvB,QAAW,EAAQ,O,cCVvBC,EAAOD,QAAU,CACbwI,MAAO,WACH,OAAOR,KAAKwyB,qBACRxyB,KAAKmN,iB,cCHjBlV,EAAOD,QAAU,CACbwI,MAAO,WACH,OAAOR,KAAKwyB,qBACRxyB,KAAKsjB,mB,cCHjBrrB,EAAOD,QAAU,CACbwI,MAAO,WACH,OAAOR,KAAKwyB,qBACRxyB,KAAKmN,iB,gBCHjBlV,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,gBCAzBC,EAAOD,QAAU,EAAQ,K,cCAzBC,EAAOD,QAAU,CACbwI,MAAO,WACH,OAAOR,KAAKwyB,qBACRxyB,KAAKqjB,e,gBCHjBprB,EAAOD,QAAU,CACbmJ,KAAM,EAAQ,M,gBCDlB,IAAIoG,EAAO,EAAQ,GAAYA,KAC3BmM,EAAQ,EAAQ,GAAYA,MAC5B88C,EAAa,EAAQ,KACrBC,EAAQ,EAAQ,KAChB7sD,EAAU,EAAQ,KAClB8sD,EAAc,EAAQ,KACtBpgC,EAAO,EAAQ,GAAYA,KAE/B,SAASqgC,EAAU9jD,EAAU+jD,GACzB,IAEIC,EAFAl7C,EAAS,IAAIpO,EACbupD,GAAwB,EA0B5B,OAvBAjkD,EAAS7D,UAAU6D,EAASrF,MAAM,SAASrG,EAAM+G,EAAM1I,GACnD,GAAkB,YAAd2B,EAAKrF,KACL,OAAK80D,GAA4C,MAAzBzvD,EAAKhI,MAAMoV,OAAO,MAKtCuiD,IAAyBD,KAI7BrxD,EAAKoK,OAAO1B,QACZ2oD,EAAmB1vD,SATf3B,EAAKoK,OAAO1B,GAaF,eAAd/G,EAAKrF,OACLg1D,GAAwB,GAG5Bn7C,EAAOrM,OAAO9J,EAAKoK,OAAO1B,OAGvB,CACH6oD,QAASF,EACT7D,WAAY,CACRlxD,KAAM,aACNiF,IAAK,KACL8L,SAAU8I,IAKtB,SAASq7C,EAAc34B,EAAK44B,EAAqBjjC,EAAKrf,GAClDA,EAAQ0Z,OAAO,mBAAqB2F,EAAK,MAAM,GAE/C,IAAIkjC,EAAO,EA8BX,MA5BiB,eAAb74B,EAAIv8B,OACJu8B,EAAI44B,oBAAsBA,EAC1B54B,EAAIpmB,GAAKi/C,KAGb5gC,EAAK+H,EAAK,CACNulB,MAAO,SACPxtB,MAAO,SAAoBjvB,GACJ,OAAfA,EAAK4lB,QACL5lB,EAAK4lB,MAAM9U,GAAKi/C,QAI5BviD,EAAQ0Z,OAAO,OAAQgQ,GAGvBo4B,EAAMp4B,EAAK1pB,GACXA,EAAQ0Z,OAAO,QAASgQ,GAGxBz0B,EAAQy0B,EAAK1pB,GACbA,EAAQ0Z,OAAO,UAAWgQ,GAGtB1pB,EAAQwiD,eACRT,EAAYr4B,EAAK1pB,GAGd0pB,EAeX,SAAS+4B,EAAqBziD,GAC1B,MAAI,gBAAiBA,EACVA,EAAQ+hD,cAGZ,kBAAmB/hD,IAAUA,EAAQwiD,cAwBhDl5D,EAAOD,QAAU,SAAkBqgC,EAAK1pB,GACpC0pB,EAAMA,GAAO,CAAEv8B,KAAM,aAAciF,IAAK,KAAM8L,SAAU,IAAItF,GAG5D,IAQI2oB,EAEA9uB,EAEAiwD,EArCWtqC,EAyBXuqC,EAAkB,CAClBjpC,OAAkC,mBAHtC1Z,EAAUA,GAAW,IAGM0Z,OAAwB1Z,EAAQ0Z,OAAS,aAChE8oC,cAAeC,EAAqBziD,GACpC4iD,gBAAiB/1C,QAAQ7M,EAAQ4iD,iBACjCC,QAAO7iD,EAAQ6iD,OAAQhB,EAAWiB,WAAW9iD,EAAQ6iD,QAErDZ,EAnDR,SAA2BjiD,GACvB,IAAI+iD,EAAW,aAAc/iD,EAAUA,EAAQ+iD,SAAW,cAQ1D,MANwB,kBAAbA,EACPA,IAAWA,GAAW,cACF,gBAAbA,GAA2C,sBAAbA,IACrCA,GAAW,GAGRA,EA0CeC,CAAkBhjD,GACpCsiD,GAAsB,EAEtB7qB,EAAS,IAAI7+B,EAEbqqD,EAAW,EAGXjjD,EAAQ+E,QACR2kB,EAAM3kB,EAAM2kB,IAGC,eAAbA,EAAIv8B,MACJo0B,EAAQmI,EAAIxrB,SACZwrB,EAAIxrB,SAAWu5B,IA7CJrf,EA+COsR,EAAlBnI,GA9CG,IAAI3oB,GAAO4B,WAAW,CACzBrN,KAAM,OACNiF,IAAK,KACL+lB,QAAS,CACLhrB,KAAM,eACNiF,IAAK,KACL8L,UAAU,IAAItF,GAAO4B,WAAW,CAC5BrN,KAAM,WACNiF,IAAK,KACL8L,UAAU,IAAItF,GAAO4B,WAAW,CAC5BrN,KAAM,eACNiF,IAAK,KACLtI,KAAM,SAIlBsuB,MAAOA,KAiCX,EAAG,CAyBC,GAvBAiqC,GADA5vD,EAAQuvD,EAAUzgC,EAAO1U,QAAQo1C,KACb5D,WAAYiE,EAAqBW,IAAYN,GACjED,EAAgBjwD,EAAM4rD,WAAWngD,SAE7BzL,EAAM2vD,UAED3qB,EAAO79B,WACR69B,EAAO98B,OAAO/B,EAAKL,WAAW,CAC1BpL,KAAM,MACN3C,MAAO,QAIfitC,EAAO98B,OAAO/B,EAAKL,WAAW9F,EAAM2vD,UAG/BM,EAAc9oD,WACf69B,EAAO98B,OAAO/B,EAAKL,WAAW,CAC1BpL,KAAM,MACN3C,MAAO,SAKf83D,IAAwBI,EAAc9oD,UAAW,CACjD,IAAIspD,EAAWR,EAAc5oD,QAEP,WAAlBopD,EAAS/1D,MACS,WAAlB+1D,EAASp5D,MAAuC,YAAlBo5D,EAASp5D,QACvCw4D,GAAsB,GAIN,gBAApBL,IACAA,GAAkB,GAGtBxqB,EAAOl8B,WAAWmnD,UACZnhC,EAAM3nB,WAEhB,MAAO,CACH8vB,IAAKA,K,cClMb,IAAIt+B,EAAiBnB,OAAOkB,UAAUC,eAEtC,SAAS+3D,EAAStyD,EAAMuyD,GACpB,IAAInyD,EAAMhH,OAAOY,OAAO,MAExB,IAAK4F,MAAMC,QAAQG,GACf,OAAO,KAGX,IAAK,IAAItH,EAAI,EAAGA,EAAIsH,EAAKlD,OAAQpE,IAAK,CAClC,IAAIO,EAAO+G,EAAKtH,GAEZ65D,IACAt5D,EAAOA,EAAKuV,eAGhBpO,EAAInH,IAAQ,EAGhB,OAAOmH,EAGX,SAASoyD,EAAUnwD,GACf,IAAKA,EACD,OAAO,KAGX,IAAIowD,EAAOH,EAASjwD,EAAKowD,MAAM,GAC3Bh6C,EAAM65C,EAASjwD,EAAKoW,KACpBi6C,EAAUJ,EAASjwD,EAAKqwD,SAE5B,OAAa,OAATD,GACQ,OAARh6C,GACY,OAAZi6C,EACO,KAGJ,CACHD,KAAMA,EACNh6C,IAAKA,EACLi6C,QAASA,GAoCjBj6D,EAAOD,QAAU,CACby5D,WAjCJ,SAAoB5vD,GAChB,IAAIswD,GAAS,EAEb,GAAItwD,EAAKswD,QAAU/yD,MAAMC,QAAQwC,EAAKswD,QAAS,CAC3CA,EAASv5D,OAAOY,OAAO,MAEvB,IAAK,IAAItB,EAAI,EAAGA,EAAI2J,EAAKswD,OAAO71D,OAAQpE,IAAK,CACzC,IAAIsH,EAAOqC,EAAKswD,OAAOj6D,GAEvB,IAAKsH,IAASJ,MAAMC,QAAQG,GACxB,MAAM,IAAI0G,MAAM,sBAGpB,IAAK,IAAIkhC,EAAI,EAAGA,EAAI5nC,EAAKlD,OAAQ8qC,IAAK,CAClC,IAAI3uC,EAAO+G,EAAK4nC,GAEhB,GAAIrtC,EAAe1B,KAAK85D,EAAQ15D,GAC5B,MAAM,IAAIyN,MAAM,2CAA8CzN,GAGlE05D,EAAO15D,GAAQP,EAAI,IAK/B,MAAO,CACHk6D,UAAWJ,EAAUnwD,GACrBwwD,UAAWL,EAAUnwD,EAAKwwD,WAC1BF,OAAQA,M,gBCxEhB,IAAI7hC,EAAO,EAAQ,GAAYA,KAC3BkI,EAAW,CACXvW,OAAQ,EAAQ,KAChBjkB,QAAS,EAAQ,KACjBwkB,YAAa,EAAQ,KACrBpV,IAAK,EAAQ,KACbgW,KAAM,EAAQ,KACdI,aAAc,EAAQ,KACtB/mB,WAAY,EAAQ,MAGxBxE,EAAOD,QAAU,SAASqgC,EAAK1pB,GAC3B2hB,EAAK+H,EAAK,CACNhI,MAAO,SAASlvB,EAAM+G,EAAM1I,GACpBg5B,EAASz+B,eAAeoH,EAAKrF,OAC7B08B,EAASr3B,EAAKrF,MAAMzD,KAAK2H,KAAMmB,EAAM+G,EAAM1I,EAAMmP,Q,gBCfjE,IAAI2jD,EAAiB,EAAQ,GAAYz2C,SACrC,cAAEjP,GAAkB,EAAQ,GAEhC3U,EAAOD,QAAU,SAAqBmJ,EAAM+G,EAAM1I,GAC9C,GAAI2B,EAAK4lB,QAEmB,OAApB/mB,KAAKgtD,aACLhtD,KAAKgtD,WAAWiE,qBAAsB,GAGtCrkD,EAAczL,EAAK4lB,QACnBvnB,EAAKoK,OAAO1B,QAKpB,OAAQ/G,EAAK1I,MACT,IAAK,UACD,GAAImU,EAAczL,EAAK2lB,SAEnB,YADAtnB,EAAKoK,OAAO1B,GAKhB,GAAIA,EAAKrI,KAEL,YADAL,EAAKoK,OAAO1B,GAIhB,MAEJ,IAAK,SACD,GAAwB,OAApBlI,KAAKgtD,aAAwBhtD,KAAKgtD,WAAWiE,oBAE7C,YADAzxD,EAAKoK,OAAO1B,GAMhB1I,EAAKyJ,UAAUf,EAAKrI,MAAM,SAASkiC,GAC/B,GAAkB,WAAdA,EAAKjmC,MACa,WAAdimC,EAAKtpC,MAAmC,YAAdspC,EAAKtpC,KAOvC,OAFAuH,KAAKwW,KAAKy6C,qBAAsB,EAChCzxD,EAAKoK,OAAO1B,IACL,IACRlI,MAEH,MAEJ,QACI,IAAIvH,EAAO65D,EAAenxD,EAAK1I,MAAMwjB,SACxB,cAATxjB,GACS,UAATA,GACS,aAATA,IAGImU,EAAczL,EAAK2lB,UAAYla,EAAczL,EAAK4lB,SAClDvnB,EAAKoK,OAAO1B,M,cC7DhCjQ,EAAOD,QAAU,SAAsB6J,EAAMqG,EAAM1I,GAC/CA,EAAKoK,OAAO1B,K,cCDhBjQ,EAAOD,QAAU,SAAyBmJ,EAAM+G,EAAM1I,GAC9C2B,EAAKhI,MAAM0T,UAAY1L,EAAKhI,MAAM0T,SAAStE,WAC3C/I,EAAKoK,OAAO1B,K,gBCFpB,IAAI,mBAAE4E,GAAuB,EAAQ,GAErC7U,EAAOD,QAAU,SAAkBmJ,EAAM+G,EAAM1I,IAEvCsN,EAAmB9M,KAAKgtD,WAAYxtD,IACpCsN,EAAmB9M,KAAK+mB,MAAOvnB,KAC/BA,EAAKoK,OAAO1B,K,gBCNpB,IAAInO,EAAiBnB,OAAOkB,UAAUC,eAClCu2B,EAAO,EAAQ,GAAYA,MAC3B,cAAE1jB,GAAkB,EAAQ,GA0EhC3U,EAAOD,QAAU,SAAmBmJ,EAAM+G,EAAM1I,EAAMmP,GAClD,GAAI/B,EAAczL,EAAK2lB,UAAYla,EAAczL,EAAK4lB,OAClDvnB,EAAKoK,OAAO1B,OADhB,CAKA,IAAIqqD,EAAY5jD,EAAQ6iD,OAEpBe,GAAsC,OAAxBA,EAAUH,WAA8C,OAAxBG,EAAUF,YAhFhE,SAASG,EAAYnC,EAAckC,GAqE/B,OApEAlC,EAAaxjD,SAASnE,MAAK,SAASkF,EAAU1F,EAAM1I,GAChD,IAAIizD,GAAe,EAEnBniC,EAAK1iB,GAAU,SAASzM,GAEpB,GAAsB,OAAlBnB,KAAK4N,UAAqB5N,KAAK4N,WAAayiD,EAC5C,OAAQlvD,EAAKrF,MACT,IAAK,eAGqB,OAAlBkE,KAAKglB,UAA0D,QAArChlB,KAAKglB,SAASvsB,KAAKuV,eACzCwkD,EAAYrxD,EAAMoxD,KAClBE,GAAe,GAGvB,MAEJ,IAAK,gBAC2B,OAAxBF,EAAUH,WACsB,OAAhCG,EAAUH,UAAUF,SACnBn4D,EAAe1B,KAAKk6D,EAAUH,UAAUF,QAAS/wD,EAAK1I,QACvDg6D,GAAe,GAES,OAAxBF,EAAUF,WACsB,OAAhCE,EAAUF,UAAUH,SACpBn4D,EAAe1B,KAAKk6D,EAAUF,UAAUH,QAAS/wD,EAAK1I,QACtDg6D,GAAe,GAEnB,MAEJ,IAAK,aAC2B,OAAxBF,EAAUH,WACkB,OAA5BG,EAAUH,UAAUn6C,KACnBle,EAAe1B,KAAKk6D,EAAUH,UAAUn6C,IAAK9W,EAAK1I,QACnDg6D,GAAe,GAES,OAAxBF,EAAUF,WACkB,OAA5BE,EAAUF,UAAUp6C,KACpBle,EAAe1B,KAAKk6D,EAAUF,UAAUp6C,IAAK9W,EAAK1I,QAClDg6D,GAAe,GAEnB,MAEJ,IAAK,eAG8C,MAA3CtxD,EAAK1I,KAAK8V,OAAOpN,EAAK1I,KAAK6D,OAAS,KACR,OAAxBi2D,EAAUH,WACmB,OAA7BG,EAAUH,UAAUH,MACnBl4D,EAAe1B,KAAKk6D,EAAUH,UAAUH,KAAM9wD,EAAK1I,KAAKuV,iBACzDykD,GAAe,GAES,OAAxBF,EAAUF,WACmB,OAA7BE,EAAUF,UAAUJ,MACpBl4D,EAAe1B,KAAKk6D,EAAUF,UAAUJ,KAAM9wD,EAAK1I,KAAKuV,iBACxDykD,GAAe,QAQnCA,GACAjzD,EAAKoK,OAAO1B,MAIbmoD,EAAaxjD,SAAStE,UAYzBiqD,CAAYrxD,EAAK2lB,QAASyrC,IAEtB3lD,EAAczL,EAAK2lB,WACnBtnB,EAAKoK,OAAO1B,M,cCvFxBjQ,EAAOD,QAAU,SAA2BmJ,EAAM+G,EAAM1I,GAIpD,GAAa,MAHF0I,EAAKrG,KAAKpJ,KAGrB,CAKA,IAAIi6D,EAAWxqD,EAAKnJ,MAAQmJ,EAAKnJ,KAAK8C,KAAK/F,KAC1B,eAAb42D,GACa,kBAAbA,GACa,sBAAbA,GACa,wBAAbA,GACa,0BAAbA,GACAlzD,EAAKoK,OAAO1B,M,gBChBpB,IAAI,mBAAE4E,GAAuB,EAAQ,GAErC,SAAS6lD,EAAexxD,GACpB,MAAqB,aAAdA,EAAKrF,MAAsC,MAAfqF,EAAKhI,OAAgC,MAAfgI,EAAKhI,MAGlElB,EAAOD,QAAU,SAAyBmJ,EAAM+G,EAAM1I,GAEhC,OAAd0I,EAAKnJ,MAA+B,OAAdmJ,EAAKrI,KAM3BiN,EAAmB9M,KAAKgtD,WAAYxtD,IACpCsN,EAAmB9M,KAAK+mB,MAAOvnB,GAC/BA,EAAKoK,OAAO1B,GAIY,eAAxBA,EAAKnJ,KAAK8C,KAAK/F,MAKf62D,EAAezqD,EAAKrI,KAAKgC,OAAS8wD,EAAezqD,EAAKnJ,KAAK8C,QAC3DrC,EAAKoK,OAAO1B,GALZ1I,EAAKoK,OAAO1B,GAZZ1I,EAAKoK,OAAO1B,K,gBCTpB,IAAIooB,EAAO,EAAQ,GAAYA,KAC3BkI,EAAW,CACXvW,OAAQ,EAAQ,KAChBE,kBAAmB,EAAQ,KAC3BsB,MAAO,EAAQ,KACf1nB,UAAW,EAAQ,KACnBC,WAAY,EAAQ,KACpBC,OAAQ,EAAQ,IAChBe,OAAQ,EAAQ,KAChBX,IAAK,EAAQ,KACb6Q,SAAU,EAAQ,IAAWwX,YAC7BvX,WAAY,EAAQ,IAAW8X,cAC/B7oB,SAAU,EAAQ,IAAWwoB,kBAGjC3sB,EAAOD,QAAU,SAASqgC,GACtB/H,EAAK+H,EAAK,CACNhI,MAAO,SAASlvB,EAAM+G,EAAM1I,GACpBg5B,EAASz+B,eAAeoH,EAAKrF,OAC7B08B,EAASr3B,EAAKrF,MAAMzD,KAAK2H,KAAMmB,EAAM+G,EAAM1I,Q,gBCnB3D,IAAI8yD,EAAiB,EAAQ,GAAYz2C,QACrC+2C,EAAoB,EAAQ,KAEhC36D,EAAOD,QAAU,SAASmJ,GAEqB,cAAvCmxD,EAAenxD,EAAK1I,MAAMwjB,UAC1B22C,EAAkBzxD,K,cCN1BlJ,EAAOD,QAAU,SAASmJ,GACtBA,EAAK4lB,MAAMla,SAASnE,MAAK,SAASq5B,GAC9BA,EAAKjb,QAAQja,SAASnE,MAAK,SAASmqD,GAChCA,EAAehmD,SAASnE,MAAK,SAAS7G,EAAMqG,GACtB,eAAdrG,EAAK/F,MAAwC,QAAf+F,EAAK1I,MACnC+O,EAAKrG,KAAO,CACR/F,KAAM,eACNiF,IAAKc,EAAKd,IACVtI,KAAM,MAEW,iBAAdoJ,EAAK/F,MAAyC,SAAd+F,EAAKpJ,OAC5CyP,EAAKrG,KAAO,CACR/F,KAAM,aACNiF,IAAKc,EAAKd,IACV5H,MAAO,iB,cCX/B,IAAI25D,EAAY,+CACZC,EAAiB,sFAarB96D,EAAOD,QAAU,SAASmJ,GACtB,IAAI6xD,EAAY7xD,EAAKhI,MAErB,GAAK65D,GAAgC,WAAnBA,EAAUl3D,KAA5B,CAIA,IAAIm3D,EAAgBD,EAAU75D,MAAMyK,QAAQ,cAAe,OAlB/D,SAAoBzK,GAChB,GAAc,KAAVA,GAA0B,MAAVA,EAOpB,OAFAA,EAAQA,EAAMyK,QAAQkvD,EAAW,MAEzBC,EAAe9sD,KAAK9M,IAWxB+5D,CAAWD,KACX9xD,EAAKhI,MAAQ,CACT2C,KAAM,aACNiF,IAAKiyD,EAAUjyD,IACftI,KAAMw6D,O,gBC7BlB,IAAIE,EAAc,EAAQ,GAAYt5D,SAClC2+B,EAAW,CACX,KAAQ,EAAQ,KAChB,cAAe,EAAQ,KACvB,WAAc,EAAQ,KACtB,OAAU,EAAQ,IAClB,QAAW,EAAQ,KAGvBvgC,EAAOD,QAAU,SAAuBmJ,GACpC,GAAKnB,KAAK2P,YAAV,CAIA,IAAI9V,EAAWs5D,EAAYnzD,KAAK2P,YAAY9V,UAExC2+B,EAASz+B,eAAeF,EAASoiB,WACjCuc,EAAS3+B,EAASoiB,UAAU9a,M,cCjBpClJ,EAAOD,QAAU,SAAsBmJ,GACnC,IAAI3B,EAAO2B,EAAK0L,SAEhBrN,EAAKsJ,WAAU,SAAS3H,EAAM+G,GAC1B,GAAkB,eAAd/G,EAAKrF,KACL,GAAkB,SAAdqF,EAAK1I,KACLyP,EAAKrG,KAAO,CACR/F,KAAM,SACNiF,IAAKI,EAAKJ,IACV5H,MAAO,YAER,GAAkB,WAAdgI,EAAK1I,KAAmB,CAC/B,IAAIoH,EAAOqI,EAAKrI,KAEZA,GAA2B,aAAnBA,EAAKgC,KAAK/F,MAA2C,MAApB+D,EAAKgC,KAAK1I,OACnD6G,KAAK4J,OAAO/J,GAGhBG,KAAK4J,OAAO1B,QACT,GAAkB,WAAd/G,EAAK1I,KAAmB,CAC/B,IAAIsG,EAAOmJ,EAAKnJ,KAEXA,GAA2B,aAAnBA,EAAK8C,KAAK/F,MACnBkE,KAAK4J,OAAO1B,OAO5B1I,EAAKkJ,MAAK,SAASvH,EAAM+G,GACH,eAAd/G,EAAKrF,OACAoM,EAAKrI,MAASqI,EAAKnJ,MAAgC,eAAxBmJ,EAAKnJ,KAAK8C,KAAK/F,MAC3CkE,KAAK4J,OAAO1B,OAKpB1I,EAAK+I,WACL/I,EAAK8J,OAAO9J,EAAK0H,WAAW,CACxBpL,KAAM,aACNrD,KAAM,c,cCzClBR,EAAOD,QAAU,SAA4BmJ,GACzC,IAAIhI,EAAQgI,EAAK0L,SAASrF,KAAK3F,KAE/B,GAAmB,eAAf1I,EAAM2C,KACN,OAAQ3C,EAAMV,MACV,IAAK,SACD0I,EAAK0L,SAASrF,KAAK3F,KAAO,CACtB/F,KAAM,SACNiF,IAAK5H,EAAM4H,IACX5H,MAAO,OAEX,MACJ,IAAK,OACDgI,EAAK0L,SAASrF,KAAK3F,KAAO,CACtB/F,KAAM,SACNiF,IAAK5H,EAAM4H,IACX5H,MAAO,U,gBChB3B,IAAIoO,EAAO,EAAQ,GAAYA,KAE/BtP,EAAOD,QAAU,SAA4BmJ,GACzC,SAASiyD,IACL,GAAIz9C,EAAOrZ,OACP,OAAOqZ,EAAOA,EAAOrZ,OAAS,GAAGR,KAIzC,SAASu3D,IACc,eAAfD,KACAz9C,EAAO9L,MAGN8L,EAAOrZ,QACRqZ,EAAO7L,QACH,CACIhO,KAAM,SACNiF,IAAK,KACL5H,MAAO,KAEX,CACI2C,KAAM,aACN3C,MAAO,KAEX,CACI2C,KAAM,SACNiF,IAAK,KACL5H,MAAO,MAKnBm6D,EAASjrD,KAAKyc,MAAMwuC,EAAU39C,GAE9BA,EAAS,GAGb,IAAI29C,EAAW,GACX39C,EAAS,GAEbxU,EAAK0L,SAASnE,MAAK,SAASvH,GACxB,GAAkB,aAAdA,EAAKrF,MAAsC,MAAfqF,EAAKhI,MAGjC,OAFAk6D,SACAC,EAASjrD,KAAKlH,IAKA,eAAdA,EAAKrF,MACa,gBAAdqF,EAAK1I,MACS,SAAd0I,EAAK1I,MACS,WAAd0I,EAAK1I,MACS,WAAd0I,EAAK1I,QAMK,eAAd0I,EAAKrF,MAA2B6Z,EAAOrZ,QAAyB,eAAf82D,MAIrDz9C,EAAOtN,KAAKlH,MAGhBkyD,IACAlyD,EAAK0L,UAAW,IAAItF,GAAOU,UAAUqrD,K,gBCnEzC,IAAIhmD,EAAa,EAAQ,IAAYE,KACjC+lD,EAAc,CAEd,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EACN,IAAM,EAGN,IAAM,EACN,IAAM,EACN,IAAM,EACN,KAAO,EAGP,IAAM,EACN,IAAM,EACN,MAAQ,EACR,MAAQ,EACR,IAAM,GAGVt7D,EAAOD,QAAU,SAA2BmJ,EAAM+G,GAC9C,IAAI/O,EAAQmU,EAAWnM,EAAKhI,MAAO+O,GAInC,GAFA/G,EAAKhI,MAAQA,EAEC,MAAVA,GAAsC,OAArB6G,KAAK2P,aAA+C,OAAvB3P,KAAKitD,cAAwB,CAC3E,IAAI3N,EAAOn+C,EAAKm+C,KAAKtxC,cAGrB,IAAKulD,EAAYx5D,eAAeulD,GAC5B,OAKJ,GAAkC,aAA9Bt/C,KAAK2P,YAAY9V,UACa,SAA9BmG,KAAK2P,YAAY9V,SACjB,OAIJ,GAAImG,KAAKglB,UAAmC,SAAvBhlB,KAAKglB,SAASvsB,KAC/B,OAGJyP,EAAKrG,KAAO,CACR/F,KAAM,SACNiF,IAAKI,EAAKJ,IACV5H,MAAOA,M,gBCpDnB,IAAIuqB,EAAQ,EAAQ,GAAYA,MAC5BpW,EAAa,EAAQ,IAAYE,KACjC6kD,EAAY,IAAIj9C,IAAI,CAEpB,QACA,YACA,YACA,SACA,aACA,aAKA,OACA,aAGJnd,EAAOD,QAAU,SAA4BmJ,EAAM+G,GAC/C/G,EAAKhI,MAAQmU,EAAWnM,EAAKhI,MAAO+O,GAEjB,MAAf/G,EAAKhI,OAAiB6G,KAAK2P,cAAgB0iD,EAAU59C,IAAIzU,KAAK2P,YAAY9V,YAE1EqO,EAAKrG,KAAO,CACR/F,KAAM,SACNiF,IAAKI,EAAKJ,IACV5H,MAAOgI,EAAKhI,OAIXuqB,EAAMwB,iBAAiBllB,KAAK2P,aAAawV,OAAOjd,EAAKrG,KAAM,YAE5DqG,EAAKrG,KAAOV,M,cChCxBlJ,EAAOD,QAAU,SAASmJ,GACtB,IAAIhI,EAAQgI,EAAKhI,MAOjBA,EAAQA,EAAMyK,QAAQ,qBAAsB,IAE5CzC,EAAKhI,MAAQA,I,cCVjB,IAGIq6D,EAAW,IAAI/vD,OAAO,4GAAgE,KAE1FxL,EAAOD,QAAU,SAASmJ,GACtB,IAAIhI,EAAQgI,EAAKhI,MAEjB,GAAmB,WAAfA,EAAM2C,KAAV,CAIA,IAAI23D,EAAQt6D,EAAMA,MAAM,GACpB6e,EAAM7e,EAAMA,MAAM+iB,OAAO,EAAG/iB,EAAMA,MAAMmD,OAAS,GAGrD0b,EAAMA,EAAIpU,QAAQ,QAAS,KAIvB4vD,EAASvtD,KAAK+R,GACd7W,EAAKhI,MAAQ,CACT2C,KAAM,MACNiF,IAAKI,EAAKhI,MAAM4H,IAChB5H,MAAO6e,GAMX7W,EAAKhI,MAAMA,OAA8B,IAAtB6e,EAAI/Z,QAAQ,KAAc,IAAM+Z,EAAM,IAAMy7C,EAAQz7C,EAAMy7C,K,gBC9BrF,IAAIC,EAAU,EAAQ,KAClBC,EAAc,EAAQ,KACtBC,EAAsB,EAAQ,KAC9BC,EAAiB,EAAQ,KACzBC,EAAoB,EAAQ,KAC5BC,EAAgB,EAAQ,KACxBC,EAAe,EAAQ,KACvBC,EAAkB,EAAQ,KAE9Bh8D,EAAOD,QAAU,SAASqgC,EAAK1pB,GAE3B,IAAIulD,EAAUR,EAAQr7B,EAAK1pB,GAC3BA,EAAQ0Z,OAAO,UAAWgQ,GAE1Bs7B,EAAYt7B,EAAK1pB,GACjBA,EAAQ0Z,OAAO,cAAegQ,GAE9Bu7B,EAAoBv7B,GACpB1pB,EAAQ0Z,OAAO,sBAAuBgQ,GAEtCw7B,EAAex7B,GACf1pB,EAAQ0Z,OAAO,iBAAkBgQ,GAEjCy7B,EAAkBz7B,EAAK67B,GACvBvlD,EAAQ0Z,OAAO,oBAAqBgQ,GAEpC07B,EAAc17B,GACd1pB,EAAQ0Z,OAAO,gBAAiBgQ,GAEhC27B,EAAa37B,GACb1pB,EAAQ0Z,OAAO,eAAgBgQ,GAE/B47B,EAAgB57B,GAChB1pB,EAAQ0Z,OAAO,kBAAmBgQ,K,gBCjCtC,IAAIi6B,EAAiB,EAAQ,GAAYz2C,QACrCyU,EAAO,EAAQ,GAAYA,KAC3BpvB,EAAW,EAAQ,GAAYA,SAC/BizD,EAA2B,EAAQ,KACnCC,EAAkB,EAAQ,KAE9Bn8D,EAAOD,QAAU,SAAiBqgC,EAAK1pB,GACnC,IAAI0lD,EAAkBF,IAgCtB,OA9BA7jC,EAAK+H,EAAK,CACNulB,MAAO,OACPxtB,MAAO,SAAqBjvB,GACxBA,EAAK4lB,MAAMla,SAASnE,KAAK2rD,GACzBD,EAAgBjzD,EAAMwN,EAAQ6iD,UAItClhC,EAAK+H,EAAK,CACNulB,MAAO,SACPxtB,MAAO,SAASjvB,GACRA,EAAK2lB,UACL3lB,EAAK2lB,QAAQ7U,GAAK,KAClB9Q,EAAK2lB,QAAQ7U,GAAK/Q,EAASC,EAAK2lB,UAKO,cAAvCwrC,EAAenxD,EAAK1I,MAAMwjB,WAC1B9a,EAAK4lB,MAAMutC,iBAAkB,EAE7BnzD,EAAK4lB,MAAMla,SAASnE,MAAK,SAASq5B,GAC9BA,EAAKjb,QAAQja,SAASnE,MAAK,SAASmqD,GAChCA,EAAentC,cAAgBmtC,EAAe5gD,aAO3D,CACHtC,YAAa0kD,K,gBCxCrB,IAAInzD,EAAW,EAAQ,GAAYA,SAEnC,SAASqzD,IACLv0D,KAAKkxD,KAAO,EACZlxD,KAAKJ,IAAMhH,OAAOY,OAAO,MAG7B+6D,EAAMz6D,UAAUwc,QAAU,SAASjT,GAC/B,IAAI5D,EAAQO,KAAKJ,IAAIyD,GAOrB,OALK5D,IACDA,IAAUO,KAAKkxD,KACflxD,KAAKJ,IAAIyD,GAAO5D,GAGbA,GAGXxH,EAAOD,QAAU,WACb,IAAIigB,EAAM,IAAIs8C,EAEd,OAAO,SAAyBpzD,GAC5B,IAAI8Q,EAAK/Q,EAASC,GAMlB,OAJAA,EAAK8Q,GAAKgG,EAAI3B,QAAQrE,GACtB9Q,EAAK7E,OAAS2V,EAAG3V,OACjB6E,EAAKmlB,YAAc,KAEZnlB,K,gBC5Bf,IAAID,EAAW,EAAQ,GAAYA,SAC/BszD,EAAc,EAAQ,KAEtBC,EAA0B,CAC1B,gBAAgB,EAChB,cAAc,EACd,OAAS,EACT,QAAU,GAEVC,EAAyB,CACzB,MAAQ,EACR,SAAW,EACX,OAAS,EACT,QAAU,EACV,gBAAgB,EAChB,cAAc,EACd,OAAS,EACT,QAAU,GAGdz8D,EAAOD,QAAU,SAAgBmJ,EAAMoxD,GACnC,IAAIoC,EAAU/7D,OAAOY,OAAO,MACxBo7D,GAAY,EAEhBzzD,EAAK2lB,QAAQja,SAASnE,MAAK,SAASmsD,GAChC,IAAIC,EAAU,IACVtP,EAAQ,EAEZqP,EAAehoD,SAASnE,MAAK,SAASvH,GAClC,OAAQA,EAAKrF,MACT,IAAK,gBACD,GAAIy2D,GAAaA,EAAUJ,OAAQ,CAC/B,IAAI4C,EAAaxC,EAAUJ,OAAOhxD,EAAK1I,OAAS,EAEhD,GAAc,IAAV+sD,GAAeuP,IAAevP,EAC9B,MAAM,IAAIt/C,MAAM,qDAAwDhF,EAAS2zD,IAGrFrP,EAAQuP,EAEZ,MAEJ,IAAK,sBACD,IAAIt8D,EAAO0I,EAAK1I,KAAKuV,cAEhB0mD,EAAuB36D,eAAetB,KACvCk8D,EAAQl8D,IAAQ,EAChBm8D,GAAY,GAEhB,MAEJ,IAAK,wBACGn8D,EAAO0I,EAAK1I,KAAKuV,cAEhBymD,EAAwB16D,eAAetB,KACxCk8D,EAAQl8D,IAAQ,EAChBm8D,GAAY,GAEhB,MAEJ,IAAK,eACDE,EAAU3zD,EAAK1I,KAAKuV,cACpB,MAEJ,IAAK,oBACG7M,EAAKwT,QACLggD,EAAQ,IAAMxzD,EAAKwT,MAAM3G,cAAgB,MAAO,EAChD4mD,GAAY,GAEhB,MAEJ,IAAK,aACL,IAAK,aACDE,EAAU,QAKtBD,EAAenvC,cAAgB8uC,EAAYK,GAAgBpiD,WAC3DoiD,EAAe5iD,GAAK,KACpB4iD,EAAe5iD,GAAK/Q,EAAS2zD,GAEzBrP,IACAqP,EAAenvC,eAAiB,IAAM8/B,GAG1B,MAAZsP,IACAD,EAAenvC,eAAiB,IAAMovC,MAK9C3zD,EAAK6zD,gBAAkBJ,GAAah8D,OAAOoG,KAAK21D,GAASz2C,OAAO1P,KAAK,O,cC5FzEvW,EAAOD,QAAU,SAAqB68D,GAClC,IAAII,EAAI,EACJC,EAAI,EACJC,EAAI,EAmDR,OAjDAN,EAAehoD,SAASnE,MAAK,SAAS4nB,EAAKnvB,GACvC,OAAQA,EAAKrF,MACT,IAAK,eACL,IAAK,WACDqF,EAAK0L,SAASnE,KAAK4nB,GACnB,MAEJ,IAAK,aACD2kC,IACA,MAEJ,IAAK,gBACL,IAAK,oBACDC,IACA,MAEJ,IAAK,sBACD,OAAQ/zD,EAAK1I,KAAKuV,eACd,IAAK,MACD7M,EAAK0L,SAASnE,KAAK4nB,GACnB,MAEJ,IAAK,SACL,IAAK,QACL,IAAK,aACL,IAAK,eACD6kC,IACA,MAGJ,QACID,IAER,MAEJ,IAAK,wBACDC,IACA,MAEJ,IAAK,eAE8C,MAA3Ch0D,EAAK1I,KAAK8V,OAAOpN,EAAK1I,KAAK6D,OAAS,IACpC64D,QAOT,CAACF,EAAGC,EAAGC,K,gBCtDlB,IAAI5tD,EAAO,EAAQ,GAAYA,KAC3B+qD,EAAiB,EAAQ,GAAYz2C,QACrC9hB,EAAiBnB,OAAOkB,UAAUC,eAClCu2B,EAAO,EAAQ,GAAYA,KAE/B,SAAS8kC,EAAax1D,EAAKsI,EAAM1I,EAAM61D,GACnC,IAAIl0D,EAAO+G,EAAKrG,KACZpJ,EAAO65D,EAAenxD,EAAK1I,MAAMwjB,SACjChK,EAAK9Q,EAAK1I,KAAKuV,cAAgB,KAAO7M,EAAK2lB,QAAU3lB,EAAK2lB,QAAQ7U,GAAK,MAEtElY,EAAe1B,KAAKuH,EAAKnH,KAC1BmH,EAAInH,GAAQG,OAAOY,OAAO,OAG1B67D,UACOz1D,EAAInH,GAAMwZ,GAGhBlY,EAAe1B,KAAKuH,EAAInH,GAAOwZ,KAChCrS,EAAInH,GAAMwZ,GAAM,IAAI1K,GAGxB3H,EAAInH,GAAMwZ,GAAIxI,OAAOjK,EAAKoK,OAAO1B,IA8CrC,SAASotD,EAAYn0D,GACjB,MAAqB,WAAdA,EAAKrF,MAAmC,UAAdqF,EAAK1I,KAG1C,SAAS88D,EAAcp0D,EAAM+G,EAAM1I,GAC/B,GAAK81D,EAAYn0D,GAAjB,CAIA,IAAItB,EAAOqI,EAAKrI,MAAQqI,EAAKrI,KAAKgC,KAE7BhC,GAASy1D,EAAYz1D,IAKtBsB,EAAK2lB,SACLjnB,EAAKinB,SACL3lB,EAAK2lB,QAAQ7U,KAAOpS,EAAKinB,QAAQ7U,KACjCpS,EAAKknB,MAAMla,SAAS3C,WAAW/I,EAAK4lB,MAAMla,UAC1CrN,EAAKoK,OAAO1B,KAUpBjQ,EAAOD,QAAU,SAAsBqgC,EAAK1pB,IAzE5C,SAAyB0pB,EAAK1pB,GAC1B,IAAI6mD,EAAY58D,OAAOY,OAAO,MAC1Bi8D,EAAiB,KA+BrB,IAAK,IAAI9Y,KA7BTtkB,EAAIxrB,SAASnE,MAAK,SAASvH,EAAM+G,EAAM1I,GACnC,GAAkB,WAAd2B,EAAKrF,KAAmB,CACxB,IAAIrD,EAAO65D,EAAenxD,EAAK1I,MAAMwjB,SAErC,OAAQxjB,GACJ,IAAK,YAED,YADA28D,EAAaI,EAAWttD,EAAM1I,GAAM,GAGxC,IAAK,QACD,GAAImP,EAAQ4iD,gBAER,YADA6D,EAAaI,EAAWttD,EAAM1I,GAAM,GAMzB,OAAnBi2D,GACS,YAATh9D,GACS,WAATA,IACAg9D,EAAiBvtD,QAGE,OAAnButD,IACAA,EAAiBvtD,MAKVstD,EACf,IAAK,IAAIvjD,KAAMujD,EAAU7Y,GACrBtkB,EAAIxrB,SAAS5C,WACTurD,EAAU7Y,GAAQ1qC,GACP,UAAX0qC,EAAqB,KAAO8Y,GAqCxCC,CAAgBr9B,EAAK1pB,GAErB2hB,EAAK+H,EAAK,CACNulB,MAAO,SACP7T,SAAS,EACT3Z,MAAOmlC,M,gBCxGf,IAAIjlC,EAAO,EAAQ,GAAYA,KAC3Bx1B,EAAQ,EAAQ,IAEpB,SAAS66D,EAAYx0D,EAAM+G,EAAM1I,GAC7B,IAAIo2D,EAAYz0D,EAAK2lB,QAAQja,SACzBgE,EAAe1P,EAAK4lB,MAAMla,SAE9BrN,EAAKyJ,UAAUf,EAAKrI,MAAM,SAASA,GAE/B,GAAkB,SAAdA,EAAK/D,KACL,OAAOhB,EAAM+rB,iBAAiBxuB,KAAKu9D,EAAW/1D,GAGlD,IAAIg2D,EAAgBh2D,EAAKinB,QAAQja,SAC7BipD,EAAmBj2D,EAAKknB,MAAMla,SAGlC,GAAI1L,EAAK6zD,kBAAoBn1D,EAAKm1D,gBAAiB,CAE/C,GAAIl6D,EAAM6qB,iBAAiBkwC,EAAeD,GAGtC,OAFAE,EAAiB5rD,WAAW2G,GAC5BrR,EAAKoK,OAAO1B,IACL,EAIX,GAAIpN,EAAM8qB,oBAAoB/U,EAAcilD,GAGxC,OAFAh7D,EAAM0rB,aAAaqvC,EAAeD,GAClCp2D,EAAKoK,OAAO1B,IACL,EAKf,OAAOpN,EAAMuqB,oBAAoBuwC,EAAWC,MAOpD59D,EAAOD,QAAU,SAA0BqgC,GACvC/H,EAAK+H,EAAK,CACNulB,MAAO,OACPxtB,MAAOulC,M,gBC5Cf,IAAIpuD,EAAO,EAAQ,GAAYA,KAC3B+oB,EAAO,EAAQ,GAAYA,KAE/B,SAASqlC,EAAYx0D,EAAM+G,EAAM1I,GAU7B,IATA,IAAIo2D,EAAYz0D,EAAK2lB,QAAQja,SAStB+oD,EAAUpuD,OAASouD,EAAUnuD,MAAM,CACtC,IAAIsuD,EAAe,IAAIxuD,EACvBwuD,EAAazsD,OAAOssD,EAAUhsD,OAAOgsD,EAAUpuD,OAE/ChI,EAAK8J,OAAO9J,EAAK0H,WAAW,CACxBpL,KAAM,OACNiF,IAAKI,EAAKJ,IACV+lB,QAAS,CACLhrB,KAAM,eACNiF,IAAKI,EAAK2lB,QAAQ/lB,IAClB8L,SAAUkpD,GAEdhvC,MAAO,CACHjrB,KAAM,QACNiF,IAAKI,EAAK4lB,MAAMhmB,IAChB8L,SAAU1L,EAAK4lB,MAAMla,SAAS1K,QAElC6yD,gBAAiB7zD,EAAK6zD,kBACtB9sD,IAIZjQ,EAAOD,QAAU,SAAqBqgC,GAClC/H,EAAK+H,EAAK,CACNulB,MAAO,OACP7T,SAAS,EACT3Z,MAAOulC,M,gBCvCf,IAAIpuD,EAAO,EAAQ,GAAYA,KAC3BrG,EAAW,EAAQ,GAAYA,SAC/BovB,EAAO,EAAQ,GAAYA,KAQ3B0lC,EAAQ,CAAC,MAAO,QAAS,SAAU,QACnCC,EAAO,CACP,aAAc,MACd,eAAgB,QAChB,gBAAiB,SACjB,cAAe,OAEf,cAAe,MACf,gBAAiB,QACjB,iBAAkB,SAClB,eAAgB,OAEhB,mBAAoB,MACpB,qBAAsB,QACtB,sBAAuB,SACvB,oBAAqB,OACrB,mBAAoB,MACpB,qBAAsB,QACtB,sBAAuB,SACvB,oBAAqB,OACrB,mBAAoB,MACpB,qBAAsB,QACtB,sBAAuB,SACvB,oBAAqB,QAErBC,EAAgB,CAChB,OAAU,SACV,aAAc,SACd,eAAgB,SAChB,gBAAiB,SACjB,cAAe,SAEf,QAAW,UACX,cAAe,UACf,gBAAiB,UACjB,iBAAkB,UAClB,eAAgB,UAEhB,eAAgB,eAChB,mBAAoB,eACpB,qBAAsB,eACtB,sBAAuB,eACvB,oBAAqB,eACrB,eAAgB,eAChB,mBAAoB,eACpB,qBAAsB,eACtB,sBAAuB,eACvB,oBAAqB,eACrB,eAAgB,eAChB,mBAAoB,eACpB,qBAAsB,eACtB,sBAAuB,eACvB,oBAAqB,gBAGzB,SAASC,EAAK19D,GACVuH,KAAKvH,KAAOA,EACZuH,KAAKe,IAAM,KACXf,KAAKo2D,YAASvtD,EACd7I,KAAKq2D,MAAQ,CACT,IAAO,KACP,MAAS,KACT,OAAU,KACV,KAAQ,MAiQhB,SAASV,EAAY5zB,EAAMu0B,EAAQC,EAAmBC,GAClD,IAAI3lD,EAAekxB,EAAKhb,MAAMla,SAC1Be,EAAWm0B,EAAKjb,QAAQja,SAASrE,QAAQyJ,GA0C7C,OAxCA8vB,EAAKhb,MAAMla,SAAS/D,WAAU,SAAS6G,EAAazH,GAChD,IAAIrO,EAAW8V,EAAY9V,SAE3B,GAAKq8D,EAAcn8D,eAAeF,GAAlC,CAIA,IACI48D,EACAC,EAFAj9D,EAAMy8D,EAAcr8D,GAInB28D,GAAqB5oD,IAAa4oD,GAC/B/8D,KAAO68D,IACPI,EAtVH,EAuVGD,EAAYH,EAAO78D,IAItBg9D,GAAcA,EAAUphD,IAAIxb,EAAU8V,KACvC+mD,EA7VE,GA8VFD,EAAY,IAAIN,EAAK18D,IAGN4b,IAAIxb,EAAU8V,KAMjC2mD,EAAO78D,GAAOg9D,EACdF,EAAkBluD,KAAK,CACnBquD,UAAWA,EACX3vC,MAAOlW,EACP3I,KAAMA,EACNuuD,UAAWA,IAGfD,EAAoB5oD,GAbZ4oD,EAAoB,SAgBzBA,EAzSXL,EAAKr8D,UAAU68D,iBAAmB,SAAShnD,EAAa2J,GACpD,IAAIqjB,EAAS,GACTy5B,EAAS,GA6Db,QA5DmBzmD,EAAYxW,MAAM0T,SAAS3D,MAAK,SAASwH,GACxD,IAAIkmD,GAAU,EAEd,OAAQlmD,EAAM5U,MACV,IAAK,aACD,OAAQ4U,EAAMjY,MACV,IAAK,MACL,IAAK,MAED,YADA29D,EAAS1lD,EAAMjY,MAGnB,IAAK,UACL,IAAK,UACL,IAAK,QACL,IAAK,SACDm+D,EAAUlmD,EAAMjY,KAGxB,MAEJ,IAAK,YACD,OAAQiY,EAAM4uC,MAEV,IAAK,MAIL,IAAK,KACL,IAAK,KACL,IAAK,OACL,IAAK,OACL,IAAK,KACDsX,EAAUlmD,EAAM4uC,KAGxB,MAEJ,IAAK,WACL,IAAK,SACL,IAAK,aACD,MAEJ,IAAK,WACDsX,EAAUlmD,EAAMjY,KAChB,MAEJ,IAAK,aACD,OAAO,EAEX,QACI,OAAO,EAGfkkC,EAAOt0B,KAAK,CACRlH,KAAMuP,EACNkmD,QAASA,EACTrwC,UAAW5W,EAAY4W,gBAIXoW,EAAOrgC,OAASgd,MAIT,iBAAhBtZ,KAAKo2D,QAAuBp2D,KAAKo2D,SAAWA,KAIvDp2D,KAAKo2D,OAASA,EAEPz5B,KAGXw5B,EAAKr8D,UAAU+8D,YAAc,SAASC,EAAM39D,GACxC,IAAIuuC,EAAe1nC,KAAKq2D,MAAMS,GAE9B,OAAQpvB,GAAiBvuC,EAAMotB,YAAcmhB,EAAanhB,WAG9D4vC,EAAKr8D,UAAUub,IAAM,SAAS5c,EAAMkX,GAwEhC,QAvEA,WACI,IAAI0mD,EAAQr2D,KAAKq2D,MACbS,EAAOb,EAAKx9D,GAEhB,GAAIq+D,EAAM,CACN,GAAIA,KAAQT,IAAU,EAClB,OAAO,EAKX,KAFI15B,EAAS38B,KAAK22D,iBAAiBhnD,EAAa,MAEhCgtB,EAAOrgC,OACnB,OAAO,EAIX,IAAK,IAAI7C,KAAO48D,EACZ,GAAmB,OAAfA,EAAM58D,IAAiB48D,EAAM58D,GAAKm9D,UAAYj6B,EAAO,GAAGi6B,QACxD,OAAO,EAIf,OAAK52D,KAAK62D,YAAYC,EAAMn6B,EAAO,MAInC05B,EAAMS,GAAQn6B,EAAO,IACd,GACJ,GAAIlkC,IAASuH,KAAKvH,KAAM,CAC3B,IAAIkkC,EAEJ,KAFIA,EAAS38B,KAAK22D,iBAAiBhnD,EAAa,MAEhCgtB,EAAOrgC,OACnB,OAAO,EAGX,OAAQqgC,EAAOrgC,QACX,KAAK,EACDqgC,EA9LR,GA8LwBA,EA/L1B,GAgMUA,EA9LP,GA8LwBA,EAhM3B,GAiMUA,EA9LT,GA8LwBA,EAjMzB,GAkMU,MAEJ,KAAK,EACDA,EAnMP,GAmMwBA,EArM3B,GAsMUA,EAnMT,GAmMwBA,EArMvB,GAsMQ,MAEJ,KAAK,EACDA,EAvMT,GAuMwBA,EAzMvB,GA8MA,IAAK,IAAIzkC,EAAI,EAAGA,EAAI,EAAGA,IACnB,IAAK,IAAIuB,KAAO48D,EACZ,GAAmB,OAAfA,EAAM58D,IAAiB48D,EAAM58D,GAAKm9D,UAAYj6B,EAAOzkC,GAAG0+D,QACxD,OAAO,EAKnB,IAAS1+D,EAAI,EAAGA,EAAI,EAAGA,IACf8H,KAAK62D,YAAYb,EAAM99D,GAAIykC,EAAOzkC,MAClCm+D,EAAML,EAAM99D,IAAMykC,EAAOzkC,IAIjC,OAAO,IAIGG,KAAK2H,QAalBA,KAAKe,MACNf,KAAKe,IAAM4O,EAAY5O,MAGpB,IAGXo1D,EAAKr8D,UAAUi9D,eAAiB,WAC5B,IAAIC,EAAMh3D,KAAKq2D,MAAMW,IACjBvH,EAAQzvD,KAAKq2D,MAAM5G,MACnBwH,EAASj3D,KAAKq2D,MAAMY,OACpBzH,EAAOxvD,KAAKq2D,MAAM7G,KAEtB,GAAIwH,GAAOvH,GAASwH,GAAUzH,EAAM,CAChC,IAAIjpC,EACAywC,EAAIzwC,UACJkpC,EAAMlpC,UACN0wC,EAAO1wC,UACPipC,EAAKjpC,UAET,OAAqB,IAAdA,GAAiC,IAAdA,EAG9B,OAAO,GAGX4vC,EAAKr8D,UAAUo9D,SAAW,WACtB,IAAI9uD,EAAS,IAAIb,EACb8uD,EAAQr2D,KAAKq2D,MACb15B,EAAS,CACT05B,EAAMW,IACNX,EAAM5G,MACN4G,EAAMY,OACNZ,EAAM7G,MAEN2H,EAAe,CACfj2D,EAASm1D,EAAMW,IAAI71D,MACnBD,EAASm1D,EAAM5G,MAAMtuD,MACrBD,EAASm1D,EAAMY,OAAO91D,MACtBD,EAASm1D,EAAM7G,KAAKruD,OAGpBg2D,EArRG,KAqRoBA,EAvRnB,KAwRJx6B,EAAO9yB,MACHstD,EAxRC,KAwRwBA,EA1R3B,KA2REx6B,EAAO9yB,MACHstD,EA3RJ,KA2R4BA,EA5R9B,IA6RMx6B,EAAO9yB,QAKnB,IAAK,IAAI3R,EAAI,EAAGA,EAAIykC,EAAOrgC,OAAQpE,IAC3BA,GACAkQ,EAAOe,WAAW,CAAErN,KAAM,aAAc3C,MAAO,MAGnDiP,EAAOe,WAAWwzB,EAAOzkC,GAAGiJ,MAYhC,OATInB,KAAKo2D,SACLhuD,EAAOe,WAAW,CAAErN,KAAM,aAAc3C,MAAO,MAC/CiP,EAAOe,WAAW,CACdrN,KAAM,aACNiF,IAAK,KACLtI,KAAMuH,KAAKo2D,UAIZ,CACHt6D,KAAM,QACNiF,IAAK,KACL8L,SAAUzE,IAIlB+tD,EAAKr8D,UAAUs9D,eAAiB,WAC5B,MAAO,CACHt7D,KAAM,cACNiF,IAAKf,KAAKe,IACVwlB,UAAWvmB,KAAKq2D,MAAMW,IAAIzwC,UAC1B1sB,SAAUmG,KAAKvH,KACfU,MAAO6G,KAAKk3D,aAmEpBj/D,EAAOD,QAAU,SAAuBqgC,EAAK67B,GACzC,IAAImD,EAAgB,GAChBd,EAAoB,GAExBjmC,EAAK+H,EAAK,CACNulB,MAAO,OACP7T,SAAS,EACT3Z,MAAO,SAASjvB,GACZ,IAEIm2D,EACAhB,EAHAtJ,EAAahtD,KAAK+mB,OAAS/mB,KAAKgtD,WAChCuK,GAAUp2D,EAAK6zD,iBAAmB,IAAM,IAAM7zD,EAAK2lB,QAAQja,SAASrE,QAAQyJ,GAI3EolD,EAAct9D,eAAeizD,EAAW/6C,IAMzCqlD,EAAUD,EAAcrK,EAAW/6C,KALnCqlD,EAAU,CACNd,kBAAmB,MAEvBa,EAAcrK,EAAW/6C,IAAMqlD,GAK/BA,EAAQv9D,eAAew9D,GACvBjB,EAASgB,EAAQC,IAEjBjB,EAAS,GACTgB,EAAQC,GAAUjB,GAGtBgB,EAAQd,kBAAoBb,EAAYt9D,KAAK2H,KAAMmB,EAAMm1D,EAAQC,EAAmBe,EAAQd,sBA7CxG,SAA2BD,EAAmBlC,GAC1CkC,EAAkBt3D,SAAQ,SAASiJ,GAC/B,IAAIuuD,EAAYvuD,EAAKuuD,UAEhBA,EAAUM,mBAzXT,IA6XF7uD,EAAKwuD,UACLxuD,EAAKA,KAAKrG,KAAOwyD,EAAgBoC,EAAUW,kBAE3ClvD,EAAK6e,MAAMnd,OAAO1B,EAAKA,UAsC/BsvD,CAAkBjB,EAAmBrC,EAAQvkD,e,gBC1ajD,IAAI8nD,EAAkB,EAAQ,GAAY59D,SACtCy4D,EAAiB,EAAQ,GAAYz2C,QACrCyU,EAAO,EAAQ,GAAYA,KAC3BpvB,EAAW,EAAQ,GAAYA,SAC/Bw2D,EAAgB,EAChBC,EAAkB,CAClB,IAAO,GAGPC,EAAiB,CAEjB,QAAW,qDAEX,aAAc,2CAGdC,EAAoB,CACpB,OAAQ,YAAa,UAAW,OAAQ,OAAQ,OAAQ,OACxD,WAAY,WAAY,WAAY,WACpC,YAAa,YAAa,YAAa,YACvC,UAAW,WAAY,cAAe,UAAW,gBAAiB,aAClE,aAAc,cAGdC,EAAsB,CACtB,SAAU,WAAY,WAAY,SAGlCC,EAAiB,CACjB,eAAgB,CAAC,UACjB,eAAgB,CAAC,UACjB,eAAgB,CAAC,UACjB,aAAc,CAAC,UACf,eAAgB,CAAC,UACjB,gBAAiB,CAAC,UAClB,cAAe,CAAC,UAChB,mBAAoB,CAAC,aAAc,eAAgB,UACnD,qBAAsB,CAAC,eAAgB,eAAgB,UACvD,sBAAuB,CAAC,gBAAiB,eAAgB,UACzD,oBAAqB,CAAC,cAAe,eAAgB,UACrD,mBAAoB,CAAC,aAAc,eAAgB,UACnD,qBAAsB,CAAC,eAAgB,eAAgB,UACvD,sBAAuB,CAAC,gBAAiB,eAAgB,UACzD,oBAAqB,CAAC,cAAe,eAAgB,UACrD,mBAAoB,CAAC,aAAc,eAAgB,UACnD,qBAAsB,CAAC,eAAgB,eAAgB,UACvD,sBAAuB,CAAC,gBAAiB,eAAgB,UACzD,oBAAqB,CAAC,cAAe,eAAgB,UACrD,aAAc,CAAC,UACf,eAAgB,CAAC,UACjB,gBAAiB,CAAC,UAClB,cAAe,CAAC,UAChB,cAAe,CAAC,WAChB,gBAAiB,CAAC,WAClB,iBAAkB,CAAC,WACnB,eAAgB,CAAC,WACjB,aAAc,CAAC,QACf,eAAgB,CAAC,QACjB,cAAe,CAAC,QAChB,YAAa,CAAC,QACd,cAAe,CAAC,QAChB,kBAAmB,CAAC,cACpB,sBAAuB,CAAC,cACxB,mBAAoB,CAAC,eAGzB,SAASC,EAAuB3pD,EAAcsB,EAAayW,GACvD,IAAI6xC,EAAWR,EAAgBppD,GAAc4N,SAE7C,GAAiB,eAAbg8C,EACA,OAAO5pD,EAAe,IAAMnN,EAASyO,EAAYxW,OAGrD,IAAI++D,EAAgBvoD,EAAYsC,GAC5BqU,EAAcF,EAAa8xC,GAE/B,IAAK5xC,EAAa,CACd,OAAQ3W,EAAYxW,MAAM2C,MACtB,IAAK,QACD,IAAIq8D,EAAW,GACX/B,EAAS,GACTQ,EAAU,GACVwB,GAAM,EAEVzoD,EAAYxW,MAAM0T,SAASnE,MAAK,SAAS4nB,EAAKnvB,GAC1C,OAAQA,EAAKrF,MACT,IAAK,QACL,IAAK,WACL,IAAK,cACDqF,EAAK0L,SAASnE,KAAK4nB,GACnB,MAEJ,IAAK,MACD8nC,GAAM,EACN,MAEJ,IAAK,aACD,IAAI3/D,EAAO0I,EAAK1I,KAEX0/D,IACDA,EAAW7F,EAAe75D,GAAMsjB,QAGhC,SAAS9V,KAAKxN,KACd29D,EAAS3yD,OAAO40D,WAGH,WAAbJ,GACyC,IAArCJ,EAAkB55D,QAAQxF,KAC1Bm+D,EAAQn+D,IAAQ,GAEA,aAAbw/D,GACoC,IAAvCH,EAAoB75D,QAAQxF,KAC5Bm+D,EAAQn+D,IAAQ,GAEbm/D,EAAe79D,eAAek+D,IACjCL,EAAeK,GAAUhyD,KAAKxN,KAC9Bm+D,EAAQn+D,IAAQ,GAIxB,MAEJ,IAAK,WACGA,EAAO0I,EAAK1I,KAMhB,GAJK0/D,IACDA,EAAW7F,EAAe75D,GAAMsjB,QAGvB,SAATtjB,EAKe0I,EAAK0L,SAAS3D,MAAK,SAAS/H,GACvC,MAAqB,aAAdA,EAAKrF,MAAsC,MAAfqF,EAAKhI,WAGxCV,EAAO,iBAIfm+D,EAAQn+D,EAAO,OAAQ,EAGvB0I,EAAK0L,SAASnE,KAAK4nB,GAEnB,MAEJ,IAAK,YACD,IAAIgvB,EAAOn+C,EAAKm+C,KAMhB,OAJI,SAASr5C,KAAKq5C,KACd8W,EAAS3yD,OAAO40D,WAGZ/Y,GAEJ,IAAK,MAIL,IAAK,KACL,IAAK,KACL,IAAK,OACL,IAAK,OACL,IAAK,KACDsX,EAAQtX,IAAQ,OAOpCh5B,EAAc8xC,EACR,IAAMV,IACN,IAAM9+D,OAAOoG,KAAK43D,GAAS14C,OAAS,IAAMk4C,EAAS+B,EACzD,MAEJ,IAAK,MACD7xC,EAAc,IAAM3W,EAAYxW,MAAMA,MACtC,MAEJ,QACImtB,EAAcplB,EAASyO,EAAYxW,OAG3CitB,EAAa8xC,GAAiB5xC,EAGlC,OAAOjY,EAAeiY,EAoB1B,SAASqvC,EAAY5zB,EAAM75B,EAAM1I,EAAM84D,EAAOlyC,GAC1C,IAAIvV,EAAekxB,EAAKhb,MAAMla,SAE9BgE,EAAa/H,WAAU,SAAS6G,EAAa4oD,GACzC,IA4BQ14D,EA5BJhG,EAAW8V,EAAY9V,SACvBysB,EAAc0xC,EAAuBn+D,EAAU8V,EAAayW,IAC5DvmB,EAAOy4D,EAAMhyC,MAEJqxC,EAAgB59D,eAAeF,GACpC8V,EAAY4W,YAAc1mB,EAAKqI,KAAKrG,KAAK0kB,WACzC+xC,EAAMhyC,GAAe,CACjBS,MAAOlW,EACP3I,KAAMqwD,GAGV14D,EAAKknB,MAAMnd,OAAO/J,EAAKqI,OAQvB2I,EAAajH,OAAO2uD,IASpB14D,EAjDhB,SAAkBy4D,EAAO3oD,EAAayW,GAClC,IAAIvsB,EAAW49D,EAAgB9nD,EAAY9V,UAE3C,GAAIk+D,EAAeh+D,eAAeF,EAASoiB,UAGvC,IAFA,IAAIu8C,EAAQT,EAAel+D,EAASoiB,UAE3B/jB,EAAI,EAAGA,EAAIsgE,EAAMl8D,OAAQpE,IAAK,CACnC,IAAIugE,EAAOT,EAAuBn+D,EAASsiB,OAASq8C,EAAMtgE,GAAIyX,EAAayW,GACvEvmB,EAAOy4D,EAAMv+D,eAAe0+D,GAAQH,EAAMG,GAAQ,KAEtD,GAAI54D,KAAU8P,EAAY4W,WAAa1mB,EAAKqI,KAAKrG,KAAK0kB,WAClD,OAAO1mB,GAsCA64D,CAASJ,EAAO3oD,EAAayW,IAGpCvV,EAAajH,OAAO2uD,IAQpB5oD,EAAY2W,YAAcA,EAE1BgyC,EAAMhyC,GAAe,CACjBS,MAAOlW,EACP3I,KAAMqwD,OAMlB1nD,EAAatI,WACb/I,EAAKoK,OAAO1B,GAIpBjQ,EAAOD,QAAU,SAAuBqgC,GACpC,IAAIg/B,EAAgB,GAChBjxC,EAAextB,OAAOY,OAAO,MAEjC82B,EAAK+H,EAAK,CACNulB,MAAO,OACP7T,SAAS,EACT3Z,MAAO,SAASjvB,EAAM+G,EAAM1I,GACxB,IAEI83D,EACAgB,EAHAtL,EAAahtD,KAAK+mB,OAAS/mB,KAAKgtD,WAChCuK,GAAUp2D,EAAK6zD,iBAAmB,IAAM,IAAM7zD,EAAK2lB,QAAQja,SAASrE,QAAQyJ,GAI3EolD,EAAct9D,eAAeizD,EAAW/6C,IAIzCqlD,EAAUD,EAAcrK,EAAW/6C,KAHnCqlD,EAAU,GACVD,EAAcrK,EAAW/6C,IAAMqlD,GAK/BA,EAAQv9D,eAAew9D,GACvBe,EAAQhB,EAAQC,IAEhBe,EAAQ,GACRhB,EAAQC,GAAUe,GAGtB3C,EAAYt9D,KAAK2H,KAAMmB,EAAM+G,EAAM1I,EAAM84D,EAAOlyC,Q,gBCxS5D,IAAIkK,EAAO,EAAQ,GAAYA,KAC3Bx1B,EAAQ,EAAQ,IAcpB,SAAS66D,EAAYx0D,EAAM+G,EAAM1I,GAC7B,IAAIo2D,EAAYz0D,EAAK2lB,QAAQja,SACzBgE,EAAe1P,EAAK4lB,MAAMla,SAC1B8rD,EAAoB/C,EAAUptD,QAAQkd,cACtCkzC,EAAwB,GAE5Bp5D,EAAKwJ,UAAUd,EAAKnJ,MAAM,SAASA,EAAM85D,GAErC,GAAkB,SAAd95D,EAAKjD,KACL,OAAOhB,EAAM+rB,iBAAiBxuB,KAAKu9D,EAAW72D,GAGlD,GAAIoC,EAAK6zD,kBAAoBj2D,EAAKi2D,gBAC9B,OAAO,EAGX,IAAI8D,EAAoB/5D,EAAK+nB,QAAQja,SAASrF,KAC1CuxD,EAAmBh6D,EAAKgoB,MAAMla,SAC9BmsD,EAAoBF,EAAkBj3D,KAAK6jB,cAG/C,GAAIszC,KAAqBJ,EACrB,OAAO,EAIX,GAAIhD,EAAUpuD,OAASouD,EAAUnuD,MACzBmuD,EAAUptD,QAAQyJ,KAAO6mD,EAAkBj3D,KAAKoQ,GAGhD,OAFApB,EAAa3G,WAAW6uD,QACxBv5D,EAAKoK,OAAOivD,GAMpB,GAAI/9D,EAAM8qB,oBAAoB/U,EAAckoD,GAAmB,CAC3D,IAAInyC,EAAUkyC,EAAkBj3D,KAAKoQ,GAiBrC,OAfA2jD,EAAU1sD,MAAK,SAASrH,EAAMqG,GAC1B,IAAI+wD,EAASp3D,EAAKoQ,GAElB,OAAI2U,EAAUqyC,GACVrD,EAAUtsD,OAAOwvD,EAAmB5wD,IAC7B,GAGNA,EAAKnJ,UAAV,GACI62D,EAAUtsD,OAAOwvD,IACV,WAIft5D,EAAKoK,OAAOivD,GAKhB,GAAIG,IAAsBL,EACtB,OAAO,EAGXC,EAAsBI,IAAqB,KAInD/gE,EAAOD,QAAU,SAAmBqgC,GAChC/H,EAAK+H,EAAK,CACNulB,MAAO,OACPxtB,MAAOulC,M,gBCnFf,IAAIpuD,EAAO,EAAQ,GAAYA,KAC3B+oB,EAAO,EAAQ,GAAYA,KAC3Bx1B,EAAQ,EAAQ,IAEpB,SAASo+D,EAAmB15D,GACxB,IAAIlD,EAAS,EAMb,OAJAkD,EAAKkJ,MAAK,SAAS7G,GACfvF,GAAUuF,EAAKoQ,GAAG3V,OAAS,KAGxBA,EAAS,EAGpB,SAAS68D,EAAuBzpC,GAG5B,IAFA,IAAIpzB,EAAS,EAEJpE,EAAI,EAAGA,EAAIw3B,EAAOpzB,OAAQpE,IAC/BoE,GAAUozB,EAAOx3B,GAAGoE,OAGxB,OACIA,EACAozB,EAAOpzB,OAAS,EAIxB,SAASq5D,EAAYx0D,EAAM+G,EAAM1I,GAC7B,IAAI80D,EAAiC,OAAft0D,KAAK+mB,OAAiB/mB,KAAK+mB,MAAMutC,gBACnDsB,EAAYz0D,EAAK2lB,QAAQja,SACzBka,EAAQ5lB,EAAK4lB,MACbqyC,EAAsBxgE,OAAOY,OAAO,MACpC6/D,GAAe,EACfC,GAAiB,EAErB95D,EAAKyJ,UAAUf,EAAKrI,MAAM,SAASA,EAAM05D,GACrC,IAAIC,EAAY35D,EAAKknB,MACjB0yC,EAAW55D,EAAK/D,KAEpB,GAAiB,SAAb29D,EAAqB,CACrB,IAAIC,EAAS5+D,EAAM+rB,iBAAiBxuB,KAAKu9D,EAAW/1D,GAapD,OAXK65D,GAAuB,WAAbD,GAAyBD,GACpClpC,EAAKkpC,EAAW,CACZ5b,MAAO,OACPxtB,MAAO,SAASjvB,GACZA,EAAK2lB,QAAQja,SAASnE,MAAK,SAAS7G,GAChCu3D,EAAoBv3D,EAAK6jB,gBAAiB,QAMnDg0C,EAGX,IAAI7D,EAAgBh2D,EAAKinB,QAAQja,SAEjC,GAAI1L,EAAK6zD,kBAAoBn1D,EAAKm1D,gBAC9B,OAAO,EAQX,KALAsE,GAAkBzD,EAAc3sD,MAAK,SAAS0E,GAC1C,OAAOA,EAAS8X,iBAAiB0zC,QAIbC,EACpB,OAAO,EAIX,GAAIA,GAAgBv+D,EAAM6qB,iBAAiBkwC,EAAeD,GAGtD,OAFA4D,EAAU3sD,SAAS3C,WAAW6c,EAAMla,UACpCrN,EAAKoK,OAAO1B,IACL,EAIX,IAAIyxD,EAAO7+D,EAAM+qB,oBAAoBkB,EAAMla,SAAU2sD,EAAU3sD,UAI/D,GAAI8sD,EAAK3zC,GAAG1pB,OAAQ,CAChB,IAAKq9D,EAAK1zC,IAAI3pB,SAAWq9D,EAAKzzC,IAAI5pB,OAO9B,OALIg9D,IACAx+D,EAAM0rB,aAAaovC,EAAWC,GAC9Br2D,EAAKoK,OAAO2vD,KAGT,EACJ,IAAKjF,EAGR,GAAIqF,EAAK1zC,IAAI3pB,SAAWq9D,EAAKzzC,IAAI5pB,OAAQ,CAErC,IAAIs9D,EAAiBV,EAAmBtD,GACpCiE,EAAcV,EAAuBQ,EAAK3zC,IAE1CqzC,GAAgBO,EAAiBC,IACjC/+D,EAAM0rB,aAAaqvC,EAAeD,GAClC7uC,EAAMla,UAAW,IAAItF,GAAOU,UAAU0xD,EAAK1zC,WAE5C,IAAK0zC,EAAK1zC,IAAI3pB,QAAUq9D,EAAKzzC,IAAI5pB,OAAQ,CAExCs9D,EAAiBV,EAAmBrD,GACpCgE,EAAcV,EAAuBQ,EAAK3zC,IAE1CszC,GAAkBM,EAAiBC,IACnC/+D,EAAM0rB,aAAaovC,EAAWC,GAC9B2D,EAAU3sD,UAAW,IAAItF,GAAOU,UAAU0xD,EAAKzzC,UAEhD,CAGH,IAAI4zC,EAAc,CACdh+D,KAAM,eACNiF,IAAK,KACL8L,SAAU/R,EAAM0rB,aAAaqvC,EAAc1zD,OAAQyzD,IAEnDmE,EAAiBb,EAAmBY,EAAYjtD,UAAY,EAKhE,IAJIgtD,EAAcV,EAAuBQ,EAAK3zC,MAI3B+zC,EAAgB,CAC/B,IAAIC,EAAUx6D,EAAK0H,WAAW,CAC1BpL,KAAM,OACNiF,IAAK,KACL+lB,QAASgzC,EACT/yC,MAAO,CACHjrB,KAAM,QACNiF,IAAK,KACL8L,UAAU,IAAItF,GAAOU,UAAU0xD,EAAK3zC,KAExCgvC,gBAAiB7zD,EAAK6zD,kBAY1B,OATAjuC,EAAMla,UAAW,IAAItF,GAAOU,UAAU0xD,EAAK1zC,KAC3CuzC,EAAU3sD,UAAW,IAAItF,GAAOU,UAAU0xD,EAAKxzC,cAE3CkzC,EACA75D,EAAK8J,OAAO0wD,EAAST,GAErB/5D,EAAK8J,OAAO0wD,EAAS9xD,IAGlB,IAMnBmxD,IAGAA,GAAgBxD,EAAc3sD,MAAK,SAAS+wD,GACxC,OAAOrE,EAAU1sD,MAAK,SAAS0E,GAC3B,OAAOA,EAAS8X,gBAAkBu0C,EAAav0C,qBAK3DmwC,EAAcntD,MAAK,SAAS7G,GACxBu3D,EAAoBv3D,EAAK6jB,gBAAiB,QAKtDztB,EAAOD,QAAU,SAAsBqgC,GACnC/H,EAAK+H,EAAK,CACNulB,MAAO,OACP7T,SAAS,EACT3Z,MAAOulC,M,0zEC1KF3+C,EAAW,SAACkjD,GACvB,IAAM9/C,EAAM,IAAI,IAAI,CAAE+O,WAAW,IAClB/O,EAAIpD,SAASrS,EAAQu1D,GAEpC,GAAmB,OAAf9/C,EAAID,aAAkCtR,IAAfuR,EAAID,OAAsB,CAEnD,IACI,EAAyB,GAS7B,OARAC,EAAID,OAAOlb,SAAQ,SAACqV,GAClB,IAAM6lD,EAAa7lD,EAAMyU,WAAW1iB,MAAM,KAAK/J,OAC3C69D,IAJe5gD,IAKjB,EAAalR,KAAK+xD,EAAY9lD,IACrB6lD,EANQ5gD,MAOjB,EAAe,CAAC6gD,EAAY9lD,QAGzB,EAEP,MAAO,IAIL8lD,EAAc,SAAC9lD,GACnB,gBAAUA,EAAM0gB,eACInsB,IAAlByL,EAAMuF,QAAwB,GAAK,IAAIvF,EAAMuF,UAIpClV,EAAS,CACpB,QAAW,0CACX,YAAe,CACb,UAAa,CACX,MAAS,CACP,CACE,KAAQ,UAEV,CACE,KAAQ,aAKhB,WAAc,CACZ,SAAY,CACV,MAAS,CACP,MAAS,CACP,CACE,MAAS,CACP,CACE,KAAQ,UAEV,CACE,MAAS,CACP,MAAS,CACP,CACE,KAAQ,UAEV,CACE,KAAQ,4BAGZ,SAAY,EACZ,SAAY,EACZ,KAAQ,SAEV,KAAQ,UAGZ,SAAY,EACZ,SAAY,EACZ,KAAQ,SAEV,CACE,MAAS,CACP,CACE,KAAQ,UAEV,CACE,MAAS,CACP,CACE,KAAQ,SACR,qBAAwB,CACtB,KAAQ,4BAGZ,CACE,KAAQ,QACR,MAAS,CACP,MAAS,CACP,CACE,KAAQ,2BAEV,CACE,MAAS,CACP,CACE,KAAQ,2BAEV,CACE,KAAQ,4BAGZ,SAAY,EACZ,SAAY,EACZ,KAAQ,eAQtB,SAAY,EACZ,SAAY,EACZ,KAAQ,SAEV,CACE,KAAQ,UAEV,CACE,KAAQ,OAId,KAAQ,SAEV,UAAa,CACX,KAAQ,SACR,qBAAwB,CACtB,KAAQ,SACR,qBAAwB,CACtB,KAAQ,6BAId,WAAc,CACZ,MAAS,CACP,MAAS,CACP,MAAS,CACP,CACE,KAAQ,UAEV,CACE,KAAQ,WAGZ,SAAY,EACZ,SAAY,EACZ,KAAQ,SAEV,KAAQ,SAEV,KAAQ,UAGZ,KAAQ,U,o1CCvJG01D,EAAU,SACrBC,EACAC,G,YAAA,IAAAA,MAAA,G,6FAIA,IADMpgD,EAASnD,EAASsjD,IACbh+D,OAAS,EAClB,MAAM,IAAI4J,MAAM,2BAA2BiU,EAAO3L,KAAK,O,OAInDgsD,EAAc,IAAKF,GAGrBl7D,MAAMC,QAAQm7D,EAAY3tD,UAC5B,GAAMwtB,QAAQrS,IACZwyC,EAAY3tD,SAASjN,KACnB,SAAO8Q,EAAqBxY,GAAS,0C,8DACd,iBAAVwY,EAAP,MACEA,EAAMnB,WAAW,KACA,GAAMkrD,EAAc/pD,EAAMjE,MAAM,GAAI8tD,IADrD,M,OACIG,EAAa,SAClBF,EAAY3tD,SAA6B3U,GAAKwiE,E,iBAGnD,MAAO,CAAP,EAAOhqD,eAVX,M,OACF,S,iBAeF,MAAO,CAAP,EAAO8pD,WAGIG,EAAmB,SAAOlkD,GAAW,0C,4DAE9C,O,uBAAO,CAAP,EAAO,MAAQ,kBAAkBA,GAAOsjC,Q,iCAIrB,O,uBADX/hC,EAAM,IAAI4Z,IAAInb,GACH,GAAM6iB,MAAMthB,EAAI4iD,O,cAA3Bj9B,EAAW,UACwB,QAArC,EAACA,EAAS3D,QAAQjhC,IAAI,uBAAe,QAAI,IAAI8hE,SAAS,SACjD,GAAMl9B,EAASpB,QADpB,M,OACF,MAAO,CAAP,EAAO,U,OAEA,SAAMoB,EAAS7I,Q,OAAtB,MAAO,CAAP,EAAO,U,2BAGF,O,SAAA,GAAMuF,QAAQ/jB,QAAQ,OAAOG,EAAG,Q,OAAvC,MAAO,CAAP,EAAO,U,+CAKAgkD,EAAgB,SAC3BhkD,EACA8jD,GAAoD,0C,wDAGnC,O,sBAAA,GAAMA,EAAU9jD,I,cAAzBsjC,EAAS,SAEX,YAASA,GACJ,GAAMsgB,EAAQtgB,EAAmBwgB,IADtC,M,OACF,MAAO,CAAP,EAAO,U,OAEP,MAAO,CAAP,EAAOxgB,G,0BAGT,O,SAAO,CAAP,EAAO,OAAOtjC,EAAG,O,8mBC3DRgiB,EAAS,SAAC/pB,G,QAEfyL,EAASnD,EAAStI,GACxB,GAAIyL,EAAO7d,OAAS,EAClB,MAAM,IAAI4J,MAAM,2BAA2BiU,EAAO3L,KAAK,OAOzD,IAHA,IAAMhP,EAAOs7D,EAAM,IAAKpsD,GAAU,IAAI0G,K,WAG7Bld,GACP,IAAMiJ,EAAO3B,EAAKtH,GAGlB,QAC4B2Q,IAA1B1H,EAAKuN,QAAQ7B,UACoB,IAAjC1L,EAAKuN,QAAQ7B,SAASvQ,OACtB,CAEA,QAAoBuM,IAAhB1H,EAAKkiD,QACD0X,EAA6C,QAA/B,EAAG55D,EAAKkiD,OAAO30C,QAAQ7B,gBAAQ,QAAI,IACxCuR,OACb28C,EAAeC,WAAU,SAACtqD,GAAU,OAAAA,IAAUvP,EAAKuN,WACnD,G,iBAQN,IAAK,IAAI,EAAI,EAAG,EAAIvN,EAAKuN,QAAQ7B,SAASvQ,OAAQ,IAAK,CACrD,IAAMoU,EAAQvP,EAAKuN,QAAQ7B,SAAS,GACpC,GAAqB,iBAAV6D,EACT,GAAqB,IAAjBA,EAAMpU,OAER6E,EAAKuN,QAAQ7B,SAASuR,OAAO,IAAK,QAC7B,GAAI,EAAI,EAAG,CAChB,IAAM68C,EAAc95D,EAAKuN,QAAQ7B,SAAS,EAAI,GACnB,iBAAhBouD,GAET95D,EAAKuN,QAAQ7B,SAASuR,SAAS,EAAG,EAAG,GAAG68C,EAAcvqD,IAO9D,IAAMwqD,EAAiC,QAAzB,EAAG/5D,EAAKuN,QAAQoB,iBAAS,QAAI,GAyE3C,GAxEAlX,OAAOoG,KAAKk8D,GAAUj8D,SAAQ,SAAC8Q,G,UACvB,YAACG,EAAA,KAAKC,EAAA,KAEZ,GAAIhP,EAAKg6D,YAAY1mD,IAAItE,IAGvB,QAAoBtH,IAAhB1H,EAAKkiD,OAAsB,CAE7B,GAAY,IAARnzC,GAAa/O,EAAKkiD,OAAO+X,iBAAiB3mD,IAAItE,GAEhD,mBADO+qD,EAASnrD,GAOlB,IAAsC,QAAlC,EAAC5O,EAAKkiD,OAAO8X,YAAYpiE,IAAIoX,UAAK,QAAI,GAAK,EAAG,CAC1C,cAAehP,EAAKkiD,OAAO30C,UAC/BvN,EAAKkiD,OAAO30C,QAAQoB,UAAY,IAGlC,IAAMurD,EAAal6D,EAAKkiD,OAAO30C,QAC5BoB,UACGwrD,EAGH,QAHiB,EAClB1iE,OAAOoG,KAAKq8D,GAAYlhB,MAAK,SAACpqC,GAC5B,OAAAA,EAAS8qD,SAAS1qD,aACnB,QAAIorD,EAAcrrD,EAAK,IACnBsrD,EAAD,UAAC,GACDC,EAAwC,QAA7B,EAAGJ,EAAWC,UAAe,QAAI,GAC5CI,EAAaR,EAASnrD,QAGOlH,IAA/BwyD,EAAWC,WACND,EAAWC,UAIbJ,EAASnrD,GAGhBsrD,EAAWE,EAAsB,IAARrrD,EAAYsrD,EAAY,EAAGrrD,IAAS,EAAH,KAC5C,IAARD,EAAYurD,EAAc,IAC3BC,iBAMFR,EAASnrD,MAKiB,IAAjCnX,OAAOoG,KAAKk8D,GAAU5+D,eACjB6E,EAAKuN,QAAQoB,UAIlB1Q,MAAMC,QAAQ8B,EAAKuN,QAAQU,cAC7BjO,EAAKuN,QAAQU,WAAajO,EAAKuN,QAAQU,WAAWhG,QAChD,SAACuyD,GAAc,OAAqB,IAArBA,EAAUr/D,WAKzB8C,MAAMC,QAAQ8B,EAAKuN,QAAQU,aACU,IAAnCjO,EAAKuN,QAAQU,WAAW9S,eAAqB6E,EAAKuN,QAAQU,aAM1D,eAAgBjO,EAAKuN,YAAW,cAAevN,EAAKuN,eACpC7F,IAAhB1H,EAAKkiD,OAAsB,CAC7B,IAAM0X,EACAa,GADAb,EAAiB55D,EAAKkiD,OAAO30C,QAAQ7B,UACNmuD,WACnC,SAACtqD,GAAU,OAAAA,IAAUvP,EAAKuN,YAGL,IAAnBktD,GACFb,EAAe38C,OAAM,MAArB28C,EAAc,GAAQa,EAAe,GAAMz6D,EAAKuN,QAAQ7B,aAvHvD3U,EAAIsH,EAAKlD,OAAS,EAAGpE,GAAK,EAAGA,I,EAA7BA,GA6HT,OAAOsH,EAAK,GAAGkP,SAKXuB,EAAgB,SAACF,GACrB,IAAMG,EAHU,KAGMjS,QAAQ8R,EAAS,IAAM,EAE7C,MAAO,CAACG,EADKA,EAAM,EAAIH,EAAStD,MAAM,GAAKsD,IAIvCwrD,EAAgB,SAACrrD,EAAaC,GAClC,SAAG,CAAC,GAAI,IAAK,KAAKD,GAAOC,GAErB0rD,EAAY,SAACC,GACjB,IACE,OAAO,IAAKrjC,OAAOqjC,GAAQ9sD,IAC3B,MAAOsF,GAEP,OADAD,QAAQC,MAAMA,GACPwnD,IAILC,EAAgB,eAChBC,EAAkB,SACtBp1D,EACA+M,GAYA,YAZA,IAAAA,MAAA,IAAuByB,KAEvBxO,EAAI3H,SAAQ,SAACg9D,GACX,GAAI78D,MAAMC,QAAQ48D,GAChBD,EAAgBC,EAAKtoD,QAChB,GAAmB,iBAARsoD,EAEhB,IADA,IAAMz4D,EAAQy4D,EAAIz4D,MAAMu4D,GACf7jE,EAAI,EAAGA,GAAKsL,UAAS,IAAIlH,OAAQpE,IACxCyb,EAAI0B,IAAK7R,EAAmBtL,GAAGuU,MAAM,GAAI,OAIxCkH,GAUHmnD,EAAQ,SACZpsD,EACA0sD,EACA/X,GAQA,I,QANMx2C,EAA2B,QAAnB,EAAG6B,EAAQ7B,gBAAQ,QAAI,GAC/BsuD,EAAmC,IAAIhmD,IACvChU,EAAO,CAAEuN,QAAO,EAAE20C,OAAM,EAAE8X,YAAW,EAAEC,iBAAgB,GAEvDc,EAAkB,CAAC/6D,GAEhBjJ,EAAI,EAAGA,EAAI2U,EAASvQ,OAAQpE,IAAK,CACxC,IAAM6G,EAAO8N,EAAS3U,GACtB,GAAI,YAAS6G,GAAO,CAClB,IAAM,EAAUA,EACV+Q,EAA6B,QAApB,EAAG,EAAQA,iBAAS,QAAI,GAEjCqsD,EAAarB,EACjB,EACA,IAAI1lD,IAAI,EACHgmD,EACAxiE,OAAOoG,KAAK8Q,GAAWlQ,KACxB,SAACmQ,GAAqB,OAAAE,EAAcF,GAAU,QAGlD5O,GAGF,IAAIiU,IACF+mD,EACGv8D,KAAI,SAACuB,GAAS,SAAIA,EAAKg6D,YAAYn8D,WACnC2N,QAAO,SAAC/F,EAAK5H,GAAS,SAAI4H,EAAQ5H,KAAO,KAC5CC,SAAQ,SAAC8Q,G,MACTorD,EAAYxnD,IAAI5D,GAAoC,QAA1B,EAACorD,EAAYpiE,IAAIgX,UAAS,QAAI,GAAK,MAG/DmsD,EAAgB7zD,KAAI,MAApB6zD,EAAe,EAASC,SACnB,GAAI/8D,MAAMC,QAAQN,GAAO,CACfi9D,EAAgBj9D,GACxBE,SAAQ,SAAC8Q,G,MACdorD,EAAYxnD,IAAI5D,GAAoC,QAA1B,EAACorD,EAAYpiE,IAAIgX,UAAS,QAAI,GAAK,WAG/DlD,EAASuR,OAAOlmB,EAAG,EAAG2jE,EAAU98D,IAIpC,OAAOm9D,G","file":"ainsley.cjs.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 212);\n","var TokenStream = require('../common/TokenStream');\nvar adoptBuffer = require('../common/adopt-buffer');\n\nvar constants = require('./const');\nvar TYPE = constants.TYPE;\n\nvar charCodeDefinitions = require('./char-code-definitions');\nvar isNewline = charCodeDefinitions.isNewline;\nvar isName = charCodeDefinitions.isName;\nvar isValidEscape = charCodeDefinitions.isValidEscape;\nvar isNumberStart = charCodeDefinitions.isNumberStart;\nvar isIdentifierStart = charCodeDefinitions.isIdentifierStart;\nvar charCodeCategory = charCodeDefinitions.charCodeCategory;\nvar isBOM = charCodeDefinitions.isBOM;\n\nvar utils = require('./utils');\nvar cmpStr = utils.cmpStr;\nvar getNewlineLength = utils.getNewlineLength;\nvar findWhiteSpaceEnd = utils.findWhiteSpaceEnd;\nvar consumeEscaped = utils.consumeEscaped;\nvar consumeName = utils.consumeName;\nvar consumeNumber = utils.consumeNumber;\nvar consumeBadUrlRemnants = utils.consumeBadUrlRemnants;\n\nvar OFFSET_MASK = 0x00FFFFFF;\nvar TYPE_SHIFT = 24;\n\nfunction tokenize(source, stream) {\n    function getCharCode(offset) {\n        return offset < sourceLength ? source.charCodeAt(offset) : 0;\n    }\n\n    // § 4.3.3. Consume a numeric token\n    function consumeNumericToken() {\n        // Consume a number and let number be the result.\n        offset = consumeNumber(source, offset);\n\n        // If the next 3 input code points would start an identifier, then:\n        if (isIdentifierStart(getCharCode(offset), getCharCode(offset + 1), getCharCode(offset + 2))) {\n            // Create a <dimension-token> with the same value and type flag as number, and a unit set initially to the empty string.\n            // Consume a name. Set the <dimension-token>’s unit to the returned value.\n            // Return the <dimension-token>.\n            type = TYPE.Dimension;\n            offset = consumeName(source, offset);\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0025 PERCENTAGE SIGN (%), consume it.\n        if (getCharCode(offset) === 0x0025) {\n            // Create a <percentage-token> with the same value as number, and return it.\n            type = TYPE.Percentage;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create a <number-token> with the same value and type flag as number, and return it.\n        type = TYPE.Number;\n    }\n\n    // § 4.3.4. Consume an ident-like token\n    function consumeIdentLikeToken() {\n        const nameStartOffset = offset;\n\n        // Consume a name, and let string be the result.\n        offset = consumeName(source, offset);\n\n        // If string’s value is an ASCII case-insensitive match for \"url\",\n        // and the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        if (cmpStr(source, nameStartOffset, offset, 'url') && getCharCode(offset) === 0x0028) {\n            // While the next two input code points are whitespace, consume the next input code point.\n            offset = findWhiteSpaceEnd(source, offset + 1);\n\n            // If the next one or two input code points are U+0022 QUOTATION MARK (\"), U+0027 APOSTROPHE ('),\n            // or whitespace followed by U+0022 QUOTATION MARK (\") or U+0027 APOSTROPHE ('),\n            // then create a <function-token> with its value set to string and return it.\n            if (getCharCode(offset) === 0x0022 ||\n                getCharCode(offset) === 0x0027) {\n                type = TYPE.Function;\n                offset = nameStartOffset + 4;\n                return;\n            }\n\n            // Otherwise, consume a url token, and return it.\n            consumeUrlToken();\n            return;\n        }\n\n        // Otherwise, if the next input code point is U+0028 LEFT PARENTHESIS ((), consume it.\n        // Create a <function-token> with its value set to string and return it.\n        if (getCharCode(offset) === 0x0028) {\n            type = TYPE.Function;\n            offset++;\n            return;\n        }\n\n        // Otherwise, create an <ident-token> with its value set to string and return it.\n        type = TYPE.Ident;\n    }\n\n    // § 4.3.5. Consume a string token\n    function consumeStringToken(endingCodePoint) {\n        // This algorithm may be called with an ending code point, which denotes the code point\n        // that ends the string. If an ending code point is not specified,\n        // the current input code point is used.\n        if (!endingCodePoint) {\n            endingCodePoint = getCharCode(offset++);\n        }\n\n        // Initially create a <string-token> with its value set to the empty string.\n        type = TYPE.String;\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            var code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // ending code point\n                case endingCodePoint:\n                    // Return the <string-token>.\n                    offset++;\n                    return;\n\n                // EOF\n                case charCodeCategory.Eof:\n                    // This is a parse error. Return the <string-token>.\n                    return;\n\n                // newline\n                case charCodeCategory.WhiteSpace:\n                    if (isNewline(code)) {\n                        // This is a parse error. Reconsume the current input code point,\n                        // create a <bad-string-token>, and return it.\n                        offset += getNewlineLength(source, offset, code);\n                        type = TYPE.BadString;\n                        return;\n                    }\n                    break;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the next input code point is EOF, do nothing.\n                    if (offset === source.length - 1) {\n                        break;\n                    }\n\n                    var nextCode = getCharCode(offset + 1);\n\n                    // Otherwise, if the next input code point is a newline, consume it.\n                    if (isNewline(nextCode)) {\n                        offset += getNewlineLength(source, offset + 1, nextCode);\n                    } else if (isValidEscape(code, nextCode)) {\n                        // Otherwise, (the stream starts with a valid escape) consume\n                        // an escaped code point and append the returned code point to\n                        // the <string-token>’s value.\n                        offset = consumeEscaped(source, offset) - 1;\n                    }\n                    break;\n\n                // anything else\n                // Append the current input code point to the <string-token>’s value.\n            }\n        }\n    }\n\n    // § 4.3.6. Consume a url token\n    // Note: This algorithm assumes that the initial \"url(\" has already been consumed.\n    // This algorithm also assumes that it’s being called to consume an \"unquoted\" value, like url(foo).\n    // A quoted value, like url(\"foo\"), is parsed as a <function-token>. Consume an ident-like token\n    // automatically handles this distinction; this algorithm shouldn’t be called directly otherwise.\n    function consumeUrlToken() {\n        // Initially create a <url-token> with its value set to the empty string.\n        type = TYPE.Url;\n\n        // Consume as much whitespace as possible.\n        offset = findWhiteSpaceEnd(source, offset);\n\n        // Repeatedly consume the next input code point from the stream:\n        for (; offset < source.length; offset++) {\n            var code = source.charCodeAt(offset);\n\n            switch (charCodeCategory(code)) {\n                // U+0029 RIGHT PARENTHESIS ())\n                case 0x0029:\n                    // Return the <url-token>.\n                    offset++;\n                    return;\n\n                // EOF\n                case charCodeCategory.Eof:\n                    // This is a parse error. Return the <url-token>.\n                    return;\n\n                // whitespace\n                case charCodeCategory.WhiteSpace:\n                    // Consume as much whitespace as possible.\n                    offset = findWhiteSpaceEnd(source, offset);\n\n                    // If the next input code point is U+0029 RIGHT PARENTHESIS ()) or EOF,\n                    // consume it and return the <url-token>\n                    // (if EOF was encountered, this is a parse error);\n                    if (getCharCode(offset) === 0x0029 || offset >= source.length) {\n                        if (offset < source.length) {\n                            offset++;\n                        }\n                        return;\n                    }\n\n                    // otherwise, consume the remnants of a bad url, create a <bad-url-token>,\n                    // and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+0022 QUOTATION MARK (\")\n                // U+0027 APOSTROPHE (')\n                // U+0028 LEFT PARENTHESIS (()\n                // non-printable code point\n                case 0x0022:\n                case 0x0027:\n                case 0x0028:\n                case charCodeCategory.NonPrintable:\n                    // This is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // U+005C REVERSE SOLIDUS (\\)\n                case 0x005C:\n                    // If the stream starts with a valid escape, consume an escaped code point and\n                    // append the returned code point to the <url-token>’s value.\n                    if (isValidEscape(code, getCharCode(offset + 1))) {\n                        offset = consumeEscaped(source, offset) - 1;\n                        break;\n                    }\n\n                    // Otherwise, this is a parse error. Consume the remnants of a bad url,\n                    // create a <bad-url-token>, and return it.\n                    offset = consumeBadUrlRemnants(source, offset);\n                    type = TYPE.BadUrl;\n                    return;\n\n                // anything else\n                // Append the current input code point to the <url-token>’s value.\n            }\n        }\n    }\n\n    if (!stream) {\n        stream = new TokenStream();\n    }\n\n    // ensure source is a string\n    source = String(source || '');\n\n    var sourceLength = source.length;\n    var offsetAndType = adoptBuffer(stream.offsetAndType, sourceLength + 1); // +1 because of eof-token\n    var balance = adoptBuffer(stream.balance, sourceLength + 1);\n    var tokenCount = 0;\n    var start = isBOM(getCharCode(0));\n    var offset = start;\n    var balanceCloseType = 0;\n    var balanceStart = 0;\n    var balancePrev = 0;\n\n    // https://drafts.csswg.org/css-syntax-3/#consume-token\n    // § 4.3.1. Consume a token\n    while (offset < sourceLength) {\n        var code = source.charCodeAt(offset);\n        var type = 0;\n\n        balance[tokenCount] = sourceLength;\n\n        switch (charCodeCategory(code)) {\n            // whitespace\n            case charCodeCategory.WhiteSpace:\n                // Consume as much whitespace as possible. Return a <whitespace-token>.\n                type = TYPE.WhiteSpace;\n                offset = findWhiteSpaceEnd(source, offset + 1);\n                break;\n\n            // U+0022 QUOTATION MARK (\")\n            case 0x0022:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0023 NUMBER SIGN (#)\n            case 0x0023:\n                // If the next input code point is a name code point or the next two input code points are a valid escape, then:\n                if (isName(getCharCode(offset + 1)) || isValidEscape(getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // Create a <hash-token>.\n                    type = TYPE.Hash;\n\n                    // If the next 3 input code points would start an identifier, set the <hash-token>’s type flag to \"id\".\n                    // if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    //     // TODO: set id flag\n                    // }\n\n                    // Consume a name, and set the <hash-token>’s value to the returned string.\n                    offset = consumeName(source, offset + 1);\n\n                    // Return the <hash-token>.\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0027 APOSTROPHE (')\n            case 0x0027:\n                // Consume a string token and return it.\n                consumeStringToken();\n                break;\n\n            // U+0028 LEFT PARENTHESIS (()\n            case 0x0028:\n                // Return a <(-token>.\n                type = TYPE.LeftParenthesis;\n                offset++;\n                break;\n\n            // U+0029 RIGHT PARENTHESIS ())\n            case 0x0029:\n                // Return a <)-token>.\n                type = TYPE.RightParenthesis;\n                offset++;\n                break;\n\n            // U+002B PLUS SIGN (+)\n            case 0x002B:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+002C COMMA (,)\n            case 0x002C:\n                // Return a <comma-token>.\n                type = TYPE.Comma;\n                offset++;\n                break;\n\n            // U+002D HYPHEN-MINUS (-)\n            case 0x002D:\n                // If the input stream starts with a number, reconsume the current input code point, consume a numeric token, and return it.\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, if the next 2 input code points are U+002D HYPHEN-MINUS U+003E GREATER-THAN SIGN (->), consume them and return a <CDC-token>.\n                    if (getCharCode(offset + 1) === 0x002D &&\n                        getCharCode(offset + 2) === 0x003E) {\n                        type = TYPE.CDC;\n                        offset = offset + 3;\n                    } else {\n                        // Otherwise, if the input stream starts with an identifier, ...\n                        if (isIdentifierStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                            // ... reconsume the current input code point, consume an ident-like token, and return it.\n                            consumeIdentLikeToken();\n                        } else {\n                            // Otherwise, return a <delim-token> with its value set to the current input code point.\n                            type = TYPE.Delim;\n                            offset++;\n                        }\n                    }\n                }\n                break;\n\n            // U+002E FULL STOP (.)\n            case 0x002E:\n                // If the input stream starts with a number, ...\n                if (isNumberStart(code, getCharCode(offset + 1), getCharCode(offset + 2))) {\n                    // ... reconsume the current input code point, consume a numeric token, and return it.\n                    consumeNumericToken();\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+002F SOLIDUS (/)\n            case 0x002F:\n                // If the next two input code point are U+002F SOLIDUS (/) followed by a U+002A ASTERISK (*),\n                if (getCharCode(offset + 1) === 0x002A) {\n                    // ... consume them and all following code points up to and including the first U+002A ASTERISK (*)\n                    // followed by a U+002F SOLIDUS (/), or up to an EOF code point.\n                    type = TYPE.Comment;\n                    offset = source.indexOf('*/', offset + 2) + 2;\n                    if (offset === 1) {\n                        offset = source.length;\n                    }\n                } else {\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+003A COLON (:)\n            case 0x003A:\n                // Return a <colon-token>.\n                type = TYPE.Colon;\n                offset++;\n                break;\n\n            // U+003B SEMICOLON (;)\n            case 0x003B:\n                // Return a <semicolon-token>.\n                type = TYPE.Semicolon;\n                offset++;\n                break;\n\n            // U+003C LESS-THAN SIGN (<)\n            case 0x003C:\n                // If the next 3 input code points are U+0021 EXCLAMATION MARK U+002D HYPHEN-MINUS U+002D HYPHEN-MINUS (!--), ...\n                if (getCharCode(offset + 1) === 0x0021 &&\n                    getCharCode(offset + 2) === 0x002D &&\n                    getCharCode(offset + 3) === 0x002D) {\n                    // ... consume them and return a <CDO-token>.\n                    type = TYPE.CDO;\n                    offset = offset + 4;\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+0040 COMMERCIAL AT (@)\n            case 0x0040:\n                // If the next 3 input code points would start an identifier, ...\n                if (isIdentifierStart(getCharCode(offset + 1), getCharCode(offset + 2), getCharCode(offset + 3))) {\n                    // ... consume a name, create an <at-keyword-token> with its value set to the returned value, and return it.\n                    type = TYPE.AtKeyword;\n                    offset = consumeName(source, offset + 1);\n                } else {\n                    // Otherwise, return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n\n                break;\n\n            // U+005B LEFT SQUARE BRACKET ([)\n            case 0x005B:\n                // Return a <[-token>.\n                type = TYPE.LeftSquareBracket;\n                offset++;\n                break;\n\n            // U+005C REVERSE SOLIDUS (\\)\n            case 0x005C:\n                // If the input stream starts with a valid escape, ...\n                if (isValidEscape(code, getCharCode(offset + 1))) {\n                    // ... reconsume the current input code point, consume an ident-like token, and return it.\n                    consumeIdentLikeToken();\n                } else {\n                    // Otherwise, this is a parse error. Return a <delim-token> with its value set to the current input code point.\n                    type = TYPE.Delim;\n                    offset++;\n                }\n                break;\n\n            // U+005D RIGHT SQUARE BRACKET (])\n            case 0x005D:\n                // Return a <]-token>.\n                type = TYPE.RightSquareBracket;\n                offset++;\n                break;\n\n            // U+007B LEFT CURLY BRACKET ({)\n            case 0x007B:\n                // Return a <{-token>.\n                type = TYPE.LeftCurlyBracket;\n                offset++;\n                break;\n\n            // U+007D RIGHT CURLY BRACKET (})\n            case 0x007D:\n                // Return a <}-token>.\n                type = TYPE.RightCurlyBracket;\n                offset++;\n                break;\n\n            // digit\n            case charCodeCategory.Digit:\n                // Reconsume the current input code point, consume a numeric token, and return it.\n                consumeNumericToken();\n                break;\n\n            // name-start code point\n            case charCodeCategory.NameStart:\n                // Reconsume the current input code point, consume an ident-like token, and return it.\n                consumeIdentLikeToken();\n                break;\n\n            // EOF\n            case charCodeCategory.Eof:\n                // Return an <EOF-token>.\n                break;\n\n            // anything else\n            default:\n                // Return a <delim-token> with its value set to the current input code point.\n                type = TYPE.Delim;\n                offset++;\n        }\n\n        switch (type) {\n            case balanceCloseType:\n                balancePrev = balanceStart & OFFSET_MASK;\n                balanceStart = balance[balancePrev];\n                balanceCloseType = balanceStart >> TYPE_SHIFT;\n                balance[tokenCount] = balancePrev;\n                balance[balancePrev++] = tokenCount;\n                for (; balancePrev < tokenCount; balancePrev++) {\n                    if (balance[balancePrev] === sourceLength) {\n                        balance[balancePrev] = tokenCount;\n                    }\n                }\n                break;\n\n            case TYPE.LeftParenthesis:\n            case TYPE.Function:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightParenthesis;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n\n            case TYPE.LeftSquareBracket:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightSquareBracket;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n\n            case TYPE.LeftCurlyBracket:\n                balance[tokenCount] = balanceStart;\n                balanceCloseType = TYPE.RightCurlyBracket;\n                balanceStart = (balanceCloseType << TYPE_SHIFT) | tokenCount;\n                break;\n        }\n\n        offsetAndType[tokenCount++] = (type << TYPE_SHIFT) | offset;\n    }\n\n    // finalize buffers\n    offsetAndType[tokenCount] = (TYPE.EOF << TYPE_SHIFT) | offset; // <EOF-token>\n    balance[tokenCount] = sourceLength;\n    balance[sourceLength] = sourceLength; // prevents false positive balance match with any token\n    while (balanceStart !== 0) {\n        balancePrev = balanceStart & OFFSET_MASK;\n        balanceStart = balance[balancePrev];\n        balance[balancePrev] = sourceLength;\n    }\n\n    // update stream\n    stream.source = source;\n    stream.firstCharOffset = start;\n    stream.offsetAndType = offsetAndType;\n    stream.tokenCount = tokenCount;\n    stream.balance = balance;\n    stream.reset();\n    stream.next();\n\n    return stream;\n}\n\n// extend tokenizer with constants\nObject.keys(constants).forEach(function(key) {\n    tokenize[key] = constants[key];\n});\n\n// extend tokenizer with static methods from utils\nObject.keys(charCodeDefinitions).forEach(function(key) {\n    tokenize[key] = charCodeDefinitions[key];\n});\nObject.keys(utils).forEach(function(key) {\n    tokenize[key] = utils[key];\n});\n\nmodule.exports = tokenize;\n","module.exports = require('./syntax');\n","export const isObject = (x: any): boolean =>\n  !!(x !== null && typeof x === \"object\" && !Array.isArray(x));\n\nexport const combinations = <T>(mods: T[][]) => {\n  let list: T[][] = [[]];\n  let index = 0;\n  while (index < mods.length) {\n    list = mods[index++].flatMap((option) =>\n      list.map((prev) => prev.concat([option]))\n    );\n  }\n  return list;\n};\n\nexport const memoize = (func: (arg1: string, arg2?: string) => any): any => {\n  const cache: Record<string, any> = {};\n  return (arg1: string, arg2?: string) => {\n    const cacheKey = arg1 + \"{}\" + (arg2 as string);\n    if (!(cache[cacheKey] as boolean)) cache[cacheKey] = func(arg1, arg2);\n    return cache[cacheKey];\n  };\n};\n","var tokenizer = require('../../tokenizer');\nvar TYPE = tokenizer.TYPE;\n\nvar WhiteSpace = TYPE.WhiteSpace;\nvar Semicolon = TYPE.Semicolon;\nvar LeftCurlyBracket = TYPE.LeftCurlyBracket;\nvar Delim = TYPE.Delim;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction getOffsetExcludeWS() {\n    if (this.scanner.tokenIndex > 0) {\n        if (this.scanner.lookupType(-1) === WhiteSpace) {\n            return this.scanner.tokenIndex > 1\n                ? this.scanner.getTokenStart(this.scanner.tokenIndex - 1)\n                : this.scanner.firstCharOffset;\n        }\n    }\n\n    return this.scanner.tokenStart;\n}\n\n// 0, 0, false\nfunction balanceEnd() {\n    return 0;\n}\n\n// LEFTCURLYBRACKET, 0, false\nfunction leftCurlyBracket(tokenType) {\n    return tokenType === LeftCurlyBracket ? 1 : 0;\n}\n\n// LEFTCURLYBRACKET, SEMICOLON, false\nfunction leftCurlyBracketOrSemicolon(tokenType) {\n    return tokenType === LeftCurlyBracket || tokenType === Semicolon ? 1 : 0;\n}\n\n// EXCLAMATIONMARK, SEMICOLON, false\nfunction exclamationMarkOrSemicolon(tokenType, source, offset) {\n    if (tokenType === Delim && source.charCodeAt(offset) === EXCLAMATIONMARK) {\n        return 1;\n    }\n\n    return tokenType === Semicolon ? 1 : 0;\n}\n\n// 0, SEMICOLON, true\nfunction semicolonIncluded(tokenType) {\n    return tokenType === Semicolon ? 2 : 0;\n}\n\nmodule.exports = {\n    name: 'Raw',\n    structure: {\n        value: String\n    },\n    parse: function(startToken, mode, excludeWhiteSpace) {\n        var startOffset = this.scanner.getTokenStart(startToken);\n        var endOffset;\n\n        this.scanner.skip(\n            this.scanner.getRawLength(startToken, mode || balanceEnd)\n        );\n\n        if (excludeWhiteSpace && this.scanner.tokenStart > startOffset) {\n            endOffset = getOffsetExcludeWS.call(this);\n        } else {\n            endOffset = this.scanner.tokenStart;\n        }\n\n        return {\n            type: 'Raw',\n            loc: this.getLocation(startOffset, endOffset),\n            value: this.scanner.source.substring(startOffset, endOffset)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    },\n\n    mode: {\n        default: balanceEnd,\n        leftCurlyBracket: leftCurlyBracket,\n        leftCurlyBracketOrSemicolon: leftCurlyBracketOrSemicolon,\n        exclamationMarkOrSemicolon: exclamationMarkOrSemicolon,\n        semicolonIncluded: semicolonIncluded\n    }\n};\n","'use strict';\n\n\nmodule.exports = {\n  copy: copy,\n  checkDataType: checkDataType,\n  checkDataTypes: checkDataTypes,\n  coerceToTypes: coerceToTypes,\n  toHash: toHash,\n  getProperty: getProperty,\n  escapeQuotes: escapeQuotes,\n  equal: require('fast-deep-equal'),\n  ucs2length: require('./ucs2length'),\n  varOccurences: varOccurences,\n  varReplace: varReplace,\n  cleanUpCode: cleanUpCode,\n  finalCleanUpCode: finalCleanUpCode,\n  schemaHasRules: schemaHasRules,\n  schemaHasRulesExcept: schemaHasRulesExcept,\n  schemaUnknownRules: schemaUnknownRules,\n  toQuotedString: toQuotedString,\n  getPathExpr: getPathExpr,\n  getPath: getPath,\n  getData: getData,\n  unescapeFragment: unescapeFragment,\n  unescapeJsonPointer: unescapeJsonPointer,\n  escapeFragment: escapeFragment,\n  escapeJsonPointer: escapeJsonPointer\n};\n\n\nfunction copy(o, to) {\n  to = to || {};\n  for (var key in o) to[key] = o[key];\n  return to;\n}\n\n\nfunction checkDataType(dataType, data, negate) {\n  var EQUAL = negate ? ' !== ' : ' === '\n    , AND = negate ? ' || ' : ' && '\n    , OK = negate ? '!' : ''\n    , NOT = negate ? '' : '!';\n  switch (dataType) {\n    case 'null': return data + EQUAL + 'null';\n    case 'array': return OK + 'Array.isArray(' + data + ')';\n    case 'object': return '(' + OK + data + AND +\n                          'typeof ' + data + EQUAL + '\"object\"' + AND +\n                          NOT + 'Array.isArray(' + data + '))';\n    case 'integer': return '(typeof ' + data + EQUAL + '\"number\"' + AND +\n                           NOT + '(' + data + ' % 1)' +\n                           AND + data + EQUAL + data + ')';\n    default: return 'typeof ' + data + EQUAL + '\"' + dataType + '\"';\n  }\n}\n\n\nfunction checkDataTypes(dataTypes, data) {\n  switch (dataTypes.length) {\n    case 1: return checkDataType(dataTypes[0], data, true);\n    default:\n      var code = '';\n      var types = toHash(dataTypes);\n      if (types.array && types.object) {\n        code = types.null ? '(': '(!' + data + ' || ';\n        code += 'typeof ' + data + ' !== \"object\")';\n        delete types.null;\n        delete types.array;\n        delete types.object;\n      }\n      if (types.number) delete types.integer;\n      for (var t in types)\n        code += (code ? ' && ' : '' ) + checkDataType(t, data, true);\n\n      return code;\n  }\n}\n\n\nvar COERCE_TO_TYPES = toHash([ 'string', 'number', 'integer', 'boolean', 'null' ]);\nfunction coerceToTypes(optionCoerceTypes, dataTypes) {\n  if (Array.isArray(dataTypes)) {\n    var types = [];\n    for (var i=0; i<dataTypes.length; i++) {\n      var t = dataTypes[i];\n      if (COERCE_TO_TYPES[t]) types[types.length] = t;\n      else if (optionCoerceTypes === 'array' && t === 'array') types[types.length] = t;\n    }\n    if (types.length) return types;\n  } else if (COERCE_TO_TYPES[dataTypes]) {\n    return [dataTypes];\n  } else if (optionCoerceTypes === 'array' && dataTypes === 'array') {\n    return ['array'];\n  }\n}\n\n\nfunction toHash(arr) {\n  var hash = {};\n  for (var i=0; i<arr.length; i++) hash[arr[i]] = true;\n  return hash;\n}\n\n\nvar IDENTIFIER = /^[a-z$_][a-z$_0-9]*$/i;\nvar SINGLE_QUOTE = /'|\\\\/g;\nfunction getProperty(key) {\n  return typeof key == 'number'\n          ? '[' + key + ']'\n          : IDENTIFIER.test(key)\n            ? '.' + key\n            : \"['\" + escapeQuotes(key) + \"']\";\n}\n\n\nfunction escapeQuotes(str) {\n  return str.replace(SINGLE_QUOTE, '\\\\$&')\n            .replace(/\\n/g, '\\\\n')\n            .replace(/\\r/g, '\\\\r')\n            .replace(/\\f/g, '\\\\f')\n            .replace(/\\t/g, '\\\\t');\n}\n\n\nfunction varOccurences(str, dataVar) {\n  dataVar += '[^0-9]';\n  var matches = str.match(new RegExp(dataVar, 'g'));\n  return matches ? matches.length : 0;\n}\n\n\nfunction varReplace(str, dataVar, expr) {\n  dataVar += '([^0-9])';\n  expr = expr.replace(/\\$/g, '$$$$');\n  return str.replace(new RegExp(dataVar, 'g'), expr + '$1');\n}\n\n\nvar EMPTY_ELSE = /else\\s*{\\s*}/g\n  , EMPTY_IF_NO_ELSE = /if\\s*\\([^)]+\\)\\s*\\{\\s*\\}(?!\\s*else)/g\n  , EMPTY_IF_WITH_ELSE = /if\\s*\\(([^)]+)\\)\\s*\\{\\s*\\}\\s*else(?!\\s*if)/g;\nfunction cleanUpCode(out) {\n  return out.replace(EMPTY_ELSE, '')\n            .replace(EMPTY_IF_NO_ELSE, '')\n            .replace(EMPTY_IF_WITH_ELSE, 'if (!($1))');\n}\n\n\nvar ERRORS_REGEXP = /[^v.]errors/g\n  , REMOVE_ERRORS = /var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g\n  , REMOVE_ERRORS_ASYNC = /var errors = 0;|var vErrors = null;/g\n  , RETURN_VALID = 'return errors === 0;'\n  , RETURN_TRUE = 'validate.errors = null; return true;'\n  , RETURN_ASYNC = /if \\(errors === 0\\) return data;\\s*else throw new ValidationError\\(vErrors\\);/\n  , RETURN_DATA_ASYNC = 'return data;'\n  , ROOTDATA_REGEXP = /[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g\n  , REMOVE_ROOTDATA = /if \\(rootData === undefined\\) rootData = data;/;\n\nfunction finalCleanUpCode(out, async) {\n  var matches = out.match(ERRORS_REGEXP);\n  if (matches && matches.length == 2) {\n    out = async\n          ? out.replace(REMOVE_ERRORS_ASYNC, '')\n               .replace(RETURN_ASYNC, RETURN_DATA_ASYNC)\n          : out.replace(REMOVE_ERRORS, '')\n               .replace(RETURN_VALID, RETURN_TRUE);\n  }\n\n  matches = out.match(ROOTDATA_REGEXP);\n  if (!matches || matches.length !== 3) return out;\n  return out.replace(REMOVE_ROOTDATA, '');\n}\n\n\nfunction schemaHasRules(schema, rules) {\n  if (typeof schema == 'boolean') return !schema;\n  for (var key in schema) if (rules[key]) return true;\n}\n\n\nfunction schemaHasRulesExcept(schema, rules, exceptKeyword) {\n  if (typeof schema == 'boolean') return !schema && exceptKeyword != 'not';\n  for (var key in schema) if (key != exceptKeyword && rules[key]) return true;\n}\n\n\nfunction schemaUnknownRules(schema, rules) {\n  if (typeof schema == 'boolean') return;\n  for (var key in schema) if (!rules[key]) return key;\n}\n\n\nfunction toQuotedString(str) {\n  return '\\'' + escapeQuotes(str) + '\\'';\n}\n\n\nfunction getPathExpr(currentPath, expr, jsonPointers, isNumber) {\n  var path = jsonPointers // false by default\n              ? '\\'/\\' + ' + expr + (isNumber ? '' : '.replace(/~/g, \\'~0\\').replace(/\\\\//g, \\'~1\\')')\n              : (isNumber ? '\\'[\\' + ' + expr + ' + \\']\\'' : '\\'[\\\\\\'\\' + ' + expr + ' + \\'\\\\\\']\\'');\n  return joinPaths(currentPath, path);\n}\n\n\nfunction getPath(currentPath, prop, jsonPointers) {\n  var path = jsonPointers // false by default\n              ? toQuotedString('/' + escapeJsonPointer(prop))\n              : toQuotedString(getProperty(prop));\n  return joinPaths(currentPath, path);\n}\n\n\nvar JSON_POINTER = /^\\/(?:[^~]|~0|~1)*$/;\nvar RELATIVE_JSON_POINTER = /^([0-9]+)(#|\\/(?:[^~]|~0|~1)*)?$/;\nfunction getData($data, lvl, paths) {\n  var up, jsonPointer, data, matches;\n  if ($data === '') return 'rootData';\n  if ($data[0] == '/') {\n    if (!JSON_POINTER.test($data)) throw new Error('Invalid JSON-pointer: ' + $data);\n    jsonPointer = $data;\n    data = 'rootData';\n  } else {\n    matches = $data.match(RELATIVE_JSON_POINTER);\n    if (!matches) throw new Error('Invalid JSON-pointer: ' + $data);\n    up = +matches[1];\n    jsonPointer = matches[2];\n    if (jsonPointer == '#') {\n      if (up >= lvl) throw new Error('Cannot access property/index ' + up + ' levels up, current level is ' + lvl);\n      return paths[lvl - up];\n    }\n\n    if (up > lvl) throw new Error('Cannot access data ' + up + ' levels up, current level is ' + lvl);\n    data = 'data' + ((lvl - up) || '');\n    if (!jsonPointer) return data;\n  }\n\n  var expr = data;\n  var segments = jsonPointer.split('/');\n  for (var i=0; i<segments.length; i++) {\n    var segment = segments[i];\n    if (segment) {\n      data += getProperty(unescapeJsonPointer(segment));\n      expr += ' && ' + data;\n    }\n  }\n  return expr;\n}\n\n\nfunction joinPaths (a, b) {\n  if (a == '\"\"') return b;\n  return (a + ' + ' + b).replace(/' \\+ '/g, '');\n}\n\n\nfunction unescapeFragment(str) {\n  return unescapeJsonPointer(decodeURIComponent(str));\n}\n\n\nfunction escapeFragment(str) {\n  return encodeURIComponent(escapeJsonPointer(str));\n}\n\n\nfunction escapeJsonPointer(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n\n\nfunction unescapeJsonPointer(str) {\n  return str.replace(/~1/g, '/').replace(/~0/g, '~');\n}\n","//\n//                              list\n//                            ┌──────┐\n//             ┌──────────────┼─head │\n//             │              │ tail─┼──────────────┐\n//             │              └──────┘              │\n//             ▼                                    ▼\n//            item        item        item        item\n//          ┌──────┐    ┌──────┐    ┌──────┐    ┌──────┐\n//  null ◀──┼─prev │◀───┼─prev │◀───┼─prev │◀───┼─prev │\n//          │ next─┼───▶│ next─┼───▶│ next─┼───▶│ next─┼──▶ null\n//          ├──────┤    ├──────┤    ├──────┤    ├──────┤\n//          │ data │    │ data │    │ data │    │ data │\n//          └──────┘    └──────┘    └──────┘    └──────┘\n//\n\nfunction createItem(data) {\n    return {\n        prev: null,\n        next: null,\n        data: data\n    };\n}\n\nfunction allocateCursor(node, prev, next) {\n    var cursor;\n\n    if (cursors !== null) {\n        cursor = cursors;\n        cursors = cursors.cursor;\n        cursor.prev = prev;\n        cursor.next = next;\n        cursor.cursor = node.cursor;\n    } else {\n        cursor = {\n            prev: prev,\n            next: next,\n            cursor: node.cursor\n        };\n    }\n\n    node.cursor = cursor;\n\n    return cursor;\n}\n\nfunction releaseCursor(node) {\n    var cursor = node.cursor;\n\n    node.cursor = cursor.cursor;\n    cursor.prev = null;\n    cursor.next = null;\n    cursor.cursor = cursors;\n    cursors = cursor;\n}\n\nvar cursors = null;\nvar List = function() {\n    this.cursor = null;\n    this.head = null;\n    this.tail = null;\n};\n\nList.createItem = createItem;\nList.prototype.createItem = createItem;\n\nList.prototype.updateCursors = function(prevOld, prevNew, nextOld, nextNew) {\n    var cursor = this.cursor;\n\n    while (cursor !== null) {\n        if (cursor.prev === prevOld) {\n            cursor.prev = prevNew;\n        }\n\n        if (cursor.next === nextOld) {\n            cursor.next = nextNew;\n        }\n\n        cursor = cursor.cursor;\n    }\n};\n\nList.prototype.getSize = function() {\n    var size = 0;\n    var cursor = this.head;\n\n    while (cursor) {\n        size++;\n        cursor = cursor.next;\n    }\n\n    return size;\n};\n\nList.prototype.fromArray = function(array) {\n    var cursor = null;\n\n    this.head = null;\n\n    for (var i = 0; i < array.length; i++) {\n        var item = createItem(array[i]);\n\n        if (cursor !== null) {\n            cursor.next = item;\n        } else {\n            this.head = item;\n        }\n\n        item.prev = cursor;\n        cursor = item;\n    }\n\n    this.tail = cursor;\n\n    return this;\n};\n\nList.prototype.toArray = function() {\n    var cursor = this.head;\n    var result = [];\n\n    while (cursor) {\n        result.push(cursor.data);\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.toJSON = List.prototype.toArray;\n\nList.prototype.isEmpty = function() {\n    return this.head === null;\n};\n\nList.prototype.first = function() {\n    return this.head && this.head.data;\n};\n\nList.prototype.last = function() {\n    return this.tail && this.tail.data;\n};\n\nList.prototype.each = function(fn, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, this.head);\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        fn.call(context, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.forEach = List.prototype.each;\n\nList.prototype.eachRight = function(fn, context) {\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, this.tail, null);\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        fn.call(context, item.data, item, this);\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.forEachRight = List.prototype.eachRight;\n\nList.prototype.nextUntil = function(start, fn, context) {\n    if (start === null) {\n        return;\n    }\n\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, null, start);\n\n    while (cursor.next !== null) {\n        item = cursor.next;\n        cursor.next = item.next;\n\n        if (fn.call(context, item.data, item, this)) {\n            break;\n        }\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.prevUntil = function(start, fn, context) {\n    if (start === null) {\n        return;\n    }\n\n    var item;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    // push cursor\n    var cursor = allocateCursor(this, start, null);\n\n    while (cursor.prev !== null) {\n        item = cursor.prev;\n        cursor.prev = item.prev;\n\n        if (fn.call(context, item.data, item, this)) {\n            break;\n        }\n    }\n\n    // pop cursor\n    releaseCursor(this);\n};\n\nList.prototype.some = function(fn, context) {\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        if (fn.call(context, cursor.data, cursor, this)) {\n            return true;\n        }\n\n        cursor = cursor.next;\n    }\n\n    return false;\n};\n\nList.prototype.map = function(fn, context) {\n    var result = new List();\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        result.appendData(fn.call(context, cursor.data, cursor, this));\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.filter = function(fn, context) {\n    var result = new List();\n    var cursor = this.head;\n\n    if (context === undefined) {\n        context = this;\n    }\n\n    while (cursor !== null) {\n        if (fn.call(context, cursor.data, cursor, this)) {\n            result.appendData(cursor.data);\n        }\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.clear = function() {\n    this.head = null;\n    this.tail = null;\n};\n\nList.prototype.copy = function() {\n    var result = new List();\n    var cursor = this.head;\n\n    while (cursor !== null) {\n        result.insert(createItem(cursor.data));\n        cursor = cursor.next;\n    }\n\n    return result;\n};\n\nList.prototype.prepend = function(item) {\n    //      head\n    //    ^\n    // item\n    this.updateCursors(null, item, this.head, item);\n\n    // insert to the beginning of the list\n    if (this.head !== null) {\n        // new item <- first item\n        this.head.prev = item;\n\n        // new item -> first item\n        item.next = this.head;\n    } else {\n        // if list has no head, then it also has no tail\n        // in this case tail points to the new item\n        this.tail = item;\n    }\n\n    // head always points to new item\n    this.head = item;\n\n    return this;\n};\n\nList.prototype.prependData = function(data) {\n    return this.prepend(createItem(data));\n};\n\nList.prototype.append = function(item) {\n    return this.insert(item);\n};\n\nList.prototype.appendData = function(data) {\n    return this.insert(createItem(data));\n};\n\nList.prototype.insert = function(item, before) {\n    if (before !== undefined && before !== null) {\n        // prev   before\n        //      ^\n        //     item\n        this.updateCursors(before.prev, item, before, item);\n\n        if (before.prev === null) {\n            // insert to the beginning of list\n            if (this.head !== before) {\n                throw new Error('before doesn\\'t belong to list');\n            }\n\n            // since head points to before therefore list doesn't empty\n            // no need to check tail\n            this.head = item;\n            before.prev = item;\n            item.next = before;\n\n            this.updateCursors(null, item);\n        } else {\n\n            // insert between two items\n            before.prev.next = item;\n            item.prev = before.prev;\n\n            before.prev = item;\n            item.next = before;\n        }\n    } else {\n        // tail\n        //      ^\n        //      item\n        this.updateCursors(this.tail, item, null, item);\n\n        // insert to the ending of the list\n        if (this.tail !== null) {\n            // last item -> new item\n            this.tail.next = item;\n\n            // last item <- new item\n            item.prev = this.tail;\n        } else {\n            // if list has no tail, then it also has no head\n            // in this case head points to new item\n            this.head = item;\n        }\n\n        // tail always points to new item\n        this.tail = item;\n    }\n\n    return this;\n};\n\nList.prototype.insertData = function(data, before) {\n    return this.insert(createItem(data), before);\n};\n\nList.prototype.remove = function(item) {\n    //      item\n    //       ^\n    // prev     next\n    this.updateCursors(item, item.prev, item, item.next);\n\n    if (item.prev !== null) {\n        item.prev.next = item.next;\n    } else {\n        if (this.head !== item) {\n            throw new Error('item doesn\\'t belong to list');\n        }\n\n        this.head = item.next;\n    }\n\n    if (item.next !== null) {\n        item.next.prev = item.prev;\n    } else {\n        if (this.tail !== item) {\n            throw new Error('item doesn\\'t belong to list');\n        }\n\n        this.tail = item.prev;\n    }\n\n    item.prev = null;\n    item.next = null;\n\n    return item;\n};\n\nList.prototype.push = function(data) {\n    this.insert(createItem(data));\n};\n\nList.prototype.pop = function() {\n    if (this.tail !== null) {\n        return this.remove(this.tail);\n    }\n};\n\nList.prototype.unshift = function(data) {\n    this.prepend(createItem(data));\n};\n\nList.prototype.shift = function() {\n    if (this.head !== null) {\n        return this.remove(this.head);\n    }\n};\n\nList.prototype.prependList = function(list) {\n    return this.insertList(list, this.head);\n};\n\nList.prototype.appendList = function(list) {\n    return this.insertList(list);\n};\n\nList.prototype.insertList = function(list, before) {\n    // ignore empty lists\n    if (list.head === null) {\n        return this;\n    }\n\n    if (before !== undefined && before !== null) {\n        this.updateCursors(before.prev, list.tail, before, list.head);\n\n        // insert in the middle of dist list\n        if (before.prev !== null) {\n            // before.prev <-> list.head\n            before.prev.next = list.head;\n            list.head.prev = before.prev;\n        } else {\n            this.head = list.head;\n        }\n\n        before.prev = list.tail;\n        list.tail.next = before;\n    } else {\n        this.updateCursors(this.tail, list.tail, null, list.head);\n\n        // insert to end of the list\n        if (this.tail !== null) {\n            // if destination list has a tail, then it also has a head,\n            // but head doesn't change\n\n            // dest tail -> source head\n            this.tail.next = list.head;\n\n            // dest tail <- source head\n            list.head.prev = this.tail;\n        } else {\n            // if list has no a tail, then it also has no a head\n            // in this case points head to new item\n            this.head = list.head;\n        }\n\n        // tail always start point to new item\n        this.tail = list.tail;\n    }\n\n    list.head = null;\n    list.tail = null;\n\n    return this;\n};\n\nList.prototype.replace = function(oldItem, newItemOrList) {\n    if ('head' in newItemOrList) {\n        this.insertList(newItemOrList, oldItem);\n    } else {\n        this.insert(newItemOrList, oldItem);\n    }\n\n    this.remove(oldItem);\n};\n\nmodule.exports = List;\n","var charCodeDef = require('./char-code-definitions');\nvar isDigit = charCodeDef.isDigit;\nvar isHexDigit = charCodeDef.isHexDigit;\nvar isUppercaseLetter = charCodeDef.isUppercaseLetter;\nvar isName = charCodeDef.isName;\nvar isWhiteSpace = charCodeDef.isWhiteSpace;\nvar isValidEscape = charCodeDef.isValidEscape;\n\nfunction getCharCode(source, offset) {\n    return offset < source.length ? source.charCodeAt(offset) : 0;\n}\n\nfunction getNewlineLength(source, offset, code) {\n    if (code === 13 /* \\r */ && getCharCode(source, offset + 1) === 10 /* \\n */) {\n        return 2;\n    }\n\n    return 1;\n}\n\nfunction cmpChar(testStr, offset, referenceCode) {\n    var code = testStr.charCodeAt(offset);\n\n    // code.toLowerCase() for A..Z\n    if (isUppercaseLetter(code)) {\n        code = code | 32;\n    }\n\n    return code === referenceCode;\n}\n\nfunction cmpStr(testStr, start, end, referenceStr) {\n    if (end - start !== referenceStr.length) {\n        return false;\n    }\n\n    if (start < 0 || end > testStr.length) {\n        return false;\n    }\n\n    for (var i = start; i < end; i++) {\n        var testCode = testStr.charCodeAt(i);\n        var referenceCode = referenceStr.charCodeAt(i - start);\n\n        // testCode.toLowerCase() for A..Z\n        if (isUppercaseLetter(testCode)) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction findWhiteSpaceStart(source, offset) {\n    for (; offset >= 0; offset--) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset + 1;\n}\n\nfunction findWhiteSpaceEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isWhiteSpace(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\nfunction findDecimalNumberEnd(source, offset) {\n    for (; offset < source.length; offset++) {\n        if (!isDigit(source.charCodeAt(offset))) {\n            break;\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.7. Consume an escaped code point\nfunction consumeEscaped(source, offset) {\n    // It assumes that the U+005C REVERSE SOLIDUS (\\) has already been consumed and\n    // that the next input code point has already been verified to be part of a valid escape.\n    offset += 2;\n\n    // hex digit\n    if (isHexDigit(getCharCode(source, offset - 1))) {\n        // Consume as many hex digits as possible, but no more than 5.\n        // Note that this means 1-6 hex digits have been consumed in total.\n        for (var maxOffset = Math.min(source.length, offset + 5); offset < maxOffset; offset++) {\n            if (!isHexDigit(getCharCode(source, offset))) {\n                break;\n            }\n        }\n\n        // If the next input code point is whitespace, consume it as well.\n        var code = getCharCode(source, offset);\n        if (isWhiteSpace(code)) {\n            offset += getNewlineLength(source, offset, code);\n        }\n    }\n\n    return offset;\n}\n\n// §4.3.11. Consume a name\n// Note: This algorithm does not do the verification of the first few code points that are necessary\n// to ensure the returned code points would constitute an <ident-token>. If that is the intended use,\n// ensure that the stream starts with an identifier before calling this algorithm.\nfunction consumeName(source, offset) {\n    // Let result initially be an empty string.\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        var code = source.charCodeAt(offset);\n\n        // name code point\n        if (isName(code)) {\n            // Append the code point to result.\n            continue;\n        }\n\n        // the stream starts with a valid escape\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point. Append the returned code point to result.\n            offset = consumeEscaped(source, offset) - 1;\n            continue;\n        }\n\n        // anything else\n        // Reconsume the current input code point. Return result.\n        break;\n    }\n\n    return offset;\n}\n\n// §4.3.12. Consume a number\nfunction consumeNumber(source, offset) {\n    var code = source.charCodeAt(offset);\n\n    // 2. If the next input code point is U+002B PLUS SIGN (+) or U+002D HYPHEN-MINUS (-),\n    // consume it and append it to repr.\n    if (code === 0x002B || code === 0x002D) {\n        code = source.charCodeAt(offset += 1);\n    }\n\n    // 3. While the next input code point is a digit, consume it and append it to repr.\n    if (isDigit(code)) {\n        offset = findDecimalNumberEnd(source, offset + 1);\n        code = source.charCodeAt(offset);\n    }\n\n    // 4. If the next 2 input code points are U+002E FULL STOP (.) followed by a digit, then:\n    if (code === 0x002E && isDigit(source.charCodeAt(offset + 1))) {\n        // 4.1 Consume them.\n        // 4.2 Append them to repr.\n        code = source.charCodeAt(offset += 2);\n\n        // 4.3 Set type to \"number\".\n        // TODO\n\n        // 4.4 While the next input code point is a digit, consume it and append it to repr.\n\n        offset = findDecimalNumberEnd(source, offset);\n    }\n\n    // 5. If the next 2 or 3 input code points are U+0045 LATIN CAPITAL LETTER E (E)\n    // or U+0065 LATIN SMALL LETTER E (e), ... , followed by a digit, then:\n    if (cmpChar(source, offset, 101 /* e */)) {\n        var sign = 0;\n        code = source.charCodeAt(offset + 1);\n\n        // ... optionally followed by U+002D HYPHEN-MINUS (-) or U+002B PLUS SIGN (+) ...\n        if (code === 0x002D || code === 0x002B) {\n            sign = 1;\n            code = source.charCodeAt(offset + 2);\n        }\n\n        // ... followed by a digit\n        if (isDigit(code)) {\n            // 5.1 Consume them.\n            // 5.2 Append them to repr.\n\n            // 5.3 Set type to \"number\".\n            // TODO\n\n            // 5.4 While the next input code point is a digit, consume it and append it to repr.\n            offset = findDecimalNumberEnd(source, offset + 1 + sign + 1);\n        }\n    }\n\n    return offset;\n}\n\n// § 4.3.14. Consume the remnants of a bad url\n// ... its sole use is to consume enough of the input stream to reach a recovery point\n// where normal tokenizing can resume.\nfunction consumeBadUrlRemnants(source, offset) {\n    // Repeatedly consume the next input code point from the stream:\n    for (; offset < source.length; offset++) {\n        var code = source.charCodeAt(offset);\n\n        // U+0029 RIGHT PARENTHESIS ())\n        // EOF\n        if (code === 0x0029) {\n            // Return.\n            offset++;\n            break;\n        }\n\n        if (isValidEscape(code, getCharCode(source, offset + 1))) {\n            // Consume an escaped code point.\n            // Note: This allows an escaped right parenthesis (\"\\)\") to be encountered\n            // without ending the <bad-url-token>. This is otherwise identical to\n            // the \"anything else\" clause.\n            offset = consumeEscaped(source, offset);\n        }\n    }\n\n    return offset;\n}\n\nmodule.exports = {\n    consumeEscaped: consumeEscaped,\n    consumeName: consumeName,\n    consumeNumber: consumeNumber,\n    consumeBadUrlRemnants: consumeBadUrlRemnants,\n\n    cmpChar: cmpChar,\n    cmpStr: cmpStr,\n\n    getNewlineLength: getNewlineLength,\n    findWhiteSpaceStart: findWhiteSpaceStart,\n    findWhiteSpaceEnd: findWhiteSpaceEnd\n};\n","var constants = require('../tokenizer/const');\nvar TYPE = constants.TYPE;\nvar NAME = constants.NAME;\n\nvar utils = require('../tokenizer/utils');\nvar cmpStr = utils.cmpStr;\n\nvar EOF = TYPE.EOF;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\n\nvar OFFSET_MASK = 0x00FFFFFF;\nvar TYPE_SHIFT = 24;\n\nvar TokenStream = function() {\n    this.offsetAndType = null;\n    this.balance = null;\n\n    this.reset();\n};\n\nTokenStream.prototype = {\n    reset: function() {\n        this.eof = false;\n        this.tokenIndex = -1;\n        this.tokenType = 0;\n        this.tokenStart = this.firstCharOffset;\n        this.tokenEnd = this.firstCharOffset;\n    },\n\n    lookupType: function(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset] >> TYPE_SHIFT;\n        }\n\n        return EOF;\n    },\n    lookupOffset: function(offset) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return this.offsetAndType[offset - 1] & OFFSET_MASK;\n        }\n\n        return this.source.length;\n    },\n    lookupValue: function(offset, referenceStr) {\n        offset += this.tokenIndex;\n\n        if (offset < this.tokenCount) {\n            return cmpStr(\n                this.source,\n                this.offsetAndType[offset - 1] & OFFSET_MASK,\n                this.offsetAndType[offset] & OFFSET_MASK,\n                referenceStr\n            );\n        }\n\n        return false;\n    },\n    getTokenStart: function(tokenIndex) {\n        if (tokenIndex === this.tokenIndex) {\n            return this.tokenStart;\n        }\n\n        if (tokenIndex > 0) {\n            return tokenIndex < this.tokenCount\n                ? this.offsetAndType[tokenIndex - 1] & OFFSET_MASK\n                : this.offsetAndType[this.tokenCount] & OFFSET_MASK;\n        }\n\n        return this.firstCharOffset;\n    },\n\n    // TODO: -> skipUntilBalanced\n    getRawLength: function(startToken, mode) {\n        var cursor = startToken;\n        var balanceEnd;\n        var offset = this.offsetAndType[Math.max(cursor - 1, 0)] & OFFSET_MASK;\n        var type;\n\n        loop:\n        for (; cursor < this.tokenCount; cursor++) {\n            balanceEnd = this.balance[cursor];\n\n            // stop scanning on balance edge that points to offset before start token\n            if (balanceEnd < startToken) {\n                break loop;\n            }\n\n            type = this.offsetAndType[cursor] >> TYPE_SHIFT;\n\n            // check token is stop type\n            switch (mode(type, this.source, offset)) {\n                case 1:\n                    break loop;\n\n                case 2:\n                    cursor++;\n                    break loop;\n\n                default:\n                    offset = this.offsetAndType[cursor] & OFFSET_MASK;\n\n                    // fast forward to the end of balanced block\n                    if (this.balance[balanceEnd] === cursor) {\n                        cursor = balanceEnd;\n                    }\n            }\n        }\n\n        return cursor - this.tokenIndex;\n    },\n    isBalanceEdge: function(pos) {\n        return this.balance[this.tokenIndex] < pos;\n    },\n    isDelim: function(code, offset) {\n        if (offset) {\n            return (\n                this.lookupType(offset) === TYPE.Delim &&\n                this.source.charCodeAt(this.lookupOffset(offset)) === code\n            );\n        }\n\n        return (\n            this.tokenType === TYPE.Delim &&\n            this.source.charCodeAt(this.tokenStart) === code\n        );\n    },\n\n    getTokenValue: function() {\n        return this.source.substring(this.tokenStart, this.tokenEnd);\n    },\n    getTokenLength: function() {\n        return this.tokenEnd - this.tokenStart;\n    },\n    substrToCursor: function(start) {\n        return this.source.substring(start, this.tokenStart);\n    },\n\n    skipWS: function() {\n        for (var i = this.tokenIndex, skipTokenCount = 0; i < this.tokenCount; i++, skipTokenCount++) {\n            if ((this.offsetAndType[i] >> TYPE_SHIFT) !== WHITESPACE) {\n                break;\n            }\n        }\n\n        if (skipTokenCount > 0) {\n            this.skip(skipTokenCount);\n        }\n    },\n    skipSC: function() {\n        while (this.tokenType === WHITESPACE || this.tokenType === COMMENT) {\n            this.next();\n        }\n    },\n    skip: function(tokenCount) {\n        var next = this.tokenIndex + tokenCount;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.offsetAndType[next - 1] & OFFSET_MASK;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.next();\n        }\n    },\n    next: function() {\n        var next = this.tokenIndex + 1;\n\n        if (next < this.tokenCount) {\n            this.tokenIndex = next;\n            this.tokenStart = this.tokenEnd;\n            next = this.offsetAndType[next];\n            this.tokenType = next >> TYPE_SHIFT;\n            this.tokenEnd = next & OFFSET_MASK;\n        } else {\n            this.tokenIndex = this.tokenCount;\n            this.eof = true;\n            this.tokenType = EOF;\n            this.tokenStart = this.tokenEnd = this.source.length;\n        }\n    },\n\n    dump: function() {\n        var offset = this.firstCharOffset;\n\n        return Array.prototype.slice.call(this.offsetAndType, 0, this.tokenCount).map(function(item, idx) {\n            var start = offset;\n            var end = item & OFFSET_MASK;\n\n            offset = end;\n\n            return {\n                idx: idx,\n                type: NAME[item >> TYPE_SHIFT],\n                chunk: this.source.substring(start, end),\n                balance: this.balance[idx]\n            };\n        }, this);\n    }\n};\n\nmodule.exports = TokenStream;\n","// CSS Syntax Module Level 3\n// https://www.w3.org/TR/css-syntax-3/\nvar TYPE = {\n    EOF: 0,                 // <EOF-token>\n    Ident: 1,               // <ident-token>\n    Function: 2,            // <function-token>\n    AtKeyword: 3,           // <at-keyword-token>\n    Hash: 4,                // <hash-token>\n    String: 5,              // <string-token>\n    BadString: 6,           // <bad-string-token>\n    Url: 7,                 // <url-token>\n    BadUrl: 8,              // <bad-url-token>\n    Delim: 9,               // <delim-token>\n    Number: 10,             // <number-token>\n    Percentage: 11,         // <percentage-token>\n    Dimension: 12,          // <dimension-token>\n    WhiteSpace: 13,         // <whitespace-token>\n    CDO: 14,                // <CDO-token>\n    CDC: 15,                // <CDC-token>\n    Colon: 16,              // <colon-token>     :\n    Semicolon: 17,          // <semicolon-token> ;\n    Comma: 18,              // <comma-token>     ,\n    LeftSquareBracket: 19,  // <[-token>\n    RightSquareBracket: 20, // <]-token>\n    LeftParenthesis: 21,    // <(-token>\n    RightParenthesis: 22,   // <)-token>\n    LeftCurlyBracket: 23,   // <{-token>\n    RightCurlyBracket: 24,  // <}-token>\n    Comment: 25\n};\n\nvar NAME = Object.keys(TYPE).reduce(function(result, key) {\n    result[TYPE[key]] = key;\n    return result;\n}, {});\n\nmodule.exports = {\n    TYPE: TYPE,\n    NAME: NAME\n};\n","module.exports = {\n    hasNoChildren: function(node) {\n        return !node || !node.children || node.children.isEmpty();\n    },\n    isNodeChildrenList: function(node, list) {\n        return node !== null && node.children === list;\n    }\n};\n","var OMIT_PLUSSIGN = /^(?:\\+|(-))?0*(\\d*)(?:\\.0*|(\\.\\d*?)0*)?$/;\nvar KEEP_PLUSSIGN = /^([\\+\\-])?0*(\\d*)(?:\\.0*|(\\.\\d*?)0*)?$/;\nvar unsafeToRemovePlusSignAfter = {\n    Dimension: true,\n    HexColor: true,\n    Identifier: true,\n    Number: true,\n    Raw: true,\n    UnicodeRange: true\n};\n\nfunction packNumber(value, item) {\n    // omit plus sign only if no prev or prev is safe type\n    var regexp = item && item.prev !== null && unsafeToRemovePlusSignAfter.hasOwnProperty(item.prev.data.type)\n        ? KEEP_PLUSSIGN\n        : OMIT_PLUSSIGN;\n\n    // 100 -> '100'\n    // 00100 -> '100'\n    // +100 -> '100' (only when safe, e.g. omitting plus sign for 1px+1px leads to single dimension instead of two)\n    // -100 -> '-100'\n    // 0.123 -> '.123'\n    // 0.12300 -> '.123'\n    // 0.0 -> ''\n    // 0 -> ''\n    // -0 -> '-'\n    value = String(value).replace(regexp, '$1$2$3');\n\n    if (value === '' || value === '-') {\n        value = '0';\n    }\n\n    return value;\n}\n\nmodule.exports = function(node, item) {\n    node.value = packNumber(node.value, item);\n};\nmodule.exports.pack = packNumber;\n","import {\n  Ainsley,\n  AinsleyRule,\n  AinsleyPropertyOrPlaceholder,\n  AinsleyVariableMap,\n  AinsleyChild,\n  AinsleyChildren,\n  AinsleyGenerateOptions\n} from \"../types\";\nimport { combinations } from \"./utils\";\n\ninterface AinsleyFlatASTNode {\n  variations: Array<[string, string]>;\n  content: string | AinsleyRule;\n}\ntype AinsleyFlatAST = AinsleyFlatASTNode[];\ninterface AinsleyASTNode {\n  variations: Array<[string, string]>;\n  content: string | AinsleyRule | AinsleyFlatASTNode;\n}\ntype AinsleyAST = AinsleyASTNode[];\n\nexport const ITERATOR_REGEX = \"\\\\{[a-zA-Z0-9_-]+\\\\}\";\nexport const DEFAULT_OPTIONS: AinsleyGenerateOptions = {\n  addVariationToSelector: (selector, variationAbbreviation) =>\n    variationAbbreviation + \"-\" + selector,\n  addPropertyToSelector: (selector, propertyAbbreviation) =>\n    selector + propertyAbbreviation.toLowerCase(),\n  addValueToSelector: (selector, valueAbbreviation) =>\n    selector + valueAbbreviation.toUpperCase(),\n  abbreviateProperty: (propertyName) => [\n    propertyName\n      .split(\"-\")\n      .map((word) => word.charAt(0))\n      .join(\"\")\n      .toLowerCase(),\n    propertyName.toLowerCase()\n  ]\n};\n\nconst ITERATOR_SEARCH = new RegExp(ITERATOR_REGEX, \"g\");\n\nexport const generate = (\n  ainsley: Ainsley,\n  options: Partial<AinsleyGenerateOptions> = {}\n): string => {\n  const mergedOptions = { ...DEFAULT_OPTIONS, ...options };\n  return generateFromAst(\n    ainsleyToAst(ainsley, mergedOptions, {}),\n    mergedOptions\n  );\n};\n\n// next step:\n// get variations to append to nested variations by passing them down;\n// kinda like variables. this allows us to merge nested variations in the output\n// which is kinda fun. but mostly because I don't know another way to do it\n\n// next next step:\n// get combinations to return a read only array - avoiding the need to\n// recursively clone and concat - also means comparisons for this flattening\n// business is made much simpler\n\nconst generateFromAst = (\n  ainsleyRules: AinsleyFlatAST,\n  options: AinsleyGenerateOptions\n): string => {\n  let css = \"\";\n  let lastVariations: Array<[string, string]> = [];\n  for (let i = 0; i < ainsleyRules.length; i++) {\n    const ainsleyRule = ainsleyRules[i];\n\n    let firstChange = 0;\n    while (\n      firstChange < lastVariations.length &&\n      lastVariations[firstChange] === ainsleyRule.variations[firstChange]\n    ) {\n      firstChange += 1;\n    }\n\n    const variationsToClose = lastVariations.slice(firstChange);\n    for (const variationToClose of variationsToClose) {\n      const variationInstruction = variationToClose[1];\n      if (variationInstruction.startsWith(\"@\")) css += \"}\";\n    }\n    const variationsToOpen = ainsleyRule.variations.slice(firstChange);\n    for (const variationToOpen of variationsToOpen) {\n      const variationInstruction = variationToOpen[1];\n      if (variationInstruction.startsWith(\"@\"))\n        css += `${variationInstruction}{`;\n    }\n\n    if (typeof ainsleyRule.content === \"string\") {\n      css += ainsleyRule.content;\n    } else {\n      let selector = ainsleyRule.content[0];\n      let selectorSuffix = \"\";\n\n      for (let i = 0; i < ainsleyRule.variations.length; i++) {\n        const variationAbbreviation = ainsleyRule.variations[i][0];\n        const variationInstruction = ainsleyRule.variations[i][1];\n        if (variationInstruction === \"\") continue;\n        if (!variationInstruction.startsWith(\"@\")) {\n          selectorSuffix += `${variationInstruction}`;\n        }\n        selector = options.addVariationToSelector(\n          selector,\n          variationAbbreviation\n        );\n      }\n      css += `.${selector}${selectorSuffix}{${ainsleyRule.content[1]\n        .map((declaration) => `${declaration[0]}:${declaration[1]}`)\n        .join(\";\")}}`;\n    }\n    lastVariations = ainsleyRule.variations;\n  }\n  for (const variationToClose of lastVariations) {\n    const variationInstruction = variationToClose[1];\n    if (variationInstruction.startsWith(\"@\")) css += \"}\";\n  }\n  return css;\n};\n\nconst ainsleyToAst = (\n  ainsley: Ainsley,\n  options: AinsleyGenerateOptions,\n  inheritedVariables: AinsleyVariableMap\n): AinsleyFlatAST => {\n  // first, compute variables\n  const newVariables = { ...inheritedVariables };\n  if (ainsley.variables !== undefined) {\n    const variables = ainsley.variables;\n    Object.keys(variables).map((variable: string) => {\n      const modAndBase = parseVariable(variable);\n      const mod = modAndBase[0];\n      const base = modAndBase[1];\n      if (mod === 0) {\n        newVariables[base] = variables[variable];\n      } else if (mod === 2) {\n        newVariables[base] = {\n          ...inheritedVariables[base],\n          ...variables[variable]\n        };\n      }\n    });\n  }\n\n  // then, flatten children into ast\n  const rulesListWithoutVariations =\n    ainsley.children === undefined\n      ? []\n      : ainsleyChildrenToAst(ainsley.children, options, newVariables);\n\n  // lastly, multiply ast with variations\n  const rulesList = combinations(\n    (ainsley.variations ?? []).map((variationSet) =>\n      [[\"\", \"\"] as [string, string]].concat(variationSet)\n    )\n  ).flatMap((variations) => {\n    return rulesListWithoutVariations.map((ainsleyASTNode) => {\n      if (\n        typeof ainsleyASTNode.content === \"string\" ||\n        Array.isArray(ainsleyASTNode.content)\n      ) {\n        const ainsleyFlatASTNode = ainsleyASTNode as AinsleyFlatASTNode;\n        return {\n          variations,\n          content: ainsleyFlatASTNode.content\n        };\n      } else {\n        const ainsleyNestedASTNode = ainsleyASTNode as {\n          variations: Array<[string, string]>;\n          content: AinsleyFlatASTNode;\n        };\n        return {\n          variations: [...variations, ...ainsleyNestedASTNode.variations],\n          content: ainsleyNestedASTNode.content.content\n        };\n      }\n    });\n  });\n\n  return rulesList;\n};\n\nconst ainsleyChildrenToAst = (\n  ainsleyChildren: AinsleyChildren,\n  options: AinsleyGenerateOptions,\n  variables: AinsleyVariableMap\n): AinsleyAST =>\n  ainsleyChildren.flatMap((child: AinsleyChild) => {\n    if (typeof child === \"string\") {\n      return [\n        {\n          variations: [],\n          content: child\n        }\n      ];\n    } else if (Array.isArray(child)) {\n      if (Array.isArray(child[1])) {\n        return ainsleyRuleToAst(child as AinsleyRule, options, variables);\n      } else {\n        return ainsleyPropertyToAst(\n          child as AinsleyPropertyOrPlaceholder,\n          options\n        );\n      }\n    } else {\n      return ainsleyToAst(child, options, variables);\n    }\n  });\n\ntype AinsleyGenerateIteratorContext = [string, string, string | number, number];\n\nconst ainsleyRuleToAst = (\n  ainsleyRule: AinsleyRule,\n  options: AinsleyGenerateOptions,\n  variables: AinsleyVariableMap\n): AinsleyAST => {\n  const selector = ainsleyRule[0];\n  const declarations = ainsleyRule[1];\n  const variablesFound: Array<[string, number]> = [];\n  declarations.map((declaration) => {\n    const propertyMatches = declaration[0].match(ITERATOR_SEARCH) ?? [];\n    const valueMatches = `${declaration[1]}`.match(ITERATOR_SEARCH) ?? [];\n    propertyMatches.map((match) => variablesFound.push([match, 0]));\n    valueMatches.map((match) => variablesFound.push([match, 1]));\n  });\n\n  return combinations(\n    variablesFound.map((iteratorAndType: [string, number]) => {\n      const iterator = iteratorAndType[0];\n      const location = iteratorAndType[1];\n      const variableName = iterator.slice(1, -1);\n      return Object.keys(variables[variableName]).map(\n        (abbreviation: string): AinsleyGenerateIteratorContext => [\n          iterator,\n          abbreviation,\n          variables[variableName][abbreviation],\n          location\n        ]\n      );\n    })\n  ).map((combination) => {\n    let combinationIndex = 0;\n    let current: AinsleyGenerateIteratorContext = combination[combinationIndex];\n\n    return {\n      variations: [],\n      content: [\n        combination.reduce(\n          (selector: string, part: AinsleyGenerateIteratorContext) => {\n            if (part[3] === 0) {\n              return options.addPropertyToSelector(selector, part[1]);\n            } /* if (part[3] === 1) */ else {\n              return options.addValueToSelector(selector, part[1]);\n            }\n          },\n          selector\n        ),\n        declarations.map((declaration) => {\n          const replacePart = (declarationPart: string): string => {\n            while (\n              combinationIndex < combination.length &&\n              declarationPart.includes(current[0])\n            ) {\n              declarationPart = declarationPart.replace(\n                current[0],\n                `${current[2]}`\n              );\n              current = combination[++combinationIndex];\n            }\n            return declarationPart;\n          };\n          return [\n            replacePart(declaration[0]),\n            replacePart(`${declaration[1]}`)\n          ];\n        })\n      ]\n    };\n  });\n};\n\nconst ainsleyPropertyToAst = (\n  ainsleyProperty: AinsleyPropertyOrPlaceholder,\n  options: AinsleyGenerateOptions\n): AinsleyAST => {\n  const propertyInput = ainsleyProperty[0];\n  const propertyValues = ainsleyProperty[1];\n\n  const propertyData: [string, string] = options.abbreviateProperty(\n    propertyInput\n  );\n  const propertyAbbreviation = propertyData[0];\n  const propertyName = propertyData[1];\n\n  return Object.keys(propertyValues).map((valueAbbreviation: string) => ({\n    variations: [],\n    content: [\n      options.addValueToSelector(\n        options.addPropertyToSelector(\"\", propertyAbbreviation),\n        valueAbbreviation\n      ),\n      [[propertyName, propertyValues[valueAbbreviation]]]\n    ]\n  }));\n};\n\nconst parseVariable = (variable: string): [number, string] => {\n  const mod = \"?+\".indexOf(variable[0]) + 1;\n  const base = mod > 0 ? variable.slice(1) : variable;\n  return [mod, base];\n};\n","// singleton embed pattern, using id as the unique identifier\nexport const embed = (css: string, id?: string): void => {\n  let styleEl: HTMLStyleElement | null = null;\n  if (id !== undefined) styleEl = document.querySelector(`style#${id}`);\n\n  if (styleEl === null) {\n    styleEl = document.createElement(\"style\");\n    styleEl.type = \"text/css\";\n    if (id !== undefined) styleEl.setAttribute(\"id\", id);\n    document.head.appendChild(styleEl);\n  }\n\n  styleEl.innerHTML = css;\n};\n","const { toString: toStringFunction } = Function.prototype;\nconst {\n  create,\n  defineProperty,\n  getOwnPropertyDescriptor,\n  getOwnPropertyNames,\n  getOwnPropertySymbols,\n  getPrototypeOf,\n} = Object;\nconst { hasOwnProperty, propertyIsEnumerable } = Object.prototype;\n\n/**\n * @enum\n *\n * @const {Object} SUPPORTS\n *\n * @property {boolean} SYMBOL_PROPERTIES are symbol properties supported\n * @property {boolean} WEAKMAP is WeakMap supported\n */\nexport const SUPPORTS = {\n  SYMBOL_PROPERTIES: typeof getOwnPropertySymbols === 'function',\n  WEAKMAP: typeof WeakMap === 'function',\n};\n\n/**\n * @function createCache\n *\n * @description\n * get a new cache object to prevent circular references\n *\n * @returns the new cache object\n */\nexport const createCache = (): FastCopy.Cache => {\n  if (SUPPORTS.WEAKMAP) {\n    return new WeakMap();\n  }\n\n  // tiny implementation of WeakMap\n  const object = create({\n    has: (key: any) => !!~object._keys.indexOf(key),\n    set: (key: any, value: any) => {\n      object._keys.push(key);\n      object._values.push(value);\n    },\n    get: (key: any) => object._values[object._keys.indexOf(key)],\n  });\n\n  object._keys = [];\n  object._values = [];\n\n  return object;\n};\n\n/**\n * @function getCleanClone\n *\n * @description\n * get an empty version of the object with the same prototype it has\n *\n * @param object the object to build a clean clone from\n * @param realm the realm the object resides in\n * @returns the empty cloned object\n */\nexport const getCleanClone = (object: any, realm: FastCopy.Realm): any => {\n  if (!object.constructor) {\n    return create(null);\n  }\n\n  const { constructor: Constructor } = object;\n  const prototype = object.__proto__ || getPrototypeOf(object);\n\n  if (Constructor === realm.Object) {\n    return prototype === realm.Object.prototype ? {} : create(prototype);\n  }\n\n  if (~toStringFunction.call(Constructor).indexOf('[native code]')) {\n    try {\n      return new Constructor();\n    } catch {}\n  }\n\n  return create(prototype);\n};\n\n/**\n * @function getObjectCloneLoose\n *\n * @description\n * get a copy of the object based on loose rules, meaning all enumerable keys\n * and symbols are copied, but property descriptors are not considered\n *\n * @param object the object to clone\n * @param realm the realm the object resides in\n * @param handleCopy the function that handles copying the object\n * @returns the copied object\n */\nexport const getObjectCloneLoose: FastCopy.ObjectCloner = (\n  object: any,\n  realm: FastCopy.Realm,\n  handleCopy: FastCopy.Copier,\n  cache: FastCopy.Cache,\n): any => {\n  const clone: any = getCleanClone(object, realm);\n  // set in the cache immediately to be able to reuse the object recursively\n  cache.set(object, clone);\n\n  for (const key in object) {\n    if (hasOwnProperty.call(object, key)) {\n      clone[key] = handleCopy(object[key], cache);\n    }\n  }\n\n  if (SUPPORTS.SYMBOL_PROPERTIES) {\n    const symbols: symbol[] = getOwnPropertySymbols(object);\n\n    const { length } = symbols;\n\n    if (length) {\n      for (let index = 0, symbol; index < length; index++) {\n        symbol = symbols[index];\n\n        if (propertyIsEnumerable.call(object, symbol)) {\n          clone[symbol] = handleCopy(object[symbol], cache);\n        }\n      }\n    }\n  }\n\n  return clone;\n};\n\n/**\n * @function getObjectCloneStrict\n *\n * @description\n * get a copy of the object based on strict rules, meaning all keys and symbols\n * are copied based on the original property descriptors\n *\n * @param object the object to clone\n * @param realm the realm the object resides in\n * @param handleCopy the function that handles copying the object\n * @returns the copied object\n */\nexport const getObjectCloneStrict: FastCopy.ObjectCloner = (\n  object: any,\n  realm: FastCopy.Realm,\n  handleCopy: FastCopy.Copier,\n  cache: FastCopy.Cache,\n): any => {\n  const clone: any = getCleanClone(object, realm);\n  // set in the cache immediately to be able to reuse the object recursively\n  cache.set(object, clone);\n\n  const properties: (string | symbol)[] = SUPPORTS.SYMBOL_PROPERTIES\n    ? getOwnPropertyNames(object).concat((getOwnPropertySymbols(object) as unknown) as string[])\n    : getOwnPropertyNames(object);\n\n  const { length } = properties;\n\n  if (length) {\n    for (let index = 0, property, descriptor; index < length; index++) {\n      property = properties[index];\n\n      if (property !== 'callee' && property !== 'caller') {\n        descriptor = getOwnPropertyDescriptor(object, property);\n\n        descriptor.value = handleCopy(object[property], cache);\n\n        defineProperty(clone, property, descriptor);\n      }\n    }\n  }\n\n  return clone;\n};\n\n/**\n * @function getRegExpFlags\n *\n * @description\n * get the flags to apply to the copied regexp\n *\n * @param regExp the regexp to get the flags of\n * @returns the flags for the regexp\n */\nexport const getRegExpFlags = (regExp: RegExp): string => {\n  let flags = '';\n\n  if (regExp.global) {\n    flags += 'g';\n  }\n\n  if (regExp.ignoreCase) {\n    flags += 'i';\n  }\n\n  if (regExp.multiline) {\n    flags += 'm';\n  }\n\n  if (regExp.unicode) {\n    flags += 'u';\n  }\n\n  if (regExp.sticky) {\n    flags += 'y';\n  }\n\n  return flags;\n};\n","// utils\nimport { createCache, getObjectCloneLoose, getObjectCloneStrict, getRegExpFlags } from './utils';\n\nconst { isArray } = Array;\n\nconst GLOBAL_THIS = (() => {\n  if (typeof self !== 'undefined') {\n    return self;\n  }\n\n  if (typeof window !== 'undefined') {\n    return window;\n  }\n\n  if (typeof global !== 'undefined') {\n    return global;\n  }\n\n  if (console && console.error) {\n    console.error('Unable to locate global object, returning \"this\".');\n  }\n})();\n\n/**\n * @function copy\n *\n * @description\n * copy an object deeply as much as possible\n *\n * If `strict` is applied, then all properties (including non-enumerable ones)\n * are copied with their original property descriptors on both objects and arrays.\n *\n * The object is compared to the global constructors in the `realm` provided,\n * and the native constructor is always used to ensure that extensions of native\n * objects (allows in ES2015+) are maintained.\n *\n * @param object the object to copy\n * @param [options] the options for copying with\n * @param [options.isStrict] should the copy be strict\n * @param [options.realm] the realm (this) object the object is copied from\n * @returns the copied object\n */\nfunction copy<T>(object: T, options?: FastCopy.Options): T {\n  // manually coalesced instead of default parameters for performance\n  const isStrict: boolean = !!(options && options.isStrict);\n  const realm: FastCopy.Realm = (options && options.realm) || GLOBAL_THIS;\n\n  const getObjectClone: FastCopy.ObjectCloner = isStrict\n    ? getObjectCloneStrict\n    : getObjectCloneLoose;\n\n  /**\n   * @function handleCopy\n   *\n   * @description\n   * copy the object recursively based on its type\n   *\n   * @param object the object to copy\n   * @returns the copied object\n   */\n  const handleCopy: FastCopy.Copier = (object: any, cache: FastCopy.Cache): any => {\n    if (!object || typeof object !== 'object') {\n      return object;\n    } if (cache.has(object)) {\n      return cache.get(object);\n    }\n\n    const { constructor: Constructor } = object;\n\n    // plain objects\n    if (Constructor === realm.Object) {\n      return getObjectClone(object, realm, handleCopy, cache);\n    }\n\n    let clone: any;\n    // arrays\n    if (isArray(object)) {\n      // if strict, include non-standard properties\n      if (isStrict) {\n        return getObjectCloneStrict(object, realm, handleCopy, cache);\n      }\n\n      const { length } = object;\n\n      clone = new Constructor();\n      cache.set(object, clone);\n\n      for (let index: number = 0; index < length; index++) {\n        clone[index] = handleCopy(object[index], cache);\n      }\n\n      return clone;\n    }\n\n    // dates\n    if (object instanceof realm.Date) {\n      return new Constructor(object.getTime());\n    }\n\n    // regexps\n    if (object instanceof realm.RegExp) {\n      clone = new Constructor(object.source, object.flags || getRegExpFlags(object));\n\n      clone.lastIndex = object.lastIndex;\n\n      return clone;\n    }\n\n    // maps\n    if (realm.Map && object instanceof realm.Map) {\n      clone = new Constructor();\n      cache.set(object, clone);\n\n      object.forEach((value: any, key: any) => {\n        clone.set(key, handleCopy(value, cache));\n      });\n\n      return clone;\n    }\n\n    // sets\n    if (realm.Set && object instanceof realm.Set) {\n      clone = new Constructor();\n      cache.set(object, clone);\n\n      object.forEach((value: any) => {\n        clone.add(handleCopy(value, cache));\n      });\n\n      return clone;\n    }\n\n    // buffers (node-only)\n    if (realm.Buffer && realm.Buffer.isBuffer(object)) {\n      clone = realm.Buffer.allocUnsafe\n        ? realm.Buffer.allocUnsafe(object.length)\n        : new Constructor(object.length);\n\n      cache.set(object, clone);\n      object.copy(clone);\n\n      return clone;\n    }\n\n    // arraybuffers / dataviews\n    if (realm.ArrayBuffer) {\n      // dataviews\n      if (realm.ArrayBuffer.isView(object)) {\n        clone = new Constructor(object.buffer.slice(0));\n        cache.set(object, clone);\n        return clone;\n      }\n\n      // arraybuffers\n      if (object instanceof realm.ArrayBuffer) {\n        clone = object.slice(0);\n        cache.set(object, clone);\n        return clone;\n      }\n    }\n\n    // if the object cannot / should not be cloned, don't\n    if (\n      // promise-like\n      typeof object.then === 'function' ||\n      // errors\n      object instanceof Error ||\n      // weakmaps\n      (realm.WeakMap && object instanceof realm.WeakMap) ||\n      // weaksets\n      (realm.WeakSet && object instanceof realm.WeakSet)\n    ) {\n      return object;\n    }\n\n    // assume anything left is a custom constructor\n    return getObjectClone(object, realm, handleCopy, cache);\n  };\n\n  return handleCopy(object, createCache());\n}\n\n/**\n * @function strictCopy\n *\n * @description\n * copy the object with `strict` option pre-applied\n *\n * @param object the object to copy\n * @param [options] the options for copying with\n * @param [options.realm] the realm (this) object the object is copied from\n * @returns the copied object\n */\ncopy.strict = function strictCopy(object: any, options?: FastCopy.Options) {\n  return copy(object, {\n    isStrict: true,\n    realm: options ? options.realm : void 0,\n  });\n};\n\nexport default copy;\n","'use strict';\n\nvar URI = require('uri-js')\n  , equal = require('fast-deep-equal')\n  , util = require('./util')\n  , SchemaObject = require('./schema_obj')\n  , traverse = require('json-schema-traverse');\n\nmodule.exports = resolve;\n\nresolve.normalizeId = normalizeId;\nresolve.fullPath = getFullPath;\nresolve.url = resolveUrl;\nresolve.ids = resolveIds;\nresolve.inlineRef = inlineRef;\nresolve.schema = resolveSchema;\n\n/**\n * [resolve and compile the references ($ref)]\n * @this   Ajv\n * @param  {Function} compile reference to schema compilation funciton (localCompile)\n * @param  {Object} root object with information about the root schema for the current schema\n * @param  {String} ref reference to resolve\n * @return {Object|Function} schema object (if the schema can be inlined) or validation function\n */\nfunction resolve(compile, root, ref) {\n  /* jshint validthis: true */\n  var refVal = this._refs[ref];\n  if (typeof refVal == 'string') {\n    if (this._refs[refVal]) refVal = this._refs[refVal];\n    else return resolve.call(this, compile, root, refVal);\n  }\n\n  refVal = refVal || this._schemas[ref];\n  if (refVal instanceof SchemaObject) {\n    return inlineRef(refVal.schema, this._opts.inlineRefs)\n            ? refVal.schema\n            : refVal.validate || this._compile(refVal);\n  }\n\n  var res = resolveSchema.call(this, root, ref);\n  var schema, v, baseId;\n  if (res) {\n    schema = res.schema;\n    root = res.root;\n    baseId = res.baseId;\n  }\n\n  if (schema instanceof SchemaObject) {\n    v = schema.validate || compile.call(this, schema.schema, root, undefined, baseId);\n  } else if (schema !== undefined) {\n    v = inlineRef(schema, this._opts.inlineRefs)\n        ? schema\n        : compile.call(this, schema, root, undefined, baseId);\n  }\n\n  return v;\n}\n\n\n/**\n * Resolve schema, its root and baseId\n * @this Ajv\n * @param  {Object} root root object with properties schema, refVal, refs\n * @param  {String} ref  reference to resolve\n * @return {Object} object with properties schema, root, baseId\n */\nfunction resolveSchema(root, ref) {\n  /* jshint validthis: true */\n  var p = URI.parse(ref)\n    , refPath = _getFullPath(p)\n    , baseId = getFullPath(this._getId(root.schema));\n  if (Object.keys(root.schema).length === 0 || refPath !== baseId) {\n    var id = normalizeId(refPath);\n    var refVal = this._refs[id];\n    if (typeof refVal == 'string') {\n      return resolveRecursive.call(this, root, refVal, p);\n    } else if (refVal instanceof SchemaObject) {\n      if (!refVal.validate) this._compile(refVal);\n      root = refVal;\n    } else {\n      refVal = this._schemas[id];\n      if (refVal instanceof SchemaObject) {\n        if (!refVal.validate) this._compile(refVal);\n        if (id == normalizeId(ref))\n          return { schema: refVal, root: root, baseId: baseId };\n        root = refVal;\n      } else {\n        return;\n      }\n    }\n    if (!root.schema) return;\n    baseId = getFullPath(this._getId(root.schema));\n  }\n  return getJsonPointer.call(this, p, baseId, root.schema, root);\n}\n\n\n/* @this Ajv */\nfunction resolveRecursive(root, ref, parsedRef) {\n  /* jshint validthis: true */\n  var res = resolveSchema.call(this, root, ref);\n  if (res) {\n    var schema = res.schema;\n    var baseId = res.baseId;\n    root = res.root;\n    var id = this._getId(schema);\n    if (id) baseId = resolveUrl(baseId, id);\n    return getJsonPointer.call(this, parsedRef, baseId, schema, root);\n  }\n}\n\n\nvar PREVENT_SCOPE_CHANGE = util.toHash(['properties', 'patternProperties', 'enum', 'dependencies', 'definitions']);\n/* @this Ajv */\nfunction getJsonPointer(parsedRef, baseId, schema, root) {\n  /* jshint validthis: true */\n  parsedRef.fragment = parsedRef.fragment || '';\n  if (parsedRef.fragment.slice(0,1) != '/') return;\n  var parts = parsedRef.fragment.split('/');\n\n  for (var i = 1; i < parts.length; i++) {\n    var part = parts[i];\n    if (part) {\n      part = util.unescapeFragment(part);\n      schema = schema[part];\n      if (schema === undefined) break;\n      var id;\n      if (!PREVENT_SCOPE_CHANGE[part]) {\n        id = this._getId(schema);\n        if (id) baseId = resolveUrl(baseId, id);\n        if (schema.$ref) {\n          var $ref = resolveUrl(baseId, schema.$ref);\n          var res = resolveSchema.call(this, root, $ref);\n          if (res) {\n            schema = res.schema;\n            root = res.root;\n            baseId = res.baseId;\n          }\n        }\n      }\n    }\n  }\n  if (schema !== undefined && schema !== root.schema)\n    return { schema: schema, root: root, baseId: baseId };\n}\n\n\nvar SIMPLE_INLINED = util.toHash([\n  'type', 'format', 'pattern',\n  'maxLength', 'minLength',\n  'maxProperties', 'minProperties',\n  'maxItems', 'minItems',\n  'maximum', 'minimum',\n  'uniqueItems', 'multipleOf',\n  'required', 'enum'\n]);\nfunction inlineRef(schema, limit) {\n  if (limit === false) return false;\n  if (limit === undefined || limit === true) return checkNoRef(schema);\n  else if (limit) return countKeys(schema) <= limit;\n}\n\n\nfunction checkNoRef(schema) {\n  var item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return false;\n      item = schema[key];\n      if (typeof item == 'object' && !checkNoRef(item)) return false;\n    }\n  }\n  return true;\n}\n\n\nfunction countKeys(schema) {\n  var count = 0, item;\n  if (Array.isArray(schema)) {\n    for (var i=0; i<schema.length; i++) {\n      item = schema[i];\n      if (typeof item == 'object') count += countKeys(item);\n      if (count == Infinity) return Infinity;\n    }\n  } else {\n    for (var key in schema) {\n      if (key == '$ref') return Infinity;\n      if (SIMPLE_INLINED[key]) {\n        count++;\n      } else {\n        item = schema[key];\n        if (typeof item == 'object') count += countKeys(item) + 1;\n        if (count == Infinity) return Infinity;\n      }\n    }\n  }\n  return count;\n}\n\n\nfunction getFullPath(id, normalize) {\n  if (normalize !== false) id = normalizeId(id);\n  var p = URI.parse(id);\n  return _getFullPath(p);\n}\n\n\nfunction _getFullPath(p) {\n  return URI.serialize(p).split('#')[0] + '#';\n}\n\n\nvar TRAILING_SLASH_HASH = /#\\/?$/;\nfunction normalizeId(id) {\n  return id ? id.replace(TRAILING_SLASH_HASH, '') : '';\n}\n\n\nfunction resolveUrl(baseId, id) {\n  id = normalizeId(id);\n  return URI.resolve(baseId, id);\n}\n\n\n/* @this Ajv */\nfunction resolveIds(schema) {\n  var schemaId = normalizeId(this._getId(schema));\n  var baseIds = {'': schemaId};\n  var fullPaths = {'': getFullPath(schemaId, false)};\n  var localRefs = {};\n  var self = this;\n\n  traverse(schema, {allKeys: true}, function(sch, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n    if (jsonPtr === '') return;\n    var id = self._getId(sch);\n    var baseId = baseIds[parentJsonPtr];\n    var fullPath = fullPaths[parentJsonPtr] + '/' + parentKeyword;\n    if (keyIndex !== undefined)\n      fullPath += '/' + (typeof keyIndex == 'number' ? keyIndex : util.escapeFragment(keyIndex));\n\n    if (typeof id == 'string') {\n      id = baseId = normalizeId(baseId ? URI.resolve(baseId, id) : id);\n\n      var refVal = self._refs[id];\n      if (typeof refVal == 'string') refVal = self._refs[refVal];\n      if (refVal && refVal.schema) {\n        if (!equal(sch, refVal.schema))\n          throw new Error('id \"' + id + '\" resolves to more than one schema');\n      } else if (id != normalizeId(fullPath)) {\n        if (id[0] == '#') {\n          if (localRefs[id] && !equal(sch, localRefs[id]))\n            throw new Error('id \"' + id + '\" resolves to more than one schema');\n          localRefs[id] = sch;\n        } else {\n          self._refs[id] = fullPath;\n        }\n      }\n    }\n    baseIds[jsonPtr] = baseId;\n    fullPaths[jsonPtr] = fullPath;\n  });\n\n  return localRefs;\n}\n","'use strict';\n\n// do not edit .js files directly - edit src/index.jst\n\n\n\nmodule.exports = function equal(a, b) {\n  if (a === b) return true;\n\n  if (a && b && typeof a == 'object' && typeof b == 'object') {\n    if (a.constructor !== b.constructor) return false;\n\n    var length, i, keys;\n    if (Array.isArray(a)) {\n      length = a.length;\n      if (length != b.length) return false;\n      for (i = length; i-- !== 0;)\n        if (!equal(a[i], b[i])) return false;\n      return true;\n    }\n\n\n\n    if (a.constructor === RegExp) return a.source === b.source && a.flags === b.flags;\n    if (a.valueOf !== Object.prototype.valueOf) return a.valueOf() === b.valueOf();\n    if (a.toString !== Object.prototype.toString) return a.toString() === b.toString();\n\n    keys = Object.keys(a);\n    length = keys.length;\n    if (length !== Object.keys(b).length) return false;\n\n    for (i = length; i-- !== 0;)\n      if (!Object.prototype.hasOwnProperty.call(b, keys[i])) return false;\n\n    for (i = length; i-- !== 0;) {\n      var key = keys[i];\n\n      if (!equal(a[key], b[key])) return false;\n    }\n\n    return true;\n  }\n\n  // true if both NaN, false otherwise\n  return a!==a && b!==b;\n};\n","'use strict';\n\nvar resolve = require('./resolve');\n\nmodule.exports = {\n  Validation: errorSubclass(ValidationError),\n  MissingRef: errorSubclass(MissingRefError)\n};\n\n\nfunction ValidationError(errors) {\n  this.message = 'validation failed';\n  this.errors = errors;\n  this.ajv = this.validation = true;\n}\n\n\nMissingRefError.message = function (baseId, ref) {\n  return 'can\\'t resolve reference ' + ref + ' from id ' + baseId;\n};\n\n\nfunction MissingRefError(baseId, ref, message) {\n  this.message = message || MissingRefError.message(baseId, ref);\n  this.missingRef = resolve.url(baseId, ref);\n  this.missingSchema = resolve.normalizeId(resolve.fullPath(this.missingRef));\n}\n\n\nfunction errorSubclass(Subclass) {\n  Subclass.prototype = Object.create(Error.prototype);\n  Subclass.prototype.constructor = Subclass;\n  return Subclass;\n}\n","module.exports = function createCustomError(name, message) {\n    // use Object.create(), because some VMs prevent setting line/column otherwise\n    // (iOS Safari 10 even throws an exception)\n    var error = Object.create(SyntaxError.prototype);\n    var errorStack = new Error();\n\n    error.name = name;\n    error.message = message;\n\n    Object.defineProperty(error, 'stack', {\n        get: function() {\n            return (errorStack.stack || '').replace(/^(.+\\n){1,3}/, name + ': ' + message + '\\n');\n        }\n    });\n\n    return error;\n};\n","function noop(value) {\n    return value;\n}\n\nfunction generateMultiplier(multiplier) {\n    if (multiplier.min === 0 && multiplier.max === 0) {\n        return '*';\n    }\n\n    if (multiplier.min === 0 && multiplier.max === 1) {\n        return '?';\n    }\n\n    if (multiplier.min === 1 && multiplier.max === 0) {\n        return multiplier.comma ? '#' : '+';\n    }\n\n    if (multiplier.min === 1 && multiplier.max === 1) {\n        return '';\n    }\n\n    return (\n        (multiplier.comma ? '#' : '') +\n        (multiplier.min === multiplier.max\n            ? '{' + multiplier.min + '}'\n            : '{' + multiplier.min + ',' + (multiplier.max !== 0 ? multiplier.max : '') + '}'\n        )\n    );\n}\n\nfunction generateTypeOpts(node) {\n    switch (node.type) {\n        case 'Range':\n            return (\n                ' [' +\n                (node.min === null ? '-∞' : node.min) +\n                ',' +\n                (node.max === null ? '∞' : node.max) +\n                ']'\n            );\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n}\n\nfunction generateSequence(node, decorate, forceBraces, compact) {\n    var combinator = node.combinator === ' ' || compact ? node.combinator : ' ' + node.combinator + ' ';\n    var result = node.terms.map(function(term) {\n        return generate(term, decorate, forceBraces, compact);\n    }).join(combinator);\n\n    if (node.explicit || forceBraces) {\n        result = (compact || result[0] === ',' ? '[' : '[ ') + result + (compact ? ']' : ' ]');\n    }\n\n    return result;\n}\n\nfunction generate(node, decorate, forceBraces, compact) {\n    var result;\n\n    switch (node.type) {\n        case 'Group':\n            result =\n                generateSequence(node, decorate, forceBraces, compact) +\n                (node.disallowEmpty ? '!' : '');\n            break;\n\n        case 'Multiplier':\n            // return since node is a composition\n            return (\n                generate(node.term, decorate, forceBraces, compact) +\n                decorate(generateMultiplier(node), node)\n            );\n\n        case 'Type':\n            result = '<' + node.name + (node.opts ? decorate(generateTypeOpts(node.opts), node.opts) : '') + '>';\n            break;\n\n        case 'Property':\n            result = '<\\'' + node.name + '\\'>';\n            break;\n\n        case 'Keyword':\n            result = node.name;\n            break;\n\n        case 'AtKeyword':\n            result = '@' + node.name;\n            break;\n\n        case 'Function':\n            result = node.name + '(';\n            break;\n\n        case 'String':\n        case 'Token':\n            result = node.value;\n            break;\n\n        case 'Comma':\n            result = ',';\n            break;\n\n        default:\n            throw new Error('Unknown node type `' + node.type + '`');\n    }\n\n    return decorate(result, node);\n}\n\nmodule.exports = function(node, options) {\n    var decorate = noop;\n    var forceBraces = false;\n    var compact = false;\n\n    if (typeof options === 'function') {\n        decorate = options;\n    } else if (options) {\n        forceBraces = Boolean(options.forceBraces);\n        compact = Boolean(options.compact);\n        if (typeof options.decorate === 'function') {\n            decorate = options.decorate;\n        }\n    }\n\n    return generate(node, decorate, forceBraces, compact);\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar keywords = Object.create(null);\nvar properties = Object.create(null);\nvar HYPHENMINUS = 45; // '-'.charCodeAt()\n\nfunction isCustomProperty(str, offset) {\n    offset = offset || 0;\n\n    return str.length - offset >= 2 &&\n           str.charCodeAt(offset) === HYPHENMINUS &&\n           str.charCodeAt(offset + 1) === HYPHENMINUS;\n}\n\nfunction getVendorPrefix(str, offset) {\n    offset = offset || 0;\n\n    // verdor prefix should be at least 3 chars length\n    if (str.length - offset >= 3) {\n        // vendor prefix starts with hyper minus following non-hyper minus\n        if (str.charCodeAt(offset) === HYPHENMINUS &&\n            str.charCodeAt(offset + 1) !== HYPHENMINUS) {\n            // vendor prefix should contain a hyper minus at the ending\n            var secondDashIndex = str.indexOf('-', offset + 2);\n\n            if (secondDashIndex !== -1) {\n                return str.substring(offset, secondDashIndex + 1);\n            }\n        }\n    }\n\n    return '';\n}\n\nfunction getKeywordDescriptor(keyword) {\n    if (hasOwnProperty.call(keywords, keyword)) {\n        return keywords[keyword];\n    }\n\n    var name = keyword.toLowerCase();\n\n    if (hasOwnProperty.call(keywords, name)) {\n        return keywords[keyword] = keywords[name];\n    }\n\n    var custom = isCustomProperty(name, 0);\n    var vendor = !custom ? getVendorPrefix(name, 0) : '';\n\n    return keywords[keyword] = Object.freeze({\n        basename: name.substr(vendor.length),\n        name: name,\n        vendor: vendor,\n        prefix: vendor,\n        custom: custom\n    });\n}\n\nfunction getPropertyDescriptor(property) {\n    if (hasOwnProperty.call(properties, property)) {\n        return properties[property];\n    }\n\n    var name = property;\n    var hack = property[0];\n\n    if (hack === '/') {\n        hack = property[1] === '/' ? '//' : '/';\n    } else if (hack !== '_' &&\n               hack !== '*' &&\n               hack !== '$' &&\n               hack !== '#' &&\n               hack !== '+' &&\n               hack !== '&') {\n        hack = '';\n    }\n\n    var custom = isCustomProperty(name, hack.length);\n\n    // re-use result when possible (the same as for lower case)\n    if (!custom) {\n        name = name.toLowerCase();\n        if (hasOwnProperty.call(properties, name)) {\n            return properties[property] = properties[name];\n        }\n    }\n\n    var vendor = !custom ? getVendorPrefix(name, hack.length) : '';\n    var prefix = name.substr(0, hack.length + vendor.length);\n\n    return properties[property] = Object.freeze({\n        basename: name.substr(prefix.length),\n        name: name.substr(hack.length),\n        hack: hack,\n        vendor: vendor,\n        prefix: prefix,\n        custom: custom\n    });\n}\n\nmodule.exports = {\n    keyword: getKeywordDescriptor,\n    property: getPropertyDescriptor,\n    isCustomProperty: isCustomProperty,\n    vendorPrefix: getVendorPrefix\n};\n","var Tokenizer = require('./tokenizer');\nvar TAB = 9;\nvar N = 10;\nvar F = 12;\nvar R = 13;\nvar SPACE = 32;\nvar EXCLAMATIONMARK = 33;    // !\nvar NUMBERSIGN = 35;         // #\nvar AMPERSAND = 38;          // &\nvar APOSTROPHE = 39;         // '\nvar LEFTPARENTHESIS = 40;    // (\nvar RIGHTPARENTHESIS = 41;   // )\nvar ASTERISK = 42;           // *\nvar PLUSSIGN = 43;           // +\nvar COMMA = 44;              // ,\nvar HYPERMINUS = 45;         // -\nvar LESSTHANSIGN = 60;       // <\nvar GREATERTHANSIGN = 62;    // >\nvar QUESTIONMARK = 63;       // ?\nvar COMMERCIALAT = 64;       // @\nvar LEFTSQUAREBRACKET = 91;  // [\nvar RIGHTSQUAREBRACKET = 93; // ]\nvar LEFTCURLYBRACKET = 123;  // {\nvar VERTICALLINE = 124;      // |\nvar RIGHTCURLYBRACKET = 125; // }\nvar INFINITY = 8734;         // ∞\nvar NAME_CHAR = createCharMap(function(ch) {\n    return /[a-zA-Z0-9\\-]/.test(ch);\n});\nvar COMBINATOR_PRECEDENCE = {\n    ' ': 1,\n    '&&': 2,\n    '||': 3,\n    '|': 4\n};\n\nfunction createCharMap(fn) {\n    var array = typeof Uint32Array === 'function' ? new Uint32Array(128) : new Array(128);\n    for (var i = 0; i < 128; i++) {\n        array[i] = fn(String.fromCharCode(i)) ? 1 : 0;\n    }\n    return array;\n}\n\nfunction scanSpaces(tokenizer) {\n    return tokenizer.substringToPos(\n        tokenizer.findWsEnd(tokenizer.pos)\n    );\n}\n\nfunction scanWord(tokenizer) {\n    var end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        var code = tokenizer.str.charCodeAt(end);\n        if (code >= 128 || NAME_CHAR[code] === 0) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a keyword');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanNumber(tokenizer) {\n    var end = tokenizer.pos;\n\n    for (; end < tokenizer.str.length; end++) {\n        var code = tokenizer.str.charCodeAt(end);\n        if (code < 48 || code > 57) {\n            break;\n        }\n    }\n\n    if (tokenizer.pos === end) {\n        tokenizer.error('Expect a number');\n    }\n\n    return tokenizer.substringToPos(end);\n}\n\nfunction scanString(tokenizer) {\n    var end = tokenizer.str.indexOf('\\'', tokenizer.pos + 1);\n\n    if (end === -1) {\n        tokenizer.pos = tokenizer.str.length;\n        tokenizer.error('Expect an apostrophe');\n    }\n\n    return tokenizer.substringToPos(end + 1);\n}\n\nfunction readMultiplierRange(tokenizer) {\n    var min = null;\n    var max = null;\n\n    tokenizer.eat(LEFTCURLYBRACKET);\n\n    min = scanNumber(tokenizer);\n\n    if (tokenizer.charCode() === COMMA) {\n        tokenizer.pos++;\n        if (tokenizer.charCode() !== RIGHTCURLYBRACKET) {\n            max = scanNumber(tokenizer);\n        }\n    } else {\n        max = min;\n    }\n\n    tokenizer.eat(RIGHTCURLYBRACKET);\n\n    return {\n        min: Number(min),\n        max: max ? Number(max) : 0\n    };\n}\n\nfunction readMultiplier(tokenizer) {\n    var range = null;\n    var comma = false;\n\n    switch (tokenizer.charCode()) {\n        case ASTERISK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 0\n            };\n\n            break;\n\n        case PLUSSIGN:\n            tokenizer.pos++;\n\n            range = {\n                min: 1,\n                max: 0\n            };\n\n            break;\n\n        case QUESTIONMARK:\n            tokenizer.pos++;\n\n            range = {\n                min: 0,\n                max: 1\n            };\n\n            break;\n\n        case NUMBERSIGN:\n            tokenizer.pos++;\n\n            comma = true;\n\n            if (tokenizer.charCode() === LEFTCURLYBRACKET) {\n                range = readMultiplierRange(tokenizer);\n            } else {\n                range = {\n                    min: 1,\n                    max: 0\n                };\n            }\n\n            break;\n\n        case LEFTCURLYBRACKET:\n            range = readMultiplierRange(tokenizer);\n            break;\n\n        default:\n            return null;\n    }\n\n    return {\n        type: 'Multiplier',\n        comma: comma,\n        min: range.min,\n        max: range.max,\n        term: null\n    };\n}\n\nfunction maybeMultiplied(tokenizer, node) {\n    var multiplier = readMultiplier(tokenizer);\n\n    if (multiplier !== null) {\n        multiplier.term = node;\n        return multiplier;\n    }\n\n    return node;\n}\n\nfunction maybeToken(tokenizer) {\n    var ch = tokenizer.peek();\n\n    if (ch === '') {\n        return null;\n    }\n\n    return {\n        type: 'Token',\n        value: ch\n    };\n}\n\nfunction readProperty(tokenizer) {\n    var name;\n\n    tokenizer.eat(LESSTHANSIGN);\n    tokenizer.eat(APOSTROPHE);\n\n    name = scanWord(tokenizer);\n\n    tokenizer.eat(APOSTROPHE);\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Property',\n        name: name\n    });\n}\n\n// https://drafts.csswg.org/css-values-3/#numeric-ranges\n// 4.1. Range Restrictions and Range Definition Notation\n//\n// Range restrictions can be annotated in the numeric type notation using CSS bracketed\n// range notation—[min,max]—within the angle brackets, after the identifying keyword,\n// indicating a closed range between (and including) min and max.\n// For example, <integer [0, 10]> indicates an integer between 0 and 10, inclusive.\nfunction readTypeRange(tokenizer) {\n    // use null for Infinity to make AST format JSON serializable/deserializable\n    var min = null; // -Infinity\n    var max = null; // Infinity\n    var sign = 1;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n\n    if (tokenizer.charCode() === HYPERMINUS) {\n        tokenizer.peek();\n        sign = -1;\n    }\n\n    if (sign == -1 && tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        min = sign * Number(scanNumber(tokenizer));\n    }\n\n    scanSpaces(tokenizer);\n    tokenizer.eat(COMMA);\n    scanSpaces(tokenizer);\n\n    if (tokenizer.charCode() === INFINITY) {\n        tokenizer.peek();\n    } else {\n        sign = 1;\n\n        if (tokenizer.charCode() === HYPERMINUS) {\n            tokenizer.peek();\n            sign = -1;\n        }\n\n        max = sign * Number(scanNumber(tokenizer));\n    }\n\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    // If no range is indicated, either by using the bracketed range notation\n    // or in the property description, then [−∞,∞] is assumed.\n    if (min === null && max === null) {\n        return null;\n    }\n\n    return {\n        type: 'Range',\n        min: min,\n        max: max\n    };\n}\n\nfunction readType(tokenizer) {\n    var name;\n    var opts = null;\n\n    tokenizer.eat(LESSTHANSIGN);\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS &&\n        tokenizer.nextCharCode() === RIGHTPARENTHESIS) {\n        tokenizer.pos += 2;\n        name += '()';\n    }\n\n    if (tokenizer.charCodeAt(tokenizer.findWsEnd(tokenizer.pos)) === LEFTSQUAREBRACKET) {\n        scanSpaces(tokenizer);\n        opts = readTypeRange(tokenizer);\n    }\n\n    tokenizer.eat(GREATERTHANSIGN);\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Type',\n        name: name,\n        opts: opts\n    });\n}\n\nfunction readKeywordOrFunction(tokenizer) {\n    var name;\n\n    name = scanWord(tokenizer);\n\n    if (tokenizer.charCode() === LEFTPARENTHESIS) {\n        tokenizer.pos++;\n\n        return {\n            type: 'Function',\n            name: name\n        };\n    }\n\n    return maybeMultiplied(tokenizer, {\n        type: 'Keyword',\n        name: name\n    });\n}\n\nfunction regroupTerms(terms, combinators) {\n    function createGroup(terms, combinator) {\n        return {\n            type: 'Group',\n            terms: terms,\n            combinator: combinator,\n            disallowEmpty: false,\n            explicit: false\n        };\n    }\n\n    combinators = Object.keys(combinators).sort(function(a, b) {\n        return COMBINATOR_PRECEDENCE[a] - COMBINATOR_PRECEDENCE[b];\n    });\n\n    while (combinators.length > 0) {\n        var combinator = combinators.shift();\n        for (var i = 0, subgroupStart = 0; i < terms.length; i++) {\n            var term = terms[i];\n            if (term.type === 'Combinator') {\n                if (term.value === combinator) {\n                    if (subgroupStart === -1) {\n                        subgroupStart = i - 1;\n                    }\n                    terms.splice(i, 1);\n                    i--;\n                } else {\n                    if (subgroupStart !== -1 && i - subgroupStart > 1) {\n                        terms.splice(\n                            subgroupStart,\n                            i - subgroupStart,\n                            createGroup(terms.slice(subgroupStart, i), combinator)\n                        );\n                        i = subgroupStart + 1;\n                    }\n                    subgroupStart = -1;\n                }\n            }\n        }\n\n        if (subgroupStart !== -1 && combinators.length) {\n            terms.splice(\n                subgroupStart,\n                i - subgroupStart,\n                createGroup(terms.slice(subgroupStart, i), combinator)\n            );\n        }\n    }\n\n    return combinator;\n}\n\nfunction readImplicitGroup(tokenizer) {\n    var terms = [];\n    var combinators = {};\n    var token;\n    var prevToken = null;\n    var prevTokenPos = tokenizer.pos;\n\n    while (token = peek(tokenizer)) {\n        if (token.type !== 'Spaces') {\n            if (token.type === 'Combinator') {\n                // check for combinator in group beginning and double combinator sequence\n                if (prevToken === null || prevToken.type === 'Combinator') {\n                    tokenizer.pos = prevTokenPos;\n                    tokenizer.error('Unexpected combinator');\n                }\n\n                combinators[token.value] = true;\n            } else if (prevToken !== null && prevToken.type !== 'Combinator') {\n                combinators[' '] = true;  // a b\n                terms.push({\n                    type: 'Combinator',\n                    value: ' '\n                });\n            }\n\n            terms.push(token);\n            prevToken = token;\n            prevTokenPos = tokenizer.pos;\n        }\n    }\n\n    // check for combinator in group ending\n    if (prevToken !== null && prevToken.type === 'Combinator') {\n        tokenizer.pos -= prevTokenPos;\n        tokenizer.error('Unexpected combinator');\n    }\n\n    return {\n        type: 'Group',\n        terms: terms,\n        combinator: regroupTerms(terms, combinators) || ' ',\n        disallowEmpty: false,\n        explicit: false\n    };\n}\n\nfunction readGroup(tokenizer) {\n    var result;\n\n    tokenizer.eat(LEFTSQUAREBRACKET);\n    result = readImplicitGroup(tokenizer);\n    tokenizer.eat(RIGHTSQUAREBRACKET);\n\n    result.explicit = true;\n\n    if (tokenizer.charCode() === EXCLAMATIONMARK) {\n        tokenizer.pos++;\n        result.disallowEmpty = true;\n    }\n\n    return result;\n}\n\nfunction peek(tokenizer) {\n    var code = tokenizer.charCode();\n\n    if (code < 128 && NAME_CHAR[code] === 1) {\n        return readKeywordOrFunction(tokenizer);\n    }\n\n    switch (code) {\n        case RIGHTSQUAREBRACKET:\n            // don't eat, stop scan a group\n            break;\n\n        case LEFTSQUAREBRACKET:\n            return maybeMultiplied(tokenizer, readGroup(tokenizer));\n\n        case LESSTHANSIGN:\n            return tokenizer.nextCharCode() === APOSTROPHE\n                ? readProperty(tokenizer)\n                : readType(tokenizer);\n\n        case VERTICALLINE:\n            return {\n                type: 'Combinator',\n                value: tokenizer.substringToPos(\n                    tokenizer.nextCharCode() === VERTICALLINE\n                        ? tokenizer.pos + 2\n                        : tokenizer.pos + 1\n                )\n            };\n\n        case AMPERSAND:\n            tokenizer.pos++;\n            tokenizer.eat(AMPERSAND);\n\n            return {\n                type: 'Combinator',\n                value: '&&'\n            };\n\n        case COMMA:\n            tokenizer.pos++;\n            return {\n                type: 'Comma'\n            };\n\n        case APOSTROPHE:\n            return maybeMultiplied(tokenizer, {\n                type: 'String',\n                value: scanString(tokenizer)\n            });\n\n        case SPACE:\n        case TAB:\n        case N:\n        case R:\n        case F:\n            return {\n                type: 'Spaces',\n                value: scanSpaces(tokenizer)\n            };\n\n        case COMMERCIALAT:\n            code = tokenizer.nextCharCode();\n\n            if (code < 128 && NAME_CHAR[code] === 1) {\n                tokenizer.pos++;\n                return {\n                    type: 'AtKeyword',\n                    name: scanWord(tokenizer)\n                };\n            }\n\n            return maybeToken(tokenizer);\n\n        case ASTERISK:\n        case PLUSSIGN:\n        case QUESTIONMARK:\n        case NUMBERSIGN:\n        case EXCLAMATIONMARK:\n            // prohibited tokens (used as a multiplier start)\n            break;\n\n        case LEFTCURLYBRACKET:\n            // LEFTCURLYBRACKET is allowed since mdn/data uses it w/o quoting\n            // check next char isn't a number, because it's likely a disjoined multiplier\n            code = tokenizer.nextCharCode();\n\n            if (code < 48 || code > 57) {\n                return maybeToken(tokenizer);\n            }\n\n            break;\n\n        default:\n            return maybeToken(tokenizer);\n    }\n}\n\nfunction parse(source) {\n    var tokenizer = new Tokenizer(source);\n    var result = readImplicitGroup(tokenizer);\n\n    if (tokenizer.pos !== source.length) {\n        tokenizer.error('Unexpected input');\n    }\n\n    // reduce redundant groups with single group term\n    if (result.terms.length === 1 && result.terms[0].type === 'Group') {\n        result = result.terms[0];\n    }\n\n    return result;\n}\n\n// warm up parse to elimitate code branches that never execute\n// fix soft deoptimizations (insufficient type feedback)\nparse('[a&&<b>#|<\\'c\\'>*||e() f{2} /,(% g#{1,2} h{2,})]!');\n\nmodule.exports = parse;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   “sources” entry.  This value is prepended to the individual\n    //   entries in the “source” field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   “sourceRoot”, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n","module.exports = {\n    AnPlusB: require('./AnPlusB'),\n    Atrule: require('./Atrule'),\n    AtrulePrelude: require('./AtrulePrelude'),\n    AttributeSelector: require('./AttributeSelector'),\n    Block: require('./Block'),\n    Brackets: require('./Brackets'),\n    CDC: require('./CDC'),\n    CDO: require('./CDO'),\n    ClassSelector: require('./ClassSelector'),\n    Combinator: require('./Combinator'),\n    Comment: require('./Comment'),\n    Declaration: require('./Declaration'),\n    DeclarationList: require('./DeclarationList'),\n    Dimension: require('./Dimension'),\n    Function: require('./Function'),\n    HexColor: require('./HexColor'),\n    Identifier: require('./Identifier'),\n    IdSelector: require('./IdSelector'),\n    MediaFeature: require('./MediaFeature'),\n    MediaQuery: require('./MediaQuery'),\n    MediaQueryList: require('./MediaQueryList'),\n    Nth: require('./Nth'),\n    Number: require('./Number'),\n    Operator: require('./Operator'),\n    Parentheses: require('./Parentheses'),\n    Percentage: require('./Percentage'),\n    PseudoClassSelector: require('./PseudoClassSelector'),\n    PseudoElementSelector: require('./PseudoElementSelector'),\n    Ratio: require('./Ratio'),\n    Raw: require('./Raw'),\n    Rule: require('./Rule'),\n    Selector: require('./Selector'),\n    SelectorList: require('./SelectorList'),\n    String: require('./String'),\n    StyleSheet: require('./StyleSheet'),\n    TypeSelector: require('./TypeSelector'),\n    UnicodeRange: require('./UnicodeRange'),\n    Url: require('./Url'),\n    Value: require('./Value'),\n    WhiteSpace: require('./WhiteSpace')\n};\n","var lexer = require('css-tree').lexer;\nvar packNumber = require('./Number').pack;\n\n// http://www.w3.org/TR/css3-color/#svg-color\nvar NAME_TO_HEX = {\n    'aliceblue': 'f0f8ff',\n    'antiquewhite': 'faebd7',\n    'aqua': '0ff',\n    'aquamarine': '7fffd4',\n    'azure': 'f0ffff',\n    'beige': 'f5f5dc',\n    'bisque': 'ffe4c4',\n    'black': '000',\n    'blanchedalmond': 'ffebcd',\n    'blue': '00f',\n    'blueviolet': '8a2be2',\n    'brown': 'a52a2a',\n    'burlywood': 'deb887',\n    'cadetblue': '5f9ea0',\n    'chartreuse': '7fff00',\n    'chocolate': 'd2691e',\n    'coral': 'ff7f50',\n    'cornflowerblue': '6495ed',\n    'cornsilk': 'fff8dc',\n    'crimson': 'dc143c',\n    'cyan': '0ff',\n    'darkblue': '00008b',\n    'darkcyan': '008b8b',\n    'darkgoldenrod': 'b8860b',\n    'darkgray': 'a9a9a9',\n    'darkgrey': 'a9a9a9',\n    'darkgreen': '006400',\n    'darkkhaki': 'bdb76b',\n    'darkmagenta': '8b008b',\n    'darkolivegreen': '556b2f',\n    'darkorange': 'ff8c00',\n    'darkorchid': '9932cc',\n    'darkred': '8b0000',\n    'darksalmon': 'e9967a',\n    'darkseagreen': '8fbc8f',\n    'darkslateblue': '483d8b',\n    'darkslategray': '2f4f4f',\n    'darkslategrey': '2f4f4f',\n    'darkturquoise': '00ced1',\n    'darkviolet': '9400d3',\n    'deeppink': 'ff1493',\n    'deepskyblue': '00bfff',\n    'dimgray': '696969',\n    'dimgrey': '696969',\n    'dodgerblue': '1e90ff',\n    'firebrick': 'b22222',\n    'floralwhite': 'fffaf0',\n    'forestgreen': '228b22',\n    'fuchsia': 'f0f',\n    'gainsboro': 'dcdcdc',\n    'ghostwhite': 'f8f8ff',\n    'gold': 'ffd700',\n    'goldenrod': 'daa520',\n    'gray': '808080',\n    'grey': '808080',\n    'green': '008000',\n    'greenyellow': 'adff2f',\n    'honeydew': 'f0fff0',\n    'hotpink': 'ff69b4',\n    'indianred': 'cd5c5c',\n    'indigo': '4b0082',\n    'ivory': 'fffff0',\n    'khaki': 'f0e68c',\n    'lavender': 'e6e6fa',\n    'lavenderblush': 'fff0f5',\n    'lawngreen': '7cfc00',\n    'lemonchiffon': 'fffacd',\n    'lightblue': 'add8e6',\n    'lightcoral': 'f08080',\n    'lightcyan': 'e0ffff',\n    'lightgoldenrodyellow': 'fafad2',\n    'lightgray': 'd3d3d3',\n    'lightgrey': 'd3d3d3',\n    'lightgreen': '90ee90',\n    'lightpink': 'ffb6c1',\n    'lightsalmon': 'ffa07a',\n    'lightseagreen': '20b2aa',\n    'lightskyblue': '87cefa',\n    'lightslategray': '789',\n    'lightslategrey': '789',\n    'lightsteelblue': 'b0c4de',\n    'lightyellow': 'ffffe0',\n    'lime': '0f0',\n    'limegreen': '32cd32',\n    'linen': 'faf0e6',\n    'magenta': 'f0f',\n    'maroon': '800000',\n    'mediumaquamarine': '66cdaa',\n    'mediumblue': '0000cd',\n    'mediumorchid': 'ba55d3',\n    'mediumpurple': '9370db',\n    'mediumseagreen': '3cb371',\n    'mediumslateblue': '7b68ee',\n    'mediumspringgreen': '00fa9a',\n    'mediumturquoise': '48d1cc',\n    'mediumvioletred': 'c71585',\n    'midnightblue': '191970',\n    'mintcream': 'f5fffa',\n    'mistyrose': 'ffe4e1',\n    'moccasin': 'ffe4b5',\n    'navajowhite': 'ffdead',\n    'navy': '000080',\n    'oldlace': 'fdf5e6',\n    'olive': '808000',\n    'olivedrab': '6b8e23',\n    'orange': 'ffa500',\n    'orangered': 'ff4500',\n    'orchid': 'da70d6',\n    'palegoldenrod': 'eee8aa',\n    'palegreen': '98fb98',\n    'paleturquoise': 'afeeee',\n    'palevioletred': 'db7093',\n    'papayawhip': 'ffefd5',\n    'peachpuff': 'ffdab9',\n    'peru': 'cd853f',\n    'pink': 'ffc0cb',\n    'plum': 'dda0dd',\n    'powderblue': 'b0e0e6',\n    'purple': '800080',\n    'rebeccapurple': '639',\n    'red': 'f00',\n    'rosybrown': 'bc8f8f',\n    'royalblue': '4169e1',\n    'saddlebrown': '8b4513',\n    'salmon': 'fa8072',\n    'sandybrown': 'f4a460',\n    'seagreen': '2e8b57',\n    'seashell': 'fff5ee',\n    'sienna': 'a0522d',\n    'silver': 'c0c0c0',\n    'skyblue': '87ceeb',\n    'slateblue': '6a5acd',\n    'slategray': '708090',\n    'slategrey': '708090',\n    'snow': 'fffafa',\n    'springgreen': '00ff7f',\n    'steelblue': '4682b4',\n    'tan': 'd2b48c',\n    'teal': '008080',\n    'thistle': 'd8bfd8',\n    'tomato': 'ff6347',\n    'turquoise': '40e0d0',\n    'violet': 'ee82ee',\n    'wheat': 'f5deb3',\n    'white': 'fff',\n    'whitesmoke': 'f5f5f5',\n    'yellow': 'ff0',\n    'yellowgreen': '9acd32'\n};\n\nvar HEX_TO_NAME = {\n    '800000': 'maroon',\n    '800080': 'purple',\n    '808000': 'olive',\n    '808080': 'gray',\n    '00ffff': 'cyan',\n    'f0ffff': 'azure',\n    'f5f5dc': 'beige',\n    'ffe4c4': 'bisque',\n    '000000': 'black',\n    '0000ff': 'blue',\n    'a52a2a': 'brown',\n    'ff7f50': 'coral',\n    'ffd700': 'gold',\n    '008000': 'green',\n    '4b0082': 'indigo',\n    'fffff0': 'ivory',\n    'f0e68c': 'khaki',\n    '00ff00': 'lime',\n    'faf0e6': 'linen',\n    '000080': 'navy',\n    'ffa500': 'orange',\n    'da70d6': 'orchid',\n    'cd853f': 'peru',\n    'ffc0cb': 'pink',\n    'dda0dd': 'plum',\n    'f00': 'red',\n    'ff0000': 'red',\n    'fa8072': 'salmon',\n    'a0522d': 'sienna',\n    'c0c0c0': 'silver',\n    'fffafa': 'snow',\n    'd2b48c': 'tan',\n    '008080': 'teal',\n    'ff6347': 'tomato',\n    'ee82ee': 'violet',\n    'f5deb3': 'wheat',\n    'ffffff': 'white',\n    'ffff00': 'yellow'\n};\n\nfunction hueToRgb(p, q, t) {\n    if (t < 0) {\n        t += 1;\n    }\n    if (t > 1) {\n        t -= 1;\n    }\n    if (t < 1 / 6) {\n        return p + (q - p) * 6 * t;\n    }\n    if (t < 1 / 2) {\n        return q;\n    }\n    if (t < 2 / 3) {\n        return p + (q - p) * (2 / 3 - t) * 6;\n    }\n    return p;\n}\n\nfunction hslToRgb(h, s, l, a) {\n    var r;\n    var g;\n    var b;\n\n    if (s === 0) {\n        r = g = b = l; // achromatic\n    } else {\n        var q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n        var p = 2 * l - q;\n\n        r = hueToRgb(p, q, h + 1 / 3);\n        g = hueToRgb(p, q, h);\n        b = hueToRgb(p, q, h - 1 / 3);\n    }\n\n    return [\n        Math.round(r * 255),\n        Math.round(g * 255),\n        Math.round(b * 255),\n        a\n    ];\n}\n\nfunction toHex(value) {\n    value = value.toString(16);\n    return value.length === 1 ? '0' + value : value;\n}\n\nfunction parseFunctionArgs(functionArgs, count, rgb) {\n    var cursor = functionArgs.head;\n    var args = [];\n    var wasValue = false;\n\n    while (cursor !== null) {\n        var node = cursor.data;\n        var type = node.type;\n\n        switch (type) {\n            case 'Number':\n            case 'Percentage':\n                if (wasValue) {\n                    return;\n                }\n\n                wasValue = true;\n                args.push({\n                    type: type,\n                    value: Number(node.value)\n                });\n                break;\n\n            case 'Operator':\n                if (node.value === ',') {\n                    if (!wasValue) {\n                        return;\n                    }\n                    wasValue = false;\n                } else if (wasValue || node.value !== '+') {\n                    return;\n                }\n                break;\n\n            default:\n                // something we couldn't understand\n                return;\n        }\n\n        cursor = cursor.next;\n    }\n\n    if (args.length !== count) {\n        // invalid arguments count\n        // TODO: remove those tokens\n        return;\n    }\n\n    if (args.length === 4) {\n        if (args[3].type !== 'Number') {\n            // 4th argument should be a number\n            // TODO: remove those tokens\n            return;\n        }\n\n        args[3].type = 'Alpha';\n    }\n\n    if (rgb) {\n        if (args[0].type !== args[1].type || args[0].type !== args[2].type) {\n            // invalid color, numbers and percentage shouldn't be mixed\n            // TODO: remove those tokens\n            return;\n        }\n    } else {\n        if (args[0].type !== 'Number' ||\n            args[1].type !== 'Percentage' ||\n            args[2].type !== 'Percentage') {\n            // invalid color, for hsl values should be: number, percentage, percentage\n            // TODO: remove those tokens\n            return;\n        }\n\n        args[0].type = 'Angle';\n    }\n\n    return args.map(function(arg) {\n        var value = Math.max(0, arg.value);\n\n        switch (arg.type) {\n            case 'Number':\n                // fit value to [0..255] range\n                value = Math.min(value, 255);\n                break;\n\n            case 'Percentage':\n                // convert 0..100% to value in [0..255] range\n                value = Math.min(value, 100) / 100;\n\n                if (!rgb) {\n                    return value;\n                }\n\n                value = 255 * value;\n                break;\n\n            case 'Angle':\n                // fit value to (-360..360) range\n                return (((value % 360) + 360) % 360) / 360;\n\n            case 'Alpha':\n                // fit value to [0..1] range\n                return Math.min(value, 1);\n        }\n\n        return Math.round(value);\n    });\n}\n\nfunction compressFunction(node, item, list) {\n    var functionName = node.name;\n    var args;\n\n    if (functionName === 'rgba' || functionName === 'hsla') {\n        args = parseFunctionArgs(node.children, 4, functionName === 'rgba');\n\n        if (!args) {\n            // something went wrong\n            return;\n        }\n\n        if (functionName === 'hsla') {\n            args = hslToRgb.apply(null, args);\n            node.name = 'rgba';\n        }\n\n        if (args[3] === 0) {\n            // try to replace `rgba(x, x, x, 0)` to `transparent`\n            // always replace `rgba(0, 0, 0, 0)` to `transparent`\n            // otherwise avoid replacement in gradients since it may break color transition\n            // http://stackoverflow.com/questions/11829410/css3-gradient-rendering-issues-from-transparent-to-white\n            var scopeFunctionName = this.function && this.function.name;\n            if ((args[0] === 0 && args[1] === 0 && args[2] === 0) ||\n                !/^(?:to|from|color-stop)$|gradient$/i.test(scopeFunctionName)) {\n\n                item.data = {\n                    type: 'Identifier',\n                    loc: node.loc,\n                    name: 'transparent'\n                };\n\n                return;\n            }\n        }\n\n        if (args[3] !== 1) {\n            // replace argument values for normalized/interpolated\n            node.children.each(function(node, item, list) {\n                if (node.type === 'Operator') {\n                    if (node.value !== ',') {\n                        list.remove(item);\n                    }\n                    return;\n                }\n\n                item.data = {\n                    type: 'Number',\n                    loc: node.loc,\n                    value: packNumber(args.shift(), null)\n                };\n            });\n\n            return;\n        }\n\n        // otherwise convert to rgb, i.e. rgba(255, 0, 0, 1) -> rgb(255, 0, 0)\n        functionName = 'rgb';\n    }\n\n    if (functionName === 'hsl') {\n        args = args || parseFunctionArgs(node.children, 3, false);\n\n        if (!args) {\n            // something went wrong\n            return;\n        }\n\n        // convert to rgb\n        args = hslToRgb.apply(null, args);\n        functionName = 'rgb';\n    }\n\n    if (functionName === 'rgb') {\n        args = args || parseFunctionArgs(node.children, 3, true);\n\n        if (!args) {\n            // something went wrong\n            return;\n        }\n\n        // check if color is not at the end and not followed by space\n        var next = item.next;\n        if (next && next.data.type !== 'WhiteSpace') {\n            list.insert(list.createItem({\n                type: 'WhiteSpace',\n                value: ' '\n            }), next);\n        }\n\n        item.data = {\n            type: 'HexColor',\n            loc: node.loc,\n            value: toHex(args[0]) + toHex(args[1]) + toHex(args[2])\n        };\n\n        compressHex(item.data, item);\n    }\n}\n\nfunction compressIdent(node, item) {\n    if (this.declaration === null) {\n        return;\n    }\n\n    var color = node.name.toLowerCase();\n\n    if (NAME_TO_HEX.hasOwnProperty(color) &&\n        lexer.matchDeclaration(this.declaration).isType(node, 'color')) {\n        var hex = NAME_TO_HEX[color];\n\n        if (hex.length + 1 <= color.length) {\n            // replace for shorter hex value\n            item.data = {\n                type: 'HexColor',\n                loc: node.loc,\n                value: hex\n            };\n        } else {\n            // special case for consistent colors\n            if (color === 'grey') {\n                color = 'gray';\n            }\n\n            // just replace value for lower cased name\n            node.name = color;\n        }\n    }\n}\n\nfunction compressHex(node, item) {\n    var color = node.value.toLowerCase();\n\n    // #112233 -> #123\n    if (color.length === 6 &&\n        color[0] === color[1] &&\n        color[2] === color[3] &&\n        color[4] === color[5]) {\n        color = color[0] + color[2] + color[4];\n    }\n\n    if (HEX_TO_NAME[color]) {\n        item.data = {\n            type: 'Identifier',\n            loc: node.loc,\n            name: HEX_TO_NAME[color]\n        };\n    } else {\n        node.value = color;\n    }\n}\n\nmodule.exports = {\n    compressFunction: compressFunction,\n    compressIdent: compressIdent,\n    compressHex: compressHex\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isEqualSelectors(a, b) {\n    var cursor1 = a.head;\n    var cursor2 = b.head;\n\n    while (cursor1 !== null && cursor2 !== null && cursor1.data.id === cursor2.data.id) {\n        cursor1 = cursor1.next;\n        cursor2 = cursor2.next;\n    }\n\n    return cursor1 === null && cursor2 === null;\n}\n\nfunction isEqualDeclarations(a, b) {\n    var cursor1 = a.head;\n    var cursor2 = b.head;\n\n    while (cursor1 !== null && cursor2 !== null && cursor1.data.id === cursor2.data.id) {\n        cursor1 = cursor1.next;\n        cursor2 = cursor2.next;\n    }\n\n    return cursor1 === null && cursor2 === null;\n}\n\nfunction compareDeclarations(declarations1, declarations2) {\n    var result = {\n        eq: [],\n        ne1: [],\n        ne2: [],\n        ne2overrided: []\n    };\n\n    var fingerprints = Object.create(null);\n    var declarations2hash = Object.create(null);\n\n    for (var cursor = declarations2.head; cursor; cursor = cursor.next)  {\n        declarations2hash[cursor.data.id] = true;\n    }\n\n    for (var cursor = declarations1.head; cursor; cursor = cursor.next)  {\n        var data = cursor.data;\n\n        if (data.fingerprint) {\n            fingerprints[data.fingerprint] = data.important;\n        }\n\n        if (declarations2hash[data.id]) {\n            declarations2hash[data.id] = false;\n            result.eq.push(data);\n        } else {\n            result.ne1.push(data);\n        }\n    }\n\n    for (var cursor = declarations2.head; cursor; cursor = cursor.next)  {\n        var data = cursor.data;\n\n        if (declarations2hash[data.id]) {\n            // when declarations1 has an overriding declaration, this is not a difference\n            // unless no !important is used on prev and !important is used on the following\n            if (!hasOwnProperty.call(fingerprints, data.fingerprint) ||\n                (!fingerprints[data.fingerprint] && data.important)) {\n                result.ne2.push(data);\n            }\n\n            result.ne2overrided.push(data);\n        }\n    }\n\n    return result;\n}\n\nfunction addSelectors(dest, source) {\n    source.each(function(sourceData) {\n        var newStr = sourceData.id;\n        var cursor = dest.head;\n\n        while (cursor) {\n            var nextStr = cursor.data.id;\n\n            if (nextStr === newStr) {\n                return;\n            }\n\n            if (nextStr > newStr) {\n                break;\n            }\n\n            cursor = cursor.next;\n        }\n\n        dest.insert(dest.createItem(sourceData), cursor);\n    });\n\n    return dest;\n}\n\n// check if simpleselectors has no equal specificity and element selector\nfunction hasSimilarSelectors(selectors1, selectors2) {\n    var cursor1 = selectors1.head;\n\n    while (cursor1 !== null) {\n        var cursor2 = selectors2.head;\n\n        while (cursor2 !== null) {\n            if (cursor1.data.compareMarker === cursor2.data.compareMarker) {\n                return true;\n            }\n\n            cursor2 = cursor2.next;\n        }\n\n        cursor1 = cursor1.next;\n    }\n\n    return false;\n}\n\n// test node can't to be skipped\nfunction unsafeToSkipNode(node) {\n    switch (node.type) {\n        case 'Rule':\n            // unsafe skip ruleset with selector similarities\n            return hasSimilarSelectors(node.prelude.children, this);\n\n        case 'Atrule':\n            // can skip at-rules with blocks\n            if (node.block) {\n                // unsafe skip at-rule if block contains something unsafe to skip\n                return node.block.children.some(unsafeToSkipNode, this);\n            }\n            break;\n\n        case 'Declaration':\n            return false;\n    }\n\n    // unsafe by default\n    return true;\n}\n\nmodule.exports = {\n    isEqualSelectors: isEqualSelectors,\n    isEqualDeclarations: isEqualDeclarations,\n    compareDeclarations: compareDeclarations,\n    addSelectors: addSelectors,\n    hasSimilarSelectors: hasSimilarSelectors,\n    unsafeToSkipNode: unsafeToSkipNode\n};\n","'use strict';\n\nvar util = require('./util');\n\nmodule.exports = SchemaObject;\n\nfunction SchemaObject(obj) {\n  util.copy(obj, this);\n}\n","'use strict';\n\nmodule.exports = function (data, opts) {\n    if (!opts) opts = {};\n    if (typeof opts === 'function') opts = { cmp: opts };\n    var cycles = (typeof opts.cycles === 'boolean') ? opts.cycles : false;\n\n    var cmp = opts.cmp && (function (f) {\n        return function (node) {\n            return function (a, b) {\n                var aobj = { key: a, value: node[a] };\n                var bobj = { key: b, value: node[b] };\n                return f(aobj, bobj);\n            };\n        };\n    })(opts.cmp);\n\n    var seen = [];\n    return (function stringify (node) {\n        if (node && node.toJSON && typeof node.toJSON === 'function') {\n            node = node.toJSON();\n        }\n\n        if (node === undefined) return;\n        if (typeof node == 'number') return isFinite(node) ? '' + node : 'null';\n        if (typeof node !== 'object') return JSON.stringify(node);\n\n        var i, out;\n        if (Array.isArray(node)) {\n            out = '[';\n            for (i = 0; i < node.length; i++) {\n                if (i) out += ',';\n                out += stringify(node[i]) || 'null';\n            }\n            return out + ']';\n        }\n\n        if (node === null) return 'null';\n\n        if (seen.indexOf(node) !== -1) {\n            if (cycles) return JSON.stringify('__cycle__');\n            throw new TypeError('Converting circular structure to JSON');\n        }\n\n        var seenIndex = seen.push(node) - 1;\n        var keys = Object.keys(node).sort(cmp && cmp(node));\n        out = '';\n        for (i = 0; i < keys.length; i++) {\n            var key = keys[i];\n            var value = stringify(node[key]);\n\n            if (!value) continue;\n            if (out) out += ',';\n            out += JSON.stringify(key) + ':' + value;\n        }\n        seen.splice(seenIndex, 1);\n        return '{' + out + '}';\n    })(data);\n};\n","'use strict';\nmodule.exports = function generate_validate(it, $keyword, $ruleType) {\n  var out = '';\n  var $async = it.schema.$async === true,\n    $refKeywords = it.util.schemaHasRulesExcept(it.schema, it.RULES.all, '$ref'),\n    $id = it.self._getId(it.schema);\n  if (it.opts.strictKeywords) {\n    var $unknownKwd = it.util.schemaUnknownRules(it.schema, it.RULES.keywords);\n    if ($unknownKwd) {\n      var $keywordsMsg = 'unknown keyword: ' + $unknownKwd;\n      if (it.opts.strictKeywords === 'log') it.logger.warn($keywordsMsg);\n      else throw new Error($keywordsMsg);\n    }\n  }\n  if (it.isTop) {\n    out += ' var validate = ';\n    if ($async) {\n      it.async = true;\n      out += 'async ';\n    }\n    out += 'function(data, dataPath, parentData, parentDataProperty, rootData) { \\'use strict\\'; ';\n    if ($id && (it.opts.sourceCode || it.opts.processCode)) {\n      out += ' ' + ('/\\*# sourceURL=' + $id + ' */') + ' ';\n    }\n  }\n  if (typeof it.schema == 'boolean' || !($refKeywords || it.schema.$ref)) {\n    var $keyword = 'false schema';\n    var $lvl = it.level;\n    var $dataLvl = it.dataLevel;\n    var $schema = it.schema[$keyword];\n    var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n    var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n    var $breakOnError = !it.opts.allErrors;\n    var $errorKeyword;\n    var $data = 'data' + ($dataLvl || '');\n    var $valid = 'valid' + $lvl;\n    if (it.schema === false) {\n      if (it.isTop) {\n        $breakOnError = true;\n      } else {\n        out += ' var ' + ($valid) + ' = false; ';\n      }\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'false schema') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'boolean schema is false\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n    } else {\n      if (it.isTop) {\n        if ($async) {\n          out += ' return data; ';\n        } else {\n          out += ' validate.errors = null; return true; ';\n        }\n      } else {\n        out += ' var ' + ($valid) + ' = true; ';\n      }\n    }\n    if (it.isTop) {\n      out += ' }; return validate; ';\n    }\n    return out;\n  }\n  if (it.isTop) {\n    var $top = it.isTop,\n      $lvl = it.level = 0,\n      $dataLvl = it.dataLevel = 0,\n      $data = 'data';\n    it.rootId = it.resolve.fullPath(it.self._getId(it.root.schema));\n    it.baseId = it.baseId || it.rootId;\n    delete it.isTop;\n    it.dataPathArr = [undefined];\n    if (it.schema.default !== undefined && it.opts.useDefaults && it.opts.strictDefaults) {\n      var $defaultMsg = 'default is ignored in the schema root';\n      if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n      else throw new Error($defaultMsg);\n    }\n    out += ' var vErrors = null; ';\n    out += ' var errors = 0;     ';\n    out += ' if (rootData === undefined) rootData = data; ';\n  } else {\n    var $lvl = it.level,\n      $dataLvl = it.dataLevel,\n      $data = 'data' + ($dataLvl || '');\n    if ($id) it.baseId = it.resolve.url(it.baseId, $id);\n    if ($async && !it.async) throw new Error('async schema in sync schema');\n    out += ' var errs_' + ($lvl) + ' = errors;';\n  }\n  var $valid = 'valid' + $lvl,\n    $breakOnError = !it.opts.allErrors,\n    $closingBraces1 = '',\n    $closingBraces2 = '';\n  var $errorKeyword;\n  var $typeSchema = it.schema.type,\n    $typeIsArray = Array.isArray($typeSchema);\n  if ($typeSchema && it.opts.nullable && it.schema.nullable === true) {\n    if ($typeIsArray) {\n      if ($typeSchema.indexOf('null') == -1) $typeSchema = $typeSchema.concat('null');\n    } else if ($typeSchema != 'null') {\n      $typeSchema = [$typeSchema, 'null'];\n      $typeIsArray = true;\n    }\n  }\n  if ($typeIsArray && $typeSchema.length == 1) {\n    $typeSchema = $typeSchema[0];\n    $typeIsArray = false;\n  }\n  if (it.schema.$ref && $refKeywords) {\n    if (it.opts.extendRefs == 'fail') {\n      throw new Error('$ref: validation keywords used in schema at path \"' + it.errSchemaPath + '\" (see option extendRefs)');\n    } else if (it.opts.extendRefs !== true) {\n      $refKeywords = false;\n      it.logger.warn('$ref: keywords ignored in schema at path \"' + it.errSchemaPath + '\"');\n    }\n  }\n  if (it.schema.$comment && it.opts.$comment) {\n    out += ' ' + (it.RULES.all.$comment.code(it, '$comment'));\n  }\n  if ($typeSchema) {\n    if (it.opts.coerceTypes) {\n      var $coerceToTypes = it.util.coerceToTypes(it.opts.coerceTypes, $typeSchema);\n    }\n    var $rulesGroup = it.RULES.types[$typeSchema];\n    if ($coerceToTypes || $typeIsArray || $rulesGroup === true || ($rulesGroup && !$shouldUseGroup($rulesGroup))) {\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type';\n      var $schemaPath = it.schemaPath + '.type',\n        $errSchemaPath = it.errSchemaPath + '/type',\n        $method = $typeIsArray ? 'checkDataTypes' : 'checkDataType';\n      out += ' if (' + (it.util[$method]($typeSchema, $data, true)) + ') { ';\n      if ($coerceToTypes) {\n        var $dataType = 'dataType' + $lvl,\n          $coerced = 'coerced' + $lvl;\n        out += ' var ' + ($dataType) + ' = typeof ' + ($data) + '; ';\n        if (it.opts.coerceTypes == 'array') {\n          out += ' if (' + ($dataType) + ' == \\'object\\' && Array.isArray(' + ($data) + ')) ' + ($dataType) + ' = \\'array\\'; ';\n        }\n        out += ' var ' + ($coerced) + ' = undefined; ';\n        var $bracesCoercion = '';\n        var arr1 = $coerceToTypes;\n        if (arr1) {\n          var $type, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $type = arr1[$i += 1];\n            if ($i) {\n              out += ' if (' + ($coerced) + ' === undefined) { ';\n              $bracesCoercion += '}';\n            }\n            if (it.opts.coerceTypes == 'array' && $type != 'array') {\n              out += ' if (' + ($dataType) + ' == \\'array\\' && ' + ($data) + '.length == 1) { ' + ($coerced) + ' = ' + ($data) + ' = ' + ($data) + '[0]; ' + ($dataType) + ' = typeof ' + ($data) + ';  } ';\n            }\n            if ($type == 'string') {\n              out += ' if (' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\') ' + ($coerced) + ' = \\'\\' + ' + ($data) + '; else if (' + ($data) + ' === null) ' + ($coerced) + ' = \\'\\'; ';\n            } else if ($type == 'number' || $type == 'integer') {\n              out += ' if (' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' === null || (' + ($dataType) + ' == \\'string\\' && ' + ($data) + ' && ' + ($data) + ' == +' + ($data) + ' ';\n              if ($type == 'integer') {\n                out += ' && !(' + ($data) + ' % 1)';\n              }\n              out += ')) ' + ($coerced) + ' = +' + ($data) + '; ';\n            } else if ($type == 'boolean') {\n              out += ' if (' + ($data) + ' === \\'false\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === null) ' + ($coerced) + ' = false; else if (' + ($data) + ' === \\'true\\' || ' + ($data) + ' === 1) ' + ($coerced) + ' = true; ';\n            } else if ($type == 'null') {\n              out += ' if (' + ($data) + ' === \\'\\' || ' + ($data) + ' === 0 || ' + ($data) + ' === false) ' + ($coerced) + ' = null; ';\n            } else if (it.opts.coerceTypes == 'array' && $type == 'array') {\n              out += ' if (' + ($dataType) + ' == \\'string\\' || ' + ($dataType) + ' == \\'number\\' || ' + ($dataType) + ' == \\'boolean\\' || ' + ($data) + ' == null) ' + ($coerced) + ' = [' + ($data) + ']; ';\n            }\n          }\n        }\n        out += ' ' + ($bracesCoercion) + ' if (' + ($coerced) + ' === undefined) {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else {  ';\n        var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n          $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n        out += ' ' + ($data) + ' = ' + ($coerced) + '; ';\n        if (!$dataLvl) {\n          out += 'if (' + ($parentData) + ' !== undefined)';\n        }\n        out += ' ' + ($parentData) + '[' + ($parentDataProperty) + '] = ' + ($coerced) + '; } ';\n      } else {\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n          if ($typeIsArray) {\n            out += '' + ($typeSchema.join(\",\"));\n          } else {\n            out += '' + ($typeSchema);\n          }\n          out += '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should be ';\n            if ($typeIsArray) {\n              out += '' + ($typeSchema.join(\",\"));\n            } else {\n              out += '' + ($typeSchema);\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      }\n      out += ' } ';\n    }\n  }\n  if (it.schema.$ref && !$refKeywords) {\n    out += ' ' + (it.RULES.all.$ref.code(it, '$ref')) + ' ';\n    if ($breakOnError) {\n      out += ' } if (errors === ';\n      if ($top) {\n        out += '0';\n      } else {\n        out += 'errs_' + ($lvl);\n      }\n      out += ') { ';\n      $closingBraces2 += '}';\n    }\n  } else {\n    var arr2 = it.RULES;\n    if (arr2) {\n      var $rulesGroup, i2 = -1,\n        l2 = arr2.length - 1;\n      while (i2 < l2) {\n        $rulesGroup = arr2[i2 += 1];\n        if ($shouldUseGroup($rulesGroup)) {\n          if ($rulesGroup.type) {\n            out += ' if (' + (it.util.checkDataType($rulesGroup.type, $data)) + ') { ';\n          }\n          if (it.opts.useDefaults) {\n            if ($rulesGroup.type == 'object' && it.schema.properties) {\n              var $schema = it.schema.properties,\n                $schemaKeys = Object.keys($schema);\n              var arr3 = $schemaKeys;\n              if (arr3) {\n                var $propertyKey, i3 = -1,\n                  l3 = arr3.length - 1;\n                while (i3 < l3) {\n                  $propertyKey = arr3[i3 += 1];\n                  var $sch = $schema[$propertyKey];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + it.util.getProperty($propertyKey);\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            } else if ($rulesGroup.type == 'array' && Array.isArray(it.schema.items)) {\n              var arr4 = it.schema.items;\n              if (arr4) {\n                var $sch, $i = -1,\n                  l4 = arr4.length - 1;\n                while ($i < l4) {\n                  $sch = arr4[$i += 1];\n                  if ($sch.default !== undefined) {\n                    var $passData = $data + '[' + $i + ']';\n                    if (it.compositeRule) {\n                      if (it.opts.strictDefaults) {\n                        var $defaultMsg = 'default is ignored for: ' + $passData;\n                        if (it.opts.strictDefaults === 'log') it.logger.warn($defaultMsg);\n                        else throw new Error($defaultMsg);\n                      }\n                    } else {\n                      out += ' if (' + ($passData) + ' === undefined ';\n                      if (it.opts.useDefaults == 'empty') {\n                        out += ' || ' + ($passData) + ' === null || ' + ($passData) + ' === \\'\\' ';\n                      }\n                      out += ' ) ' + ($passData) + ' = ';\n                      if (it.opts.useDefaults == 'shared') {\n                        out += ' ' + (it.useDefault($sch.default)) + ' ';\n                      } else {\n                        out += ' ' + (JSON.stringify($sch.default)) + ' ';\n                      }\n                      out += '; ';\n                    }\n                  }\n                }\n              }\n            }\n          }\n          var arr5 = $rulesGroup.rules;\n          if (arr5) {\n            var $rule, i5 = -1,\n              l5 = arr5.length - 1;\n            while (i5 < l5) {\n              $rule = arr5[i5 += 1];\n              if ($shouldUseRule($rule)) {\n                var $code = $rule.code(it, $rule.keyword, $rulesGroup.type);\n                if ($code) {\n                  out += ' ' + ($code) + ' ';\n                  if ($breakOnError) {\n                    $closingBraces1 += '}';\n                  }\n                }\n              }\n            }\n          }\n          if ($breakOnError) {\n            out += ' ' + ($closingBraces1) + ' ';\n            $closingBraces1 = '';\n          }\n          if ($rulesGroup.type) {\n            out += ' } ';\n            if ($typeSchema && $typeSchema === $rulesGroup.type && !$coerceToTypes) {\n              out += ' else { ';\n              var $schemaPath = it.schemaPath + '.type',\n                $errSchemaPath = it.errSchemaPath + '/type';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ($errorKeyword || 'type') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { type: \\'';\n                if ($typeIsArray) {\n                  out += '' + ($typeSchema.join(\",\"));\n                } else {\n                  out += '' + ($typeSchema);\n                }\n                out += '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'should be ';\n                  if ($typeIsArray) {\n                    out += '' + ($typeSchema.join(\",\"));\n                  } else {\n                    out += '' + ($typeSchema);\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              out += ' } ';\n            }\n          }\n          if ($breakOnError) {\n            out += ' if (errors === ';\n            if ($top) {\n              out += '0';\n            } else {\n              out += 'errs_' + ($lvl);\n            }\n            out += ') { ';\n            $closingBraces2 += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces2) + ' ';\n  }\n  if ($top) {\n    if ($async) {\n      out += ' if (errors === 0) return data;           ';\n      out += ' else throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; ';\n      out += ' return errors === 0;       ';\n    }\n    out += ' }; return validate;';\n  } else {\n    out += ' var ' + ($valid) + ' = errors === errs_' + ($lvl) + ';';\n  }\n  out = it.util.cleanUpCode(out);\n  if ($top) {\n    out = it.util.finalCleanUpCode(out, $async);\n  }\n\n  function $shouldUseGroup($rulesGroup) {\n    var rules = $rulesGroup.rules;\n    for (var i = 0; i < rules.length; i++)\n      if ($shouldUseRule(rules[i])) return true;\n  }\n\n  function $shouldUseRule($rule) {\n    return it.schema[$rule.keyword] !== undefined || ($rule.implements && $ruleImplementsSomeKeyword($rule));\n  }\n\n  function $ruleImplementsSomeKeyword($rule) {\n    var impl = $rule.implements;\n    for (var i = 0; i < impl.length; i++)\n      if (it.schema[impl[i]] !== undefined) return true;\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limit(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $isMax = $keyword == 'maximum',\n    $exclusiveKeyword = $isMax ? 'exclusiveMaximum' : 'exclusiveMinimum',\n    $schemaExcl = it.schema[$exclusiveKeyword],\n    $isDataExcl = it.opts.$data && $schemaExcl && $schemaExcl.$data,\n    $op = $isMax ? '<' : '>',\n    $notOp = $isMax ? '>' : '<',\n    $errorKeyword = undefined;\n  if ($isDataExcl) {\n    var $schemaValueExcl = it.util.getData($schemaExcl.$data, $dataLvl, it.dataPathArr),\n      $exclusive = 'exclusive' + $lvl,\n      $exclType = 'exclType' + $lvl,\n      $exclIsNumber = 'exclIsNumber' + $lvl,\n      $opExpr = 'op' + $lvl,\n      $opStr = '\\' + ' + $opExpr + ' + \\'';\n    out += ' var schemaExcl' + ($lvl) + ' = ' + ($schemaValueExcl) + '; ';\n    $schemaValueExcl = 'schemaExcl' + $lvl;\n    out += ' var ' + ($exclusive) + '; var ' + ($exclType) + ' = typeof ' + ($schemaValueExcl) + '; if (' + ($exclType) + ' != \\'boolean\\' && ' + ($exclType) + ' != \\'undefined\\' && ' + ($exclType) + ' != \\'number\\') { ';\n    var $errorKeyword = $exclusiveKeyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || '_exclusiveLimit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'' + ($exclusiveKeyword) + ' should be boolean\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else if ( ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n    }\n    out += ' ' + ($exclType) + ' == \\'number\\' ? ( (' + ($exclusive) + ' = ' + ($schemaValue) + ' === undefined || ' + ($schemaValueExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ') ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValueExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) : ( (' + ($exclusive) + ' = ' + ($schemaValueExcl) + ' === true) ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaValue) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { var op' + ($lvl) + ' = ' + ($exclusive) + ' ? \\'' + ($op) + '\\' : \\'' + ($op) + '=\\'; ';\n    if ($schema === undefined) {\n      $errorKeyword = $exclusiveKeyword;\n      $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n      $schemaValue = $schemaValueExcl;\n      $isData = $isDataExcl;\n    }\n  } else {\n    var $exclIsNumber = typeof $schemaExcl == 'number',\n      $opStr = $op;\n    if ($exclIsNumber && $isData) {\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ( ' + ($schemaValue) + ' === undefined || ' + ($schemaExcl) + ' ' + ($op) + '= ' + ($schemaValue) + ' ? ' + ($data) + ' ' + ($notOp) + '= ' + ($schemaExcl) + ' : ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' ) || ' + ($data) + ' !== ' + ($data) + ') { ';\n    } else {\n      if ($exclIsNumber && $schema === undefined) {\n        $exclusive = true;\n        $errorKeyword = $exclusiveKeyword;\n        $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n        $schemaValue = $schemaExcl;\n        $notOp += '=';\n      } else {\n        if ($exclIsNumber) $schemaValue = Math[$isMax ? 'min' : 'max']($schemaExcl, $schema);\n        if ($schemaExcl === ($exclIsNumber ? $schemaValue : true)) {\n          $exclusive = true;\n          $errorKeyword = $exclusiveKeyword;\n          $errSchemaPath = it.errSchemaPath + '/' + $exclusiveKeyword;\n          $notOp += '=';\n        } else {\n          $exclusive = false;\n          $opStr += '=';\n        }\n      }\n      var $opExpr = '\\'' + $opStr + '\\'';\n      out += ' if ( ';\n      if ($isData) {\n        out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n      }\n      out += ' ' + ($data) + ' ' + ($notOp) + ' ' + ($schemaValue) + ' || ' + ($data) + ' !== ' + ($data) + ') { ';\n    }\n  }\n  $errorKeyword = $errorKeyword || $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limit') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { comparison: ' + ($opExpr) + ', limit: ' + ($schemaValue) + ', exclusive: ' + ($exclusive) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be ' + ($opStr) + ' ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxItems' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' ' + ($data) + '.length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxItems') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' items\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitLength(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxLength' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  if (it.opts.unicode === false) {\n    out += ' ' + ($data) + '.length ';\n  } else {\n    out += ' ucs2length(' + ($data) + ') ';\n  }\n  out += ' ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitLength') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT be ';\n      if ($keyword == 'maxLength') {\n        out += 'longer';\n      } else {\n        out += 'shorter';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' characters\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate__limitProperties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $op = $keyword == 'maxProperties' ? '>' : '<';\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'number\\') || ';\n  }\n  out += ' Object.keys(' + ($data) + ').length ' + ($op) + ' ' + ($schemaValue) + ') { ';\n  var $errorKeyword = $keyword;\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ($errorKeyword || '_limitProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should NOT have ';\n      if ($keyword == 'maxProperties') {\n        out += 'more';\n      } else {\n        out += 'fewer';\n      }\n      out += ' than ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + ($schema);\n      }\n      out += ' properties\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","var createCustomError = require('../utils/createCustomError');\nvar MAX_LINE_LENGTH = 100;\nvar OFFSET_CORRECTION = 60;\nvar TAB_REPLACEMENT = '    ';\n\nfunction sourceFragment(error, extraLines) {\n    function processLines(start, end) {\n        return lines.slice(start, end).map(function(line, idx) {\n            var num = String(start + idx + 1);\n\n            while (num.length < maxNumLength) {\n                num = ' ' + num;\n            }\n\n            return num + ' |' + line;\n        }).join('\\n');\n    }\n\n    var lines = error.source.split(/\\r\\n?|\\n|\\f/);\n    var line = error.line;\n    var column = error.column;\n    var startLine = Math.max(1, line - extraLines) - 1;\n    var endLine = Math.min(line + extraLines, lines.length + 1);\n    var maxNumLength = Math.max(4, String(endLine).length) + 1;\n    var cutLeft = 0;\n\n    // column correction according to replaced tab before column\n    column += (TAB_REPLACEMENT.length - 1) * (lines[line - 1].substr(0, column - 1).match(/\\t/g) || []).length;\n\n    if (column > MAX_LINE_LENGTH) {\n        cutLeft = column - OFFSET_CORRECTION + 3;\n        column = OFFSET_CORRECTION - 2;\n    }\n\n    for (var i = startLine; i <= endLine; i++) {\n        if (i >= 0 && i < lines.length) {\n            lines[i] = lines[i].replace(/\\t/g, TAB_REPLACEMENT);\n            lines[i] =\n                (cutLeft > 0 && lines[i].length > cutLeft ? '\\u2026' : '') +\n                lines[i].substr(cutLeft, MAX_LINE_LENGTH - 2) +\n                (lines[i].length > cutLeft + MAX_LINE_LENGTH - 1 ? '\\u2026' : '');\n        }\n    }\n\n    return [\n        processLines(startLine, line),\n        new Array(column + maxNumLength + 2).join('-') + '^',\n        processLines(line, endLine)\n    ].filter(Boolean).join('\\n');\n}\n\nvar SyntaxError = function(message, source, offset, line, column) {\n    var error = createCustomError('SyntaxError', message);\n\n    error.source = source;\n    error.offset = offset;\n    error.line = line;\n    error.column = column;\n\n    error.sourceFragment = function(extraLines) {\n        return sourceFragment(error, isNaN(extraLines) ? 0 : extraLines);\n    };\n    Object.defineProperty(error, 'formattedMessage', {\n        get: function() {\n            return (\n                'Parse error: ' + error.message + '\\n' +\n                sourceFragment(error, 2)\n            );\n        }\n    });\n\n    // for backward capability\n    error.parseError = {\n        offset: offset,\n        line: line,\n        column: column\n    };\n\n    return error;\n};\n\nmodule.exports = SyntaxError;\n","var EOF = 0;\n\n// https://drafts.csswg.org/css-syntax-3/\n// § 4.2. Definitions\n\n// digit\n// A code point between U+0030 DIGIT ZERO (0) and U+0039 DIGIT NINE (9).\nfunction isDigit(code) {\n    return code >= 0x0030 && code <= 0x0039;\n}\n\n// hex digit\n// A digit, or a code point between U+0041 LATIN CAPITAL LETTER A (A) and U+0046 LATIN CAPITAL LETTER F (F),\n// or a code point between U+0061 LATIN SMALL LETTER A (a) and U+0066 LATIN SMALL LETTER F (f).\nfunction isHexDigit(code) {\n    return (\n        isDigit(code) || // 0 .. 9\n        (code >= 0x0041 && code <= 0x0046) || // A .. F\n        (code >= 0x0061 && code <= 0x0066)    // a .. f\n    );\n}\n\n// uppercase letter\n// A code point between U+0041 LATIN CAPITAL LETTER A (A) and U+005A LATIN CAPITAL LETTER Z (Z).\nfunction isUppercaseLetter(code) {\n    return code >= 0x0041 && code <= 0x005A;\n}\n\n// lowercase letter\n// A code point between U+0061 LATIN SMALL LETTER A (a) and U+007A LATIN SMALL LETTER Z (z).\nfunction isLowercaseLetter(code) {\n    return code >= 0x0061 && code <= 0x007A;\n}\n\n// letter\n// An uppercase letter or a lowercase letter.\nfunction isLetter(code) {\n    return isUppercaseLetter(code) || isLowercaseLetter(code);\n}\n\n// non-ASCII code point\n// A code point with a value equal to or greater than U+0080 <control>.\nfunction isNonAscii(code) {\n    return code >= 0x0080;\n}\n\n// name-start code point\n// A letter, a non-ASCII code point, or U+005F LOW LINE (_).\nfunction isNameStart(code) {\n    return isLetter(code) || isNonAscii(code) || code === 0x005F;\n}\n\n// name code point\n// A name-start code point, a digit, or U+002D HYPHEN-MINUS (-).\nfunction isName(code) {\n    return isNameStart(code) || isDigit(code) || code === 0x002D;\n}\n\n// non-printable code point\n// A code point between U+0000 NULL and U+0008 BACKSPACE, or U+000B LINE TABULATION,\n// or a code point between U+000E SHIFT OUT and U+001F INFORMATION SEPARATOR ONE, or U+007F DELETE.\nfunction isNonPrintable(code) {\n    return (\n        (code >= 0x0000 && code <= 0x0008) ||\n        (code === 0x000B) ||\n        (code >= 0x000E && code <= 0x001F) ||\n        (code === 0x007F)\n    );\n}\n\n// newline\n// U+000A LINE FEED. Note that U+000D CARRIAGE RETURN and U+000C FORM FEED are not included in this definition,\n// as they are converted to U+000A LINE FEED during preprocessing.\n// TODO: we doesn't do a preprocessing, so check a code point for U+000D CARRIAGE RETURN and U+000C FORM FEED\nfunction isNewline(code) {\n    return code === 0x000A || code === 0x000D || code === 0x000C;\n}\n\n// whitespace\n// A newline, U+0009 CHARACTER TABULATION, or U+0020 SPACE.\nfunction isWhiteSpace(code) {\n    return isNewline(code) || code === 0x0020 || code === 0x0009;\n}\n\n// § 4.3.8. Check if two code points are a valid escape\nfunction isValidEscape(first, second) {\n    // If the first code point is not U+005C REVERSE SOLIDUS (\\), return false.\n    if (first !== 0x005C) {\n        return false;\n    }\n\n    // Otherwise, if the second code point is a newline or EOF, return false.\n    if (isNewline(second) || second === EOF) {\n        return false;\n    }\n\n    // Otherwise, return true.\n    return true;\n}\n\n// § 4.3.9. Check if three code points would start an identifier\nfunction isIdentifierStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002D HYPHEN-MINUS\n    if (first === 0x002D) {\n        // If the second code point is a name-start code point or a U+002D HYPHEN-MINUS,\n        // or the second and third code points are a valid escape, return true. Otherwise, return false.\n        return (\n            isNameStart(second) ||\n            second === 0x002D ||\n            isValidEscape(second, third)\n        );\n    }\n\n    // name-start code point\n    if (isNameStart(first)) {\n        // Return true.\n        return true;\n    }\n\n    // U+005C REVERSE SOLIDUS (\\)\n    if (first === 0x005C) {\n        // If the first and second code points are a valid escape, return true. Otherwise, return false.\n        return isValidEscape(first, second);\n    }\n\n    // anything else\n    // Return false.\n    return false;\n}\n\n// § 4.3.10. Check if three code points would start a number\nfunction isNumberStart(first, second, third) {\n    // Look at the first code point:\n\n    // U+002B PLUS SIGN (+)\n    // U+002D HYPHEN-MINUS (-)\n    if (first === 0x002B || first === 0x002D) {\n        // If the second code point is a digit, return true.\n        if (isDigit(second)) {\n            return 2;\n        }\n\n        // Otherwise, if the second code point is a U+002E FULL STOP (.)\n        // and the third code point is a digit, return true.\n        // Otherwise, return false.\n        return second === 0x002E && isDigit(third) ? 3 : 0;\n    }\n\n    // U+002E FULL STOP (.)\n    if (first === 0x002E) {\n        // If the second code point is a digit, return true. Otherwise, return false.\n        return isDigit(second) ? 2 : 0;\n    }\n\n    // digit\n    if (isDigit(first)) {\n        // Return true.\n        return 1;\n    }\n\n    // anything else\n    // Return false.\n    return 0;\n}\n\n//\n// Misc\n//\n\n// detect BOM (https://en.wikipedia.org/wiki/Byte_order_mark)\nfunction isBOM(code) {\n    // UTF-16BE\n    if (code === 0xFEFF) {\n        return 1;\n    }\n\n    // UTF-16LE\n    if (code === 0xFFFE) {\n        return 1;\n    }\n\n    return 0;\n}\n\n// Fast code category\n//\n// https://drafts.csswg.org/css-syntax/#tokenizer-definitions\n// > non-ASCII code point\n// >   A code point with a value equal to or greater than U+0080 <control>\n// > name-start code point\n// >   A letter, a non-ASCII code point, or U+005F LOW LINE (_).\n// > name code point\n// >   A name-start code point, a digit, or U+002D HYPHEN-MINUS (-)\n// That means only ASCII code points has a special meaning and we define a maps for 0..127 codes only\nvar CATEGORY = new Array(0x80);\ncharCodeCategory.Eof = 0x80;\ncharCodeCategory.WhiteSpace = 0x82;\ncharCodeCategory.Digit = 0x83;\ncharCodeCategory.NameStart = 0x84;\ncharCodeCategory.NonPrintable = 0x85;\n\nfor (var i = 0; i < CATEGORY.length; i++) {\n    switch (true) {\n        case isWhiteSpace(i):\n            CATEGORY[i] = charCodeCategory.WhiteSpace;\n            break;\n\n        case isDigit(i):\n            CATEGORY[i] = charCodeCategory.Digit;\n            break;\n\n        case isNameStart(i):\n            CATEGORY[i] = charCodeCategory.NameStart;\n            break;\n\n        case isNonPrintable(i):\n            CATEGORY[i] = charCodeCategory.NonPrintable;\n            break;\n\n        default:\n            CATEGORY[i] = i || charCodeCategory.Eof;\n    }\n}\n\nfunction charCodeCategory(code) {\n    return code < 0x80 ? CATEGORY[code] : charCodeCategory.NameStart;\n};\n\nmodule.exports = {\n    isDigit: isDigit,\n    isHexDigit: isHexDigit,\n    isUppercaseLetter: isUppercaseLetter,\n    isLowercaseLetter: isLowercaseLetter,\n    isLetter: isLetter,\n    isNonAscii: isNonAscii,\n    isNameStart: isNameStart,\n    isName: isName,\n    isNonPrintable: isNonPrintable,\n    isNewline: isNewline,\n    isWhiteSpace: isWhiteSpace,\n    isValidEscape: isValidEscape,\n    isIdentifierStart: isIdentifierStart,\n    isNumberStart: isNumberStart,\n\n    isBOM: isBOM,\n    charCodeCategory: charCodeCategory\n};\n","var createCustomError = require('../utils/createCustomError');\nvar generate = require('../definition-syntax/generate');\n\nfunction fromMatchResult(matchResult) {\n    var tokens = matchResult.tokens;\n    var longestMatch = matchResult.longestMatch;\n    var node = longestMatch < tokens.length ? tokens[longestMatch].node : null;\n    var mismatchOffset = -1;\n    var entries = 0;\n    var css = '';\n\n    for (var i = 0; i < tokens.length; i++) {\n        if (i === longestMatch) {\n            mismatchOffset = css.length;\n        }\n\n        if (node !== null && tokens[i].node === node) {\n            if (i <= longestMatch) {\n                entries++;\n            } else {\n                entries = 0;\n            }\n        }\n\n        css += tokens[i].value;\n    }\n\n    return {\n        node: node,\n        css: css,\n        mismatchOffset: mismatchOffset === -1 ? css.length : mismatchOffset,\n        last: node === null || entries > 1\n    };\n}\n\nfunction getLocation(node, point) {\n    var loc = node && node.loc && node.loc[point];\n\n    if (loc) {\n        return {\n            offset: loc.offset,\n            line: loc.line,\n            column: loc.column\n        };\n    }\n\n    return null;\n}\n\nvar SyntaxReferenceError = function(type, referenceName) {\n    var error = createCustomError(\n        'SyntaxReferenceError',\n        type + (referenceName ? ' `' + referenceName + '`' : '')\n    );\n\n    error.reference = referenceName;\n\n    return error;\n};\n\nvar MatchError = function(message, syntax, node, matchResult) {\n    var error = createCustomError('SyntaxMatchError', message);\n    var details = fromMatchResult(matchResult);\n    var mismatchOffset = details.mismatchOffset || 0;\n    var badNode = details.node || node;\n    var end = getLocation(badNode, 'end');\n    var start = details.last ? end : getLocation(badNode, 'start');\n    var css = details.css;\n\n    error.rawMessage = message;\n    error.syntax = syntax ? generate(syntax) : '<generic>';\n    error.css = css;\n    error.mismatchOffset = mismatchOffset;\n    error.loc = {\n        source: (badNode && badNode.loc && badNode.loc.source) || '<unknown>',\n        start: start,\n        end: end\n    };\n    error.line = start ? start.line : undefined;\n    error.column = start ? start.column : undefined;\n    error.offset = start ? start.offset : undefined;\n    error.message = message + '\\n' +\n        '  syntax: ' + error.syntax + '\\n' +\n        '   value: ' + (error.css || '<empty string>') + '\\n' +\n        '  --------' + new Array(error.mismatchOffset + 1).join('-') + '^';\n\n    return error;\n};\n\nmodule.exports = {\n    SyntaxReferenceError: SyntaxReferenceError,\n    MatchError: MatchError\n};\n","var MIN_SIZE = 16 * 1024;\nvar SafeUint32Array = typeof Uint32Array !== 'undefined' ? Uint32Array : Array; // fallback on Array when TypedArray is not supported\n\nmodule.exports = function adoptBuffer(buffer, size) {\n    if (buffer === null || buffer.length < size) {\n        return new SafeUint32Array(Math.max(size + 1024, MIN_SIZE));\n    }\n\n    return buffer;\n};\n","var createCustomError = require('../utils/createCustomError');\n\nmodule.exports = function SyntaxError(message, input, offset) {\n    var error = createCustomError('SyntaxError', message);\n\n    error.input = input;\n    error.offset = offset;\n    error.rawMessage = message;\n    error.message = error.rawMessage + '\\n' +\n        '  ' + error.input + '\\n' +\n        '--' + new Array((error.offset || error.input.length) + 1).join('-') + '^';\n\n    return error;\n};\n","var noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nmodule.exports = function(node, options, context) {\n    function walk(node) {\n        enter.call(context, node);\n\n        switch (node.type) {\n            case 'Group':\n                node.terms.forEach(walk);\n                break;\n\n            case 'Multiplier':\n                walk(node.term);\n                break;\n\n            case 'Type':\n            case 'Property':\n            case 'Keyword':\n            case 'AtKeyword':\n            case 'Function':\n            case 'String':\n            case 'Token':\n            case 'Comma':\n                break;\n\n            default:\n                throw new Error('Unknown type: ' + node.type);\n        }\n\n        leave.call(context, node);\n    }\n\n    var enter = noop;\n    var leave = noop;\n\n    if (typeof options === 'function') {\n        enter = options;\n    } else if (options) {\n        enter = ensureFunction(options.enter);\n        leave = ensureFunction(options.leave);\n    }\n\n    if (enter === noop && leave === noop) {\n        throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n    }\n\n    walk(node, context);\n};\n","var parse = require('../definition-syntax/parse');\n\nvar MATCH = { type: 'Match' };\nvar MISMATCH = { type: 'Mismatch' };\nvar DISALLOW_EMPTY = { type: 'DisallowEmpty' };\nvar LEFTPARENTHESIS = 40;  // (\nvar RIGHTPARENTHESIS = 41; // )\n\nfunction createCondition(match, thenBranch, elseBranch) {\n    // reduce node count\n    if (thenBranch === MATCH && elseBranch === MISMATCH) {\n        return match;\n    }\n\n    if (match === MATCH && thenBranch === MATCH && elseBranch === MATCH) {\n        return match;\n    }\n\n    if (match.type === 'If' && match.else === MISMATCH && thenBranch === MATCH) {\n        thenBranch = match.then;\n        match = match.match;\n    }\n\n    return {\n        type: 'If',\n        match: match,\n        then: thenBranch,\n        else: elseBranch\n    };\n}\n\nfunction isFunctionType(name) {\n    return (\n        name.length > 2 &&\n        name.charCodeAt(name.length - 2) === LEFTPARENTHESIS &&\n        name.charCodeAt(name.length - 1) === RIGHTPARENTHESIS\n    );\n}\n\nfunction isEnumCapatible(term) {\n    return (\n        term.type === 'Keyword' ||\n        term.type === 'AtKeyword' ||\n        term.type === 'Function' ||\n        term.type === 'Type' && isFunctionType(term.name)\n    );\n}\n\nfunction buildGroupMatchGraph(combinator, terms, atLeastOneTermMatched) {\n    switch (combinator) {\n        case ' ':\n            // Juxtaposing components means that all of them must occur, in the given order.\n            //\n            // a b c\n            // =\n            // match a\n            //   then match b\n            //     then match c\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            //   else MISMATCH\n            var result = MATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n\n                result = createCondition(\n                    term,\n                    result,\n                    MISMATCH\n                );\n            };\n\n            return result;\n\n        case '|':\n            // A bar (|) separates two or more alternatives: exactly one of them must occur.\n            //\n            // a | b | c\n            // =\n            // match a\n            //   then MATCH\n            //   else match b\n            //     then MATCH\n            //     else match c\n            //       then MATCH\n            //       else MISMATCH\n\n            var result = MISMATCH;\n            var map = null;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n\n                // reduce sequence of keywords into a Enum\n                if (isEnumCapatible(term)) {\n                    if (map === null && i > 0 && isEnumCapatible(terms[i - 1])) {\n                        map = Object.create(null);\n                        result = createCondition(\n                            {\n                                type: 'Enum',\n                                map: map\n                            },\n                            MATCH,\n                            result\n                        );\n                    }\n\n                    if (map !== null) {\n                        var key = (isFunctionType(term.name) ? term.name.slice(0, -1) : term.name).toLowerCase();\n                        if (key in map === false) {\n                            map[key] = term;\n                            continue;\n                        }\n                    }\n                }\n\n                map = null;\n\n                // create a new conditonal node\n                result = createCondition(\n                    term,\n                    MATCH,\n                    result\n                );\n            };\n\n            return result;\n\n        case '&&':\n            // A double ampersand (&&) separates two or more components,\n            // all of which must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since &&-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms: terms,\n                    all: true\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a && b && c\n            // =\n            // match a\n            //   then [b && c]\n            //   else match b\n            //     then [a && c]\n            //     else match c\n            //       then [a && b]\n            //       else MISMATCH\n            //\n            // a && b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MISMATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MISMATCH\n            //     else MISMATCH\n            var result = MISMATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n                var thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        false\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n\n        case '||':\n            // A double bar (||) separates two or more options:\n            // one or more of them must occur, in any order.\n\n            // Use MatchOnce for groups with a large number of terms,\n            // since ||-groups produces at least N!-node trees\n            if (terms.length > 5) {\n                return {\n                    type: 'MatchOnce',\n                    terms: terms,\n                    all: false\n                };\n            }\n\n            // Use a combination tree for groups with small number of terms\n            //\n            // a || b || c\n            // =\n            // match a\n            //   then [b || c]\n            //   else match b\n            //     then [a || c]\n            //     else match c\n            //       then [a || b]\n            //       else MISMATCH\n            //\n            // a || b\n            // =\n            // match a\n            //   then match b\n            //     then MATCH\n            //     else MATCH\n            //   else match b\n            //     then match a\n            //       then MATCH\n            //       else MATCH\n            //     else MISMATCH\n            var result = atLeastOneTermMatched ? MATCH : MISMATCH;\n\n            for (var i = terms.length - 1; i >= 0; i--) {\n                var term = terms[i];\n                var thenClause;\n\n                if (terms.length > 1) {\n                    thenClause = buildGroupMatchGraph(\n                        combinator,\n                        terms.filter(function(newGroupTerm) {\n                            return newGroupTerm !== term;\n                        }),\n                        true\n                    );\n                } else {\n                    thenClause = MATCH;\n                }\n\n                result = createCondition(\n                    term,\n                    thenClause,\n                    result\n                );\n            };\n\n            return result;\n    }\n}\n\nfunction buildMultiplierMatchGraph(node) {\n    var result = MATCH;\n    var matchTerm = buildMatchGraph(node.term);\n\n    if (node.max === 0) {\n        // disable repeating of empty match to prevent infinite loop\n        matchTerm = createCondition(\n            matchTerm,\n            DISALLOW_EMPTY,\n            MISMATCH\n        );\n\n        // an occurrence count is not limited, make a cycle;\n        // to collect more terms on each following matching mismatch\n        result = createCondition(\n            matchTerm,\n            null, // will be a loop\n            MISMATCH\n        );\n\n        result.then = createCondition(\n            MATCH,\n            MATCH,\n            result // make a loop\n        );\n\n        if (node.comma) {\n            result.then.else = createCondition(\n                { type: 'Comma', syntax: node },\n                result,\n                MISMATCH\n            );\n        }\n    } else {\n        // create a match node chain for [min .. max] interval with optional matches\n        for (var i = node.min || 1; i <= node.max; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                createCondition(\n                    MATCH,\n                    MATCH,\n                    result\n                ),\n                MISMATCH\n            );\n        }\n    }\n\n    if (node.min === 0) {\n        // allow zero match\n        result = createCondition(\n            MATCH,\n            MATCH,\n            result\n        );\n    } else {\n        // create a match node chain to collect [0 ... min - 1] required matches\n        for (var i = 0; i < node.min - 1; i++) {\n            if (node.comma && result !== MATCH) {\n                result = createCondition(\n                    { type: 'Comma', syntax: node },\n                    result,\n                    MISMATCH\n                );\n            }\n\n            result = createCondition(\n                matchTerm,\n                result,\n                MISMATCH\n            );\n        }\n    }\n\n    return result;\n}\n\nfunction buildMatchGraph(node) {\n    if (typeof node === 'function') {\n        return {\n            type: 'Generic',\n            fn: node\n        };\n    }\n\n    switch (node.type) {\n        case 'Group':\n            var result = buildGroupMatchGraph(\n                node.combinator,\n                node.terms.map(buildMatchGraph),\n                false\n            );\n\n            if (node.disallowEmpty) {\n                result = createCondition(\n                    result,\n                    DISALLOW_EMPTY,\n                    MISMATCH\n                );\n            }\n\n            return result;\n\n        case 'Multiplier':\n            return buildMultiplierMatchGraph(node);\n\n        case 'Type':\n        case 'Property':\n            return {\n                type: node.type,\n                name: node.name,\n                syntax: node\n            };\n\n        case 'Keyword':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'AtKeyword':\n            return {\n                type: node.type,\n                name: '@' + node.name.toLowerCase(),\n                syntax: node\n            };\n\n        case 'Function':\n            return {\n                type: node.type,\n                name: node.name.toLowerCase() + '(',\n                syntax: node\n            };\n\n        case 'String':\n            // convert a one char length String to a Token\n            if (node.value.length === 3) {\n                return {\n                    type: 'Token',\n                    value: node.value.charAt(1),\n                    syntax: node\n                };\n            }\n\n            // otherwise use it as is\n            return {\n                type: node.type,\n                value: node.value.substr(1, node.value.length - 2).replace(/\\\\'/g, '\\''),\n                syntax: node\n            };\n\n        case 'Token':\n            return {\n                type: node.type,\n                value: node.value,\n                syntax: node\n            };\n\n        case 'Comma':\n            return {\n                type: node.type,\n                syntax: node\n            };\n\n        default:\n            throw new Error('Unknown node type:', node.type);\n    }\n}\n\nmodule.exports = {\n    MATCH: MATCH,\n    MISMATCH: MISMATCH,\n    DISALLOW_EMPTY: DISALLOW_EMPTY,\n    buildMatchGraph: function(syntaxTree, ref) {\n        if (typeof syntaxTree === 'string') {\n            syntaxTree = parse(syntaxTree);\n        }\n\n        return {\n            type: 'MatchGraph',\n            match: buildMatchGraph(syntaxTree),\n            syntax: ref || null,\n            source: syntaxTree\n        };\n    }\n};\n","var cmpChar = require('../../tokenizer').cmpChar;\nvar cmpStr = require('../../tokenizer').cmpStr;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar STRING = TYPE.String;\nvar NUMBER = TYPE.Number;\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar HASH = TYPE.Hash;\nvar DIMENSION = TYPE.Dimension;\nvar PERCENTAGE = TYPE.Percentage;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar COMMA = TYPE.Comma;\nvar DELIM = TYPE.Delim;\nvar NUMBERSIGN = 0x0023;  // U+0023 NUMBER SIGN (#)\nvar ASTERISK = 0x002A;    // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar SOLIDUS = 0x002F;     // U+002F SOLIDUS (/)\nvar U = 0x0075;           // U+0075 LATIN SMALL LETTER U (u)\n\nmodule.exports = function defaultRecognizer(context) {\n    switch (this.scanner.tokenType) {\n        case HASH:\n            return this.HexColor();\n\n        case COMMA:\n            context.space = null;\n            context.ignoreWSAfter = true;\n            return this.Operator();\n\n        case LEFTPARENTHESIS:\n            return this.Parentheses(this.readSequence, context.recognizer);\n\n        case LEFTSQUAREBRACKET:\n            return this.Brackets(this.readSequence, context.recognizer);\n\n        case STRING:\n            return this.String();\n\n        case DIMENSION:\n            return this.Dimension();\n\n        case PERCENTAGE:\n            return this.Percentage();\n\n        case NUMBER:\n            return this.Number();\n\n        case FUNCTION:\n            return cmpStr(this.scanner.source, this.scanner.tokenStart, this.scanner.tokenEnd, 'url(')\n                ? this.Url()\n                : this.Function(this.readSequence, context.recognizer);\n\n        case URL:\n            return this.Url();\n\n        case IDENT:\n            // check for unicode range, it should start with u+ or U+\n            if (cmpChar(this.scanner.source, this.scanner.tokenStart, U) &&\n                cmpChar(this.scanner.source, this.scanner.tokenStart + 1, PLUSSIGN)) {\n                return this.UnicodeRange();\n            } else {\n                return this.Identifier();\n            }\n\n        case DELIM:\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n            if (code === SOLIDUS ||\n                code === ASTERISK ||\n                code === PLUSSIGN ||\n                code === HYPHENMINUS) {\n                return this.Operator(); // TODO: replace with Delim\n            }\n\n            // TODO: produce a node with Delim node type\n\n            if (code === NUMBERSIGN) {\n                this.error('Hex or identifier is expected', this.scanner.tokenStart + 1);\n            }\n\n            break;\n    }\n};\n","// https://drafts.csswg.org/css-images-4/#element-notation\n// https://developer.mozilla.org/en-US/docs/Web/CSS/element\nmodule.exports = function() {\n    this.scanner.skipSC();\n\n    var children = this.createSingleNodeList(\n        this.IdSelector()\n    );\n\n    this.scanner.skipSC();\n\n    return children;\n};\n","module.exports = {\n    parse: function selectorList() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n","var ALLOW_OF_CLAUSE = true;\n\nmodule.exports = {\n    parse: function nthWithOfClause() {\n        return this.createSingleNodeList(\n            this.Nth(ALLOW_OF_CLAUSE)\n        );\n    }\n};\n","var DISALLOW_OF_CLAUSE = false;\n\nmodule.exports = {\n    parse: function nth() {\n        return this.createSingleNodeList(\n            this.Nth(DISALLOW_OF_CLAUSE)\n        );\n    }\n};\n","function removeItemAndRedundantWhiteSpace(list, item) {\n    var prev = item.prev;\n    var next = item.next;\n\n    if (next !== null) {\n        if (next.data.type === 'WhiteSpace' && (prev === null || prev.data.type === 'WhiteSpace')) {\n            list.remove(next);\n        }\n    } else if (prev !== null && prev.data.type === 'WhiteSpace') {\n        list.remove(prev);\n    }\n\n    list.remove(item);\n}\n\nmodule.exports = function compressBorder(node) {\n    node.children.each(function(node, item, list) {\n        if (node.type === 'Identifier' && node.name.toLowerCase() === 'none') {\n            if (list.head === list.tail) {\n                // replace `none` for zero when `none` is a single term\n                item.data = {\n                    type: 'Number',\n                    loc: node.loc,\n                    value: '0'\n                };\n            } else {\n                removeItemAndRedundantWhiteSpace(list, item);\n            }\n        }\n    });\n};\n","'use strict';\n\nvar compileSchema = require('./compile')\n  , resolve = require('./compile/resolve')\n  , Cache = require('./cache')\n  , SchemaObject = require('./compile/schema_obj')\n  , stableStringify = require('fast-json-stable-stringify')\n  , formats = require('./compile/formats')\n  , rules = require('./compile/rules')\n  , $dataMetaSchema = require('./data')\n  , util = require('./compile/util');\n\nmodule.exports = Ajv;\n\nAjv.prototype.validate = validate;\nAjv.prototype.compile = compile;\nAjv.prototype.addSchema = addSchema;\nAjv.prototype.addMetaSchema = addMetaSchema;\nAjv.prototype.validateSchema = validateSchema;\nAjv.prototype.getSchema = getSchema;\nAjv.prototype.removeSchema = removeSchema;\nAjv.prototype.addFormat = addFormat;\nAjv.prototype.errorsText = errorsText;\n\nAjv.prototype._addSchema = _addSchema;\nAjv.prototype._compile = _compile;\n\nAjv.prototype.compileAsync = require('./compile/async');\nvar customKeyword = require('./keyword');\nAjv.prototype.addKeyword = customKeyword.add;\nAjv.prototype.getKeyword = customKeyword.get;\nAjv.prototype.removeKeyword = customKeyword.remove;\nAjv.prototype.validateKeyword = customKeyword.validate;\n\nvar errorClasses = require('./compile/error_classes');\nAjv.ValidationError = errorClasses.Validation;\nAjv.MissingRefError = errorClasses.MissingRef;\nAjv.$dataMetaSchema = $dataMetaSchema;\n\nvar META_SCHEMA_ID = 'http://json-schema.org/draft-07/schema';\n\nvar META_IGNORE_OPTIONS = [ 'removeAdditional', 'useDefaults', 'coerceTypes', 'strictDefaults' ];\nvar META_SUPPORT_DATA = ['/properties'];\n\n/**\n * Creates validator instance.\n * Usage: `Ajv(opts)`\n * @param {Object} opts optional options\n * @return {Object} ajv instance\n */\nfunction Ajv(opts) {\n  if (!(this instanceof Ajv)) return new Ajv(opts);\n  opts = this._opts = util.copy(opts) || {};\n  setLogger(this);\n  this._schemas = {};\n  this._refs = {};\n  this._fragments = {};\n  this._formats = formats(opts.format);\n\n  this._cache = opts.cache || new Cache;\n  this._loadingSchemas = {};\n  this._compilations = [];\n  this.RULES = rules();\n  this._getId = chooseGetId(opts);\n\n  opts.loopRequired = opts.loopRequired || Infinity;\n  if (opts.errorDataPath == 'property') opts._errorDataPathProperty = true;\n  if (opts.serialize === undefined) opts.serialize = stableStringify;\n  this._metaOpts = getMetaSchemaOptions(this);\n\n  if (opts.formats) addInitialFormats(this);\n  if (opts.keywords) addInitialKeywords(this);\n  addDefaultMetaSchema(this);\n  if (typeof opts.meta == 'object') this.addMetaSchema(opts.meta);\n  if (opts.nullable) this.addKeyword('nullable', {metaSchema: {type: 'boolean'}});\n  addInitialSchemas(this);\n}\n\n\n\n/**\n * Validate data using schema\n * Schema will be compiled and cached (using serialized JSON as key. [fast-json-stable-stringify](https://github.com/epoberezkin/fast-json-stable-stringify) is used to serialize.\n * @this   Ajv\n * @param  {String|Object} schemaKeyRef key, ref or schema object\n * @param  {Any} data to be validated\n * @return {Boolean} validation result. Errors from the last validation will be available in `ajv.errors` (and also in compiled schema: `schema.errors`).\n */\nfunction validate(schemaKeyRef, data) {\n  var v;\n  if (typeof schemaKeyRef == 'string') {\n    v = this.getSchema(schemaKeyRef);\n    if (!v) throw new Error('no schema with key or ref \"' + schemaKeyRef + '\"');\n  } else {\n    var schemaObj = this._addSchema(schemaKeyRef);\n    v = schemaObj.validate || this._compile(schemaObj);\n  }\n\n  var valid = v(data);\n  if (v.$async !== true) this.errors = v.errors;\n  return valid;\n}\n\n\n/**\n * Create validating function for passed schema.\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Boolean} _meta true if schema is a meta-schema. Used internally to compile meta schemas of custom keywords.\n * @return {Function} validating function\n */\nfunction compile(schema, _meta) {\n  var schemaObj = this._addSchema(schema, undefined, _meta);\n  return schemaObj.validate || this._compile(schemaObj);\n}\n\n\n/**\n * Adds schema to the instance.\n * @this   Ajv\n * @param {Object|Array} schema schema or array of schemas. If array is passed, `key` and other parameters will be ignored.\n * @param {String} key Optional schema key. Can be passed to `validate` method instead of schema object or id/ref. One schema per instance can have empty `id` and `key`.\n * @param {Boolean} _skipValidation true to skip schema validation. Used internally, option validateSchema should be used instead.\n * @param {Boolean} _meta true if schema is a meta-schema. Used internally, addMetaSchema should be used instead.\n * @return {Ajv} this for method chaining\n */\nfunction addSchema(schema, key, _skipValidation, _meta) {\n  if (Array.isArray(schema)){\n    for (var i=0; i<schema.length; i++) this.addSchema(schema[i], undefined, _skipValidation, _meta);\n    return this;\n  }\n  var id = this._getId(schema);\n  if (id !== undefined && typeof id != 'string')\n    throw new Error('schema id must be string');\n  key = resolve.normalizeId(key || id);\n  checkUnique(this, key);\n  this._schemas[key] = this._addSchema(schema, _skipValidation, _meta, true);\n  return this;\n}\n\n\n/**\n * Add schema that will be used to validate other schemas\n * options in META_IGNORE_OPTIONS are alway set to false\n * @this   Ajv\n * @param {Object} schema schema object\n * @param {String} key optional schema key\n * @param {Boolean} skipValidation true to skip schema validation, can be used to override validateSchema option for meta-schema\n * @return {Ajv} this for method chaining\n */\nfunction addMetaSchema(schema, key, skipValidation) {\n  this.addSchema(schema, key, skipValidation, true);\n  return this;\n}\n\n\n/**\n * Validate schema\n * @this   Ajv\n * @param {Object} schema schema to validate\n * @param {Boolean} throwOrLogError pass true to throw (or log) an error if invalid\n * @return {Boolean} true if schema is valid\n */\nfunction validateSchema(schema, throwOrLogError) {\n  var $schema = schema.$schema;\n  if ($schema !== undefined && typeof $schema != 'string')\n    throw new Error('$schema must be a string');\n  $schema = $schema || this._opts.defaultMeta || defaultMeta(this);\n  if (!$schema) {\n    this.logger.warn('meta-schema not available');\n    this.errors = null;\n    return true;\n  }\n  var valid = this.validate($schema, schema);\n  if (!valid && throwOrLogError) {\n    var message = 'schema is invalid: ' + this.errorsText();\n    if (this._opts.validateSchema == 'log') this.logger.error(message);\n    else throw new Error(message);\n  }\n  return valid;\n}\n\n\nfunction defaultMeta(self) {\n  var meta = self._opts.meta;\n  self._opts.defaultMeta = typeof meta == 'object'\n                            ? self._getId(meta) || meta\n                            : self.getSchema(META_SCHEMA_ID)\n                              ? META_SCHEMA_ID\n                              : undefined;\n  return self._opts.defaultMeta;\n}\n\n\n/**\n * Get compiled schema from the instance by `key` or `ref`.\n * @this   Ajv\n * @param  {String} keyRef `key` that was passed to `addSchema` or full schema reference (`schema.id` or resolved id).\n * @return {Function} schema validating function (with property `schema`).\n */\nfunction getSchema(keyRef) {\n  var schemaObj = _getSchemaObj(this, keyRef);\n  switch (typeof schemaObj) {\n    case 'object': return schemaObj.validate || this._compile(schemaObj);\n    case 'string': return this.getSchema(schemaObj);\n    case 'undefined': return _getSchemaFragment(this, keyRef);\n  }\n}\n\n\nfunction _getSchemaFragment(self, ref) {\n  var res = resolve.schema.call(self, { schema: {} }, ref);\n  if (res) {\n    var schema = res.schema\n      , root = res.root\n      , baseId = res.baseId;\n    var v = compileSchema.call(self, schema, root, undefined, baseId);\n    self._fragments[ref] = new SchemaObject({\n      ref: ref,\n      fragment: true,\n      schema: schema,\n      root: root,\n      baseId: baseId,\n      validate: v\n    });\n    return v;\n  }\n}\n\n\nfunction _getSchemaObj(self, keyRef) {\n  keyRef = resolve.normalizeId(keyRef);\n  return self._schemas[keyRef] || self._refs[keyRef] || self._fragments[keyRef];\n}\n\n\n/**\n * Remove cached schema(s).\n * If no parameter is passed all schemas but meta-schemas are removed.\n * If RegExp is passed all schemas with key/id matching pattern but meta-schemas are removed.\n * Even if schema is referenced by other schemas it still can be removed as other schemas have local references.\n * @this   Ajv\n * @param  {String|Object|RegExp} schemaKeyRef key, ref, pattern to match key/ref or schema object\n * @return {Ajv} this for method chaining\n */\nfunction removeSchema(schemaKeyRef) {\n  if (schemaKeyRef instanceof RegExp) {\n    _removeAllSchemas(this, this._schemas, schemaKeyRef);\n    _removeAllSchemas(this, this._refs, schemaKeyRef);\n    return this;\n  }\n  switch (typeof schemaKeyRef) {\n    case 'undefined':\n      _removeAllSchemas(this, this._schemas);\n      _removeAllSchemas(this, this._refs);\n      this._cache.clear();\n      return this;\n    case 'string':\n      var schemaObj = _getSchemaObj(this, schemaKeyRef);\n      if (schemaObj) this._cache.del(schemaObj.cacheKey);\n      delete this._schemas[schemaKeyRef];\n      delete this._refs[schemaKeyRef];\n      return this;\n    case 'object':\n      var serialize = this._opts.serialize;\n      var cacheKey = serialize ? serialize(schemaKeyRef) : schemaKeyRef;\n      this._cache.del(cacheKey);\n      var id = this._getId(schemaKeyRef);\n      if (id) {\n        id = resolve.normalizeId(id);\n        delete this._schemas[id];\n        delete this._refs[id];\n      }\n  }\n  return this;\n}\n\n\nfunction _removeAllSchemas(self, schemas, regex) {\n  for (var keyRef in schemas) {\n    var schemaObj = schemas[keyRef];\n    if (!schemaObj.meta && (!regex || regex.test(keyRef))) {\n      self._cache.del(schemaObj.cacheKey);\n      delete schemas[keyRef];\n    }\n  }\n}\n\n\n/* @this   Ajv */\nfunction _addSchema(schema, skipValidation, meta, shouldAddSchema) {\n  if (typeof schema != 'object' && typeof schema != 'boolean')\n    throw new Error('schema should be object or boolean');\n  var serialize = this._opts.serialize;\n  var cacheKey = serialize ? serialize(schema) : schema;\n  var cached = this._cache.get(cacheKey);\n  if (cached) return cached;\n\n  shouldAddSchema = shouldAddSchema || this._opts.addUsedSchema !== false;\n\n  var id = resolve.normalizeId(this._getId(schema));\n  if (id && shouldAddSchema) checkUnique(this, id);\n\n  var willValidate = this._opts.validateSchema !== false && !skipValidation;\n  var recursiveMeta;\n  if (willValidate && !(recursiveMeta = id && id == resolve.normalizeId(schema.$schema)))\n    this.validateSchema(schema, true);\n\n  var localRefs = resolve.ids.call(this, schema);\n\n  var schemaObj = new SchemaObject({\n    id: id,\n    schema: schema,\n    localRefs: localRefs,\n    cacheKey: cacheKey,\n    meta: meta\n  });\n\n  if (id[0] != '#' && shouldAddSchema) this._refs[id] = schemaObj;\n  this._cache.put(cacheKey, schemaObj);\n\n  if (willValidate && recursiveMeta) this.validateSchema(schema, true);\n\n  return schemaObj;\n}\n\n\n/* @this   Ajv */\nfunction _compile(schemaObj, root) {\n  if (schemaObj.compiling) {\n    schemaObj.validate = callValidate;\n    callValidate.schema = schemaObj.schema;\n    callValidate.errors = null;\n    callValidate.root = root ? root : callValidate;\n    if (schemaObj.schema.$async === true)\n      callValidate.$async = true;\n    return callValidate;\n  }\n  schemaObj.compiling = true;\n\n  var currentOpts;\n  if (schemaObj.meta) {\n    currentOpts = this._opts;\n    this._opts = this._metaOpts;\n  }\n\n  var v;\n  try { v = compileSchema.call(this, schemaObj.schema, root, schemaObj.localRefs); }\n  catch(e) {\n    delete schemaObj.validate;\n    throw e;\n  }\n  finally {\n    schemaObj.compiling = false;\n    if (schemaObj.meta) this._opts = currentOpts;\n  }\n\n  schemaObj.validate = v;\n  schemaObj.refs = v.refs;\n  schemaObj.refVal = v.refVal;\n  schemaObj.root = v.root;\n  return v;\n\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var _validate = schemaObj.validate;\n    var result = _validate.apply(this, arguments);\n    callValidate.errors = _validate.errors;\n    return result;\n  }\n}\n\n\nfunction chooseGetId(opts) {\n  switch (opts.schemaId) {\n    case 'auto': return _get$IdOrId;\n    case 'id': return _getId;\n    default: return _get$Id;\n  }\n}\n\n/* @this   Ajv */\nfunction _getId(schema) {\n  if (schema.$id) this.logger.warn('schema $id ignored', schema.$id);\n  return schema.id;\n}\n\n/* @this   Ajv */\nfunction _get$Id(schema) {\n  if (schema.id) this.logger.warn('schema id ignored', schema.id);\n  return schema.$id;\n}\n\n\nfunction _get$IdOrId(schema) {\n  if (schema.$id && schema.id && schema.$id != schema.id)\n    throw new Error('schema $id is different from id');\n  return schema.$id || schema.id;\n}\n\n\n/**\n * Convert array of error message objects to string\n * @this   Ajv\n * @param  {Array<Object>} errors optional array of validation errors, if not passed errors from the instance are used.\n * @param  {Object} options optional options with properties `separator` and `dataVar`.\n * @return {String} human readable string with all errors descriptions\n */\nfunction errorsText(errors, options) {\n  errors = errors || this.errors;\n  if (!errors) return 'No errors';\n  options = options || {};\n  var separator = options.separator === undefined ? ', ' : options.separator;\n  var dataVar = options.dataVar === undefined ? 'data' : options.dataVar;\n\n  var text = '';\n  for (var i=0; i<errors.length; i++) {\n    var e = errors[i];\n    if (e) text += dataVar + e.dataPath + ' ' + e.message + separator;\n  }\n  return text.slice(0, -separator.length);\n}\n\n\n/**\n * Add custom format\n * @this   Ajv\n * @param {String} name format name\n * @param {String|RegExp|Function} format string is converted to RegExp; function should return boolean (true when valid)\n * @return {Ajv} this for method chaining\n */\nfunction addFormat(name, format) {\n  if (typeof format == 'string') format = new RegExp(format);\n  this._formats[name] = format;\n  return this;\n}\n\n\nfunction addDefaultMetaSchema(self) {\n  var $dataSchema;\n  if (self._opts.$data) {\n    $dataSchema = require('./refs/data.json');\n    self.addMetaSchema($dataSchema, $dataSchema.$id, true);\n  }\n  if (self._opts.meta === false) return;\n  var metaSchema = require('./refs/json-schema-draft-07.json');\n  if (self._opts.$data) metaSchema = $dataMetaSchema(metaSchema, META_SUPPORT_DATA);\n  self.addMetaSchema(metaSchema, META_SCHEMA_ID, true);\n  self._refs['http://json-schema.org/schema'] = META_SCHEMA_ID;\n}\n\n\nfunction addInitialSchemas(self) {\n  var optsSchemas = self._opts.schemas;\n  if (!optsSchemas) return;\n  if (Array.isArray(optsSchemas)) self.addSchema(optsSchemas);\n  else for (var key in optsSchemas) self.addSchema(optsSchemas[key], key);\n}\n\n\nfunction addInitialFormats(self) {\n  for (var name in self._opts.formats) {\n    var format = self._opts.formats[name];\n    self.addFormat(name, format);\n  }\n}\n\n\nfunction addInitialKeywords(self) {\n  for (var name in self._opts.keywords) {\n    var keyword = self._opts.keywords[name];\n    self.addKeyword(name, keyword);\n  }\n}\n\n\nfunction checkUnique(self, id) {\n  if (self._schemas[id] || self._refs[id])\n    throw new Error('schema with key or id \"' + id + '\" already exists');\n}\n\n\nfunction getMetaSchemaOptions(self) {\n  var metaOpts = util.copy(self._opts);\n  for (var i=0; i<META_IGNORE_OPTIONS.length; i++)\n    delete metaOpts[META_IGNORE_OPTIONS[i]];\n  return metaOpts;\n}\n\n\nfunction setLogger(self) {\n  var logger = self._opts.logger;\n  if (logger === false) {\n    self.logger = {log: noop, warn: noop, error: noop};\n  } else {\n    if (logger === undefined) logger = console;\n    if (!(typeof logger == 'object' && logger.log && logger.warn && logger.error))\n      throw new Error('logger must implement log, warn and error methods');\n    self.logger = logger;\n  }\n}\n\n\nfunction noop() {}\n","var csstree = require('css-tree');\nvar parse = csstree.parse;\nvar compress = require('./compress');\nvar generate = csstree.generate;\n\nfunction debugOutput(name, options, startTime, data) {\n    if (options.debug) {\n        console.error('## ' + name + ' done in %d ms\\n', Date.now() - startTime);\n    }\n\n    return data;\n}\n\nfunction createDefaultLogger(level) {\n    var lastDebug;\n\n    return function logger(title, ast) {\n        var line = title;\n\n        if (ast) {\n            line = '[' + ((Date.now() - lastDebug) / 1000).toFixed(3) + 's] ' + line;\n        }\n\n        if (level > 1 && ast) {\n            var css = generate(ast);\n\n            // when level 2, limit css to 256 symbols\n            if (level === 2 && css.length > 256) {\n                css = css.substr(0, 256) + '...';\n            }\n\n            line += '\\n  ' + css + '\\n';\n        }\n\n        console.error(line);\n        lastDebug = Date.now();\n    };\n}\n\nfunction copy(obj) {\n    var result = {};\n\n    for (var key in obj) {\n        result[key] = obj[key];\n    }\n\n    return result;\n}\n\nfunction buildCompressOptions(options) {\n    options = copy(options);\n\n    if (typeof options.logger !== 'function' && options.debug) {\n        options.logger = createDefaultLogger(options.debug);\n    }\n\n    return options;\n}\n\nfunction runHandler(ast, options, handlers) {\n    if (!Array.isArray(handlers)) {\n        handlers = [handlers];\n    }\n\n    handlers.forEach(function(fn) {\n        fn(ast, options);\n    });\n}\n\nfunction minify(context, source, options) {\n    options = options || {};\n\n    var filename = options.filename || '<unknown>';\n    var result;\n\n    // parse\n    var ast = debugOutput('parsing', options, Date.now(),\n        parse(source, {\n            context: context,\n            filename: filename,\n            positions: Boolean(options.sourceMap)\n        })\n    );\n\n    // before compress handlers\n    if (options.beforeCompress) {\n        debugOutput('beforeCompress', options, Date.now(),\n            runHandler(ast, options, options.beforeCompress)\n        );\n    }\n\n    // compress\n    var compressResult = debugOutput('compress', options, Date.now(),\n        compress(ast, buildCompressOptions(options))\n    );\n\n    // after compress handlers\n    if (options.afterCompress) {\n        debugOutput('afterCompress', options, Date.now(),\n            runHandler(compressResult, options, options.afterCompress)\n        );\n    }\n\n    // generate\n    if (options.sourceMap) {\n        result = debugOutput('generate(sourceMap: true)', options, Date.now(), (function() {\n            var tmp = generate(compressResult.ast, { sourceMap: true });\n            tmp.map._file = filename; // since other tools can relay on file in source map transform chain\n            tmp.map.setSourceContent(filename, source);\n            return tmp;\n        }()));\n    } else {\n        result = debugOutput('generate', options, Date.now(), {\n            css: generate(compressResult.ast),\n            map: null\n        });\n    }\n\n    return result;\n}\n\nfunction minifyStylesheet(source, options) {\n    return minify('stylesheet', source, options);\n}\n\nfunction minifyBlock(source, options) {\n    return minify('declarationList', source, options);\n}\n\nmodule.exports = {\n    version: require('../package.json').version,\n\n    // main methods\n    minify: minifyStylesheet,\n    minifyBlock: minifyBlock,\n\n    // css syntax parser/walkers/generator/etc\n    syntax: Object.assign({\n        compress: compress\n    }, csstree)\n};\n","// the whatwg-fetch polyfill installs the fetch() function\n// on the global object (window or self)\n//\n// Return that as the export for use in Webpack, Browserify etc.\nrequire('whatwg-fetch');\nmodule.exports = self.fetch.bind(self);\n","var support = {\n  searchParams: 'URLSearchParams' in self,\n  iterable: 'Symbol' in self && 'iterator' in Symbol,\n  blob:\n    'FileReader' in self &&\n    'Blob' in self &&\n    (function() {\n      try {\n        new Blob()\n        return true\n      } catch (e) {\n        return false\n      }\n    })(),\n  formData: 'FormData' in self,\n  arrayBuffer: 'ArrayBuffer' in self\n}\n\nfunction isDataView(obj) {\n  return obj && DataView.prototype.isPrototypeOf(obj)\n}\n\nif (support.arrayBuffer) {\n  var viewClasses = [\n    '[object Int8Array]',\n    '[object Uint8Array]',\n    '[object Uint8ClampedArray]',\n    '[object Int16Array]',\n    '[object Uint16Array]',\n    '[object Int32Array]',\n    '[object Uint32Array]',\n    '[object Float32Array]',\n    '[object Float64Array]'\n  ]\n\n  var isArrayBufferView =\n    ArrayBuffer.isView ||\n    function(obj) {\n      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1\n    }\n}\n\nfunction normalizeName(name) {\n  if (typeof name !== 'string') {\n    name = String(name)\n  }\n  if (/[^a-z0-9\\-#$%&'*+.^_`|~]/i.test(name)) {\n    throw new TypeError('Invalid character in header field name')\n  }\n  return name.toLowerCase()\n}\n\nfunction normalizeValue(value) {\n  if (typeof value !== 'string') {\n    value = String(value)\n  }\n  return value\n}\n\n// Build a destructive iterator for the value list\nfunction iteratorFor(items) {\n  var iterator = {\n    next: function() {\n      var value = items.shift()\n      return {done: value === undefined, value: value}\n    }\n  }\n\n  if (support.iterable) {\n    iterator[Symbol.iterator] = function() {\n      return iterator\n    }\n  }\n\n  return iterator\n}\n\nexport function Headers(headers) {\n  this.map = {}\n\n  if (headers instanceof Headers) {\n    headers.forEach(function(value, name) {\n      this.append(name, value)\n    }, this)\n  } else if (Array.isArray(headers)) {\n    headers.forEach(function(header) {\n      this.append(header[0], header[1])\n    }, this)\n  } else if (headers) {\n    Object.getOwnPropertyNames(headers).forEach(function(name) {\n      this.append(name, headers[name])\n    }, this)\n  }\n}\n\nHeaders.prototype.append = function(name, value) {\n  name = normalizeName(name)\n  value = normalizeValue(value)\n  var oldValue = this.map[name]\n  this.map[name] = oldValue ? oldValue + ', ' + value : value\n}\n\nHeaders.prototype['delete'] = function(name) {\n  delete this.map[normalizeName(name)]\n}\n\nHeaders.prototype.get = function(name) {\n  name = normalizeName(name)\n  return this.has(name) ? this.map[name] : null\n}\n\nHeaders.prototype.has = function(name) {\n  return this.map.hasOwnProperty(normalizeName(name))\n}\n\nHeaders.prototype.set = function(name, value) {\n  this.map[normalizeName(name)] = normalizeValue(value)\n}\n\nHeaders.prototype.forEach = function(callback, thisArg) {\n  for (var name in this.map) {\n    if (this.map.hasOwnProperty(name)) {\n      callback.call(thisArg, this.map[name], name, this)\n    }\n  }\n}\n\nHeaders.prototype.keys = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push(name)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.values = function() {\n  var items = []\n  this.forEach(function(value) {\n    items.push(value)\n  })\n  return iteratorFor(items)\n}\n\nHeaders.prototype.entries = function() {\n  var items = []\n  this.forEach(function(value, name) {\n    items.push([name, value])\n  })\n  return iteratorFor(items)\n}\n\nif (support.iterable) {\n  Headers.prototype[Symbol.iterator] = Headers.prototype.entries\n}\n\nfunction consumed(body) {\n  if (body.bodyUsed) {\n    return Promise.reject(new TypeError('Already read'))\n  }\n  body.bodyUsed = true\n}\n\nfunction fileReaderReady(reader) {\n  return new Promise(function(resolve, reject) {\n    reader.onload = function() {\n      resolve(reader.result)\n    }\n    reader.onerror = function() {\n      reject(reader.error)\n    }\n  })\n}\n\nfunction readBlobAsArrayBuffer(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsArrayBuffer(blob)\n  return promise\n}\n\nfunction readBlobAsText(blob) {\n  var reader = new FileReader()\n  var promise = fileReaderReady(reader)\n  reader.readAsText(blob)\n  return promise\n}\n\nfunction readArrayBufferAsText(buf) {\n  var view = new Uint8Array(buf)\n  var chars = new Array(view.length)\n\n  for (var i = 0; i < view.length; i++) {\n    chars[i] = String.fromCharCode(view[i])\n  }\n  return chars.join('')\n}\n\nfunction bufferClone(buf) {\n  if (buf.slice) {\n    return buf.slice(0)\n  } else {\n    var view = new Uint8Array(buf.byteLength)\n    view.set(new Uint8Array(buf))\n    return view.buffer\n  }\n}\n\nfunction Body() {\n  this.bodyUsed = false\n\n  this._initBody = function(body) {\n    this._bodyInit = body\n    if (!body) {\n      this._bodyText = ''\n    } else if (typeof body === 'string') {\n      this._bodyText = body\n    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n      this._bodyBlob = body\n    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n      this._bodyFormData = body\n    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n      this._bodyText = body.toString()\n    } else if (support.arrayBuffer && support.blob && isDataView(body)) {\n      this._bodyArrayBuffer = bufferClone(body.buffer)\n      // IE 10-11 can't handle a DataView body.\n      this._bodyInit = new Blob([this._bodyArrayBuffer])\n    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {\n      this._bodyArrayBuffer = bufferClone(body)\n    } else {\n      this._bodyText = body = Object.prototype.toString.call(body)\n    }\n\n    if (!this.headers.get('content-type')) {\n      if (typeof body === 'string') {\n        this.headers.set('content-type', 'text/plain;charset=UTF-8')\n      } else if (this._bodyBlob && this._bodyBlob.type) {\n        this.headers.set('content-type', this._bodyBlob.type)\n      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {\n        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')\n      }\n    }\n  }\n\n  if (support.blob) {\n    this.blob = function() {\n      var rejected = consumed(this)\n      if (rejected) {\n        return rejected\n      }\n\n      if (this._bodyBlob) {\n        return Promise.resolve(this._bodyBlob)\n      } else if (this._bodyArrayBuffer) {\n        return Promise.resolve(new Blob([this._bodyArrayBuffer]))\n      } else if (this._bodyFormData) {\n        throw new Error('could not read FormData body as blob')\n      } else {\n        return Promise.resolve(new Blob([this._bodyText]))\n      }\n    }\n\n    this.arrayBuffer = function() {\n      if (this._bodyArrayBuffer) {\n        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)\n      } else {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n    }\n  }\n\n  this.text = function() {\n    var rejected = consumed(this)\n    if (rejected) {\n      return rejected\n    }\n\n    if (this._bodyBlob) {\n      return readBlobAsText(this._bodyBlob)\n    } else if (this._bodyArrayBuffer) {\n      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))\n    } else if (this._bodyFormData) {\n      throw new Error('could not read FormData body as text')\n    } else {\n      return Promise.resolve(this._bodyText)\n    }\n  }\n\n  if (support.formData) {\n    this.formData = function() {\n      return this.text().then(decode)\n    }\n  }\n\n  this.json = function() {\n    return this.text().then(JSON.parse)\n  }\n\n  return this\n}\n\n// HTTP methods whose capitalization should be normalized\nvar methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\nfunction normalizeMethod(method) {\n  var upcased = method.toUpperCase()\n  return methods.indexOf(upcased) > -1 ? upcased : method\n}\n\nexport function Request(input, options) {\n  options = options || {}\n  var body = options.body\n\n  if (input instanceof Request) {\n    if (input.bodyUsed) {\n      throw new TypeError('Already read')\n    }\n    this.url = input.url\n    this.credentials = input.credentials\n    if (!options.headers) {\n      this.headers = new Headers(input.headers)\n    }\n    this.method = input.method\n    this.mode = input.mode\n    this.signal = input.signal\n    if (!body && input._bodyInit != null) {\n      body = input._bodyInit\n      input.bodyUsed = true\n    }\n  } else {\n    this.url = String(input)\n  }\n\n  this.credentials = options.credentials || this.credentials || 'same-origin'\n  if (options.headers || !this.headers) {\n    this.headers = new Headers(options.headers)\n  }\n  this.method = normalizeMethod(options.method || this.method || 'GET')\n  this.mode = options.mode || this.mode || null\n  this.signal = options.signal || this.signal\n  this.referrer = null\n\n  if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n    throw new TypeError('Body not allowed for GET or HEAD requests')\n  }\n  this._initBody(body)\n}\n\nRequest.prototype.clone = function() {\n  return new Request(this, {body: this._bodyInit})\n}\n\nfunction decode(body) {\n  var form = new FormData()\n  body\n    .trim()\n    .split('&')\n    .forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n  return form\n}\n\nfunction parseHeaders(rawHeaders) {\n  var headers = new Headers()\n  // Replace instances of \\r\\n and \\n followed by at least one space or horizontal tab with a space\n  // https://tools.ietf.org/html/rfc7230#section-3.2\n  var preProcessedHeaders = rawHeaders.replace(/\\r?\\n[\\t ]+/g, ' ')\n  preProcessedHeaders.split(/\\r?\\n/).forEach(function(line) {\n    var parts = line.split(':')\n    var key = parts.shift().trim()\n    if (key) {\n      var value = parts.join(':').trim()\n      headers.append(key, value)\n    }\n  })\n  return headers\n}\n\nBody.call(Request.prototype)\n\nexport function Response(bodyInit, options) {\n  if (!options) {\n    options = {}\n  }\n\n  this.type = 'default'\n  this.status = options.status === undefined ? 200 : options.status\n  this.ok = this.status >= 200 && this.status < 300\n  this.statusText = 'statusText' in options ? options.statusText : 'OK'\n  this.headers = new Headers(options.headers)\n  this.url = options.url || ''\n  this._initBody(bodyInit)\n}\n\nBody.call(Response.prototype)\n\nResponse.prototype.clone = function() {\n  return new Response(this._bodyInit, {\n    status: this.status,\n    statusText: this.statusText,\n    headers: new Headers(this.headers),\n    url: this.url\n  })\n}\n\nResponse.error = function() {\n  var response = new Response(null, {status: 0, statusText: ''})\n  response.type = 'error'\n  return response\n}\n\nvar redirectStatuses = [301, 302, 303, 307, 308]\n\nResponse.redirect = function(url, status) {\n  if (redirectStatuses.indexOf(status) === -1) {\n    throw new RangeError('Invalid status code')\n  }\n\n  return new Response(null, {status: status, headers: {location: url}})\n}\n\nexport var DOMException = self.DOMException\ntry {\n  new DOMException()\n} catch (err) {\n  DOMException = function(message, name) {\n    this.message = message\n    this.name = name\n    var error = Error(message)\n    this.stack = error.stack\n  }\n  DOMException.prototype = Object.create(Error.prototype)\n  DOMException.prototype.constructor = DOMException\n}\n\nexport function fetch(input, init) {\n  return new Promise(function(resolve, reject) {\n    var request = new Request(input, init)\n\n    if (request.signal && request.signal.aborted) {\n      return reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    var xhr = new XMLHttpRequest()\n\n    function abortXhr() {\n      xhr.abort()\n    }\n\n    xhr.onload = function() {\n      var options = {\n        status: xhr.status,\n        statusText: xhr.statusText,\n        headers: parseHeaders(xhr.getAllResponseHeaders() || '')\n      }\n      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')\n      var body = 'response' in xhr ? xhr.response : xhr.responseText\n      resolve(new Response(body, options))\n    }\n\n    xhr.onerror = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.ontimeout = function() {\n      reject(new TypeError('Network request failed'))\n    }\n\n    xhr.onabort = function() {\n      reject(new DOMException('Aborted', 'AbortError'))\n    }\n\n    xhr.open(request.method, request.url, true)\n\n    if (request.credentials === 'include') {\n      xhr.withCredentials = true\n    } else if (request.credentials === 'omit') {\n      xhr.withCredentials = false\n    }\n\n    if ('responseType' in xhr && support.blob) {\n      xhr.responseType = 'blob'\n    }\n\n    request.headers.forEach(function(value, name) {\n      xhr.setRequestHeader(name, value)\n    })\n\n    if (request.signal) {\n      request.signal.addEventListener('abort', abortXhr)\n\n      xhr.onreadystatechange = function() {\n        // DONE (success or failure)\n        if (xhr.readyState === 4) {\n          request.signal.removeEventListener('abort', abortXhr)\n        }\n      }\n    }\n\n    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n  })\n}\n\nfetch.polyfill = true\n\nif (!self.fetch) {\n  self.fetch = fetch\n  self.Headers = Headers\n  self.Request = Request\n  self.Response = Response\n}\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","'use strict';\n\nvar resolve = require('./resolve')\n  , util = require('./util')\n  , errorClasses = require('./error_classes')\n  , stableStringify = require('fast-json-stable-stringify');\n\nvar validateGenerator = require('../dotjs/validate');\n\n/**\n * Functions below are used inside compiled validations function\n */\n\nvar ucs2length = util.ucs2length;\nvar equal = require('fast-deep-equal');\n\n// this error is thrown by async schemas to return validation errors via exception\nvar ValidationError = errorClasses.Validation;\n\nmodule.exports = compile;\n\n\n/**\n * Compiles schema to validation function\n * @this   Ajv\n * @param  {Object} schema schema object\n * @param  {Object} root object with information about the root schema for this schema\n * @param  {Object} localRefs the hash of local references inside the schema (created by resolve.id), used for inline resolution\n * @param  {String} baseId base ID for IDs in the schema\n * @return {Function} validation function\n */\nfunction compile(schema, root, localRefs, baseId) {\n  /* jshint validthis: true, evil: true */\n  /* eslint no-shadow: 0 */\n  var self = this\n    , opts = this._opts\n    , refVal = [ undefined ]\n    , refs = {}\n    , patterns = []\n    , patternsHash = {}\n    , defaults = []\n    , defaultsHash = {}\n    , customRules = [];\n\n  root = root || { schema: schema, refVal: refVal, refs: refs };\n\n  var c = checkCompiling.call(this, schema, root, baseId);\n  var compilation = this._compilations[c.index];\n  if (c.compiling) return (compilation.callValidate = callValidate);\n\n  var formats = this._formats;\n  var RULES = this.RULES;\n\n  try {\n    var v = localCompile(schema, root, localRefs, baseId);\n    compilation.validate = v;\n    var cv = compilation.callValidate;\n    if (cv) {\n      cv.schema = v.schema;\n      cv.errors = null;\n      cv.refs = v.refs;\n      cv.refVal = v.refVal;\n      cv.root = v.root;\n      cv.$async = v.$async;\n      if (opts.sourceCode) cv.source = v.source;\n    }\n    return v;\n  } finally {\n    endCompiling.call(this, schema, root, baseId);\n  }\n\n  /* @this   {*} - custom context, see passContext option */\n  function callValidate() {\n    /* jshint validthis: true */\n    var validate = compilation.validate;\n    var result = validate.apply(this, arguments);\n    callValidate.errors = validate.errors;\n    return result;\n  }\n\n  function localCompile(_schema, _root, localRefs, baseId) {\n    var isRoot = !_root || (_root && _root.schema == _schema);\n    if (_root.schema != root.schema)\n      return compile.call(self, _schema, _root, localRefs, baseId);\n\n    var $async = _schema.$async === true;\n\n    var sourceCode = validateGenerator({\n      isTop: true,\n      schema: _schema,\n      isRoot: isRoot,\n      baseId: baseId,\n      root: _root,\n      schemaPath: '',\n      errSchemaPath: '#',\n      errorPath: '\"\"',\n      MissingRefError: errorClasses.MissingRef,\n      RULES: RULES,\n      validate: validateGenerator,\n      util: util,\n      resolve: resolve,\n      resolveRef: resolveRef,\n      usePattern: usePattern,\n      useDefault: useDefault,\n      useCustomRule: useCustomRule,\n      opts: opts,\n      formats: formats,\n      logger: self.logger,\n      self: self\n    });\n\n    sourceCode = vars(refVal, refValCode) + vars(patterns, patternCode)\n                   + vars(defaults, defaultCode) + vars(customRules, customRuleCode)\n                   + sourceCode;\n\n    if (opts.processCode) sourceCode = opts.processCode(sourceCode);\n    // console.log('\\n\\n\\n *** \\n', JSON.stringify(sourceCode));\n    var validate;\n    try {\n      var makeValidate = new Function(\n        'self',\n        'RULES',\n        'formats',\n        'root',\n        'refVal',\n        'defaults',\n        'customRules',\n        'equal',\n        'ucs2length',\n        'ValidationError',\n        sourceCode\n      );\n\n      validate = makeValidate(\n        self,\n        RULES,\n        formats,\n        root,\n        refVal,\n        defaults,\n        customRules,\n        equal,\n        ucs2length,\n        ValidationError\n      );\n\n      refVal[0] = validate;\n    } catch(e) {\n      self.logger.error('Error compiling schema, function code:', sourceCode);\n      throw e;\n    }\n\n    validate.schema = _schema;\n    validate.errors = null;\n    validate.refs = refs;\n    validate.refVal = refVal;\n    validate.root = isRoot ? validate : _root;\n    if ($async) validate.$async = true;\n    if (opts.sourceCode === true) {\n      validate.source = {\n        code: sourceCode,\n        patterns: patterns,\n        defaults: defaults\n      };\n    }\n\n    return validate;\n  }\n\n  function resolveRef(baseId, ref, isRoot) {\n    ref = resolve.url(baseId, ref);\n    var refIndex = refs[ref];\n    var _refVal, refCode;\n    if (refIndex !== undefined) {\n      _refVal = refVal[refIndex];\n      refCode = 'refVal[' + refIndex + ']';\n      return resolvedRef(_refVal, refCode);\n    }\n    if (!isRoot && root.refs) {\n      var rootRefId = root.refs[ref];\n      if (rootRefId !== undefined) {\n        _refVal = root.refVal[rootRefId];\n        refCode = addLocalRef(ref, _refVal);\n        return resolvedRef(_refVal, refCode);\n      }\n    }\n\n    refCode = addLocalRef(ref);\n    var v = resolve.call(self, localCompile, root, ref);\n    if (v === undefined) {\n      var localSchema = localRefs && localRefs[ref];\n      if (localSchema) {\n        v = resolve.inlineRef(localSchema, opts.inlineRefs)\n            ? localSchema\n            : compile.call(self, localSchema, root, localRefs, baseId);\n      }\n    }\n\n    if (v === undefined) {\n      removeLocalRef(ref);\n    } else {\n      replaceLocalRef(ref, v);\n      return resolvedRef(v, refCode);\n    }\n  }\n\n  function addLocalRef(ref, v) {\n    var refId = refVal.length;\n    refVal[refId] = v;\n    refs[ref] = refId;\n    return 'refVal' + refId;\n  }\n\n  function removeLocalRef(ref) {\n    delete refs[ref];\n  }\n\n  function replaceLocalRef(ref, v) {\n    var refId = refs[ref];\n    refVal[refId] = v;\n  }\n\n  function resolvedRef(refVal, code) {\n    return typeof refVal == 'object' || typeof refVal == 'boolean'\n            ? { code: code, schema: refVal, inline: true }\n            : { code: code, $async: refVal && !!refVal.$async };\n  }\n\n  function usePattern(regexStr) {\n    var index = patternsHash[regexStr];\n    if (index === undefined) {\n      index = patternsHash[regexStr] = patterns.length;\n      patterns[index] = regexStr;\n    }\n    return 'pattern' + index;\n  }\n\n  function useDefault(value) {\n    switch (typeof value) {\n      case 'boolean':\n      case 'number':\n        return '' + value;\n      case 'string':\n        return util.toQuotedString(value);\n      case 'object':\n        if (value === null) return 'null';\n        var valueStr = stableStringify(value);\n        var index = defaultsHash[valueStr];\n        if (index === undefined) {\n          index = defaultsHash[valueStr] = defaults.length;\n          defaults[index] = value;\n        }\n        return 'default' + index;\n    }\n  }\n\n  function useCustomRule(rule, schema, parentSchema, it) {\n    if (self._opts.validateSchema !== false) {\n      var deps = rule.definition.dependencies;\n      if (deps && !deps.every(function(keyword) {\n        return Object.prototype.hasOwnProperty.call(parentSchema, keyword);\n      }))\n        throw new Error('parent schema must have all required keywords: ' + deps.join(','));\n\n      var validateSchema = rule.definition.validateSchema;\n      if (validateSchema) {\n        var valid = validateSchema(schema);\n        if (!valid) {\n          var message = 'keyword schema is invalid: ' + self.errorsText(validateSchema.errors);\n          if (self._opts.validateSchema == 'log') self.logger.error(message);\n          else throw new Error(message);\n        }\n      }\n    }\n\n    var compile = rule.definition.compile\n      , inline = rule.definition.inline\n      , macro = rule.definition.macro;\n\n    var validate;\n    if (compile) {\n      validate = compile.call(self, schema, parentSchema, it);\n    } else if (macro) {\n      validate = macro.call(self, schema, parentSchema, it);\n      if (opts.validateSchema !== false) self.validateSchema(validate, true);\n    } else if (inline) {\n      validate = inline.call(self, it, rule.keyword, schema, parentSchema);\n    } else {\n      validate = rule.definition.validate;\n      if (!validate) return;\n    }\n\n    if (validate === undefined)\n      throw new Error('custom keyword \"' + rule.keyword + '\"failed to compile');\n\n    var index = customRules.length;\n    customRules[index] = validate;\n\n    return {\n      code: 'customRule' + index,\n      validate: validate\n    };\n  }\n}\n\n\n/**\n * Checks if the schema is currently compiled\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Object} object with properties \"index\" (compilation index) and \"compiling\" (boolean)\n */\nfunction checkCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var index = compIndex.call(this, schema, root, baseId);\n  if (index >= 0) return { index: index, compiling: true };\n  index = this._compilations.length;\n  this._compilations[index] = {\n    schema: schema,\n    root: root,\n    baseId: baseId\n  };\n  return { index: index, compiling: false };\n}\n\n\n/**\n * Removes the schema from the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n */\nfunction endCompiling(schema, root, baseId) {\n  /* jshint validthis: true */\n  var i = compIndex.call(this, schema, root, baseId);\n  if (i >= 0) this._compilations.splice(i, 1);\n}\n\n\n/**\n * Index of schema compilation in the currently compiled list\n * @this   Ajv\n * @param  {Object} schema schema to compile\n * @param  {Object} root root object\n * @param  {String} baseId base schema ID\n * @return {Integer} compilation index\n */\nfunction compIndex(schema, root, baseId) {\n  /* jshint validthis: true */\n  for (var i=0; i<this._compilations.length; i++) {\n    var c = this._compilations[i];\n    if (c.schema == schema && c.root == root && c.baseId == baseId) return i;\n  }\n  return -1;\n}\n\n\nfunction patternCode(i, patterns) {\n  return 'var pattern' + i + ' = new RegExp(' + util.toQuotedString(patterns[i]) + ');';\n}\n\n\nfunction defaultCode(i) {\n  return 'var default' + i + ' = defaults[' + i + '];';\n}\n\n\nfunction refValCode(i, refVal) {\n  return refVal[i] === undefined ? '' : 'var refVal' + i + ' = refVal[' + i + '];';\n}\n\n\nfunction customRuleCode(i) {\n  return 'var customRule' + i + ' = customRules[' + i + '];';\n}\n\n\nfunction vars(arr, statement) {\n  if (!arr.length) return '';\n  var code = '';\n  for (var i=0; i<arr.length; i++)\n    code += statement(i, arr);\n  return code;\n}\n","export function merge(...sets:Array<string>):string {\n\tif (sets.length > 1) {\n\t\tsets[0] = sets[0].slice(0, -1);\n\t\tconst xl = sets.length - 1;\n\t\tfor (let x = 1; x < xl; ++x) {\n\t\t\tsets[x] = sets[x].slice(1, -1);\n\t\t}\n\t\tsets[xl] = sets[xl].slice(1);\n\t\treturn sets.join('');\n\t} else {\n\t\treturn sets[0];\n\t}\n}\n\nexport function subexp(str:string):string {\n\treturn \"(?:\" + str + \")\";\n}\n\nexport function typeOf(o:any):string {\n\treturn o === undefined ? \"undefined\" : (o === null ? \"null\" : Object.prototype.toString.call(o).split(\" \").pop().split(\"]\").shift().toLowerCase());\n}\n\nexport function toUpperCase(str:string):string {\n\treturn str.toUpperCase();\n}\n\nexport function toArray(obj:any):Array<any> {\n\treturn obj !== undefined && obj !== null ? (obj instanceof Array ? obj : (typeof obj.length !== \"number\" || obj.split || obj.setInterval || obj.call ? [obj] : Array.prototype.slice.call(obj))) : [];\n}\n\n\nexport function assign(target: object, source: any): any {\n\tconst obj = target as any;\n\tif (source) {\n\t\tfor (const key in source) {\n\t\t\tobj[key] = source[key];\n\t\t}\n\t}\n\treturn obj;\n}","import { URIRegExps } from \"./uri\";\nimport { merge, subexp } from \"./util\";\n\nexport function buildExps(isIRI:boolean):URIRegExps {\n\tconst\n\t\tALPHA$$ = \"[A-Za-z]\",\n\t\tCR$ = \"[\\\\x0D]\",\n\t\tDIGIT$$ = \"[0-9]\",\n\t\tDQUOTE$$ = \"[\\\\x22]\",\n\t\tHEXDIG$$ = merge(DIGIT$$, \"[A-Fa-f]\"),  //case-insensitive\n\t\tLF$$ = \"[\\\\x0A]\",\n\t\tSP$$ = \"[\\\\x20]\",\n\t\tPCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$)),  //expanded\n\t\tGEN_DELIMS$$ = \"[\\\\:\\\\/\\\\?\\\\#\\\\[\\\\]\\\\@]\",\n\t\tSUB_DELIMS$$ = \"[\\\\!\\\\$\\\\&\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\=]\",\n\t\tRESERVED$$ = merge(GEN_DELIMS$$, SUB_DELIMS$$),\n\t\tUCSCHAR$$ = isIRI ? \"[\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF]\" : \"[]\",  //subset, excludes bidi control characters\n\t\tIPRIVATE$$ = isIRI ? \"[\\\\uE000-\\\\uF8FF]\" : \"[]\",  //subset\n\t\tUNRESERVED$$ = merge(ALPHA$$, DIGIT$$, \"[\\\\-\\\\.\\\\_\\\\~]\", UCSCHAR$$),\n\t\tSCHEME$ = subexp(ALPHA$$ + merge(ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\") + \"*\"),\n\t\tUSERINFO$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\")) + \"*\"),\n\t\tDEC_OCTET$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"[1-9]\" + DIGIT$$) + \"|\" + DIGIT$$),\n\t\tDEC_OCTET_RELAXED$ = subexp(subexp(\"25[0-5]\") + \"|\" + subexp(\"2[0-4]\" + DIGIT$$) + \"|\" + subexp(\"1\" + DIGIT$$ + DIGIT$$) + \"|\" + subexp(\"0?[1-9]\" + DIGIT$$) + \"|0?0?\" + DIGIT$$),  //relaxed parsing rules\n\t\tIPV4ADDRESS$ = subexp(DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$ + \"\\\\.\" + DEC_OCTET_RELAXED$),\n\t\tH16$ = subexp(HEXDIG$$ + \"{1,4}\"),\n\t\tLS32$ = subexp(subexp(H16$ + \"\\\\:\" + H16$) + \"|\" + IPV4ADDRESS$),\n\t\tIPV6ADDRESS1$ = subexp(                                                            subexp(H16$ + \"\\\\:\") + \"{6}\" + LS32$), //                           6( h16 \":\" ) ls32\n\t\tIPV6ADDRESS2$ = subexp(                                                 \"\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{5}\" + LS32$), //                      \"::\" 5( h16 \":\" ) ls32\n\t\tIPV6ADDRESS3$ = subexp(subexp(                                 H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{4}\" + LS32$), //[               h16 ] \"::\" 4( h16 \":\" ) ls32\n\t\tIPV6ADDRESS4$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,1}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{3}\" + LS32$), //[ *1( h16 \":\" ) h16 ] \"::\" 3( h16 \":\" ) ls32\n\t\tIPV6ADDRESS5$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,2}\" + H16$) + \"?\\\\:\\\\:\" + subexp(H16$ + \"\\\\:\") + \"{2}\" + LS32$), //[ *2( h16 \":\" ) h16 ] \"::\" 2( h16 \":\" ) ls32\n\t\tIPV6ADDRESS6$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,3}\" + H16$) + \"?\\\\:\\\\:\" +        H16$ + \"\\\\:\"          + LS32$), //[ *3( h16 \":\" ) h16 ] \"::\"    h16 \":\"   ls32\n\t\tIPV6ADDRESS7$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,4}\" + H16$) + \"?\\\\:\\\\:\"                                + LS32$), //[ *4( h16 \":\" ) h16 ] \"::\"              ls32\n\t\tIPV6ADDRESS8$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,5}\" + H16$) + \"?\\\\:\\\\:\"                                + H16$ ), //[ *5( h16 \":\" ) h16 ] \"::\"              h16\n\t\tIPV6ADDRESS9$ = subexp(subexp(subexp(H16$ + \"\\\\:\") + \"{0,6}\" + H16$) + \"?\\\\:\\\\:\"                                       ), //[ *6( h16 \":\" ) h16 ] \"::\"\n\t\tIPV6ADDRESS$ = subexp([IPV6ADDRESS1$, IPV6ADDRESS2$, IPV6ADDRESS3$, IPV6ADDRESS4$, IPV6ADDRESS5$, IPV6ADDRESS6$, IPV6ADDRESS7$, IPV6ADDRESS8$, IPV6ADDRESS9$].join(\"|\")),\n\t\tZONEID$ = subexp(subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$) + \"+\"),  //RFC 6874\n\t\tIPV6ADDRZ$ = subexp(IPV6ADDRESS$ + \"\\\\%25\" + ZONEID$),  //RFC 6874\n\t\tIPV6ADDRZ_RELAXED$ = subexp(IPV6ADDRESS$ + subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + ZONEID$),  //RFC 6874, with relaxed parsing rules\n\t\tIPVFUTURE$ = subexp(\"[vV]\" + HEXDIG$$ + \"+\\\\.\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:]\") + \"+\"),\n\t\tIP_LITERAL$ = subexp(\"\\\\[\" + subexp(IPV6ADDRZ_RELAXED$ + \"|\" + IPV6ADDRESS$ + \"|\" + IPVFUTURE$) + \"\\\\]\"),  //RFC 6874\n\t\tREG_NAME$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$)) + \"*\"),\n\t\tHOST$ = subexp(IP_LITERAL$ + \"|\" + IPV4ADDRESS$ + \"(?!\" + REG_NAME$ + \")\" + \"|\" + REG_NAME$),\n\t\tPORT$ = subexp(DIGIT$$ + \"*\"),\n\t\tAUTHORITY$ = subexp(subexp(USERINFO$ + \"@\") + \"?\" + HOST$ + subexp(\"\\\\:\" + PORT$) + \"?\"),\n\t\tPCHAR$ = subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@]\")),\n\t\tSEGMENT$ = subexp(PCHAR$ + \"*\"),\n\t\tSEGMENT_NZ$ = subexp(PCHAR$ + \"+\"),\n\t\tSEGMENT_NZ_NC$ = subexp(subexp(PCT_ENCODED$ + \"|\" + merge(UNRESERVED$$, SUB_DELIMS$$, \"[\\\\@]\")) + \"+\"),\n\t\tPATH_ABEMPTY$ = subexp(subexp(\"\\\\/\" + SEGMENT$) + \"*\"),\n\t\tPATH_ABSOLUTE$ = subexp(\"\\\\/\" + subexp(SEGMENT_NZ$ + PATH_ABEMPTY$) + \"?\"),  //simplified\n\t\tPATH_NOSCHEME$ = subexp(SEGMENT_NZ_NC$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_ROOTLESS$ = subexp(SEGMENT_NZ$ + PATH_ABEMPTY$),  //simplified\n\t\tPATH_EMPTY$ = \"(?!\" + PCHAR$ + \")\",\n\t\tPATH$ = subexp(PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tQUERY$ = subexp(subexp(PCHAR$ + \"|\" + merge(\"[\\\\/\\\\?]\", IPRIVATE$$)) + \"*\"),\n\t\tFRAGMENT$ = subexp(subexp(PCHAR$ + \"|[\\\\/\\\\?]\") + \"*\"),\n\t\tHIER_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$),\n\t\tURI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tRELATIVE_PART$ = subexp(subexp(\"\\\\/\\\\/\" + AUTHORITY$ + PATH_ABEMPTY$) + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$),\n\t\tRELATIVE$ = subexp(RELATIVE_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\" + subexp(\"\\\\#\" + FRAGMENT$) + \"?\"),\n\t\tURI_REFERENCE$ = subexp(URI$ + \"|\" + RELATIVE$),\n\t\tABSOLUTE_URI$ = subexp(SCHEME$ + \"\\\\:\" + HIER_PART$ + subexp(\"\\\\?\" + QUERY$) + \"?\"),\n\n\t\tGENERIC_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tRELATIVE_REF$ = \"^(){0}\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_NOSCHEME$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tABSOLUTE_REF$ = \"^(\" + SCHEME$ + \")\\\\:\" + subexp(subexp(\"\\\\/\\\\/(\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?)\") + \"?(\" + PATH_ABEMPTY$ + \"|\" + PATH_ABSOLUTE$ + \"|\" + PATH_ROOTLESS$ + \"|\" + PATH_EMPTY$ + \")\") + subexp(\"\\\\?(\" + QUERY$ + \")\") + \"?$\",\n\t\tSAMEDOC_REF$ = \"^\" + subexp(\"\\\\#(\" + FRAGMENT$ + \")\") + \"?$\",\n\t\tAUTHORITY_REF$ = \"^\" + subexp(\"(\" + USERINFO$ + \")@\") + \"?(\" + HOST$ + \")\" + subexp(\"\\\\:(\" + PORT$ + \")\") + \"?$\"\n\t;\n\n\treturn {\n\t\tNOT_SCHEME : new RegExp(merge(\"[^]\", ALPHA$$, DIGIT$$, \"[\\\\+\\\\-\\\\.]\"), \"g\"),\n\t\tNOT_USERINFO : new RegExp(merge(\"[^\\\\%\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_HOST : new RegExp(merge(\"[^\\\\%\\\\[\\\\]\\\\:]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH : new RegExp(merge(\"[^\\\\%\\\\/\\\\:\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_PATH_NOSCHEME : new RegExp(merge(\"[^\\\\%\\\\/\\\\@]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tNOT_QUERY : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\", IPRIVATE$$), \"g\"),\n\t\tNOT_FRAGMENT : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, SUB_DELIMS$$, \"[\\\\:\\\\@\\\\/\\\\?]\"), \"g\"),\n\t\tESCAPE : new RegExp(merge(\"[^]\", UNRESERVED$$, SUB_DELIMS$$), \"g\"),\n\t\tUNRESERVED : new RegExp(UNRESERVED$$, \"g\"),\n\t\tOTHER_CHARS : new RegExp(merge(\"[^\\\\%]\", UNRESERVED$$, RESERVED$$), \"g\"),\n\t\tPCT_ENCODED : new RegExp(PCT_ENCODED$, \"g\"),\n\t\tIPV4ADDRESS : new RegExp(\"^(\" + IPV4ADDRESS$ + \")$\"),\n\t\tIPV6ADDRESS : new RegExp(\"^\\\\[?(\" + IPV6ADDRESS$ + \")\" + subexp(subexp(\"\\\\%25|\\\\%(?!\" + HEXDIG$$ + \"{2})\") + \"(\" + ZONEID$ + \")\") + \"?\\\\]?$\")  //RFC 6874, with relaxed parsing rules\n\t};\n}\n\nexport default buildExps(false);\n","import { URIRegExps } from \"./uri\";\nimport { buildExps } from \"./regexps-uri\";\n\nexport default buildExps(true);\n","'use strict';\n\n/** Highest positive signed 32-bit float value */\nconst maxInt = 2147483647; // aka. 0x7FFFFFFF or 2^31-1\n\n/** Bootstring parameters */\nconst base = 36;\nconst tMin = 1;\nconst tMax = 26;\nconst skew = 38;\nconst damp = 700;\nconst initialBias = 72;\nconst initialN = 128; // 0x80\nconst delimiter = '-'; // '\\x2D'\n\n/** Regular expressions */\nconst regexPunycode = /^xn--/;\nconst regexNonASCII = /[^\\0-\\x7E]/; // non-ASCII chars\nconst regexSeparators = /[\\x2E\\u3002\\uFF0E\\uFF61]/g; // RFC 3490 separators\n\n/** Error messages */\nconst errors = {\n\t'overflow': 'Overflow: input needs wider integers to process',\n\t'not-basic': 'Illegal input >= 0x80 (not a basic code point)',\n\t'invalid-input': 'Invalid input'\n};\n\n/** Convenience shortcuts */\nconst baseMinusTMin = base - tMin;\nconst floor = Math.floor;\nconst stringFromCharCode = String.fromCharCode;\n\n/*--------------------------------------------------------------------------*/\n\n/**\n * A generic error utility function.\n * @private\n * @param {String} type The error type.\n * @returns {Error} Throws a `RangeError` with the applicable error message.\n */\nfunction error(type) {\n\tthrow new RangeError(errors[type]);\n}\n\n/**\n * A generic `Array#map` utility function.\n * @private\n * @param {Array} array The array to iterate over.\n * @param {Function} callback The function that gets called for every array\n * item.\n * @returns {Array} A new array of values returned by the callback function.\n */\nfunction map(array, fn) {\n\tconst result = [];\n\tlet length = array.length;\n\twhile (length--) {\n\t\tresult[length] = fn(array[length]);\n\t}\n\treturn result;\n}\n\n/**\n * A simple `Array#map`-like wrapper to work with domain name strings or email\n * addresses.\n * @private\n * @param {String} domain The domain name or email address.\n * @param {Function} callback The function that gets called for every\n * character.\n * @returns {Array} A new string of characters returned by the callback\n * function.\n */\nfunction mapDomain(string, fn) {\n\tconst parts = string.split('@');\n\tlet result = '';\n\tif (parts.length > 1) {\n\t\t// In email addresses, only the domain name should be punycoded. Leave\n\t\t// the local part (i.e. everything up to `@`) intact.\n\t\tresult = parts[0] + '@';\n\t\tstring = parts[1];\n\t}\n\t// Avoid `split(regex)` for IE8 compatibility. See #17.\n\tstring = string.replace(regexSeparators, '\\x2E');\n\tconst labels = string.split('.');\n\tconst encoded = map(labels, fn).join('.');\n\treturn result + encoded;\n}\n\n/**\n * Creates an array containing the numeric code points of each Unicode\n * character in the string. While JavaScript uses UCS-2 internally,\n * this function will convert a pair of surrogate halves (each of which\n * UCS-2 exposes as separate characters) into a single code point,\n * matching UTF-16.\n * @see `punycode.ucs2.encode`\n * @see <https://mathiasbynens.be/notes/javascript-encoding>\n * @memberOf punycode.ucs2\n * @name decode\n * @param {String} string The Unicode input string (UCS-2).\n * @returns {Array} The new array of code points.\n */\nfunction ucs2decode(string) {\n\tconst output = [];\n\tlet counter = 0;\n\tconst length = string.length;\n\twhile (counter < length) {\n\t\tconst value = string.charCodeAt(counter++);\n\t\tif (value >= 0xD800 && value <= 0xDBFF && counter < length) {\n\t\t\t// It's a high surrogate, and there is a next character.\n\t\t\tconst extra = string.charCodeAt(counter++);\n\t\t\tif ((extra & 0xFC00) == 0xDC00) { // Low surrogate.\n\t\t\t\toutput.push(((value & 0x3FF) << 10) + (extra & 0x3FF) + 0x10000);\n\t\t\t} else {\n\t\t\t\t// It's an unmatched surrogate; only append this code unit, in case the\n\t\t\t\t// next code unit is the high surrogate of a surrogate pair.\n\t\t\t\toutput.push(value);\n\t\t\t\tcounter--;\n\t\t\t}\n\t\t} else {\n\t\t\toutput.push(value);\n\t\t}\n\t}\n\treturn output;\n}\n\n/**\n * Creates a string based on an array of numeric code points.\n * @see `punycode.ucs2.decode`\n * @memberOf punycode.ucs2\n * @name encode\n * @param {Array} codePoints The array of numeric code points.\n * @returns {String} The new Unicode string (UCS-2).\n */\nconst ucs2encode = array => String.fromCodePoint(...array);\n\n/**\n * Converts a basic code point into a digit/integer.\n * @see `digitToBasic()`\n * @private\n * @param {Number} codePoint The basic numeric code point value.\n * @returns {Number} The numeric value of a basic code point (for use in\n * representing integers) in the range `0` to `base - 1`, or `base` if\n * the code point does not represent a value.\n */\nconst basicToDigit = function(codePoint) {\n\tif (codePoint - 0x30 < 0x0A) {\n\t\treturn codePoint - 0x16;\n\t}\n\tif (codePoint - 0x41 < 0x1A) {\n\t\treturn codePoint - 0x41;\n\t}\n\tif (codePoint - 0x61 < 0x1A) {\n\t\treturn codePoint - 0x61;\n\t}\n\treturn base;\n};\n\n/**\n * Converts a digit/integer into a basic code point.\n * @see `basicToDigit()`\n * @private\n * @param {Number} digit The numeric value of a basic code point.\n * @returns {Number} The basic code point whose value (when used for\n * representing integers) is `digit`, which needs to be in the range\n * `0` to `base - 1`. If `flag` is non-zero, the uppercase form is\n * used; else, the lowercase form is used. The behavior is undefined\n * if `flag` is non-zero and `digit` has no uppercase form.\n */\nconst digitToBasic = function(digit, flag) {\n\t//  0..25 map to ASCII a..z or A..Z\n\t// 26..35 map to ASCII 0..9\n\treturn digit + 22 + 75 * (digit < 26) - ((flag != 0) << 5);\n};\n\n/**\n * Bias adaptation function as per section 3.4 of RFC 3492.\n * https://tools.ietf.org/html/rfc3492#section-3.4\n * @private\n */\nconst adapt = function(delta, numPoints, firstTime) {\n\tlet k = 0;\n\tdelta = firstTime ? floor(delta / damp) : delta >> 1;\n\tdelta += floor(delta / numPoints);\n\tfor (/* no initialization */; delta > baseMinusTMin * tMax >> 1; k += base) {\n\t\tdelta = floor(delta / baseMinusTMin);\n\t}\n\treturn floor(k + (baseMinusTMin + 1) * delta / (delta + skew));\n};\n\n/**\n * Converts a Punycode string of ASCII-only symbols to a string of Unicode\n * symbols.\n * @memberOf punycode\n * @param {String} input The Punycode string of ASCII-only symbols.\n * @returns {String} The resulting string of Unicode symbols.\n */\nconst decode = function(input) {\n\t// Don't use UCS-2.\n\tconst output = [];\n\tconst inputLength = input.length;\n\tlet i = 0;\n\tlet n = initialN;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points: let `basic` be the number of input code\n\t// points before the last delimiter, or `0` if there is none, then copy\n\t// the first basic code points to the output.\n\n\tlet basic = input.lastIndexOf(delimiter);\n\tif (basic < 0) {\n\t\tbasic = 0;\n\t}\n\n\tfor (let j = 0; j < basic; ++j) {\n\t\t// if it's not a basic code point\n\t\tif (input.charCodeAt(j) >= 0x80) {\n\t\t\terror('not-basic');\n\t\t}\n\t\toutput.push(input.charCodeAt(j));\n\t}\n\n\t// Main decoding loop: start just after the last delimiter if any basic code\n\t// points were copied; start at the beginning otherwise.\n\n\tfor (let index = basic > 0 ? basic + 1 : 0; index < inputLength; /* no final expression */) {\n\n\t\t// `index` is the index of the next character to be consumed.\n\t\t// Decode a generalized variable-length integer into `delta`,\n\t\t// which gets added to `i`. The overflow checking is easier\n\t\t// if we increase `i` as we go, then subtract off its starting\n\t\t// value at the end to obtain `delta`.\n\t\tlet oldi = i;\n\t\tfor (let w = 1, k = base; /* no condition */; k += base) {\n\n\t\t\tif (index >= inputLength) {\n\t\t\t\terror('invalid-input');\n\t\t\t}\n\n\t\t\tconst digit = basicToDigit(input.charCodeAt(index++));\n\n\t\t\tif (digit >= base || digit > floor((maxInt - i) / w)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\ti += digit * w;\n\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\n\t\t\tif (digit < t) {\n\t\t\t\tbreak;\n\t\t\t}\n\n\t\t\tconst baseMinusT = base - t;\n\t\t\tif (w > floor(maxInt / baseMinusT)) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\n\t\t\tw *= baseMinusT;\n\n\t\t}\n\n\t\tconst out = output.length + 1;\n\t\tbias = adapt(i - oldi, out, oldi == 0);\n\n\t\t// `i` was supposed to wrap around from `out` to `0`,\n\t\t// incrementing `n` each time, so we'll fix that now:\n\t\tif (floor(i / out) > maxInt - n) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tn += floor(i / out);\n\t\ti %= out;\n\n\t\t// Insert `n` at position `i` of the output.\n\t\toutput.splice(i++, 0, n);\n\n\t}\n\n\treturn String.fromCodePoint(...output);\n};\n\n/**\n * Converts a string of Unicode symbols (e.g. a domain name label) to a\n * Punycode string of ASCII-only symbols.\n * @memberOf punycode\n * @param {String} input The string of Unicode symbols.\n * @returns {String} The resulting Punycode string of ASCII-only symbols.\n */\nconst encode = function(input) {\n\tconst output = [];\n\n\t// Convert the input in UCS-2 to an array of Unicode code points.\n\tinput = ucs2decode(input);\n\n\t// Cache the length.\n\tlet inputLength = input.length;\n\n\t// Initialize the state.\n\tlet n = initialN;\n\tlet delta = 0;\n\tlet bias = initialBias;\n\n\t// Handle the basic code points.\n\tfor (const currentValue of input) {\n\t\tif (currentValue < 0x80) {\n\t\t\toutput.push(stringFromCharCode(currentValue));\n\t\t}\n\t}\n\n\tlet basicLength = output.length;\n\tlet handledCPCount = basicLength;\n\n\t// `handledCPCount` is the number of code points that have been handled;\n\t// `basicLength` is the number of basic code points.\n\n\t// Finish the basic string with a delimiter unless it's empty.\n\tif (basicLength) {\n\t\toutput.push(delimiter);\n\t}\n\n\t// Main encoding loop:\n\twhile (handledCPCount < inputLength) {\n\n\t\t// All non-basic code points < n have been handled already. Find the next\n\t\t// larger one:\n\t\tlet m = maxInt;\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue >= n && currentValue < m) {\n\t\t\t\tm = currentValue;\n\t\t\t}\n\t\t}\n\n\t\t// Increase `delta` enough to advance the decoder's <n,i> state to <m,0>,\n\t\t// but guard against overflow.\n\t\tconst handledCPCountPlusOne = handledCPCount + 1;\n\t\tif (m - n > floor((maxInt - delta) / handledCPCountPlusOne)) {\n\t\t\terror('overflow');\n\t\t}\n\n\t\tdelta += (m - n) * handledCPCountPlusOne;\n\t\tn = m;\n\n\t\tfor (const currentValue of input) {\n\t\t\tif (currentValue < n && ++delta > maxInt) {\n\t\t\t\terror('overflow');\n\t\t\t}\n\t\t\tif (currentValue == n) {\n\t\t\t\t// Represent delta as a generalized variable-length integer.\n\t\t\t\tlet q = delta;\n\t\t\t\tfor (let k = base; /* no condition */; k += base) {\n\t\t\t\t\tconst t = k <= bias ? tMin : (k >= bias + tMax ? tMax : k - bias);\n\t\t\t\t\tif (q < t) {\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t\tconst qMinusT = q - t;\n\t\t\t\t\tconst baseMinusT = base - t;\n\t\t\t\t\toutput.push(\n\t\t\t\t\t\tstringFromCharCode(digitToBasic(t + qMinusT % baseMinusT, 0))\n\t\t\t\t\t);\n\t\t\t\t\tq = floor(qMinusT / baseMinusT);\n\t\t\t\t}\n\n\t\t\t\toutput.push(stringFromCharCode(digitToBasic(q, 0)));\n\t\t\t\tbias = adapt(delta, handledCPCountPlusOne, handledCPCount == basicLength);\n\t\t\t\tdelta = 0;\n\t\t\t\t++handledCPCount;\n\t\t\t}\n\t\t}\n\n\t\t++delta;\n\t\t++n;\n\n\t}\n\treturn output.join('');\n};\n\n/**\n * Converts a Punycode string representing a domain name or an email address\n * to Unicode. Only the Punycoded parts of the input will be converted, i.e.\n * it doesn't matter if you call it on a string that has already been\n * converted to Unicode.\n * @memberOf punycode\n * @param {String} input The Punycoded domain name or email address to\n * convert to Unicode.\n * @returns {String} The Unicode representation of the given Punycode\n * string.\n */\nconst toUnicode = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexPunycode.test(string)\n\t\t\t? decode(string.slice(4).toLowerCase())\n\t\t\t: string;\n\t});\n};\n\n/**\n * Converts a Unicode string representing a domain name or an email address to\n * Punycode. Only the non-ASCII parts of the domain name will be converted,\n * i.e. it doesn't matter if you call it with a domain that's already in\n * ASCII.\n * @memberOf punycode\n * @param {String} input The domain name or email address to convert, as a\n * Unicode string.\n * @returns {String} The Punycode representation of the given domain name or\n * email address.\n */\nconst toASCII = function(input) {\n\treturn mapDomain(input, function(string) {\n\t\treturn regexNonASCII.test(string)\n\t\t\t? 'xn--' + encode(string)\n\t\t\t: string;\n\t});\n};\n\n/*--------------------------------------------------------------------------*/\n\n/** Define the public API */\nconst punycode = {\n\t/**\n\t * A string representing the current Punycode.js version number.\n\t * @memberOf punycode\n\t * @type String\n\t */\n\t'version': '2.1.0',\n\t/**\n\t * An object of methods to convert from JavaScript's internal character\n\t * representation (UCS-2) to Unicode code points, and back.\n\t * @see <https://mathiasbynens.be/notes/javascript-encoding>\n\t * @memberOf punycode\n\t * @type Object\n\t */\n\t'ucs2': {\n\t\t'decode': ucs2decode,\n\t\t'encode': ucs2encode\n\t},\n\t'decode': decode,\n\t'encode': encode,\n\t'toASCII': toASCII,\n\t'toUnicode': toUnicode\n};\n\nexport default punycode;\n","/**\n * URI.js\n *\n * @fileoverview An RFC 3986 compliant, scheme extendable URI parsing/validating/resolving library for JavaScript.\n * @author <a href=\"mailto:gary.court@gmail.com\">Gary Court</a>\n * @see http://github.com/garycourt/uri-js\n */\n\n/**\n * Copyright 2011 Gary Court. All rights reserved.\n *\n * Redistribution and use in source and binary forms, with or without modification, are\n * permitted provided that the following conditions are met:\n *\n *    1. Redistributions of source code must retain the above copyright notice, this list of\n *       conditions and the following disclaimer.\n *\n *    2. Redistributions in binary form must reproduce the above copyright notice, this list\n *       of conditions and the following disclaimer in the documentation and/or other materials\n *       provided with the distribution.\n *\n * THIS SOFTWARE IS PROVIDED BY GARY COURT ``AS IS'' AND ANY EXPRESS OR IMPLIED\n * WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND\n * FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL GARY COURT OR\n * CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR\n * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\n * SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON\n * ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING\n * NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF\n * ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n *\n * The views and conclusions contained in the software and documentation are those of the\n * authors and should not be interpreted as representing official policies, either expressed\n * or implied, of Gary Court.\n */\n\nimport URI_PROTOCOL from \"./regexps-uri\";\nimport IRI_PROTOCOL from \"./regexps-iri\";\nimport punycode from \"punycode\";\nimport { toUpperCase, typeOf, assign } from \"./util\";\n\nexport interface URIComponents {\n\tscheme?:string;\n\tuserinfo?:string;\n\thost?:string;\n\tport?:number|string;\n\tpath?:string;\n\tquery?:string;\n\tfragment?:string;\n\treference?:string;\n\terror?:string;\n}\n\nexport interface URIOptions {\n\tscheme?:string;\n\treference?:string;\n\ttolerant?:boolean;\n\tabsolutePath?:boolean;\n\tiri?:boolean;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n}\n\nexport interface URISchemeHandler<Components extends URIComponents = URIComponents, Options extends URIOptions = URIOptions, ParentComponents extends URIComponents = URIComponents> {\n\tscheme:string;\n\tparse(components:ParentComponents, options:Options):Components;\n\tserialize(components:Components, options:Options):ParentComponents;\n\tunicodeSupport?:boolean;\n\tdomainHost?:boolean;\n\tabsolutePath?:boolean;\n}\n\nexport interface URIRegExps {\n\tNOT_SCHEME : RegExp,\n\tNOT_USERINFO : RegExp,\n\tNOT_HOST : RegExp,\n\tNOT_PATH : RegExp,\n\tNOT_PATH_NOSCHEME : RegExp,\n\tNOT_QUERY : RegExp,\n\tNOT_FRAGMENT : RegExp,\n\tESCAPE : RegExp,\n\tUNRESERVED : RegExp,\n\tOTHER_CHARS : RegExp,\n\tPCT_ENCODED : RegExp,\n\tIPV4ADDRESS : RegExp,\n\tIPV6ADDRESS : RegExp,\n}\n\nexport const SCHEMES:{[scheme:string]:URISchemeHandler} = {};\n\nexport function pctEncChar(chr:string):string {\n\tconst c = chr.charCodeAt(0);\n\tlet e:string;\n\n\tif (c < 16) e = \"%0\" + c.toString(16).toUpperCase();\n\telse if (c < 128) e = \"%\" + c.toString(16).toUpperCase();\n\telse if (c < 2048) e = \"%\" + ((c >> 6) | 192).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\telse e = \"%\" + ((c >> 12) | 224).toString(16).toUpperCase() + \"%\" + (((c >> 6) & 63) | 128).toString(16).toUpperCase() + \"%\" + ((c & 63) | 128).toString(16).toUpperCase();\n\n\treturn e;\n}\n\nexport function pctDecChars(str:string):string {\n\tlet newStr = \"\";\n\tlet i = 0;\n\tconst il = str.length;\n\n\twhile (i < il) {\n\t\tconst c = parseInt(str.substr(i + 1, 2), 16);\n\n\t\tif (c < 128) {\n\t\t\tnewStr += String.fromCharCode(c);\n\t\t\ti += 3;\n\t\t}\n\t\telse if (c >= 194 && c < 224) {\n\t\t\tif ((il - i) >= 6) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 31) << 6) | (c2 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 6);\n\t\t\t}\n\t\t\ti += 6;\n\t\t}\n\t\telse if (c >= 224) {\n\t\t\tif ((il - i) >= 9) {\n\t\t\t\tconst c2 = parseInt(str.substr(i + 4, 2), 16);\n\t\t\t\tconst c3 = parseInt(str.substr(i + 7, 2), 16);\n\t\t\t\tnewStr += String.fromCharCode(((c & 15) << 12) | ((c2 & 63) << 6) | (c3 & 63));\n\t\t\t} else {\n\t\t\t\tnewStr += str.substr(i, 9);\n\t\t\t}\n\t\t\ti += 9;\n\t\t}\n\t\telse {\n\t\t\tnewStr += str.substr(i, 3);\n\t\t\ti += 3;\n\t\t}\n\t}\n\n\treturn newStr;\n}\n\nfunction _normalizeComponentEncoding(components:URIComponents, protocol:URIRegExps) {\n\tfunction decodeUnreserved(str:string):string {\n\t\tconst decStr = pctDecChars(str);\n\t\treturn (!decStr.match(protocol.UNRESERVED) ? str : decStr);\n\t}\n\n\tif (components.scheme) components.scheme = String(components.scheme).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_SCHEME, \"\");\n\tif (components.userinfo !== undefined) components.userinfo = String(components.userinfo).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_USERINFO, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.host !== undefined) components.host = String(components.host).replace(protocol.PCT_ENCODED, decodeUnreserved).toLowerCase().replace(protocol.NOT_HOST, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.path !== undefined) components.path = String(components.path).replace(protocol.PCT_ENCODED, decodeUnreserved).replace((components.scheme ? protocol.NOT_PATH : protocol.NOT_PATH_NOSCHEME), pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.query !== undefined) components.query = String(components.query).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_QUERY, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\tif (components.fragment !== undefined) components.fragment = String(components.fragment).replace(protocol.PCT_ENCODED, decodeUnreserved).replace(protocol.NOT_FRAGMENT, pctEncChar).replace(protocol.PCT_ENCODED, toUpperCase);\n\n\treturn components;\n};\n\nfunction _stripLeadingZeros(str:string):string {\n\treturn str.replace(/^0*(.*)/, \"$1\") || \"0\";\n}\n\nfunction _normalizeIPv4(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV4ADDRESS) || [];\n\tconst [, address] = matches;\n\t\n\tif (address) {\n\t\treturn address.split(\".\").map(_stripLeadingZeros).join(\".\");\n\t} else {\n\t\treturn host;\n\t}\n}\n\nfunction _normalizeIPv6(host:string, protocol:URIRegExps):string {\n\tconst matches = host.match(protocol.IPV6ADDRESS) || [];\n\tconst [, address, zone] = matches;\n\n\tif (address) {\n\t\tconst [last, first] = address.toLowerCase().split('::').reverse();\n\t\tconst firstFields = first ? first.split(\":\").map(_stripLeadingZeros) : [];\n\t\tconst lastFields = last.split(\":\").map(_stripLeadingZeros);\n\t\tconst isLastFieldIPv4Address = protocol.IPV4ADDRESS.test(lastFields[lastFields.length - 1]);\n\t\tconst fieldCount = isLastFieldIPv4Address ? 7 : 8;\n\t\tconst lastFieldsStart = lastFields.length - fieldCount;\n\t\tconst fields = Array<string>(fieldCount);\n\n\t\tfor (let x = 0; x < fieldCount; ++x) {\n\t\t\tfields[x] = firstFields[x] || lastFields[lastFieldsStart + x] || '';\n\t\t}\n\n\t\tif (isLastFieldIPv4Address) {\n\t\t\tfields[fieldCount - 1] = _normalizeIPv4(fields[fieldCount - 1], protocol);\n\t\t}\n\n\t\tconst allZeroFields = fields.reduce<Array<{index:number,length:number}>>((acc, field, index) => {\n\t\t\tif (!field || field === \"0\") {\n\t\t\t\tconst lastLongest = acc[acc.length - 1];\n\t\t\t\tif (lastLongest && lastLongest.index + lastLongest.length === index) {\n\t\t\t\t\tlastLongest.length++;\n\t\t\t\t} else {\n\t\t\t\t\tacc.push({ index, length : 1 });\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn acc;\n\t\t}, []);\n\n\t\tconst longestZeroFields = allZeroFields.sort((a, b) => b.length - a.length)[0];\n\n\t\tlet newHost:string;\n\t\tif (longestZeroFields && longestZeroFields.length > 1) {\n\t\t\tconst newFirst = fields.slice(0, longestZeroFields.index) ;\n\t\t\tconst newLast = fields.slice(longestZeroFields.index + longestZeroFields.length);\n\t\t\tnewHost = newFirst.join(\":\") + \"::\" + newLast.join(\":\");\n\t\t} else {\n\t\t\tnewHost = fields.join(\":\");\n\t\t}\n\n\t\tif (zone) {\n\t\t\tnewHost += \"%\" + zone;\n\t\t}\n\n\t\treturn newHost;\n\t} else {\n\t\treturn host;\n\t}\n}\n\nconst URI_PARSE = /^(?:([^:\\/?#]+):)?(?:\\/\\/((?:([^\\/?#@]*)@)?(\\[[^\\/?#\\]]+\\]|[^\\/?#:]*)(?:\\:(\\d*))?))?([^?#]*)(?:\\?([^#]*))?(?:#((?:.|\\n|\\r)*))?/i;\nconst NO_MATCH_IS_UNDEFINED = (<RegExpMatchArray>(\"\").match(/(){0}/))[1] === undefined;\n\nexport function parse(uriString:string, options:URIOptions = {}):URIComponents {\n\tconst components:URIComponents = {};\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\n\tif (options.reference === \"suffix\") uriString = (options.scheme ? options.scheme + \":\" : \"\") + \"//\" + uriString;\n\n\tconst matches = uriString.match(URI_PARSE);\n\n\tif (matches) {\n\t\tif (NO_MATCH_IS_UNDEFINED) {\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1];\n\t\t\tcomponents.userinfo = matches[3];\n\t\t\tcomponents.host = matches[4];\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = matches[7];\n\t\t\tcomponents.fragment = matches[8];\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = matches[5];\n\t\t\t}\n\t\t} else {  //IE FIX for improper RegExp matching\n\t\t\t//store each component\n\t\t\tcomponents.scheme = matches[1] || undefined;\n\t\t\tcomponents.userinfo = (uriString.indexOf(\"@\") !== -1 ? matches[3] : undefined);\n\t\t\tcomponents.host = (uriString.indexOf(\"//\") !== -1 ? matches[4] : undefined);\n\t\t\tcomponents.port = parseInt(matches[5], 10);\n\t\t\tcomponents.path = matches[6] || \"\";\n\t\t\tcomponents.query = (uriString.indexOf(\"?\") !== -1 ? matches[7] : undefined);\n\t\t\tcomponents.fragment = (uriString.indexOf(\"#\") !== -1 ? matches[8] : undefined);\n\n\t\t\t//fix port number\n\t\t\tif (isNaN(components.port)) {\n\t\t\t\tcomponents.port = (uriString.match(/\\/\\/(?:.|\\n)*\\:(?:\\/|\\?|\\#|$)/) ? matches[4] : undefined);\n\t\t\t}\n\t\t}\n\n\t\tif (components.host) {\n\t\t\t//normalize IP hosts\n\t\t\tcomponents.host = _normalizeIPv6(_normalizeIPv4(components.host, protocol), protocol);\n\t\t}\n\n\t\t//determine reference type\n\t\tif (components.scheme === undefined && components.userinfo === undefined && components.host === undefined && components.port === undefined && !components.path && components.query === undefined) {\n\t\t\tcomponents.reference = \"same-document\";\n\t\t} else if (components.scheme === undefined) {\n\t\t\tcomponents.reference = \"relative\";\n\t\t} else if (components.fragment === undefined) {\n\t\t\tcomponents.reference = \"absolute\";\n\t\t} else {\n\t\t\tcomponents.reference = \"uri\";\n\t\t}\n\n\t\t//check for reference errors\n\t\tif (options.reference && options.reference !== \"suffix\" && options.reference !== components.reference) {\n\t\t\tcomponents.error = components.error || \"URI is not a \" + options.reference + \" reference.\";\n\t\t}\n\n\t\t//find scheme handler\n\t\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t\t//check if scheme can't handle IRIs\n\t\tif (!options.unicodeSupport && (!schemeHandler || !schemeHandler.unicodeSupport)) {\n\t\t\t//if host component is a domain name\n\t\t\tif (components.host && (options.domainHost || (schemeHandler && schemeHandler.domainHost))) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\tcomponents.host = punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t}\n\t\t\t//convert IRI -> URI\n\t\t\t_normalizeComponentEncoding(components, URI_PROTOCOL);\n\t\t} else {\n\t\t\t//normalize encodings\n\t\t\t_normalizeComponentEncoding(components, protocol);\n\t\t}\n\n\t\t//perform scheme specific parsing\n\t\tif (schemeHandler && schemeHandler.parse) {\n\t\t\tschemeHandler.parse(components, options);\n\t\t}\n\t} else {\n\t\tcomponents.error = components.error || \"URI can not be parsed.\";\n\t}\n\n\treturn components;\n};\n\nfunction _recomposeAuthority(components:URIComponents, options:URIOptions):string|undefined {\n\tconst protocol = (options.iri !== false ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\tif (components.userinfo !== undefined) {\n\t\turiTokens.push(components.userinfo);\n\t\turiTokens.push(\"@\");\n\t}\n\n\tif (components.host !== undefined) {\n\t\t//normalize IP hosts, add brackets and escape zone separator for IPv6\n\t\turiTokens.push(_normalizeIPv6(_normalizeIPv4(String(components.host), protocol), protocol).replace(protocol.IPV6ADDRESS, (_, $1, $2) => \"[\" + $1 + ($2 ? \"%25\" + $2 : \"\") + \"]\"));\n\t}\n\n\tif (typeof components.port === \"number\") {\n\t\turiTokens.push(\":\");\n\t\turiTokens.push(components.port.toString(10));\n\t}\n\n\treturn uriTokens.length ? uriTokens.join(\"\") : undefined;\n};\n\nconst RDS1 = /^\\.\\.?\\//;\nconst RDS2 = /^\\/\\.(\\/|$)/;\nconst RDS3 = /^\\/\\.\\.(\\/|$)/;\nconst RDS4 = /^\\.\\.?$/;\nconst RDS5 = /^\\/?(?:.|\\n)*?(?=\\/|$)/;\n\nexport function removeDotSegments(input:string):string {\n\tconst output:Array<string> = [];\n\n\twhile (input.length) {\n\t\tif (input.match(RDS1)) {\n\t\t\tinput = input.replace(RDS1, \"\");\n\t\t} else if (input.match(RDS2)) {\n\t\t\tinput = input.replace(RDS2, \"/\");\n\t\t} else if (input.match(RDS3)) {\n\t\t\tinput = input.replace(RDS3, \"/\");\n\t\t\toutput.pop();\n\t\t} else if (input === \".\" || input === \"..\") {\n\t\t\tinput = \"\";\n\t\t} else {\n\t\t\tconst im = input.match(RDS5);\n\t\t\tif (im) {\n\t\t\t\tconst s = im[0];\n\t\t\t\tinput = input.slice(s.length);\n\t\t\t\toutput.push(s);\n\t\t\t} else {\n\t\t\t\tthrow new Error(\"Unexpected dot segment condition\");\n\t\t\t}\n\t\t}\n\t}\n\n\treturn output.join(\"\");\n};\n\nexport function serialize(components:URIComponents, options:URIOptions = {}):string {\n\tconst protocol = (options.iri ? IRI_PROTOCOL : URI_PROTOCOL);\n\tconst uriTokens:Array<string> = [];\n\n\t//find scheme handler\n\tconst schemeHandler = SCHEMES[(options.scheme || components.scheme || \"\").toLowerCase()];\n\n\t//perform scheme specific serialization\n\tif (schemeHandler && schemeHandler.serialize) schemeHandler.serialize(components, options);\n\n\tif (components.host) {\n\t\t//if host component is an IPv6 address\n\t\tif (protocol.IPV6ADDRESS.test(components.host)) {\n\t\t\t//TODO: normalize IPv6 address as per RFC 5952\n\t\t}\n\n\t\t//if host component is a domain name\n\t\telse if (options.domainHost || (schemeHandler && schemeHandler.domainHost)) {\n\t\t\t//convert IDN via punycode\n\t\t\ttry {\n\t\t\t\tcomponents.host = (!options.iri ? punycode.toASCII(components.host.replace(protocol.PCT_ENCODED, pctDecChars).toLowerCase()) : punycode.toUnicode(components.host));\n\t\t\t} catch (e) {\n\t\t\t\tcomponents.error = components.error || \"Host's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t}\n\t\t}\n\t}\n\n\t//normalize encoding\n\t_normalizeComponentEncoding(components, protocol);\n\n\tif (options.reference !== \"suffix\" && components.scheme) {\n\t\turiTokens.push(components.scheme);\n\t\turiTokens.push(\":\");\n\t}\n\n\tconst authority = _recomposeAuthority(components, options);\n\tif (authority !== undefined) {\n\t\tif (options.reference !== \"suffix\") {\n\t\t\turiTokens.push(\"//\");\n\t\t}\n\n\t\turiTokens.push(authority);\n\n\t\tif (components.path && components.path.charAt(0) !== \"/\") {\n\t\t\turiTokens.push(\"/\");\n\t\t}\n\t}\n\n\tif (components.path !== undefined) {\n\t\tlet s = components.path;\n\n\t\tif (!options.absolutePath && (!schemeHandler || !schemeHandler.absolutePath)) {\n\t\t\ts = removeDotSegments(s);\n\t\t}\n\n\t\tif (authority === undefined) {\n\t\t\ts = s.replace(/^\\/\\//, \"/%2F\");  //don't allow the path to start with \"//\"\n\t\t}\n\n\t\turiTokens.push(s);\n\t}\n\n\tif (components.query !== undefined) {\n\t\turiTokens.push(\"?\");\n\t\turiTokens.push(components.query);\n\t}\n\n\tif (components.fragment !== undefined) {\n\t\turiTokens.push(\"#\");\n\t\turiTokens.push(components.fragment);\n\t}\n\n\treturn uriTokens.join(\"\");  //merge tokens into a string\n};\n\nexport function resolveComponents(base:URIComponents, relative:URIComponents, options:URIOptions = {}, skipNormalization?:boolean):URIComponents {\n\tconst target:URIComponents = {};\n\n\tif (!skipNormalization) {\n\t\tbase = parse(serialize(base, options), options);  //normalize base components\n\t\trelative = parse(serialize(relative, options), options);  //normalize relative components\n\t}\n\toptions = options || {};\n\n\tif (!options.tolerant && relative.scheme) {\n\t\ttarget.scheme = relative.scheme;\n\t\t//target.authority = relative.authority;\n\t\ttarget.userinfo = relative.userinfo;\n\t\ttarget.host = relative.host;\n\t\ttarget.port = relative.port;\n\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\ttarget.query = relative.query;\n\t} else {\n\t\tif (relative.userinfo !== undefined || relative.host !== undefined || relative.port !== undefined) {\n\t\t\t//target.authority = relative.authority;\n\t\t\ttarget.userinfo = relative.userinfo;\n\t\t\ttarget.host = relative.host;\n\t\t\ttarget.port = relative.port;\n\t\t\ttarget.path = removeDotSegments(relative.path || \"\");\n\t\t\ttarget.query = relative.query;\n\t\t} else {\n\t\t\tif (!relative.path) {\n\t\t\t\ttarget.path = base.path;\n\t\t\t\tif (relative.query !== undefined) {\n\t\t\t\t\ttarget.query = relative.query;\n\t\t\t\t} else {\n\t\t\t\t\ttarget.query = base.query;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tif (relative.path.charAt(0) === \"/\") {\n\t\t\t\t\ttarget.path = removeDotSegments(relative.path);\n\t\t\t\t} else {\n\t\t\t\t\tif ((base.userinfo !== undefined || base.host !== undefined || base.port !== undefined) && !base.path) {\n\t\t\t\t\t\ttarget.path = \"/\" + relative.path;\n\t\t\t\t\t} else if (!base.path) {\n\t\t\t\t\t\ttarget.path = relative.path;\n\t\t\t\t\t} else {\n\t\t\t\t\t\ttarget.path = base.path.slice(0, base.path.lastIndexOf(\"/\") + 1) + relative.path;\n\t\t\t\t\t}\n\t\t\t\t\ttarget.path = removeDotSegments(target.path);\n\t\t\t\t}\n\t\t\t\ttarget.query = relative.query;\n\t\t\t}\n\t\t\t//target.authority = base.authority;\n\t\t\ttarget.userinfo = base.userinfo;\n\t\t\ttarget.host = base.host;\n\t\t\ttarget.port = base.port;\n\t\t}\n\t\ttarget.scheme = base.scheme;\n\t}\n\n\ttarget.fragment = relative.fragment;\n\n\treturn target;\n};\n\nexport function resolve(baseURI:string, relativeURI:string, options?:URIOptions):string {\n\tconst schemelessOptions = assign({ scheme : 'null' }, options);\n\treturn serialize(resolveComponents(parse(baseURI, schemelessOptions), parse(relativeURI, schemelessOptions), schemelessOptions, true), schemelessOptions);\n};\n\nexport function normalize(uri:string, options?:URIOptions):string;\nexport function normalize(uri:URIComponents, options?:URIOptions):URIComponents;\nexport function normalize(uri:any, options?:URIOptions):any {\n\tif (typeof uri === \"string\") {\n\t\turi = serialize(parse(uri, options), options);\n\t} else if (typeOf(uri) === \"object\") {\n\t\turi = parse(serialize(<URIComponents>uri, options), options);\n\t}\n\n\treturn uri;\n};\n\nexport function equal(uriA:string, uriB:string, options?: URIOptions):boolean;\nexport function equal(uriA:URIComponents, uriB:URIComponents, options?:URIOptions):boolean;\nexport function equal(uriA:any, uriB:any, options?:URIOptions):boolean {\n\tif (typeof uriA === \"string\") {\n\t\turiA = serialize(parse(uriA, options), options);\n\t} else if (typeOf(uriA) === \"object\") {\n\t\turiA = serialize(<URIComponents>uriA, options);\n\t}\n\n\tif (typeof uriB === \"string\") {\n\t\turiB = serialize(parse(uriB, options), options);\n\t} else if (typeOf(uriB) === \"object\") {\n\t\turiB = serialize(<URIComponents>uriB, options);\n\t}\n\n\treturn uriA === uriB;\n};\n\nexport function escapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.ESCAPE : IRI_PROTOCOL.ESCAPE), pctEncChar);\n};\n\nexport function unescapeComponent(str:string, options?:URIOptions):string {\n\treturn str && str.toString().replace((!options || !options.iri ? URI_PROTOCOL.PCT_ENCODED : IRI_PROTOCOL.PCT_ENCODED), pctDecChars);\n};\n","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"http\",\n\n\tdomainHost : true,\n\n\tparse : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//report missing host\n\t\tif (!components.host) {\n\t\t\tcomponents.error = components.error || \"HTTP URIs must have a host.\";\n\t\t}\n\n\t\treturn components;\n\t},\n\n\tserialize : function (components:URIComponents, options:URIOptions):URIComponents {\n\t\t//normalize the default port\n\t\tif (components.port === (String(components.scheme).toLowerCase() !== \"https\" ? 80 : 443) || components.port === \"\") {\n\t\t\tcomponents.port = undefined;\n\t\t}\n\t\t\n\t\t//normalize the empty path\n\t\tif (!components.path) {\n\t\t\tcomponents.path = \"/\";\n\t\t}\n\n\t\t//NOTE: We do not parse query strings for HTTP URIs\n\t\t//as WWW Form Url Encoded query strings are part of the HTML4+ spec,\n\t\t//and not the HTTP spec.\n\n\t\treturn components;\n\t}\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport http from \"./http\";\n\nconst handler:URISchemeHandler = {\n\tscheme : \"https\",\n\tdomainHost : http.domainHost,\n\tparse : http.parse,\n\tserialize : http.serialize\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, pctDecChars, unescapeComponent } from \"../uri\";\nimport punycode from \"punycode\";\nimport { merge, subexp, toUpperCase, toArray } from \"../util\";\n\nexport interface MailtoHeaders {\n\t[hfname:string]:string\n}\n\nexport interface MailtoComponents extends URIComponents {\n\tto:Array<string>,\n\theaders?:MailtoHeaders,\n\tsubject?:string,\n\tbody?:string\n}\n\nconst O:MailtoHeaders = {};\nconst isIRI = true;\n\n//RFC 3986\nconst UNRESERVED$$ = \"[A-Za-z0-9\\\\-\\\\.\\\\_\\\\~\" + (isIRI ? \"\\\\xA0-\\\\u200D\\\\u2010-\\\\u2029\\\\u202F-\\\\uD7FF\\\\uF900-\\\\uFDCF\\\\uFDF0-\\\\uFFEF\" : \"\") + \"]\";\nconst HEXDIG$$ = \"[0-9A-Fa-f]\";  //case-insensitive\nconst PCT_ENCODED$ = subexp(subexp(\"%[EFef]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%[89A-Fa-f]\" + HEXDIG$$ + \"%\" + HEXDIG$$ + HEXDIG$$) + \"|\" + subexp(\"%\" + HEXDIG$$ + HEXDIG$$));  //expanded\n\n//RFC 5322, except these symbols as per RFC 6068: @ : / ? # [ ] & ; =\n//const ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\#\\\\$\\\\%\\\\&\\\\'\\\\*\\\\+\\\\-\\\\/\\\\=\\\\?\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QTEXT$$ = \"[\\\\x01-\\\\x08\\\\x0B\\\\x0C\\\\x0E-\\\\x1F\\\\x7F]\";  //(%d1-8 / %d11-12 / %d14-31 / %d127)\n//const QTEXT$$ = merge(\"[\\\\x21\\\\x23-\\\\x5B\\\\x5D-\\\\x7E]\", OBS_QTEXT$$);  //%d33 / %d35-91 / %d93-126 / obs-qtext\n//const VCHAR$$ = \"[\\\\x21-\\\\x7E]\";\n//const WSP$$ = \"[\\\\x20\\\\x09]\";\n//const OBS_QP$ = subexp(\"\\\\\\\\\" + merge(\"[\\\\x00\\\\x0D\\\\x0A]\", OBS_QTEXT$$));  //%d0 / CR / LF / obs-qtext\n//const FWS$ = subexp(subexp(WSP$$ + \"*\" + \"\\\\x0D\\\\x0A\") + \"?\" + WSP$$ + \"+\");\n//const QUOTED_PAIR$ = subexp(subexp(\"\\\\\\\\\" + subexp(VCHAR$$ + \"|\" + WSP$$)) + \"|\" + OBS_QP$);\n//const QUOTED_STRING$ = subexp('\\\\\"' + subexp(FWS$ + \"?\" + QCONTENT$) + \"*\" + FWS$ + \"?\" + '\\\\\"');\nconst ATEXT$$ = \"[A-Za-z0-9\\\\!\\\\$\\\\%\\\\'\\\\*\\\\+\\\\-\\\\^\\\\_\\\\`\\\\{\\\\|\\\\}\\\\~]\";\nconst QTEXT$$ = \"[\\\\!\\\\$\\\\%\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\-\\\\.0-9\\\\<\\\\>A-Z\\\\x5E-\\\\x7E]\";\nconst VCHAR$$ = merge(QTEXT$$, \"[\\\\\\\"\\\\\\\\]\");\nconst DOT_ATOM_TEXT$ = subexp(ATEXT$$ + \"+\" + subexp(\"\\\\.\" + ATEXT$$ + \"+\") + \"*\");\nconst QUOTED_PAIR$ = subexp(\"\\\\\\\\\" + VCHAR$$);\nconst QCONTENT$ = subexp(QTEXT$$ + \"|\" + QUOTED_PAIR$);\nconst QUOTED_STRING$ = subexp('\\\\\"' + QCONTENT$ + \"*\" + '\\\\\"');\n\n//RFC 6068\nconst DTEXT_NO_OBS$$ = \"[\\\\x21-\\\\x5A\\\\x5E-\\\\x7E]\";  //%d33-90 / %d94-126\nconst SOME_DELIMS$$ = \"[\\\\!\\\\$\\\\'\\\\(\\\\)\\\\*\\\\+\\\\,\\\\;\\\\:\\\\@]\";\nconst QCHAR$ = subexp(UNRESERVED$$ + \"|\" + PCT_ENCODED$ + \"|\" + SOME_DELIMS$$);\nconst DOMAIN$ = subexp(DOT_ATOM_TEXT$ + \"|\" + \"\\\\[\" + DTEXT_NO_OBS$$ + \"*\" + \"\\\\]\");\nconst LOCAL_PART$ = subexp(DOT_ATOM_TEXT$ + \"|\" + QUOTED_STRING$);\nconst ADDR_SPEC$ = subexp(LOCAL_PART$ + \"\\\\@\" + DOMAIN$);\nconst TO$ = subexp(ADDR_SPEC$ + subexp(\"\\\\,\" + ADDR_SPEC$) + \"*\");\nconst HFNAME$ = subexp(QCHAR$ + \"*\");\nconst HFVALUE$ = HFNAME$;\nconst HFIELD$ = subexp(HFNAME$ + \"\\\\=\" + HFVALUE$);\nconst HFIELDS2$ = subexp(HFIELD$ + subexp(\"\\\\&\" + HFIELD$) + \"*\");\nconst HFIELDS$ = subexp(\"\\\\?\" + HFIELDS2$);\nconst MAILTO_URI = new RegExp(\"^mailto\\\\:\" + TO$ + \"?\" + HFIELDS$ + \"?$\");\n\nconst UNRESERVED = new RegExp(UNRESERVED$$, \"g\");\nconst PCT_ENCODED = new RegExp(PCT_ENCODED$, \"g\");\nconst NOT_LOCAL_PART = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", '[\\\\\"]', VCHAR$$), \"g\");\nconst NOT_DOMAIN = new RegExp(merge(\"[^]\", ATEXT$$, \"[\\\\.]\", \"[\\\\[]\", DTEXT_NO_OBS$$, \"[\\\\]]\"), \"g\");\nconst NOT_HFNAME = new RegExp(merge(\"[^]\", UNRESERVED$$, SOME_DELIMS$$), \"g\");\nconst NOT_HFVALUE = NOT_HFNAME;\nconst TO = new RegExp(\"^\" + TO$ + \"$\");\nconst HFIELDS = new RegExp(\"^\" + HFIELDS2$ + \"$\");\n\nfunction decodeUnreserved(str:string):string {\n\tconst decStr = pctDecChars(str);\n\treturn (!decStr.match(UNRESERVED) ? str : decStr);\n}\n\nconst handler:URISchemeHandler<MailtoComponents> =  {\n\tscheme : \"mailto\",\n\n\tparse : function (components:URIComponents, options:URIOptions):MailtoComponents {\n\t\tconst mailtoComponents = components as MailtoComponents;\n\t\tconst to = mailtoComponents.to = (mailtoComponents.path ? mailtoComponents.path.split(\",\") : []);\n\t\tmailtoComponents.path = undefined;\n\n\t\tif (mailtoComponents.query) {\n\t\t\tlet unknownHeaders = false\n\t\t\tconst headers:MailtoHeaders = {};\n\t\t\tconst hfields = mailtoComponents.query.split(\"&\");\n\n\t\t\tfor (let x = 0, xl = hfields.length; x < xl; ++x) {\n\t\t\t\tconst hfield = hfields[x].split(\"=\");\n\n\t\t\t\tswitch (hfield[0]) {\n\t\t\t\t\tcase \"to\":\n\t\t\t\t\t\tconst toAddrs = hfield[1].split(\",\");\n\t\t\t\t\t\tfor (let x = 0, xl = toAddrs.length; x < xl; ++x) {\n\t\t\t\t\t\t\tto.push(toAddrs[x]);\n\t\t\t\t\t\t}\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"subject\":\n\t\t\t\t\t\tmailtoComponents.subject = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase \"body\":\n\t\t\t\t\t\tmailtoComponents.body = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tunknownHeaders = true;\n\t\t\t\t\t\theaders[unescapeComponent(hfield[0], options)] = unescapeComponent(hfield[1], options);\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tif (unknownHeaders) mailtoComponents.headers = headers;\n\t\t}\n\n\t\tmailtoComponents.query = undefined;\n\n\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\tconst addr = to[x].split(\"@\");\n\n\t\t\taddr[0] = unescapeComponent(addr[0]);\n\n\t\t\tif (!options.unicodeSupport) {\n\t\t\t\t//convert Unicode IDN -> ASCII IDN\n\t\t\t\ttry {\n\t\t\t\t\taddr[1] = punycode.toASCII(unescapeComponent(addr[1], options).toLowerCase());\n\t\t\t\t} catch (e) {\n\t\t\t\t\tmailtoComponents.error = mailtoComponents.error || \"Email address's domain name can not be converted to ASCII via punycode: \" + e;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\taddr[1] = unescapeComponent(addr[1], options).toLowerCase();\n\t\t\t}\n\n\t\t\tto[x] = addr.join(\"@\");\n\t\t}\n\n\t\treturn mailtoComponents;\n\t},\n\n\tserialize : function (mailtoComponents:MailtoComponents, options:URIOptions):URIComponents {\n\t\tconst components = mailtoComponents as URIComponents;\n\t\tconst to = toArray(mailtoComponents.to);\n\t\tif (to) {\n\t\t\tfor (let x = 0, xl = to.length; x < xl; ++x) {\n\t\t\t\tconst toAddr = String(to[x]);\n\t\t\t\tconst atIdx = toAddr.lastIndexOf(\"@\");\n\t\t\t\tconst localPart = (toAddr.slice(0, atIdx)).replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_LOCAL_PART, pctEncChar);\n\t\t\t\tlet domain = toAddr.slice(atIdx + 1);\n\n\t\t\t\t//convert IDN via punycode\n\t\t\t\ttry {\n\t\t\t\t\tdomain = (!options.iri ? punycode.toASCII(unescapeComponent(domain, options).toLowerCase()) : punycode.toUnicode(domain));\n\t\t\t\t} catch (e) {\n\t\t\t\t\tcomponents.error = components.error || \"Email address's domain name can not be converted to \" + (!options.iri ? \"ASCII\" : \"Unicode\") + \" via punycode: \" + e;\n\t\t\t\t}\n\n\t\t\t\tto[x] = localPart + \"@\" + domain;\n\t\t\t}\n\n\t\t\tcomponents.path = to.join(\",\");\n\t\t}\n\n\t\tconst headers = mailtoComponents.headers = mailtoComponents.headers || {};\n\n\t\tif (mailtoComponents.subject) headers[\"subject\"] = mailtoComponents.subject;\n\t\tif (mailtoComponents.body) headers[\"body\"] = mailtoComponents.body;\n\n\t\tconst fields = [];\n\t\tfor (const name in headers) {\n\t\t\tif (headers[name] !== O[name]) {\n\t\t\t\tfields.push(\n\t\t\t\t\tname.replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFNAME, pctEncChar) +\n\t\t\t\t\t\"=\" +\n\t\t\t\t\theaders[name].replace(PCT_ENCODED, decodeUnreserved).replace(PCT_ENCODED, toUpperCase).replace(NOT_HFVALUE, pctEncChar)\n\t\t\t\t);\n\t\t\t}\n\t\t}\n\t\tif (fields.length) {\n\t\t\tcomponents.query = fields.join(\"&\");\n\t\t}\n\n\t\treturn components;\n\t}\n}\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { pctEncChar, SCHEMES } from \"../uri\";\n\nexport interface URNComponents extends URIComponents {\n\tnid?:string;\n\tnss?:string;\n}\n\nexport interface URNOptions extends URIOptions {\n\tnid?:string;\n}\n\nconst NID$ = \"(?:[0-9A-Za-z][0-9A-Za-z\\\\-]{1,31})\";\nconst PCT_ENCODED$ = \"(?:\\\\%[0-9A-Fa-f]{2})\";\nconst TRANS$$ = \"[0-9A-Za-z\\\\(\\\\)\\\\+\\\\,\\\\-\\\\.\\\\:\\\\=\\\\@\\\\;\\\\$\\\\_\\\\!\\\\*\\\\'\\\\/\\\\?\\\\#]\";\nconst NSS$ = \"(?:(?:\" + PCT_ENCODED$ + \"|\" + TRANS$$ + \")+)\";\nconst URN_SCHEME = new RegExp(\"^urn\\\\:(\" + NID$ + \")$\");\nconst URN_PATH = new RegExp(\"^(\" + NID$ + \")\\\\:(\" + NSS$ + \")$\");\nconst URN_PARSE = /^([^\\:]+)\\:(.*)/;\nconst URN_EXCLUDED = /[\\x00-\\x20\\\\\\\"\\&\\<\\>\\[\\]\\^\\`\\{\\|\\}\\~\\x7F-\\xFF]/g;\n\n//RFC 2141\nconst handler:URISchemeHandler<URNComponents,URNOptions> = {\n\tscheme : \"urn\",\n\n\tparse : function (components:URIComponents, options:URNOptions):URNComponents {\n\t\tconst matches = components.path && components.path.match(URN_PARSE);\n\t\tlet urnComponents = components as URNComponents;\n\n\t\tif (matches) {\n\t\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\t\tconst nid = matches[1].toLowerCase();\n\t\t\tconst nss = matches[2];\n\t\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\t\turnComponents.nid = nid;\n\t\t\turnComponents.nss = nss;\n\t\t\turnComponents.path = undefined;\n\n\t\t\tif (schemeHandler) {\n\t\t\t\turnComponents = schemeHandler.parse(urnComponents, options) as URNComponents;\n\t\t\t}\n\t\t} else {\n\t\t\turnComponents.error = urnComponents.error || \"URN can not be parsed.\";\n\t\t}\n\n\t\treturn urnComponents;\n\t},\n\n\tserialize : function (urnComponents:URNComponents, options:URNOptions):URIComponents {\n\t\tconst scheme = options.scheme || urnComponents.scheme || \"urn\";\n\t\tconst nid = urnComponents.nid;\n\t\tconst urnScheme = `${scheme}:${options.nid || nid}`;\n\t\tconst schemeHandler = SCHEMES[urnScheme];\n\n\t\tif (schemeHandler) {\n\t\t\turnComponents = schemeHandler.serialize(urnComponents, options) as URNComponents;\n\t\t}\n\n\t\tconst uriComponents = urnComponents as URIComponents;\n\t\tconst nss = urnComponents.nss;\n\t\turiComponents.path = `${nid || options.nid}:${nss}`;\n\n\t\treturn uriComponents;\n\t},\n};\n\nexport default handler;","import { URISchemeHandler, URIComponents, URIOptions } from \"../uri\";\nimport { URNComponents } from \"./urn\";\nimport { SCHEMES } from \"../uri\";\n\nexport interface UUIDComponents extends URNComponents {\n\tuuid?: string;\n}\n\nconst UUID = /^[0-9A-Fa-f]{8}(?:\\-[0-9A-Fa-f]{4}){3}\\-[0-9A-Fa-f]{12}$/;\nconst UUID_PARSE = /^[0-9A-Fa-f\\-]{36}/;\n\n//RFC 4122\nconst handler:URISchemeHandler<UUIDComponents, URIOptions, URNComponents> = {\n\tscheme : \"urn:uuid\",\n\n\tparse : function (urnComponents:URNComponents, options:URIOptions):UUIDComponents {\n\t\tconst uuidComponents = urnComponents as UUIDComponents;\n\t\tuuidComponents.uuid = uuidComponents.nss;\n\t\tuuidComponents.nss = undefined;\n\n\t\tif (!options.tolerant && (!uuidComponents.uuid || !uuidComponents.uuid.match(UUID))) {\n\t\t\tuuidComponents.error = uuidComponents.error || \"UUID is not valid.\";\n\t\t}\n\n\t\treturn uuidComponents;\n\t},\n\n\tserialize : function (uuidComponents:UUIDComponents, options:URIOptions):URNComponents {\n\t\tconst urnComponents = uuidComponents as URNComponents;\n\t\t//normalize UUID\n\t\turnComponents.nss = (uuidComponents.uuid || \"\").toLowerCase();\n\t\treturn urnComponents;\n\t},\n};\n\nexport default handler;","import { SCHEMES } from \"./uri\";\n\nimport http from \"./schemes/http\";\nSCHEMES[http.scheme] = http;\n\nimport https from \"./schemes/https\";\nSCHEMES[https.scheme] = https;\n\nimport mailto from \"./schemes/mailto\";\nSCHEMES[mailto.scheme] = mailto;\n\nimport urn from \"./schemes/urn\";\nSCHEMES[urn.scheme] = urn;\n\nimport uuid from \"./schemes/urn-uuid\";\nSCHEMES[uuid.scheme] = uuid;\n\nexport * from \"./uri\";\n","'use strict';\n\n// https://mathiasbynens.be/notes/javascript-encoding\n// https://github.com/bestiejs/punycode.js - punycode.ucs2.decode\nmodule.exports = function ucs2length(str) {\n  var length = 0\n    , len = str.length\n    , pos = 0\n    , value;\n  while (pos < len) {\n    length++;\n    value = str.charCodeAt(pos++);\n    if (value >= 0xD800 && value <= 0xDBFF && pos < len) {\n      // high surrogate, and there is a next character\n      value = str.charCodeAt(pos);\n      if ((value & 0xFC00) == 0xDC00) pos++; // low surrogate\n    }\n  }\n  return length;\n};\n","'use strict';\n\nvar traverse = module.exports = function (schema, opts, cb) {\n  // Legacy support for v0.3.1 and earlier.\n  if (typeof opts == 'function') {\n    cb = opts;\n    opts = {};\n  }\n\n  cb = opts.cb || cb;\n  var pre = (typeof cb == 'function') ? cb : cb.pre || function() {};\n  var post = cb.post || function() {};\n\n  _traverse(opts, pre, post, schema, '', schema);\n};\n\n\ntraverse.keywords = {\n  additionalItems: true,\n  items: true,\n  contains: true,\n  additionalProperties: true,\n  propertyNames: true,\n  not: true\n};\n\ntraverse.arrayKeywords = {\n  items: true,\n  allOf: true,\n  anyOf: true,\n  oneOf: true\n};\n\ntraverse.propsKeywords = {\n  definitions: true,\n  properties: true,\n  patternProperties: true,\n  dependencies: true\n};\n\ntraverse.skipKeywords = {\n  default: true,\n  enum: true,\n  const: true,\n  required: true,\n  maximum: true,\n  minimum: true,\n  exclusiveMaximum: true,\n  exclusiveMinimum: true,\n  multipleOf: true,\n  maxLength: true,\n  minLength: true,\n  pattern: true,\n  format: true,\n  maxItems: true,\n  minItems: true,\n  uniqueItems: true,\n  maxProperties: true,\n  minProperties: true\n};\n\n\nfunction _traverse(opts, pre, post, schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex) {\n  if (schema && typeof schema == 'object' && !Array.isArray(schema)) {\n    pre(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n    for (var key in schema) {\n      var sch = schema[key];\n      if (Array.isArray(sch)) {\n        if (key in traverse.arrayKeywords) {\n          for (var i=0; i<sch.length; i++)\n            _traverse(opts, pre, post, sch[i], jsonPtr + '/' + key + '/' + i, rootSchema, jsonPtr, key, schema, i);\n        }\n      } else if (key in traverse.propsKeywords) {\n        if (sch && typeof sch == 'object') {\n          for (var prop in sch)\n            _traverse(opts, pre, post, sch[prop], jsonPtr + '/' + key + '/' + escapeJsonPtr(prop), rootSchema, jsonPtr, key, schema, prop);\n        }\n      } else if (key in traverse.keywords || (opts.allKeys && !(key in traverse.skipKeywords))) {\n        _traverse(opts, pre, post, sch, jsonPtr + '/' + key, rootSchema, jsonPtr, key, schema);\n      }\n    }\n    post(schema, jsonPtr, rootSchema, parentJsonPtr, parentKeyword, parentSchema, keyIndex);\n  }\n}\n\n\nfunction escapeJsonPtr(str) {\n  return str.replace(/~/g, '~0').replace(/\\//g, '~1');\n}\n","'use strict';\n\n\nvar Cache = module.exports = function Cache() {\n  this._cache = {};\n};\n\n\nCache.prototype.put = function Cache_put(key, value) {\n  this._cache[key] = value;\n};\n\n\nCache.prototype.get = function Cache_get(key) {\n  return this._cache[key];\n};\n\n\nCache.prototype.del = function Cache_del(key) {\n  delete this._cache[key];\n};\n\n\nCache.prototype.clear = function Cache_clear() {\n  this._cache = {};\n};\n","'use strict';\n\nvar util = require('./util');\n\nvar DATE = /^(\\d\\d\\d\\d)-(\\d\\d)-(\\d\\d)$/;\nvar DAYS = [0,31,28,31,30,31,30,31,31,30,31,30,31];\nvar TIME = /^(\\d\\d):(\\d\\d):(\\d\\d)(\\.\\d+)?(z|[+-]\\d\\d(?::?\\d\\d)?)?$/i;\nvar HOSTNAME = /^(?=.{1,253}\\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\\.?$/i;\nvar URI = /^(?:[a-z][a-z0-9+\\-.]*:)(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\\?(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\nvar URIREF = /^(?:[a-z][a-z0-9+\\-.]*:)?(?:\\/?\\/(?:(?:[a-z0-9\\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\\.[a-z0-9\\-._~!$&'()*+,;=:]+)\\]|(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)|(?:[a-z0-9\\-._~!$&'\"()*+,;=]|%[0-9a-f]{2})*)(?::\\d*)?(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*|\\/(?:(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})+(?:\\/(?:[a-z0-9\\-._~!$&'\"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\\?(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\\-._~!$&'\"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;\n// uri-template: https://tools.ietf.org/html/rfc6570\nvar URITEMPLATE = /^(?:(?:[^\\x00-\\x20\"'<>%\\\\^`{|}]|%[0-9a-f]{2})|\\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\\*)?)*\\})*$/i;\n// For the source: https://gist.github.com/dperini/729294\n// For test cases: https://mathiasbynens.be/demo/url-regex\n// @todo Delete current URL in favour of the commented out URL rule when this issue is fixed https://github.com/eslint/eslint/issues/7983.\n// var URL = /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}0-9]+-?)*[a-z\\u{00a1}-\\u{ffff}0-9]+)*(?:\\.(?:[a-z\\u{00a1}-\\u{ffff}]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/iu;\nvar URL = /^(?:(?:http[s\\u017F]?|ftp):\\/\\/)(?:(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+(?::(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?@)?(?:(?!10(?:\\.[0-9]{1,3}){3})(?!127(?:\\.[0-9]{1,3}){3})(?!169\\.254(?:\\.[0-9]{1,3}){2})(?!192\\.168(?:\\.[0-9]{1,3}){2})(?!172\\.(?:1[6-9]|2[0-9]|3[01])(?:\\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)(?:\\.(?:(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+-?)*(?:[0-9KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])+)*(?:\\.(?:(?:[KSa-z\\xA1-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\\/(?:[\\0-\\x08\\x0E-\\x1F!-\\x9F\\xA1-\\u167F\\u1681-\\u1FFF\\u200B-\\u2027\\u202A-\\u202E\\u2030-\\u205E\\u2060-\\u2FFF\\u3001-\\uD7FF\\uE000-\\uFEFE\\uFF00-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])*)?$/i;\nvar UUID = /^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i;\nvar JSON_POINTER = /^(?:\\/(?:[^~/]|~0|~1)*)*$/;\nvar JSON_POINTER_URI_FRAGMENT = /^#(?:\\/(?:[a-z0-9_\\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i;\nvar RELATIVE_JSON_POINTER = /^(?:0|[1-9][0-9]*)(?:#|(?:\\/(?:[^~/]|~0|~1)*)*)$/;\n\n\nmodule.exports = formats;\n\nfunction formats(mode) {\n  mode = mode == 'full' ? 'full' : 'fast';\n  return util.copy(formats[mode]);\n}\n\n\nformats.fast = {\n  // date: http://tools.ietf.org/html/rfc3339#section-5.6\n  date: /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d$/,\n  // date-time: http://tools.ietf.org/html/rfc3339#section-5.6\n  time: /^(?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)?$/i,\n  'date-time': /^\\d\\d\\d\\d-[0-1]\\d-[0-3]\\d[t\\s](?:[0-2]\\d:[0-5]\\d:[0-5]\\d|23:59:60)(?:\\.\\d+)?(?:z|[+-]\\d\\d(?::?\\d\\d)?)$/i,\n  // uri: https://github.com/mafintosh/is-my-json-valid/blob/master/formats.js\n  uri: /^(?:[a-z][a-z0-9+-.]*:)(?:\\/?\\/)?[^\\s]*$/i,\n  'uri-reference': /^(?:(?:[a-z][a-z0-9+-.]*:)?\\/?\\/)?(?:[^\\\\\\s#][^\\s#]*)?(?:#[^\\\\\\s]*)?$/i,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  // email (sources from jsen validator):\n  // http://stackoverflow.com/questions/201323/using-a-regular-expression-to-validate-an-email-address#answer-8829363\n  // http://www.w3.org/TR/html5/forms.html#valid-e-mail-address (search for 'willful violation')\n  email: /^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,\n  hostname: HOSTNAME,\n  // optimized https://www.safaribooksonline.com/library/view/regular-expressions-cookbook/9780596802837/ch07s16.html\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  // optimized http://stackoverflow.com/questions/53497/regular-expression-that-matches-valid-ipv6-addresses\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  // uuid: http://tools.ietf.org/html/rfc4122\n  uuid: UUID,\n  // JSON-pointer: https://tools.ietf.org/html/rfc6901\n  // uri fragment: https://tools.ietf.org/html/rfc3986#appendix-A\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  // relative JSON-pointer: http://tools.ietf.org/html/draft-luff-relative-json-pointer-00\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nformats.full = {\n  date: date,\n  time: time,\n  'date-time': date_time,\n  uri: uri,\n  'uri-reference': URIREF,\n  'uri-template': URITEMPLATE,\n  url: URL,\n  email: /^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,\n  hostname: HOSTNAME,\n  ipv4: /^(?:(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)\\.){3}(?:25[0-5]|2[0-4]\\d|[01]?\\d\\d?)$/,\n  ipv6: /^\\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]?\\d)){3}))|:)))(?:%.+)?\\s*$/i,\n  regex: regex,\n  uuid: UUID,\n  'json-pointer': JSON_POINTER,\n  'json-pointer-uri-fragment': JSON_POINTER_URI_FRAGMENT,\n  'relative-json-pointer': RELATIVE_JSON_POINTER\n};\n\n\nfunction isLeapYear(year) {\n  // https://tools.ietf.org/html/rfc3339#appendix-C\n  return year % 4 === 0 && (year % 100 !== 0 || year % 400 === 0);\n}\n\n\nfunction date(str) {\n  // full-date from http://tools.ietf.org/html/rfc3339#section-5.6\n  var matches = str.match(DATE);\n  if (!matches) return false;\n\n  var year = +matches[1];\n  var month = +matches[2];\n  var day = +matches[3];\n\n  return month >= 1 && month <= 12 && day >= 1 &&\n          day <= (month == 2 && isLeapYear(year) ? 29 : DAYS[month]);\n}\n\n\nfunction time(str, full) {\n  var matches = str.match(TIME);\n  if (!matches) return false;\n\n  var hour = matches[1];\n  var minute = matches[2];\n  var second = matches[3];\n  var timeZone = matches[5];\n  return ((hour <= 23 && minute <= 59 && second <= 59) ||\n          (hour == 23 && minute == 59 && second == 60)) &&\n         (!full || timeZone);\n}\n\n\nvar DATE_TIME_SEPARATOR = /t|\\s/i;\nfunction date_time(str) {\n  // http://tools.ietf.org/html/rfc3339#section-5.6\n  var dateTime = str.split(DATE_TIME_SEPARATOR);\n  return dateTime.length == 2 && date(dateTime[0]) && time(dateTime[1], true);\n}\n\n\nvar NOT_URI_FRAGMENT = /\\/|:/;\nfunction uri(str) {\n  // http://jmrware.com/articles/2009/uri_regexp/URI_regex.html + optional protocol + required \".\"\n  return NOT_URI_FRAGMENT.test(str) && URI.test(str);\n}\n\n\nvar Z_ANCHOR = /[^\\\\]\\\\Z/;\nfunction regex(str) {\n  if (Z_ANCHOR.test(str)) return false;\n  try {\n    new RegExp(str);\n    return true;\n  } catch(e) {\n    return false;\n  }\n}\n","'use strict';\n\nvar ruleModules = require('../dotjs')\n  , toHash = require('./util').toHash;\n\nmodule.exports = function rules() {\n  var RULES = [\n    { type: 'number',\n      rules: [ { 'maximum': ['exclusiveMaximum'] },\n               { 'minimum': ['exclusiveMinimum'] }, 'multipleOf', 'format'] },\n    { type: 'string',\n      rules: [ 'maxLength', 'minLength', 'pattern', 'format' ] },\n    { type: 'array',\n      rules: [ 'maxItems', 'minItems', 'items', 'contains', 'uniqueItems' ] },\n    { type: 'object',\n      rules: [ 'maxProperties', 'minProperties', 'required', 'dependencies', 'propertyNames',\n               { 'properties': ['additionalProperties', 'patternProperties'] } ] },\n    { rules: [ '$ref', 'const', 'enum', 'not', 'anyOf', 'oneOf', 'allOf', 'if' ] }\n  ];\n\n  var ALL = [ 'type', '$comment' ];\n  var KEYWORDS = [\n    '$schema', '$id', 'id', '$data', '$async', 'title',\n    'description', 'default', 'definitions',\n    'examples', 'readOnly', 'writeOnly',\n    'contentMediaType', 'contentEncoding',\n    'additionalItems', 'then', 'else'\n  ];\n  var TYPES = [ 'number', 'integer', 'string', 'array', 'object', 'boolean', 'null' ];\n  RULES.all = toHash(ALL);\n  RULES.types = toHash(TYPES);\n\n  RULES.forEach(function (group) {\n    group.rules = group.rules.map(function (keyword) {\n      var implKeywords;\n      if (typeof keyword == 'object') {\n        var key = Object.keys(keyword)[0];\n        implKeywords = keyword[key];\n        keyword = key;\n        implKeywords.forEach(function (k) {\n          ALL.push(k);\n          RULES.all[k] = true;\n        });\n      }\n      ALL.push(keyword);\n      var rule = RULES.all[keyword] = {\n        keyword: keyword,\n        code: ruleModules[keyword],\n        implements: implKeywords\n      };\n      return rule;\n    });\n\n    RULES.all.$comment = {\n      keyword: '$comment',\n      code: ruleModules.$comment\n    };\n\n    if (group.type) RULES.types[group.type] = group;\n  });\n\n  RULES.keywords = toHash(ALL.concat(KEYWORDS));\n  RULES.custom = {};\n\n  return RULES;\n};\n","'use strict';\n\n//all requires must be explicit because browserify won't work with dynamic requires\nmodule.exports = {\n  '$ref': require('./ref'),\n  allOf: require('./allOf'),\n  anyOf: require('./anyOf'),\n  '$comment': require('./comment'),\n  const: require('./const'),\n  contains: require('./contains'),\n  dependencies: require('./dependencies'),\n  'enum': require('./enum'),\n  format: require('./format'),\n  'if': require('./if'),\n  items: require('./items'),\n  maximum: require('./_limit'),\n  minimum: require('./_limit'),\n  maxItems: require('./_limitItems'),\n  minItems: require('./_limitItems'),\n  maxLength: require('./_limitLength'),\n  minLength: require('./_limitLength'),\n  maxProperties: require('./_limitProperties'),\n  minProperties: require('./_limitProperties'),\n  multipleOf: require('./multipleOf'),\n  not: require('./not'),\n  oneOf: require('./oneOf'),\n  pattern: require('./pattern'),\n  properties: require('./properties'),\n  propertyNames: require('./propertyNames'),\n  required: require('./required'),\n  uniqueItems: require('./uniqueItems'),\n  validate: require('./validate')\n};\n","'use strict';\nmodule.exports = function generate_ref(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $async, $refCode;\n  if ($schema == '#' || $schema == '#/') {\n    if (it.isRoot) {\n      $async = it.async;\n      $refCode = 'validate';\n    } else {\n      $async = it.root.schema.$async === true;\n      $refCode = 'root.refVal[0]';\n    }\n  } else {\n    var $refVal = it.resolveRef(it.baseId, $schema, it.isRoot);\n    if ($refVal === undefined) {\n      var $message = it.MissingRefError.message(it.baseId, $schema);\n      if (it.opts.missingRefs == 'fail') {\n        it.logger.error($message);\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('$ref') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { ref: \\'' + (it.util.escapeQuotes($schema)) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'can\\\\\\'t resolve reference ' + (it.util.escapeQuotes($schema)) + '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: ' + (it.util.toQuotedString($schema)) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        if ($breakOnError) {\n          out += ' if (false) { ';\n        }\n      } else if (it.opts.missingRefs == 'ignore') {\n        it.logger.warn($message);\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n      } else {\n        throw new it.MissingRefError(it.baseId, $schema, $message);\n      }\n    } else if ($refVal.inline) {\n      var $it = it.util.copy(it);\n      $it.level++;\n      var $nextValid = 'valid' + $it.level;\n      $it.schema = $refVal.schema;\n      $it.schemaPath = '';\n      $it.errSchemaPath = $schema;\n      var $code = it.validate($it).replace(/validate\\.schema/g, $refVal.code);\n      out += ' ' + ($code) + ' ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n      }\n    } else {\n      $async = $refVal.$async === true || (it.async && $refVal.$async !== false);\n      $refCode = $refVal.code;\n    }\n  }\n  if ($refCode) {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    if (it.opts.passContext) {\n      out += ' ' + ($refCode) + '.call(this, ';\n    } else {\n      out += ' ' + ($refCode) + '( ';\n    }\n    out += ' ' + ($data) + ', (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ', rootData)  ';\n    var __callValidate = out;\n    out = $$outStack.pop();\n    if ($async) {\n      if (!it.async) throw new Error('async schema referenced by sync schema');\n      if ($breakOnError) {\n        out += ' var ' + ($valid) + '; ';\n      }\n      out += ' try { await ' + (__callValidate) + '; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = true; ';\n      }\n      out += ' } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ';\n      if ($breakOnError) {\n        out += ' ' + ($valid) + ' = false; ';\n      }\n      out += ' } ';\n      if ($breakOnError) {\n        out += ' if (' + ($valid) + ') { ';\n      }\n    } else {\n      out += ' if (!' + (__callValidate) + ') { if (vErrors === null) vErrors = ' + ($refCode) + '.errors; else vErrors = vErrors.concat(' + ($refCode) + '.errors); errors = vErrors.length; } ';\n      if ($breakOnError) {\n        out += ' else { ';\n      }\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_allOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $allSchemasEmpty = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $allSchemasEmpty = false;\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    if ($allSchemasEmpty) {\n      out += ' if (true) { ';\n    } else {\n      out += ' ' + ($closingBraces.slice(0, -1)) + ' ';\n    }\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_anyOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $noEmptySchema = $schema.every(function($sch) {\n    return (it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all));\n  });\n  if ($noEmptySchema) {\n    var $currentBaseId = $it.baseId;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = false;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n        out += ' ' + ($valid) + ' = ' + ($valid) + ' || ' + ($nextValid) + '; if (!' + ($valid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('anyOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match some schema in anyOf\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_comment(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $schema = it.schema[$keyword];\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $comment = it.util.toQuotedString($schema);\n  if (it.opts.$comment === true) {\n    out += ' console.log(' + ($comment) + ');';\n  } else if (typeof it.opts.$comment == 'function') {\n    out += ' self._opts.$comment(' + ($comment) + ', ' + (it.util.toQuotedString($errSchemaPath)) + ', validate.root.schema);';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_const(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (!$isData) {\n    out += ' var schema' + ($lvl) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ' = equal(' + ($data) + ', schema' + ($lvl) + '); if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('const') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValue: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to constant\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_contains(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId,\n    $nonEmptySchema = (it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all));\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($nonEmptySchema) {\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($nextValid) + ' = false; for (var ' + ($idx) + ' = 0; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    out += ' if (' + ($nextValid) + ') break; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($closingBraces) + ' if (!' + ($nextValid) + ') {';\n  } else {\n    out += ' if (' + ($data) + '.length == 0) {';\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('contains') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should contain a valid item\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } else { ';\n  if ($nonEmptySchema) {\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n  }\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_dependencies(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $schemaDeps = {},\n    $propertyDeps = {},\n    $ownProperties = it.opts.ownProperties;\n  for ($property in $schema) {\n    var $sch = $schema[$property];\n    var $deps = Array.isArray($sch) ? $propertyDeps : $schemaDeps;\n    $deps[$property] = $sch;\n  }\n  out += 'var ' + ($errs) + ' = errors;';\n  var $currentErrorPath = it.errorPath;\n  out += 'var missing' + ($lvl) + ';';\n  for (var $property in $propertyDeps) {\n    $deps = $propertyDeps[$property];\n    if ($deps.length) {\n      out += ' if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      if ($breakOnError) {\n        out += ' && ( ';\n        var arr1 = $deps;\n        if (arr1) {\n          var $propertyKey, $i = -1,\n            l1 = arr1.length - 1;\n          while ($i < l1) {\n            $propertyKey = arr1[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ')) {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'should have ';\n            if ($deps.length == 1) {\n              out += 'property ' + (it.util.escapeQuotes($deps[0]));\n            } else {\n              out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n            }\n            out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n      } else {\n        out += ' ) { ';\n        var arr2 = $deps;\n        if (arr2) {\n          var $propertyKey, i2 = -1,\n            l2 = arr2.length - 1;\n          while (i2 < l2) {\n            $propertyKey = arr2[i2 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('dependencies') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { property: \\'' + (it.util.escapeQuotes($property)) + '\\', missingProperty: \\'' + ($missingProperty) + '\\', depsCount: ' + ($deps.length) + ', deps: \\'' + (it.util.escapeQuotes($deps.length == 1 ? $deps[0] : $deps.join(\", \"))) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'should have ';\n                if ($deps.length == 1) {\n                  out += 'property ' + (it.util.escapeQuotes($deps[0]));\n                } else {\n                  out += 'properties ' + (it.util.escapeQuotes($deps.join(\", \")));\n                }\n                out += ' when property ' + (it.util.escapeQuotes($property)) + ' is present\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n      out += ' }   ';\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n  }\n  it.errorPath = $currentErrorPath;\n  var $currentBaseId = $it.baseId;\n  for (var $property in $schemaDeps) {\n    var $sch = $schemaDeps[$property];\n    if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n      out += ' ' + ($nextValid) + ' = true; if ( ' + ($data) + (it.util.getProperty($property)) + ' !== undefined ';\n      if ($ownProperties) {\n        out += ' && Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($property)) + '\\') ';\n      }\n      out += ') { ';\n      $it.schema = $sch;\n      $it.schemaPath = $schemaPath + it.util.getProperty($property);\n      $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($property);\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += '   ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_enum(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $i = 'i' + $lvl,\n    $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + ';';\n  }\n  out += 'var ' + ($valid) + ';';\n  if ($isData) {\n    out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n  }\n  out += '' + ($valid) + ' = false;for (var ' + ($i) + '=0; ' + ($i) + '<' + ($vSchema) + '.length; ' + ($i) + '++) if (equal(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + '])) { ' + ($valid) + ' = true; break; }';\n  if ($isData) {\n    out += '  }  ';\n  }\n  out += ' if (!' + ($valid) + ') {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('enum') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { allowedValues: schema' + ($lvl) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be equal to one of the allowed values\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' }';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_format(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  if (it.opts.format === false) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n    return out;\n  }\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $unknownFormats = it.opts.unknownFormats,\n    $allowUnknown = Array.isArray($unknownFormats);\n  if ($isData) {\n    var $format = 'format' + $lvl,\n      $isObject = 'isObject' + $lvl,\n      $formatType = 'formatType' + $lvl;\n    out += ' var ' + ($format) + ' = formats[' + ($schemaValue) + ']; var ' + ($isObject) + ' = typeof ' + ($format) + ' == \\'object\\' && !(' + ($format) + ' instanceof RegExp) && ' + ($format) + '.validate; var ' + ($formatType) + ' = ' + ($isObject) + ' && ' + ($format) + '.type || \\'string\\'; if (' + ($isObject) + ') { ';\n    if (it.async) {\n      out += ' var async' + ($lvl) + ' = ' + ($format) + '.async; ';\n    }\n    out += ' ' + ($format) + ' = ' + ($format) + '.validate; } if (  ';\n    if ($isData) {\n      out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n    }\n    out += ' (';\n    if ($unknownFormats != 'ignore') {\n      out += ' (' + ($schemaValue) + ' && !' + ($format) + ' ';\n      if ($allowUnknown) {\n        out += ' && self._opts.unknownFormats.indexOf(' + ($schemaValue) + ') == -1 ';\n      }\n      out += ') || ';\n    }\n    out += ' (' + ($format) + ' && ' + ($formatType) + ' == \\'' + ($ruleType) + '\\' && !(typeof ' + ($format) + ' == \\'function\\' ? ';\n    if (it.async) {\n      out += ' (async' + ($lvl) + ' ? await ' + ($format) + '(' + ($data) + ') : ' + ($format) + '(' + ($data) + ')) ';\n    } else {\n      out += ' ' + ($format) + '(' + ($data) + ') ';\n    }\n    out += ' : ' + ($format) + '.test(' + ($data) + '))))) {';\n  } else {\n    var $format = it.formats[$schema];\n    if (!$format) {\n      if ($unknownFormats == 'ignore') {\n        it.logger.warn('unknown format \"' + $schema + '\" ignored in schema at path \"' + it.errSchemaPath + '\"');\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else if ($allowUnknown && $unknownFormats.indexOf($schema) >= 0) {\n        if ($breakOnError) {\n          out += ' if (true) { ';\n        }\n        return out;\n      } else {\n        throw new Error('unknown format \"' + $schema + '\" is used in schema at path \"' + it.errSchemaPath + '\"');\n      }\n    }\n    var $isObject = typeof $format == 'object' && !($format instanceof RegExp) && $format.validate;\n    var $formatType = $isObject && $format.type || 'string';\n    if ($isObject) {\n      var $async = $format.async === true;\n      $format = $format.validate;\n    }\n    if ($formatType != $ruleType) {\n      if ($breakOnError) {\n        out += ' if (true) { ';\n      }\n      return out;\n    }\n    if ($async) {\n      if (!it.async) throw new Error('async format in sync schema');\n      var $formatRef = 'formats' + it.util.getProperty($schema) + '.validate';\n      out += ' if (!(await ' + ($formatRef) + '(' + ($data) + '))) { ';\n    } else {\n      out += ' if (! ';\n      var $formatRef = 'formats' + it.util.getProperty($schema);\n      if ($isObject) $formatRef += '.validate';\n      if (typeof $format == 'function') {\n        out += ' ' + ($formatRef) + '(' + ($data) + ') ';\n      } else {\n        out += ' ' + ($formatRef) + '.test(' + ($data) + ') ';\n      }\n      out += ') { ';\n    }\n  }\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('format') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { format:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match format \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += ' } ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_if(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $thenSch = it.schema['then'],\n    $elseSch = it.schema['else'],\n    $thenPresent = $thenSch !== undefined && (it.opts.strictKeywords ? typeof $thenSch == 'object' && Object.keys($thenSch).length > 0 : it.util.schemaHasRules($thenSch, it.RULES.all)),\n    $elsePresent = $elseSch !== undefined && (it.opts.strictKeywords ? typeof $elseSch == 'object' && Object.keys($elseSch).length > 0 : it.util.schemaHasRules($elseSch, it.RULES.all)),\n    $currentBaseId = $it.baseId;\n  if ($thenPresent || $elsePresent) {\n    var $ifClause;\n    $it.createErrors = false;\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors; var ' + ($valid) + ' = true;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    out += '  ' + (it.validate($it)) + ' ';\n    $it.baseId = $currentBaseId;\n    $it.createErrors = true;\n    out += '  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }  ';\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    if ($thenPresent) {\n      out += ' if (' + ($nextValid) + ') {  ';\n      $it.schema = it.schema['then'];\n      $it.schemaPath = it.schemaPath + '.then';\n      $it.errSchemaPath = it.errSchemaPath + '/then';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'then\\'; ';\n      } else {\n        $ifClause = '\\'then\\'';\n      }\n      out += ' } ';\n      if ($elsePresent) {\n        out += ' else { ';\n      }\n    } else {\n      out += ' if (!' + ($nextValid) + ') { ';\n    }\n    if ($elsePresent) {\n      $it.schema = it.schema['else'];\n      $it.schemaPath = it.schemaPath + '.else';\n      $it.errSchemaPath = it.errSchemaPath + '/else';\n      out += '  ' + (it.validate($it)) + ' ';\n      $it.baseId = $currentBaseId;\n      out += ' ' + ($valid) + ' = ' + ($nextValid) + '; ';\n      if ($thenPresent && $elsePresent) {\n        $ifClause = 'ifClause' + $lvl;\n        out += ' var ' + ($ifClause) + ' = \\'else\\'; ';\n      } else {\n        $ifClause = '\\'else\\'';\n      }\n      out += ' } ';\n    }\n    out += ' if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('if') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { failingKeyword: ' + ($ifClause) + ' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should match \"\\' + ' + ($ifClause) + ' + \\'\" schema\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    out += ' }   ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n    out = it.util.cleanUpCode(out);\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_items(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $idx = 'i' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $currentBaseId = it.baseId;\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if (Array.isArray($schema)) {\n    var $additionalItems = it.schema.additionalItems;\n    if ($additionalItems === false) {\n      out += ' ' + ($valid) + ' = ' + ($data) + '.length <= ' + ($schema.length) + '; ';\n      var $currErrSchemaPath = $errSchemaPath;\n      $errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += '  if (!' + ($valid) + ') {   ';\n      var $$outStack = $$outStack || [];\n      $$outStack.push(out);\n      out = ''; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ('additionalItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { limit: ' + ($schema.length) + ' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should NOT have more than ' + ($schema.length) + ' items\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      var __err = out;\n      out = $$outStack.pop();\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError([' + (__err) + ']); ';\n        } else {\n          out += ' validate.errors = [' + (__err) + ']; return false; ';\n        }\n      } else {\n        out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      }\n      out += ' } ';\n      $errSchemaPath = $currErrSchemaPath;\n      if ($breakOnError) {\n        $closingBraces += '}';\n        out += ' else { ';\n      }\n    }\n    var arr1 = $schema;\n    if (arr1) {\n      var $sch, $i = -1,\n        l1 = arr1.length - 1;\n      while ($i < l1) {\n        $sch = arr1[$i += 1];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($i) + ') { ';\n          var $passData = $data + '[' + $i + ']';\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + '[' + $i + ']';\n          $it.errSchemaPath = $errSchemaPath + '/' + $i;\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $i, it.opts.jsonPointers, true);\n          $it.dataPathArr[$dataNxt] = $i;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n    if (typeof $additionalItems == 'object' && (it.opts.strictKeywords ? typeof $additionalItems == 'object' && Object.keys($additionalItems).length > 0 : it.util.schemaHasRules($additionalItems, it.RULES.all))) {\n      $it.schema = $additionalItems;\n      $it.schemaPath = it.schemaPath + '.additionalItems';\n      $it.errSchemaPath = it.errSchemaPath + '/additionalItems';\n      out += ' ' + ($nextValid) + ' = true; if (' + ($data) + '.length > ' + ($schema.length) + ') {  for (var ' + ($idx) + ' = ' + ($schema.length) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n      $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n      var $passData = $data + '[' + $idx + ']';\n      $it.dataPathArr[$dataNxt] = $idx;\n      var $code = it.validate($it);\n      $it.baseId = $currentBaseId;\n      if (it.util.varOccurences($code, $nextData) < 2) {\n        out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n      } else {\n        out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n      }\n      if ($breakOnError) {\n        out += ' if (!' + ($nextValid) + ') break; ';\n      }\n      out += ' } }  ';\n      if ($breakOnError) {\n        out += ' if (' + ($nextValid) + ') { ';\n        $closingBraces += '}';\n      }\n    }\n  } else if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += '  for (var ' + ($idx) + ' = ' + (0) + '; ' + ($idx) + ' < ' + ($data) + '.length; ' + ($idx) + '++) { ';\n    $it.errorPath = it.util.getPathExpr(it.errorPath, $idx, it.opts.jsonPointers, true);\n    var $passData = $data + '[' + $idx + ']';\n    $it.dataPathArr[$dataNxt] = $idx;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    if ($breakOnError) {\n      out += ' if (!' + ($nextValid) + ') break; ';\n    }\n    out += ' }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_multipleOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  out += 'var division' + ($lvl) + ';if (';\n  if ($isData) {\n    out += ' ' + ($schemaValue) + ' !== undefined && ( typeof ' + ($schemaValue) + ' != \\'number\\' || ';\n  }\n  out += ' (division' + ($lvl) + ' = ' + ($data) + ' / ' + ($schemaValue) + ', ';\n  if (it.opts.multipleOfPrecision) {\n    out += ' Math.abs(Math.round(division' + ($lvl) + ') - division' + ($lvl) + ') > 1e-' + (it.opts.multipleOfPrecision) + ' ';\n  } else {\n    out += ' division' + ($lvl) + ' !== parseInt(division' + ($lvl) + ') ';\n  }\n  out += ' ) ';\n  if ($isData) {\n    out += '  )  ';\n  }\n  out += ' ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('multipleOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { multipleOf: ' + ($schemaValue) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should be multiple of ';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue);\n      } else {\n        out += '' + ($schemaValue) + '\\'';\n      }\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + ($schema);\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_not(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    out += ' var ' + ($errs) + ' = errors;  ';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    $it.createErrors = false;\n    var $allErrorsOption;\n    if ($it.opts.allErrors) {\n      $allErrorsOption = $it.opts.allErrors;\n      $it.opts.allErrors = false;\n    }\n    out += ' ' + (it.validate($it)) + ' ';\n    $it.createErrors = true;\n    if ($allErrorsOption) $it.opts.allErrors = $allErrorsOption;\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (' + ($nextValid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; } ';\n    if (it.opts.allErrors) {\n      out += ' } ';\n    }\n  } else {\n    out += '  var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('not') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: {} ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT be valid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if ($breakOnError) {\n      out += ' if (false) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_oneOf(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $currentBaseId = $it.baseId,\n    $prevValid = 'prevValid' + $lvl,\n    $passingSchemas = 'passingSchemas' + $lvl;\n  out += 'var ' + ($errs) + ' = errors , ' + ($prevValid) + ' = false , ' + ($valid) + ' = false , ' + ($passingSchemas) + ' = null; ';\n  var $wasComposite = it.compositeRule;\n  it.compositeRule = $it.compositeRule = true;\n  var arr1 = $schema;\n  if (arr1) {\n    var $sch, $i = -1,\n      l1 = arr1.length - 1;\n    while ($i < l1) {\n      $sch = arr1[$i += 1];\n      if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n        $it.schema = $sch;\n        $it.schemaPath = $schemaPath + '[' + $i + ']';\n        $it.errSchemaPath = $errSchemaPath + '/' + $i;\n        out += '  ' + (it.validate($it)) + ' ';\n        $it.baseId = $currentBaseId;\n      } else {\n        out += ' var ' + ($nextValid) + ' = true; ';\n      }\n      if ($i) {\n        out += ' if (' + ($nextValid) + ' && ' + ($prevValid) + ') { ' + ($valid) + ' = false; ' + ($passingSchemas) + ' = [' + ($passingSchemas) + ', ' + ($i) + ']; } else { ';\n        $closingBraces += '}';\n      }\n      out += ' if (' + ($nextValid) + ') { ' + ($valid) + ' = ' + ($prevValid) + ' = true; ' + ($passingSchemas) + ' = ' + ($i) + '; }';\n    }\n  }\n  it.compositeRule = $it.compositeRule = $wasComposite;\n  out += '' + ($closingBraces) + 'if (!' + ($valid) + ') {   var err =   '; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('oneOf') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { passingSchemas: ' + ($passingSchemas) + ' } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match exactly one schema in oneOf\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError(vErrors); ';\n    } else {\n      out += ' validate.errors = vErrors; return false; ';\n    }\n  }\n  out += '} else {  errors = ' + ($errs) + '; if (vErrors !== null) { if (' + ($errs) + ') vErrors.length = ' + ($errs) + '; else vErrors = null; }';\n  if (it.opts.allErrors) {\n    out += ' } ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_pattern(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $regexp = $isData ? '(new RegExp(' + $schemaValue + '))' : it.usePattern($schema);\n  out += 'if ( ';\n  if ($isData) {\n    out += ' (' + ($schemaValue) + ' !== undefined && typeof ' + ($schemaValue) + ' != \\'string\\') || ';\n  }\n  out += ' !' + ($regexp) + '.test(' + ($data) + ') ) {   ';\n  var $$outStack = $$outStack || [];\n  $$outStack.push(out);\n  out = ''; /* istanbul ignore else */\n  if (it.createErrors !== false) {\n    out += ' { keyword: \\'' + ('pattern') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { pattern:  ';\n    if ($isData) {\n      out += '' + ($schemaValue);\n    } else {\n      out += '' + (it.util.toQuotedString($schema));\n    }\n    out += '  } ';\n    if (it.opts.messages !== false) {\n      out += ' , message: \\'should match pattern \"';\n      if ($isData) {\n        out += '\\' + ' + ($schemaValue) + ' + \\'';\n      } else {\n        out += '' + (it.util.escapeQuotes($schema));\n      }\n      out += '\"\\' ';\n    }\n    if (it.opts.verbose) {\n      out += ' , schema:  ';\n      if ($isData) {\n        out += 'validate.schema' + ($schemaPath);\n      } else {\n        out += '' + (it.util.toQuotedString($schema));\n      }\n      out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n    }\n    out += ' } ';\n  } else {\n    out += ' {} ';\n  }\n  var __err = out;\n  out = $$outStack.pop();\n  if (!it.compositeRule && $breakOnError) {\n    /* istanbul ignore if */\n    if (it.async) {\n      out += ' throw new ValidationError([' + (__err) + ']); ';\n    } else {\n      out += ' validate.errors = [' + (__err) + ']; return false; ';\n    }\n  } else {\n    out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n  }\n  out += '} ';\n  if ($breakOnError) {\n    out += ' else { ';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_properties(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  var $key = 'key' + $lvl,\n    $idx = 'idx' + $lvl,\n    $dataNxt = $it.dataLevel = it.dataLevel + 1,\n    $nextData = 'data' + $dataNxt,\n    $dataProperties = 'dataProperties' + $lvl;\n  var $schemaKeys = Object.keys($schema || {}),\n    $pProperties = it.schema.patternProperties || {},\n    $pPropertyKeys = Object.keys($pProperties),\n    $aProperties = it.schema.additionalProperties,\n    $someProperties = $schemaKeys.length || $pPropertyKeys.length,\n    $noAdditional = $aProperties === false,\n    $additionalIsSchema = typeof $aProperties == 'object' && Object.keys($aProperties).length,\n    $removeAdditional = it.opts.removeAdditional,\n    $checkAdditional = $noAdditional || $additionalIsSchema || $removeAdditional,\n    $ownProperties = it.opts.ownProperties,\n    $currentBaseId = it.baseId;\n  var $required = it.schema.required;\n  if ($required && !(it.opts.$data && $required.$data) && $required.length < it.opts.loopRequired) var $requiredHash = it.util.toHash($required);\n  out += 'var ' + ($errs) + ' = errors;var ' + ($nextValid) + ' = true;';\n  if ($ownProperties) {\n    out += ' var ' + ($dataProperties) + ' = undefined;';\n  }\n  if ($checkAdditional) {\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    if ($someProperties) {\n      out += ' var isAdditional' + ($lvl) + ' = !(false ';\n      if ($schemaKeys.length) {\n        if ($schemaKeys.length > 8) {\n          out += ' || validate.schema' + ($schemaPath) + '.hasOwnProperty(' + ($key) + ') ';\n        } else {\n          var arr1 = $schemaKeys;\n          if (arr1) {\n            var $propertyKey, i1 = -1,\n              l1 = arr1.length - 1;\n            while (i1 < l1) {\n              $propertyKey = arr1[i1 += 1];\n              out += ' || ' + ($key) + ' == ' + (it.util.toQuotedString($propertyKey)) + ' ';\n            }\n          }\n        }\n      }\n      if ($pPropertyKeys.length) {\n        var arr2 = $pPropertyKeys;\n        if (arr2) {\n          var $pProperty, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $pProperty = arr2[$i += 1];\n            out += ' || ' + (it.usePattern($pProperty)) + '.test(' + ($key) + ') ';\n          }\n        }\n      }\n      out += ' ); if (isAdditional' + ($lvl) + ') { ';\n    }\n    if ($removeAdditional == 'all') {\n      out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n    } else {\n      var $currentErrorPath = it.errorPath;\n      var $additionalProperty = '\\' + ' + $key + ' + \\'';\n      if (it.opts._errorDataPathProperty) {\n        it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n      }\n      if ($noAdditional) {\n        if ($removeAdditional) {\n          out += ' delete ' + ($data) + '[' + ($key) + ']; ';\n        } else {\n          out += ' ' + ($nextValid) + ' = false; ';\n          var $currErrSchemaPath = $errSchemaPath;\n          $errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          var $$outStack = $$outStack || [];\n          $$outStack.push(out);\n          out = ''; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('additionalProperties') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { additionalProperty: \\'' + ($additionalProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is an invalid additional property';\n              } else {\n                out += 'should NOT have additional properties';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: false , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          var __err = out;\n          out = $$outStack.pop();\n          if (!it.compositeRule && $breakOnError) {\n            /* istanbul ignore if */\n            if (it.async) {\n              out += ' throw new ValidationError([' + (__err) + ']); ';\n            } else {\n              out += ' validate.errors = [' + (__err) + ']; return false; ';\n            }\n          } else {\n            out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n          }\n          $errSchemaPath = $currErrSchemaPath;\n          if ($breakOnError) {\n            out += ' break; ';\n          }\n        }\n      } else if ($additionalIsSchema) {\n        if ($removeAdditional == 'failing') {\n          out += ' var ' + ($errs) + ' = errors;  ';\n          var $wasComposite = it.compositeRule;\n          it.compositeRule = $it.compositeRule = true;\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          out += ' if (!' + ($nextValid) + ') { errors = ' + ($errs) + '; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete ' + ($data) + '[' + ($key) + ']; }  ';\n          it.compositeRule = $it.compositeRule = $wasComposite;\n        } else {\n          $it.schema = $aProperties;\n          $it.schemaPath = it.schemaPath + '.additionalProperties';\n          $it.errSchemaPath = it.errSchemaPath + '/additionalProperties';\n          $it.errorPath = it.opts._errorDataPathProperty ? it.errorPath : it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n        }\n      }\n      it.errorPath = $currentErrorPath;\n    }\n    if ($someProperties) {\n      out += ' } ';\n    }\n    out += ' }  ';\n    if ($breakOnError) {\n      out += ' if (' + ($nextValid) + ') { ';\n      $closingBraces += '}';\n    }\n  }\n  var $useDefaults = it.opts.useDefaults && !it.compositeRule;\n  if ($schemaKeys.length) {\n    var arr3 = $schemaKeys;\n    if (arr3) {\n      var $propertyKey, i3 = -1,\n        l3 = arr3.length - 1;\n      while (i3 < l3) {\n        $propertyKey = arr3[i3 += 1];\n        var $sch = $schema[$propertyKey];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          var $prop = it.util.getProperty($propertyKey),\n            $passData = $data + $prop,\n            $hasDefault = $useDefaults && $sch.default !== undefined;\n          $it.schema = $sch;\n          $it.schemaPath = $schemaPath + $prop;\n          $it.errSchemaPath = $errSchemaPath + '/' + it.util.escapeFragment($propertyKey);\n          $it.errorPath = it.util.getPath(it.errorPath, $propertyKey, it.opts.jsonPointers);\n          $it.dataPathArr[$dataNxt] = it.util.toQuotedString($propertyKey);\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            $code = it.util.varReplace($code, $nextData, $passData);\n            var $useData = $passData;\n          } else {\n            var $useData = $nextData;\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ';\n          }\n          if ($hasDefault) {\n            out += ' ' + ($code) + ' ';\n          } else {\n            if ($requiredHash && $requiredHash[$propertyKey]) {\n              out += ' if ( ' + ($useData) + ' === undefined ';\n              if ($ownProperties) {\n                out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n              }\n              out += ') { ' + ($nextValid) + ' = false; ';\n              var $currentErrorPath = it.errorPath,\n                $currErrSchemaPath = $errSchemaPath,\n                $missingProperty = it.util.escapeQuotes($propertyKey);\n              if (it.opts._errorDataPathProperty) {\n                it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n              }\n              $errSchemaPath = it.errSchemaPath + '/required';\n              var $$outStack = $$outStack || [];\n              $$outStack.push(out);\n              out = ''; /* istanbul ignore else */\n              if (it.createErrors !== false) {\n                out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n                if (it.opts.messages !== false) {\n                  out += ' , message: \\'';\n                  if (it.opts._errorDataPathProperty) {\n                    out += 'is a required property';\n                  } else {\n                    out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                  }\n                  out += '\\' ';\n                }\n                if (it.opts.verbose) {\n                  out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n                }\n                out += ' } ';\n              } else {\n                out += ' {} ';\n              }\n              var __err = out;\n              out = $$outStack.pop();\n              if (!it.compositeRule && $breakOnError) {\n                /* istanbul ignore if */\n                if (it.async) {\n                  out += ' throw new ValidationError([' + (__err) + ']); ';\n                } else {\n                  out += ' validate.errors = [' + (__err) + ']; return false; ';\n                }\n              } else {\n                out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n              }\n              $errSchemaPath = $currErrSchemaPath;\n              it.errorPath = $currentErrorPath;\n              out += ' } else { ';\n            } else {\n              if ($breakOnError) {\n                out += ' if ( ' + ($useData) + ' === undefined ';\n                if ($ownProperties) {\n                  out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ') { ' + ($nextValid) + ' = true; } else { ';\n              } else {\n                out += ' if (' + ($useData) + ' !== undefined ';\n                if ($ownProperties) {\n                  out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n                }\n                out += ' ) { ';\n              }\n            }\n            out += ' ' + ($code) + ' } ';\n          }\n        }\n        if ($breakOnError) {\n          out += ' if (' + ($nextValid) + ') { ';\n          $closingBraces += '}';\n        }\n      }\n    }\n  }\n  if ($pPropertyKeys.length) {\n    var arr4 = $pPropertyKeys;\n    if (arr4) {\n      var $pProperty, i4 = -1,\n        l4 = arr4.length - 1;\n      while (i4 < l4) {\n        $pProperty = arr4[i4 += 1];\n        var $sch = $pProperties[$pProperty];\n        if ((it.opts.strictKeywords ? typeof $sch == 'object' && Object.keys($sch).length > 0 : it.util.schemaHasRules($sch, it.RULES.all))) {\n          $it.schema = $sch;\n          $it.schemaPath = it.schemaPath + '.patternProperties' + it.util.getProperty($pProperty);\n          $it.errSchemaPath = it.errSchemaPath + '/patternProperties/' + it.util.escapeFragment($pProperty);\n          if ($ownProperties) {\n            out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n          } else {\n            out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n          }\n          out += ' if (' + (it.usePattern($pProperty)) + '.test(' + ($key) + ')) { ';\n          $it.errorPath = it.util.getPathExpr(it.errorPath, $key, it.opts.jsonPointers);\n          var $passData = $data + '[' + $key + ']';\n          $it.dataPathArr[$dataNxt] = $key;\n          var $code = it.validate($it);\n          $it.baseId = $currentBaseId;\n          if (it.util.varOccurences($code, $nextData) < 2) {\n            out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n          } else {\n            out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n          }\n          if ($breakOnError) {\n            out += ' if (!' + ($nextValid) + ') break; ';\n          }\n          out += ' } ';\n          if ($breakOnError) {\n            out += ' else ' + ($nextValid) + ' = true; ';\n          }\n          out += ' }  ';\n          if ($breakOnError) {\n            out += ' if (' + ($nextValid) + ') { ';\n            $closingBraces += '}';\n          }\n        }\n      }\n    }\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_propertyNames(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $errs = 'errs__' + $lvl;\n  var $it = it.util.copy(it);\n  var $closingBraces = '';\n  $it.level++;\n  var $nextValid = 'valid' + $it.level;\n  out += 'var ' + ($errs) + ' = errors;';\n  if ((it.opts.strictKeywords ? typeof $schema == 'object' && Object.keys($schema).length > 0 : it.util.schemaHasRules($schema, it.RULES.all))) {\n    $it.schema = $schema;\n    $it.schemaPath = $schemaPath;\n    $it.errSchemaPath = $errSchemaPath;\n    var $key = 'key' + $lvl,\n      $idx = 'idx' + $lvl,\n      $i = 'i' + $lvl,\n      $invalidName = '\\' + ' + $key + ' + \\'',\n      $dataNxt = $it.dataLevel = it.dataLevel + 1,\n      $nextData = 'data' + $dataNxt,\n      $dataProperties = 'dataProperties' + $lvl,\n      $ownProperties = it.opts.ownProperties,\n      $currentBaseId = it.baseId;\n    if ($ownProperties) {\n      out += ' var ' + ($dataProperties) + ' = undefined; ';\n    }\n    if ($ownProperties) {\n      out += ' ' + ($dataProperties) + ' = ' + ($dataProperties) + ' || Object.keys(' + ($data) + '); for (var ' + ($idx) + '=0; ' + ($idx) + '<' + ($dataProperties) + '.length; ' + ($idx) + '++) { var ' + ($key) + ' = ' + ($dataProperties) + '[' + ($idx) + ']; ';\n    } else {\n      out += ' for (var ' + ($key) + ' in ' + ($data) + ') { ';\n    }\n    out += ' var startErrs' + ($lvl) + ' = errors; ';\n    var $passData = $key;\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it);\n    $it.baseId = $currentBaseId;\n    if (it.util.varOccurences($code, $nextData) < 2) {\n      out += ' ' + (it.util.varReplace($code, $nextData, $passData)) + ' ';\n    } else {\n      out += ' var ' + ($nextData) + ' = ' + ($passData) + '; ' + ($code) + ' ';\n    }\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' if (!' + ($nextValid) + ') { for (var ' + ($i) + '=startErrs' + ($lvl) + '; ' + ($i) + '<errors; ' + ($i) + '++) { vErrors[' + ($i) + '].propertyName = ' + ($key) + '; }   var err =   '; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('propertyNames') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { propertyName: \\'' + ($invalidName) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'property name \\\\\\'' + ($invalidName) + '\\\\\\' is invalid\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError(vErrors); ';\n      } else {\n        out += ' validate.errors = vErrors; return false; ';\n      }\n    }\n    if ($breakOnError) {\n      out += ' break; ';\n    }\n    out += ' } }';\n  }\n  if ($breakOnError) {\n    out += ' ' + ($closingBraces) + ' if (' + ($errs) + ' == errors) {';\n  }\n  out = it.util.cleanUpCode(out);\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_required(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $vSchema = 'schema' + $lvl;\n  if (!$isData) {\n    if ($schema.length < it.opts.loopRequired && it.schema.properties && Object.keys(it.schema.properties).length) {\n      var $required = [];\n      var arr1 = $schema;\n      if (arr1) {\n        var $property, i1 = -1,\n          l1 = arr1.length - 1;\n        while (i1 < l1) {\n          $property = arr1[i1 += 1];\n          var $propertySch = it.schema.properties[$property];\n          if (!($propertySch && (it.opts.strictKeywords ? typeof $propertySch == 'object' && Object.keys($propertySch).length > 0 : it.util.schemaHasRules($propertySch, it.RULES.all)))) {\n            $required[$required.length] = $property;\n          }\n        }\n      }\n    } else {\n      var $required = $schema;\n    }\n  }\n  if ($isData || $required.length) {\n    var $currentErrorPath = it.errorPath,\n      $loopRequired = $isData || $required.length >= it.opts.loopRequired,\n      $ownProperties = it.opts.ownProperties;\n    if ($breakOnError) {\n      out += ' var missing' + ($lvl) + '; ';\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        out += ' var ' + ($valid) + ' = true; ';\n        if ($isData) {\n          out += ' if (schema' + ($lvl) + ' === undefined) ' + ($valid) + ' = true; else if (!Array.isArray(schema' + ($lvl) + ')) ' + ($valid) + ' = false; else {';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { ' + ($valid) + ' = ' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] !== undefined ';\n        if ($ownProperties) {\n          out += ' &&   Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += '; if (!' + ($valid) + ') break; } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n        out += '  if (!' + ($valid) + ') {   ';\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      } else {\n        out += ' if ( ';\n        var arr2 = $required;\n        if (arr2) {\n          var $propertyKey, $i = -1,\n            l2 = arr2.length - 1;\n          while ($i < l2) {\n            $propertyKey = arr2[$i += 1];\n            if ($i) {\n              out += ' || ';\n            }\n            var $prop = it.util.getProperty($propertyKey),\n              $useData = $data + $prop;\n            out += ' ( ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') && (missing' + ($lvl) + ' = ' + (it.util.toQuotedString(it.opts.jsonPointers ? $propertyKey : $prop)) + ') ) ';\n          }\n        }\n        out += ') {  ';\n        var $propertyPath = 'missing' + $lvl,\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.opts.jsonPointers ? it.util.getPathExpr($currentErrorPath, $propertyPath, true) : $currentErrorPath + ' + ' + $propertyPath;\n        }\n        var $$outStack = $$outStack || [];\n        $$outStack.push(out);\n        out = ''; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        var __err = out;\n        out = $$outStack.pop();\n        if (!it.compositeRule && $breakOnError) {\n          /* istanbul ignore if */\n          if (it.async) {\n            out += ' throw new ValidationError([' + (__err) + ']); ';\n          } else {\n            out += ' validate.errors = [' + (__err) + ']; return false; ';\n          }\n        } else {\n          out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n        }\n        out += ' } else { ';\n      }\n    } else {\n      if ($loopRequired) {\n        if (!$isData) {\n          out += ' var ' + ($vSchema) + ' = validate.schema' + ($schemaPath) + '; ';\n        }\n        var $i = 'i' + $lvl,\n          $propertyPath = 'schema' + $lvl + '[' + $i + ']',\n          $missingProperty = '\\' + ' + $propertyPath + ' + \\'';\n        if (it.opts._errorDataPathProperty) {\n          it.errorPath = it.util.getPathExpr($currentErrorPath, $propertyPath, it.opts.jsonPointers);\n        }\n        if ($isData) {\n          out += ' if (' + ($vSchema) + ' && !Array.isArray(' + ($vSchema) + ')) {  var err =   '; /* istanbul ignore else */\n          if (it.createErrors !== false) {\n            out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n            if (it.opts.messages !== false) {\n              out += ' , message: \\'';\n              if (it.opts._errorDataPathProperty) {\n                out += 'is a required property';\n              } else {\n                out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n              }\n              out += '\\' ';\n            }\n            if (it.opts.verbose) {\n              out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n            }\n            out += ' } ';\n          } else {\n            out += ' {} ';\n          }\n          out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if (' + ($vSchema) + ' !== undefined) { ';\n        }\n        out += ' for (var ' + ($i) + ' = 0; ' + ($i) + ' < ' + ($vSchema) + '.length; ' + ($i) + '++) { if (' + ($data) + '[' + ($vSchema) + '[' + ($i) + ']] === undefined ';\n        if ($ownProperties) {\n          out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', ' + ($vSchema) + '[' + ($i) + ']) ';\n        }\n        out += ') {  var err =   '; /* istanbul ignore else */\n        if (it.createErrors !== false) {\n          out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n          if (it.opts.messages !== false) {\n            out += ' , message: \\'';\n            if (it.opts._errorDataPathProperty) {\n              out += 'is a required property';\n            } else {\n              out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n            }\n            out += '\\' ';\n          }\n          if (it.opts.verbose) {\n            out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n          }\n          out += ' } ';\n        } else {\n          out += ' {} ';\n        }\n        out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ';\n        if ($isData) {\n          out += '  }  ';\n        }\n      } else {\n        var arr3 = $required;\n        if (arr3) {\n          var $propertyKey, i3 = -1,\n            l3 = arr3.length - 1;\n          while (i3 < l3) {\n            $propertyKey = arr3[i3 += 1];\n            var $prop = it.util.getProperty($propertyKey),\n              $missingProperty = it.util.escapeQuotes($propertyKey),\n              $useData = $data + $prop;\n            if (it.opts._errorDataPathProperty) {\n              it.errorPath = it.util.getPath($currentErrorPath, $propertyKey, it.opts.jsonPointers);\n            }\n            out += ' if ( ' + ($useData) + ' === undefined ';\n            if ($ownProperties) {\n              out += ' || ! Object.prototype.hasOwnProperty.call(' + ($data) + ', \\'' + (it.util.escapeQuotes($propertyKey)) + '\\') ';\n            }\n            out += ') {  var err =   '; /* istanbul ignore else */\n            if (it.createErrors !== false) {\n              out += ' { keyword: \\'' + ('required') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { missingProperty: \\'' + ($missingProperty) + '\\' } ';\n              if (it.opts.messages !== false) {\n                out += ' , message: \\'';\n                if (it.opts._errorDataPathProperty) {\n                  out += 'is a required property';\n                } else {\n                  out += 'should have required property \\\\\\'' + ($missingProperty) + '\\\\\\'';\n                }\n                out += '\\' ';\n              }\n              if (it.opts.verbose) {\n                out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n              }\n              out += ' } ';\n            } else {\n              out += ' {} ';\n            }\n            out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } ';\n          }\n        }\n      }\n    }\n    it.errorPath = $currentErrorPath;\n  } else if ($breakOnError) {\n    out += ' if (true) {';\n  }\n  return out;\n}\n","'use strict';\nmodule.exports = function generate_uniqueItems(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  if (($schema || $isData) && it.opts.uniqueItems !== false) {\n    if ($isData) {\n      out += ' var ' + ($valid) + '; if (' + ($schemaValue) + ' === false || ' + ($schemaValue) + ' === undefined) ' + ($valid) + ' = true; else if (typeof ' + ($schemaValue) + ' != \\'boolean\\') ' + ($valid) + ' = false; else { ';\n    }\n    out += ' var i = ' + ($data) + '.length , ' + ($valid) + ' = true , j; if (i > 1) { ';\n    var $itemType = it.schema.items && it.schema.items.type,\n      $typeIsArray = Array.isArray($itemType);\n    if (!$itemType || $itemType == 'object' || $itemType == 'array' || ($typeIsArray && ($itemType.indexOf('object') >= 0 || $itemType.indexOf('array') >= 0))) {\n      out += ' outer: for (;i--;) { for (j = i; j--;) { if (equal(' + ($data) + '[i], ' + ($data) + '[j])) { ' + ($valid) + ' = false; break outer; } } } ';\n    } else {\n      out += ' var itemIndices = {}, item; for (;i--;) { var item = ' + ($data) + '[i]; ';\n      var $method = 'checkDataType' + ($typeIsArray ? 's' : '');\n      out += ' if (' + (it.util[$method]($itemType, 'item', true)) + ') continue; ';\n      if ($typeIsArray) {\n        out += ' if (typeof item == \\'string\\') item = \\'\"\\' + item; ';\n      }\n      out += ' if (typeof itemIndices[item] == \\'number\\') { ' + ($valid) + ' = false; j = itemIndices[item]; break; } itemIndices[item] = i; } ';\n    }\n    out += ' } ';\n    if ($isData) {\n      out += '  }  ';\n    }\n    out += ' if (!' + ($valid) + ') {   ';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ('uniqueItems') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { i: i, j: j } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should NOT have duplicate items (items ## \\' + j + \\' and \\' + i + \\' are identical)\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema:  ';\n        if ($isData) {\n          out += 'validate.schema' + ($schemaPath);\n        } else {\n          out += '' + ($schema);\n        }\n        out += '         , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  } else {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar KEYWORDS = [\n  'multipleOf',\n  'maximum',\n  'exclusiveMaximum',\n  'minimum',\n  'exclusiveMinimum',\n  'maxLength',\n  'minLength',\n  'pattern',\n  'additionalItems',\n  'maxItems',\n  'minItems',\n  'uniqueItems',\n  'maxProperties',\n  'minProperties',\n  'required',\n  'additionalProperties',\n  'enum',\n  'format',\n  'const'\n];\n\nmodule.exports = function (metaSchema, keywordsJsonPointers) {\n  for (var i=0; i<keywordsJsonPointers.length; i++) {\n    metaSchema = JSON.parse(JSON.stringify(metaSchema));\n    var segments = keywordsJsonPointers[i].split('/');\n    var keywords = metaSchema;\n    var j;\n    for (j=1; j<segments.length; j++)\n      keywords = keywords[segments[j]];\n\n    for (j=0; j<KEYWORDS.length; j++) {\n      var key = KEYWORDS[j];\n      var schema = keywords[key];\n      if (schema) {\n        keywords[key] = {\n          anyOf: [\n            schema,\n            { $ref: 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n    }\n  }\n\n  return metaSchema;\n};\n","'use strict';\n\nvar MissingRefError = require('./error_classes').MissingRef;\n\nmodule.exports = compileAsync;\n\n\n/**\n * Creates validating function for passed schema with asynchronous loading of missing schemas.\n * `loadSchema` option should be a function that accepts schema uri and returns promise that resolves with the schema.\n * @this  Ajv\n * @param {Object}   schema schema object\n * @param {Boolean}  meta optional true to compile meta-schema; this parameter can be skipped\n * @param {Function} callback an optional node-style callback, it is called with 2 parameters: error (or null) and validating function.\n * @return {Promise} promise that resolves with a validating function.\n */\nfunction compileAsync(schema, meta, callback) {\n  /* eslint no-shadow: 0 */\n  /* global Promise */\n  /* jshint validthis: true */\n  var self = this;\n  if (typeof this._opts.loadSchema != 'function')\n    throw new Error('options.loadSchema should be a function');\n\n  if (typeof meta == 'function') {\n    callback = meta;\n    meta = undefined;\n  }\n\n  var p = loadMetaSchemaOf(schema).then(function () {\n    var schemaObj = self._addSchema(schema, undefined, meta);\n    return schemaObj.validate || _compileAsync(schemaObj);\n  });\n\n  if (callback) {\n    p.then(\n      function(v) { callback(null, v); },\n      callback\n    );\n  }\n\n  return p;\n\n\n  function loadMetaSchemaOf(sch) {\n    var $schema = sch.$schema;\n    return $schema && !self.getSchema($schema)\n            ? compileAsync.call(self, { $ref: $schema }, true)\n            : Promise.resolve();\n  }\n\n\n  function _compileAsync(schemaObj) {\n    try { return self._compile(schemaObj); }\n    catch(e) {\n      if (e instanceof MissingRefError) return loadMissingSchema(e);\n      throw e;\n    }\n\n\n    function loadMissingSchema(e) {\n      var ref = e.missingSchema;\n      if (added(ref)) throw new Error('Schema ' + ref + ' is loaded but ' + e.missingRef + ' cannot be resolved');\n\n      var schemaPromise = self._loadingSchemas[ref];\n      if (!schemaPromise) {\n        schemaPromise = self._loadingSchemas[ref] = self._opts.loadSchema(ref);\n        schemaPromise.then(removePromise, removePromise);\n      }\n\n      return schemaPromise.then(function (sch) {\n        if (!added(ref)) {\n          return loadMetaSchemaOf(sch).then(function () {\n            if (!added(ref)) self.addSchema(sch, ref, undefined, meta);\n          });\n        }\n      }).then(function() {\n        return _compileAsync(schemaObj);\n      });\n\n      function removePromise() {\n        delete self._loadingSchemas[ref];\n      }\n\n      function added(ref) {\n        return self._refs[ref] || self._schemas[ref];\n      }\n    }\n  }\n}\n","'use strict';\n\nvar IDENTIFIER = /^[a-z_$][a-z0-9_$-]*$/i;\nvar customRuleCode = require('./dotjs/custom');\nvar definitionSchema = require('./definition_schema');\n\nmodule.exports = {\n  add: addKeyword,\n  get: getKeyword,\n  remove: removeKeyword,\n  validate: validateKeyword\n};\n\n\n/**\n * Define custom keyword\n * @this  Ajv\n * @param {String} keyword custom keyword, should be unique (including different from all standard, custom and macro keywords).\n * @param {Object} definition keyword definition object with properties `type` (type(s) which the keyword applies to), `validate` or `compile`.\n * @return {Ajv} this for method chaining\n */\nfunction addKeyword(keyword, definition) {\n  /* jshint validthis: true */\n  /* eslint no-shadow: 0 */\n  var RULES = this.RULES;\n  if (RULES.keywords[keyword])\n    throw new Error('Keyword ' + keyword + ' is already defined');\n\n  if (!IDENTIFIER.test(keyword))\n    throw new Error('Keyword ' + keyword + ' is not a valid identifier');\n\n  if (definition) {\n    this.validateKeyword(definition, true);\n\n    var dataType = definition.type;\n    if (Array.isArray(dataType)) {\n      for (var i=0; i<dataType.length; i++)\n        _addRule(keyword, dataType[i], definition);\n    } else {\n      _addRule(keyword, dataType, definition);\n    }\n\n    var metaSchema = definition.metaSchema;\n    if (metaSchema) {\n      if (definition.$data && this._opts.$data) {\n        metaSchema = {\n          anyOf: [\n            metaSchema,\n            { '$ref': 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#' }\n          ]\n        };\n      }\n      definition.validateSchema = this.compile(metaSchema, true);\n    }\n  }\n\n  RULES.keywords[keyword] = RULES.all[keyword] = true;\n\n\n  function _addRule(keyword, dataType, definition) {\n    var ruleGroup;\n    for (var i=0; i<RULES.length; i++) {\n      var rg = RULES[i];\n      if (rg.type == dataType) {\n        ruleGroup = rg;\n        break;\n      }\n    }\n\n    if (!ruleGroup) {\n      ruleGroup = { type: dataType, rules: [] };\n      RULES.push(ruleGroup);\n    }\n\n    var rule = {\n      keyword: keyword,\n      definition: definition,\n      custom: true,\n      code: customRuleCode,\n      implements: definition.implements\n    };\n    ruleGroup.rules.push(rule);\n    RULES.custom[keyword] = rule;\n  }\n\n  return this;\n}\n\n\n/**\n * Get keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Object|Boolean} custom keyword definition, `true` if it is a predefined keyword, `false` otherwise.\n */\nfunction getKeyword(keyword) {\n  /* jshint validthis: true */\n  var rule = this.RULES.custom[keyword];\n  return rule ? rule.definition : this.RULES.keywords[keyword] || false;\n}\n\n\n/**\n * Remove keyword\n * @this  Ajv\n * @param {String} keyword pre-defined or custom keyword.\n * @return {Ajv} this for method chaining\n */\nfunction removeKeyword(keyword) {\n  /* jshint validthis: true */\n  var RULES = this.RULES;\n  delete RULES.keywords[keyword];\n  delete RULES.all[keyword];\n  delete RULES.custom[keyword];\n  for (var i=0; i<RULES.length; i++) {\n    var rules = RULES[i].rules;\n    for (var j=0; j<rules.length; j++) {\n      if (rules[j].keyword == keyword) {\n        rules.splice(j, 1);\n        break;\n      }\n    }\n  }\n  return this;\n}\n\n\n/**\n * Validate keyword definition\n * @this  Ajv\n * @param {Object} definition keyword definition object.\n * @param {Boolean} throwError true to throw exception if definition is invalid\n * @return {boolean} validation result\n */\nfunction validateKeyword(definition, throwError) {\n  validateKeyword.errors = null;\n  var v = this._validateKeyword = this._validateKeyword\n                                  || this.compile(definitionSchema, true);\n\n  if (v(definition)) return true;\n  validateKeyword.errors = v.errors;\n  if (throwError)\n    throw new Error('custom keyword definition is invalid: '  + this.errorsText(v.errors));\n  else\n    return false;\n}\n","'use strict';\nmodule.exports = function generate_custom(it, $keyword, $ruleType) {\n  var out = ' ';\n  var $lvl = it.level;\n  var $dataLvl = it.dataLevel;\n  var $schema = it.schema[$keyword];\n  var $schemaPath = it.schemaPath + it.util.getProperty($keyword);\n  var $errSchemaPath = it.errSchemaPath + '/' + $keyword;\n  var $breakOnError = !it.opts.allErrors;\n  var $errorKeyword;\n  var $data = 'data' + ($dataLvl || '');\n  var $valid = 'valid' + $lvl;\n  var $errs = 'errs__' + $lvl;\n  var $isData = it.opts.$data && $schema && $schema.$data,\n    $schemaValue;\n  if ($isData) {\n    out += ' var schema' + ($lvl) + ' = ' + (it.util.getData($schema.$data, $dataLvl, it.dataPathArr)) + '; ';\n    $schemaValue = 'schema' + $lvl;\n  } else {\n    $schemaValue = $schema;\n  }\n  var $rule = this,\n    $definition = 'definition' + $lvl,\n    $rDef = $rule.definition,\n    $closingBraces = '';\n  var $compile, $inline, $macro, $ruleValidate, $validateCode;\n  if ($isData && $rDef.$data) {\n    $validateCode = 'keywordValidate' + $lvl;\n    var $validateSchema = $rDef.validateSchema;\n    out += ' var ' + ($definition) + ' = RULES.custom[\\'' + ($keyword) + '\\'].definition; var ' + ($validateCode) + ' = ' + ($definition) + '.validate;';\n  } else {\n    $ruleValidate = it.useCustomRule($rule, $schema, it.schema, it);\n    if (!$ruleValidate) return;\n    $schemaValue = 'validate.schema' + $schemaPath;\n    $validateCode = $ruleValidate.code;\n    $compile = $rDef.compile;\n    $inline = $rDef.inline;\n    $macro = $rDef.macro;\n  }\n  var $ruleErrs = $validateCode + '.errors',\n    $i = 'i' + $lvl,\n    $ruleErr = 'ruleErr' + $lvl,\n    $asyncKeyword = $rDef.async;\n  if ($asyncKeyword && !it.async) throw new Error('async keyword in sync schema');\n  if (!($inline || $macro)) {\n    out += '' + ($ruleErrs) + ' = null;';\n  }\n  out += 'var ' + ($errs) + ' = errors;var ' + ($valid) + ';';\n  if ($isData && $rDef.$data) {\n    $closingBraces += '}';\n    out += ' if (' + ($schemaValue) + ' === undefined) { ' + ($valid) + ' = true; } else { ';\n    if ($validateSchema) {\n      $closingBraces += '}';\n      out += ' ' + ($valid) + ' = ' + ($definition) + '.validateSchema(' + ($schemaValue) + '); if (' + ($valid) + ') { ';\n    }\n  }\n  if ($inline) {\n    if ($rDef.statements) {\n      out += ' ' + ($ruleValidate.validate) + ' ';\n    } else {\n      out += ' ' + ($valid) + ' = ' + ($ruleValidate.validate) + '; ';\n    }\n  } else if ($macro) {\n    var $it = it.util.copy(it);\n    var $closingBraces = '';\n    $it.level++;\n    var $nextValid = 'valid' + $it.level;\n    $it.schema = $ruleValidate.validate;\n    $it.schemaPath = '';\n    var $wasComposite = it.compositeRule;\n    it.compositeRule = $it.compositeRule = true;\n    var $code = it.validate($it).replace(/validate\\.schema/g, $validateCode);\n    it.compositeRule = $it.compositeRule = $wasComposite;\n    out += ' ' + ($code);\n  } else {\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    out += '  ' + ($validateCode) + '.call( ';\n    if (it.opts.passContext) {\n      out += 'this';\n    } else {\n      out += 'self';\n    }\n    if ($compile || $rDef.schema === false) {\n      out += ' , ' + ($data) + ' ';\n    } else {\n      out += ' , ' + ($schemaValue) + ' , ' + ($data) + ' , validate.schema' + (it.schemaPath) + ' ';\n    }\n    out += ' , (dataPath || \\'\\')';\n    if (it.errorPath != '\"\"') {\n      out += ' + ' + (it.errorPath);\n    }\n    var $parentData = $dataLvl ? 'data' + (($dataLvl - 1) || '') : 'parentData',\n      $parentDataProperty = $dataLvl ? it.dataPathArr[$dataLvl] : 'parentDataProperty';\n    out += ' , ' + ($parentData) + ' , ' + ($parentDataProperty) + ' , rootData )  ';\n    var def_callRuleValidate = out;\n    out = $$outStack.pop();\n    if ($rDef.errors === false) {\n      out += ' ' + ($valid) + ' = ';\n      if ($asyncKeyword) {\n        out += 'await ';\n      }\n      out += '' + (def_callRuleValidate) + '; ';\n    } else {\n      if ($asyncKeyword) {\n        $ruleErrs = 'customErrors' + $lvl;\n        out += ' var ' + ($ruleErrs) + ' = null; try { ' + ($valid) + ' = await ' + (def_callRuleValidate) + '; } catch (e) { ' + ($valid) + ' = false; if (e instanceof ValidationError) ' + ($ruleErrs) + ' = e.errors; else throw e; } ';\n      } else {\n        out += ' ' + ($ruleErrs) + ' = null; ' + ($valid) + ' = ' + (def_callRuleValidate) + '; ';\n      }\n    }\n  }\n  if ($rDef.modifying) {\n    out += ' if (' + ($parentData) + ') ' + ($data) + ' = ' + ($parentData) + '[' + ($parentDataProperty) + '];';\n  }\n  out += '' + ($closingBraces);\n  if ($rDef.valid) {\n    if ($breakOnError) {\n      out += ' if (true) { ';\n    }\n  } else {\n    out += ' if ( ';\n    if ($rDef.valid === undefined) {\n      out += ' !';\n      if ($macro) {\n        out += '' + ($nextValid);\n      } else {\n        out += '' + ($valid);\n      }\n    } else {\n      out += ' ' + (!$rDef.valid) + ' ';\n    }\n    out += ') { ';\n    $errorKeyword = $rule.keyword;\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = '';\n    var $$outStack = $$outStack || [];\n    $$outStack.push(out);\n    out = ''; /* istanbul ignore else */\n    if (it.createErrors !== false) {\n      out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n      if (it.opts.messages !== false) {\n        out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n      }\n      if (it.opts.verbose) {\n        out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n      }\n      out += ' } ';\n    } else {\n      out += ' {} ';\n    }\n    var __err = out;\n    out = $$outStack.pop();\n    if (!it.compositeRule && $breakOnError) {\n      /* istanbul ignore if */\n      if (it.async) {\n        out += ' throw new ValidationError([' + (__err) + ']); ';\n      } else {\n        out += ' validate.errors = [' + (__err) + ']; return false; ';\n      }\n    } else {\n      out += ' var err = ' + (__err) + ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n    }\n    var def_customError = out;\n    out = $$outStack.pop();\n    if ($inline) {\n      if ($rDef.errors) {\n        if ($rDef.errors != 'full') {\n          out += '  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } ';\n        }\n      } else {\n        if ($rDef.errors === false) {\n          out += ' ' + (def_customError) + ' ';\n        } else {\n          out += ' if (' + ($errs) + ' == errors) { ' + (def_customError) + ' } else {  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + '; if (' + ($ruleErr) + '.schemaPath === undefined) { ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\"; } ';\n          if (it.opts.verbose) {\n            out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n          }\n          out += ' } } ';\n        }\n      }\n    } else if ($macro) {\n      out += '   var err =   '; /* istanbul ignore else */\n      if (it.createErrors !== false) {\n        out += ' { keyword: \\'' + ($errorKeyword || 'custom') + '\\' , dataPath: (dataPath || \\'\\') + ' + (it.errorPath) + ' , schemaPath: ' + (it.util.toQuotedString($errSchemaPath)) + ' , params: { keyword: \\'' + ($rule.keyword) + '\\' } ';\n        if (it.opts.messages !== false) {\n          out += ' , message: \\'should pass \"' + ($rule.keyword) + '\" keyword validation\\' ';\n        }\n        if (it.opts.verbose) {\n          out += ' , schema: validate.schema' + ($schemaPath) + ' , parentSchema: validate.schema' + (it.schemaPath) + ' , data: ' + ($data) + ' ';\n        }\n        out += ' } ';\n      } else {\n        out += ' {} ';\n      }\n      out += ';  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ';\n      if (!it.compositeRule && $breakOnError) {\n        /* istanbul ignore if */\n        if (it.async) {\n          out += ' throw new ValidationError(vErrors); ';\n        } else {\n          out += ' validate.errors = vErrors; return false; ';\n        }\n      }\n    } else {\n      if ($rDef.errors === false) {\n        out += ' ' + (def_customError) + ' ';\n      } else {\n        out += ' if (Array.isArray(' + ($ruleErrs) + ')) { if (vErrors === null) vErrors = ' + ($ruleErrs) + '; else vErrors = vErrors.concat(' + ($ruleErrs) + '); errors = vErrors.length;  for (var ' + ($i) + '=' + ($errs) + '; ' + ($i) + '<errors; ' + ($i) + '++) { var ' + ($ruleErr) + ' = vErrors[' + ($i) + ']; if (' + ($ruleErr) + '.dataPath === undefined) ' + ($ruleErr) + '.dataPath = (dataPath || \\'\\') + ' + (it.errorPath) + ';  ' + ($ruleErr) + '.schemaPath = \"' + ($errSchemaPath) + '\";  ';\n        if (it.opts.verbose) {\n          out += ' ' + ($ruleErr) + '.schema = ' + ($schemaValue) + '; ' + ($ruleErr) + '.data = ' + ($data) + '; ';\n        }\n        out += ' } } else { ' + (def_customError) + ' } ';\n      }\n    }\n    out += ' } ';\n    if ($breakOnError) {\n      out += ' else { ';\n    }\n  }\n  return out;\n}\n","'use strict';\n\nvar metaSchema = require('./refs/json-schema-draft-07.json');\n\nmodule.exports = {\n  $id: 'https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js',\n  definitions: {\n    simpleTypes: metaSchema.definitions.simpleTypes\n  },\n  type: 'object',\n  dependencies: {\n    schema: ['validate'],\n    $data: ['validate'],\n    statements: ['inline'],\n    valid: {not: {required: ['macro']}}\n  },\n  properties: {\n    type: metaSchema.properties.type,\n    schema: {type: 'boolean'},\n    statements: {type: 'boolean'},\n    dependencies: {\n      type: 'array',\n      items: {type: 'string'}\n    },\n    metaSchema: {type: 'object'},\n    modifying: {type: 'boolean'},\n    valid: {type: 'boolean'},\n    $data: {type: 'boolean'},\n    async: {type: 'boolean'},\n    errors: {\n      anyOf: [\n        {type: 'boolean'},\n        {const: 'full'}\n      ]\n    }\n  }\n};\n","function webpackEmptyContext(req) {\n\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\te.code = 'MODULE_NOT_FOUND';\n\tthrow e;\n}\nwebpackEmptyContext.keys = function() { return []; };\nwebpackEmptyContext.resolve = webpackEmptyContext;\nmodule.exports = webpackEmptyContext;\nwebpackEmptyContext.id = 83;","function merge() {\n    var dest = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n        var src = arguments[i];\n        for (var key in src) {\n            dest[key] = src[key];\n        }\n    }\n\n    return dest;\n}\n\nmodule.exports = require('./create').create(\n    merge(\n        require('./config/lexer'),\n        require('./config/parser'),\n        require('./config/walker')\n    )\n);\n","var List = require('../common/List');\nvar SyntaxError = require('../common/SyntaxError');\nvar TokenStream = require('../common/TokenStream');\nvar Lexer = require('../lexer/Lexer');\nvar definitionSyntax = require('../definition-syntax');\nvar tokenize = require('../tokenizer');\nvar createParser = require('../parser/create');\nvar createGenerator = require('../generator/create');\nvar createConvertor = require('../convertor/create');\nvar createWalker = require('../walker/create');\nvar clone = require('../utils/clone');\nvar names = require('../utils/names');\nvar mix = require('./config/mix');\n\nfunction createSyntax(config) {\n    var parse = createParser(config);\n    var walk = createWalker(config);\n    var generate = createGenerator(config);\n    var convert = createConvertor(walk);\n\n    var syntax = {\n        List: List,\n        SyntaxError: SyntaxError,\n        TokenStream: TokenStream,\n        Lexer: Lexer,\n\n        vendorPrefix: names.vendorPrefix,\n        keyword: names.keyword,\n        property: names.property,\n        isCustomProperty: names.isCustomProperty,\n\n        definitionSyntax: definitionSyntax,\n        lexer: null,\n        createLexer: function(config) {\n            return new Lexer(config, syntax, syntax.lexer.structure);\n        },\n\n        tokenize: tokenize,\n        parse: parse,\n        walk: walk,\n        generate: generate,\n\n        find: walk.find,\n        findLast: walk.findLast,\n        findAll: walk.findAll,\n\n        clone: clone,\n        fromPlainObject: convert.fromPlainObject,\n        toPlainObject: convert.toPlainObject,\n\n        createSyntax: function(config) {\n            return createSyntax(mix({}, config));\n        },\n        fork: function(extension) {\n            var base = mix({}, config); // copy of config\n            return createSyntax(\n                typeof extension === 'function'\n                    ? extension(base, Object.assign)\n                    : mix(base, extension)\n            );\n        }\n    };\n\n    syntax.lexer = new Lexer({\n        generic: true,\n        types: config.types,\n        atrules: config.atrules,\n        properties: config.properties,\n        node: config.node\n    }, syntax);\n\n    return syntax;\n};\n\nexports.create = function(config) {\n    return createSyntax(mix({}, config));\n};\n","var SyntaxReferenceError = require('./error').SyntaxReferenceError;\nvar MatchError = require('./error').MatchError;\nvar names = require('../utils/names');\nvar generic = require('./generic');\nvar parse = require('../definition-syntax/parse');\nvar generate = require('../definition-syntax/generate');\nvar walk = require('../definition-syntax/walk');\nvar prepareTokens = require('./prepare-tokens');\nvar buildMatchGraph = require('./match-graph').buildMatchGraph;\nvar matchAsTree = require('./match').matchAsTree;\nvar trace = require('./trace');\nvar search = require('./search');\nvar getStructureFromConfig = require('./structure').getStructureFromConfig;\nvar cssWideKeywords = buildMatchGraph('inherit | initial | unset');\nvar cssWideKeywordsWithExpression = buildMatchGraph('inherit | initial | unset | <-ms-legacy-expression>');\n\nfunction dumpMapSyntax(map, compact, syntaxAsAst) {\n    var result = {};\n\n    for (var name in map) {\n        if (map[name].syntax) {\n            result[name] = syntaxAsAst\n                ? map[name].syntax\n                : generate(map[name].syntax, { compact: compact });\n        }\n    }\n\n    return result;\n}\n\nfunction valueHasVar(tokens) {\n    for (var i = 0; i < tokens.length; i++) {\n        if (tokens[i].value.toLowerCase() === 'var(') {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction buildMatchResult(match, error, iterations) {\n    return {\n        matched: match,\n        iterations: iterations,\n        error: error,\n        getTrace: trace.getTrace,\n        isType: trace.isType,\n        isProperty: trace.isProperty,\n        isKeyword: trace.isKeyword\n    };\n}\n\nfunction matchSyntax(lexer, syntax, value, useCommon) {\n    var tokens = prepareTokens(value, lexer.syntax);\n    var result;\n\n    if (valueHasVar(tokens)) {\n        return buildMatchResult(null, new Error('Matching for a tree with var() is not supported'));\n    }\n\n    if (useCommon) {\n        result = matchAsTree(tokens, lexer.valueCommonSyntax, lexer);\n    }\n\n    if (!useCommon || !result.match) {\n        result = matchAsTree(tokens, syntax.match, lexer);\n        if (!result.match) {\n            return buildMatchResult(\n                null,\n                new MatchError(result.reason, syntax.syntax, value, result),\n                result.iterations\n            );\n        }\n    }\n\n    return buildMatchResult(result.match, null, result.iterations);\n}\n\nvar Lexer = function(config, syntax, structure) {\n    this.valueCommonSyntax = cssWideKeywords;\n    this.syntax = syntax;\n    this.generic = false;\n    this.atrules = {};\n    this.properties = {};\n    this.types = {};\n    this.structure = structure || getStructureFromConfig(config);\n\n    if (config) {\n        if (config.types) {\n            for (var name in config.types) {\n                this.addType_(name, config.types[name]);\n            }\n        }\n\n        if (config.generic) {\n            this.generic = true;\n            for (var name in generic) {\n                this.addType_(name, generic[name]);\n            }\n        }\n\n        if (config.atrules) {\n            for (var name in config.atrules) {\n                this.addAtrule_(name, config.atrules[name]);\n            }\n        }\n\n        if (config.properties) {\n            for (var name in config.properties) {\n                this.addProperty_(name, config.properties[name]);\n            }\n        }\n    }\n};\n\nLexer.prototype = {\n    structure: {},\n    checkStructure: function(ast) {\n        function collectWarning(node, message) {\n            warns.push({\n                node: node,\n                message: message\n            });\n        }\n\n        var structure = this.structure;\n        var warns = [];\n\n        this.syntax.walk(ast, function(node) {\n            if (structure.hasOwnProperty(node.type)) {\n                structure[node.type].check(node, collectWarning);\n            } else {\n                collectWarning(node, 'Unknown node type `' + node.type + '`');\n            }\n        });\n\n        return warns.length ? warns : false;\n    },\n\n    createDescriptor: function(syntax, type, name) {\n        var ref = {\n            type: type,\n            name: name\n        };\n        var descriptor = {\n            type: type,\n            name: name,\n            syntax: null,\n            match: null\n        };\n\n        if (typeof syntax === 'function') {\n            descriptor.match = buildMatchGraph(syntax, ref);\n        } else {\n            if (typeof syntax === 'string') {\n                // lazy parsing on first access\n                Object.defineProperty(descriptor, 'syntax', {\n                    get: function() {\n                        Object.defineProperty(descriptor, 'syntax', {\n                            value: parse(syntax)\n                        });\n\n                        return descriptor.syntax;\n                    }\n                });\n            } else {\n                descriptor.syntax = syntax;\n            }\n\n            // lazy graph build on first access\n            Object.defineProperty(descriptor, 'match', {\n                get: function() {\n                    Object.defineProperty(descriptor, 'match', {\n                        value: buildMatchGraph(descriptor.syntax, ref)\n                    });\n\n                    return descriptor.match;\n                }\n            });\n        }\n\n        return descriptor;\n    },\n    addAtrule_: function(name, syntax) {\n        this.atrules[name] = {\n            prelude: syntax.prelude ? this.createDescriptor(syntax.prelude, 'AtrulePrelude', name) : null,\n            descriptors: syntax.descriptors\n                ? Object.keys(syntax.descriptors).reduce((res, name) => {\n                    res[name] = this.createDescriptor(syntax.descriptors[name], 'AtruleDescriptor', name);\n                    return res;\n                }, {})\n                : null\n        };\n    },\n    addProperty_: function(name, syntax) {\n        this.properties[name] = this.createDescriptor(syntax, 'Property', name);\n    },\n    addType_: function(name, syntax) {\n        this.types[name] = this.createDescriptor(syntax, 'Type', name);\n\n        if (syntax === generic['-ms-legacy-expression']) {\n            this.valueCommonSyntax = cssWideKeywordsWithExpression;\n        }\n    },\n\n    matchAtrulePrelude: function(atruleName, prelude) {\n        var atrule = names.keyword(atruleName);\n\n        var atrulePreludeSyntax = atrule.vendor\n            ? this.getAtrulePrelude(atrule.name) || this.getAtrulePrelude(atrule.basename)\n            : this.getAtrulePrelude(atrule.name);\n\n        if (!atrulePreludeSyntax) {\n            if (atrule.basename in this.atrules) {\n                return buildMatchResult(null, new Error('At-rule `' + atruleName + '` should not contain a prelude'));\n            }\n\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule', atruleName));\n        }\n\n        return matchSyntax(this, atrulePreludeSyntax, prelude, true);\n    },\n    matchAtruleDescriptor: function(atruleName, descriptorName, value) {\n        var atrule = names.keyword(atruleName);\n        var descriptor = names.keyword(descriptorName);\n\n        var atruleEntry = atrule.vendor\n            ? this.atrules[atrule.name] || this.atrules[atrule.basename]\n            : this.atrules[atrule.name];\n\n        if (!atruleEntry) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule', atruleName));\n        }\n\n        if (!atruleEntry.descriptors) {\n            return buildMatchResult(null, new Error('At-rule `' + atruleName + '` has no known descriptors'));\n        }\n\n        var atruleDescriptorSyntax = descriptor.vendor\n            ? atruleEntry.descriptors[descriptor.name] || atruleEntry.descriptors[descriptor.basename]\n            : atruleEntry.descriptors[descriptor.name];\n\n        if (!atruleDescriptorSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown at-rule descriptor', descriptorName));\n        }\n\n        return matchSyntax(this, atruleDescriptorSyntax, value, true);\n    },\n    matchDeclaration: function(node) {\n        if (node.type !== 'Declaration') {\n            return buildMatchResult(null, new Error('Not a Declaration node'));\n        }\n\n        return this.matchProperty(node.property, node.value);\n    },\n    matchProperty: function(propertyName, value) {\n        var property = names.property(propertyName);\n\n        // don't match syntax for a custom property\n        if (property.custom) {\n            return buildMatchResult(null, new Error('Lexer matching doesn\\'t applicable for custom properties'));\n        }\n\n        var propertySyntax = property.vendor\n            ? this.getProperty(property.name) || this.getProperty(property.basename)\n            : this.getProperty(property.name);\n\n        if (!propertySyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown property', propertyName));\n        }\n\n        return matchSyntax(this, propertySyntax, value, true);\n    },\n    matchType: function(typeName, value) {\n        var typeSyntax = this.getType(typeName);\n\n        if (!typeSyntax) {\n            return buildMatchResult(null, new SyntaxReferenceError('Unknown type', typeName));\n        }\n\n        return matchSyntax(this, typeSyntax, value, false);\n    },\n    match: function(syntax, value) {\n        if (typeof syntax !== 'string' && (!syntax || !syntax.type)) {\n            return buildMatchResult(null, new SyntaxReferenceError('Bad syntax'));\n        }\n\n        if (typeof syntax === 'string' || !syntax.match) {\n            syntax = this.createDescriptor(syntax, 'Type', 'anonymous');\n        }\n\n        return matchSyntax(this, syntax, value, false);\n    },\n\n    findValueFragments: function(propertyName, value, type, name) {\n        return search.matchFragments(this, value, this.matchProperty(propertyName, value), type, name);\n    },\n    findDeclarationValueFragments: function(declaration, type, name) {\n        return search.matchFragments(this, declaration.value, this.matchDeclaration(declaration), type, name);\n    },\n    findAllFragments: function(ast, type, name) {\n        var result = [];\n\n        this.syntax.walk(ast, {\n            visit: 'Declaration',\n            enter: function(declaration) {\n                result.push.apply(result, this.findDeclarationValueFragments(declaration, type, name));\n            }.bind(this)\n        });\n\n        return result;\n    },\n\n    getAtrulePrelude: function(atruleName) {\n        return this.atrules.hasOwnProperty(atruleName) ? this.atrules[atruleName].prelude : null;\n    },\n    getAtruleDescriptor: function(atruleName, name) {\n        return this.atrules.hasOwnProperty(atruleName) && this.atrules.declarators\n            ? this.atrules[atruleName].declarators[name] || null\n            : null;\n    },\n    getProperty: function(name) {\n        return this.properties.hasOwnProperty(name) ? this.properties[name] : null;\n    },\n    getType: function(name) {\n        return this.types.hasOwnProperty(name) ? this.types[name] : null;\n    },\n\n    validate: function() {\n        function validate(syntax, name, broken, descriptor) {\n            if (broken.hasOwnProperty(name)) {\n                return broken[name];\n            }\n\n            broken[name] = false;\n            if (descriptor.syntax !== null) {\n                walk(descriptor.syntax, function(node) {\n                    if (node.type !== 'Type' && node.type !== 'Property') {\n                        return;\n                    }\n\n                    var map = node.type === 'Type' ? syntax.types : syntax.properties;\n                    var brokenMap = node.type === 'Type' ? brokenTypes : brokenProperties;\n\n                    if (!map.hasOwnProperty(node.name) || validate(syntax, node.name, brokenMap, map[node.name])) {\n                        broken[name] = true;\n                    }\n                }, this);\n            }\n        }\n\n        var brokenTypes = {};\n        var brokenProperties = {};\n\n        for (var key in this.types) {\n            validate(this, key, brokenTypes, this.types[key]);\n        }\n\n        for (var key in this.properties) {\n            validate(this, key, brokenProperties, this.properties[key]);\n        }\n\n        brokenTypes = Object.keys(brokenTypes).filter(function(name) {\n            return brokenTypes[name];\n        });\n        brokenProperties = Object.keys(brokenProperties).filter(function(name) {\n            return brokenProperties[name];\n        });\n\n        if (brokenTypes.length || brokenProperties.length) {\n            return {\n                types: brokenTypes,\n                properties: brokenProperties\n            };\n        }\n\n        return null;\n    },\n    dump: function(syntaxAsAst, pretty) {\n        return {\n            generic: this.generic,\n            types: dumpMapSyntax(this.types, !pretty, syntaxAsAst),\n            properties: dumpMapSyntax(this.properties, !pretty, syntaxAsAst)\n        };\n    },\n    toString: function() {\n        return JSON.stringify(this.dump());\n    }\n};\n\nmodule.exports = Lexer;\n","var tokenizer = require('../tokenizer');\nvar isIdentifierStart = tokenizer.isIdentifierStart;\nvar isHexDigit = tokenizer.isHexDigit;\nvar isDigit = tokenizer.isDigit;\nvar cmpStr = tokenizer.cmpStr;\nvar consumeNumber = tokenizer.consumeNumber;\nvar TYPE = tokenizer.TYPE;\nvar anPlusB = require('./generic-an-plus-b');\nvar urange = require('./generic-urange');\n\nvar cssWideKeywords = ['unset', 'initial', 'inherit'];\nvar calcFunctionNames = ['calc(', '-moz-calc(', '-webkit-calc('];\n\n// https://www.w3.org/TR/css-values-3/#lengths\nvar LENGTH = {\n    // absolute length units\n    'px': true,\n    'mm': true,\n    'cm': true,\n    'in': true,\n    'pt': true,\n    'pc': true,\n    'q': true,\n\n    // relative length units\n    'em': true,\n    'ex': true,\n    'ch': true,\n    'rem': true,\n\n    // viewport-percentage lengths\n    'vh': true,\n    'vw': true,\n    'vmin': true,\n    'vmax': true,\n    'vm': true\n};\n\nvar ANGLE = {\n    'deg': true,\n    'grad': true,\n    'rad': true,\n    'turn': true\n};\n\nvar TIME = {\n    's': true,\n    'ms': true\n};\n\nvar FREQUENCY = {\n    'hz': true,\n    'khz': true\n};\n\n// https://www.w3.org/TR/css-values-3/#resolution (https://drafts.csswg.org/css-values/#resolution)\nvar RESOLUTION = {\n    'dpi': true,\n    'dpcm': true,\n    'dppx': true,\n    'x': true      // https://github.com/w3c/csswg-drafts/issues/461\n};\n\n// https://drafts.csswg.org/css-grid/#fr-unit\nvar FLEX = {\n    'fr': true\n};\n\n// https://www.w3.org/TR/css3-speech/#mixing-props-voice-volume\nvar DECIBEL = {\n    'db': true\n};\n\n// https://www.w3.org/TR/css3-speech/#voice-props-voice-pitch\nvar SEMITONES = {\n    'st': true\n};\n\n// safe char code getter\nfunction charCode(str, index) {\n    return index < str.length ? str.charCodeAt(index) : 0;\n}\n\nfunction eqStr(actual, expected) {\n    return cmpStr(actual, 0, actual.length, expected);\n}\n\nfunction eqStrAny(actual, expected) {\n    for (var i = 0; i < expected.length; i++) {\n        if (eqStr(actual, expected[i])) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\n// IE postfix hack, i.e. 123\\0 or 123px\\9\nfunction isPostfixIeHack(str, offset) {\n    if (offset !== str.length - 2) {\n        return false;\n    }\n\n    return (\n        str.charCodeAt(offset) === 0x005C &&  // U+005C REVERSE SOLIDUS (\\)\n        isDigit(str.charCodeAt(offset + 1))\n    );\n}\n\nfunction outOfRange(opts, value, numEnd) {\n    if (opts && opts.type === 'Range') {\n        var num = Number(\n            numEnd !== undefined && numEnd !== value.length\n                ? value.substr(0, numEnd)\n                : value\n        );\n\n        if (isNaN(num)) {\n            return true;\n        }\n\n        if (opts.min !== null && num < opts.min) {\n            return true;\n        }\n\n        if (opts.max !== null && num > opts.max) {\n            return true;\n        }\n    }\n\n    return false;\n}\n\nfunction consumeFunction(token, getNextToken) {\n    var startIdx = token.index;\n    var length = 0;\n\n    // balanced token consuming\n    do {\n        length++;\n\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// TODO: implement\n// can be used wherever <length>, <frequency>, <angle>, <time>, <percentage>, <number>, or <integer> values are allowed\n// https://drafts.csswg.org/css-values/#calc-notation\nfunction calc(next) {\n    return function(token, getNextToken, opts) {\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === TYPE.Function && eqStrAny(token.value, calcFunctionNames)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\nfunction tokenType(expectedTokenType) {\n    return function(token) {\n        if (token === null || token.type !== expectedTokenType) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\nfunction func(name) {\n    name = name + '(';\n\n    return function(token, getNextToken) {\n        if (token !== null && eqStr(token.value, name)) {\n            return consumeFunction(token, getNextToken);\n        }\n\n        return 0;\n    };\n}\n\n// =========================\n// Complex types\n//\n\n// https://drafts.csswg.org/css-values-4/#custom-idents\n// 4.2. Author-defined Identifiers: the <custom-ident> type\n// Some properties accept arbitrary author-defined identifiers as a component value.\n// This generic data type is denoted by <custom-ident>, and represents any valid CSS identifier\n// that would not be misinterpreted as a pre-defined keyword in that property’s value definition.\n//\n// See also: https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident\nfunction customIdent(token) {\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    var name = token.value.toLowerCase();\n\n    // The CSS-wide keywords are not valid <custom-ident>s\n    if (eqStrAny(name, cssWideKeywords)) {\n        return 0;\n    }\n\n    // The default keyword is reserved and is also not a valid <custom-ident>\n    if (eqStr(name, 'default')) {\n        return 0;\n    }\n\n    // TODO: ignore property specific keywords (as described https://developer.mozilla.org/en-US/docs/Web/CSS/custom-ident)\n    // Specifications using <custom-ident> must specify clearly what other keywords\n    // are excluded from <custom-ident>, if any—for example by saying that any pre-defined keywords\n    // in that property’s value definition are excluded. Excluded keywords are excluded\n    // in all ASCII case permutations.\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-variables/#typedef-custom-property-name\n// A custom property is any property whose name starts with two dashes (U+002D HYPHEN-MINUS), like --foo.\n// The <custom-property-name> production corresponds to this: it’s defined as any valid identifier\n// that starts with two dashes, except -- itself, which is reserved for future use by CSS.\n// NOTE: Current implementation treat `--` as a valid name since most (all?) major browsers treat it as valid.\nfunction customPropertyName(token) {\n    // ... defined as any valid identifier\n    if (token === null || token.type !== TYPE.Ident) {\n        return 0;\n    }\n\n    // ... that starts with two dashes (U+002D HYPHEN-MINUS)\n    if (charCode(token.value, 0) !== 0x002D || charCode(token.value, 1) !== 0x002D) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-color-4/#hex-notation\n// The syntax of a <hex-color> is a <hash-token> token whose value consists of 3, 4, 6, or 8 hexadecimal digits.\n// In other words, a hex color is written as a hash character, \"#\", followed by some number of digits 0-9 or\n// letters a-f (the case of the letters doesn’t matter - #00ff00 is identical to #00FF00).\nfunction hexColor(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    var length = token.value.length;\n\n    // valid values (length): #rgb (4), #rgba (5), #rrggbb (7), #rrggbbaa (9)\n    if (length !== 4 && length !== 5 && length !== 7 && length !== 9) {\n        return 0;\n    }\n\n    for (var i = 1; i < length; i++) {\n        if (!isHexDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    return 1;\n}\n\nfunction idSelector(token) {\n    if (token === null || token.type !== TYPE.Hash) {\n        return 0;\n    }\n\n    if (!isIdentifierStart(charCode(token.value, 1), charCode(token.value, 2), charCode(token.value, 3))) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// It represents the entirety of what a valid declaration can have as its value.\nfunction declarationValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var length = 0;\n    var level = 0;\n    var startIdx = token.index;\n\n    // The <declaration-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                level--;\n                break;\n\n            // ... or top-level <semicolon-token> tokens\n            case TYPE.Semicolon:\n                if (level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            // ... or <delim-token> tokens with a value of \"!\"\n            case TYPE.Delim:\n                if (token.value === '!' && level === 0) {\n                    break scan;\n                }\n\n                break;\n\n            case TYPE.Function:\n            case TYPE.LeftParenthesis:\n            case TYPE.LeftSquareBracket:\n            case TYPE.LeftCurlyBracket:\n                level++;\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#any-value\n// The <any-value> production is identical to <declaration-value>, but also\n// allows top-level <semicolon-token> tokens and <delim-token> tokens\n// with a value of \"!\". It represents the entirety of what valid CSS can be in any context.\nfunction anyValue(token, getNextToken) {\n    if (!token) {\n        return 0;\n    }\n\n    var startIdx = token.index;\n    var length = 0;\n\n    // The <any-value> production matches any sequence of one or more tokens,\n    // so long as the sequence ...\n    scan:\n    do {\n        switch (token.type) {\n            // ... does not contain <bad-string-token>, <bad-url-token>,\n            case TYPE.BadString:\n            case TYPE.BadUrl:\n                break scan;\n\n            // ... unmatched <)-token>, <]-token>, or <}-token>,\n            case TYPE.RightCurlyBracket:\n            case TYPE.RightParenthesis:\n            case TYPE.RightSquareBracket:\n                if (token.balance > token.index || token.balance < startIdx) {\n                    break scan;\n                }\n\n                break;\n        }\n\n        length++;\n\n        // until balance closing\n        if (token.balance <= startIdx) {\n            break;\n        }\n    } while (token = getNextToken(length));\n\n    return length;\n}\n\n// =========================\n// Dimensions\n//\n\nfunction dimension(type) {\n    return function(token, getNextToken, opts) {\n        if (token === null || token.type !== TYPE.Dimension) {\n            return 0;\n        }\n\n        var numberEnd = consumeNumber(token.value, 0);\n\n        // check unit\n        if (type !== null) {\n            // check for IE postfix hack, i.e. 123px\\0 or 123px\\9\n            var reverseSolidusOffset = token.value.indexOf('\\\\', numberEnd);\n            var unit = reverseSolidusOffset === -1 || !isPostfixIeHack(token.value, reverseSolidusOffset)\n                ? token.value.substr(numberEnd)\n                : token.value.substring(numberEnd, reverseSolidusOffset);\n\n            if (type.hasOwnProperty(unit.toLowerCase()) === false) {\n                return 0;\n            }\n        }\n\n        // check range if specified\n        if (outOfRange(opts, token.value, numberEnd)) {\n            return 0;\n        }\n\n        return 1;\n    };\n}\n\n// =========================\n// Percentage\n//\n\n// §5.5. Percentages: the <percentage> type\n// https://drafts.csswg.org/css-values-4/#percentages\nfunction percentage(token, getNextToken, opts) {\n    // ... corresponds to the <percentage-token> production\n    if (token === null || token.type !== TYPE.Percentage) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, token.value.length - 1)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// =========================\n// Numeric\n//\n\n// https://drafts.csswg.org/css-values-4/#numbers\n// The value <zero> represents a literal number with the value 0. Expressions that merely\n// evaluate to a <number> with the value 0 (for example, calc(0)) do not match <zero>;\n// only literal <number-token>s do.\nfunction zero(next) {\n    if (typeof next !== 'function') {\n        next = function() {\n            return 0;\n        };\n    }\n\n    return function(token, getNextToken, opts) {\n        if (token !== null && token.type === TYPE.Number) {\n            if (Number(token.value) === 0) {\n                return 1;\n            }\n        }\n\n        return next(token, getNextToken, opts);\n    };\n}\n\n// § 5.3. Real Numbers: the <number> type\n// https://drafts.csswg.org/css-values-4/#numbers\n// Number values are denoted by <number>, and represent real numbers, possibly with a fractional component.\n// ... It corresponds to the <number-token> production\nfunction number(token, getNextToken, opts) {\n    if (token === null) {\n        return 0;\n    }\n\n    var numberEnd = consumeNumber(token.value, 0);\n    var isNumber = numberEnd === token.value.length;\n    if (!isNumber && !isPostfixIeHack(token.value, numberEnd)) {\n        return 0;\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, numberEnd)) {\n        return 0;\n    }\n\n    return 1;\n}\n\n// §5.2. Integers: the <integer> type\n// https://drafts.csswg.org/css-values-4/#integers\nfunction integer(token, getNextToken, opts) {\n    // ... corresponds to a subset of the <number-token> production\n    if (token === null || token.type !== TYPE.Number) {\n        return 0;\n    }\n\n    // The first digit of an integer may be immediately preceded by `-` or `+` to indicate the integer’s sign.\n    var i = token.value.charCodeAt(0) === 0x002B ||       // U+002B PLUS SIGN (+)\n            token.value.charCodeAt(0) === 0x002D ? 1 : 0; // U+002D HYPHEN-MINUS (-)\n\n    // When written literally, an integer is one or more decimal digits 0 through 9 ...\n    for (; i < token.value.length; i++) {\n        if (!isDigit(token.value.charCodeAt(i))) {\n            return 0;\n        }\n    }\n\n    // check range if specified\n    if (outOfRange(opts, token.value, i)) {\n        return 0;\n    }\n\n    return 1;\n}\n\nmodule.exports = {\n    // token types\n    'ident-token': tokenType(TYPE.Ident),\n    'function-token': tokenType(TYPE.Function),\n    'at-keyword-token': tokenType(TYPE.AtKeyword),\n    'hash-token': tokenType(TYPE.Hash),\n    'string-token': tokenType(TYPE.String),\n    'bad-string-token': tokenType(TYPE.BadString),\n    'url-token': tokenType(TYPE.Url),\n    'bad-url-token': tokenType(TYPE.BadUrl),\n    'delim-token': tokenType(TYPE.Delim),\n    'number-token': tokenType(TYPE.Number),\n    'percentage-token': tokenType(TYPE.Percentage),\n    'dimension-token': tokenType(TYPE.Dimension),\n    'whitespace-token': tokenType(TYPE.WhiteSpace),\n    'CDO-token': tokenType(TYPE.CDO),\n    'CDC-token': tokenType(TYPE.CDC),\n    'colon-token': tokenType(TYPE.Colon),\n    'semicolon-token': tokenType(TYPE.Semicolon),\n    'comma-token': tokenType(TYPE.Comma),\n    '[-token': tokenType(TYPE.LeftSquareBracket),\n    ']-token': tokenType(TYPE.RightSquareBracket),\n    '(-token': tokenType(TYPE.LeftParenthesis),\n    ')-token': tokenType(TYPE.RightParenthesis),\n    '{-token': tokenType(TYPE.LeftCurlyBracket),\n    '}-token': tokenType(TYPE.RightCurlyBracket),\n\n    // token type aliases\n    'string': tokenType(TYPE.String),\n    'ident': tokenType(TYPE.Ident),\n\n    // complex types\n    'custom-ident': customIdent,\n    'custom-property-name': customPropertyName,\n    'hex-color': hexColor,\n    'id-selector': idSelector, // element( <id-selector> )\n    'an-plus-b': anPlusB,\n    'urange': urange,\n    'declaration-value': declarationValue,\n    'any-value': anyValue,\n\n    // dimensions\n    'dimension': calc(dimension(null)),\n    'angle': calc(dimension(ANGLE)),\n    'decibel': calc(dimension(DECIBEL)),\n    'frequency': calc(dimension(FREQUENCY)),\n    'flex': calc(dimension(FLEX)),\n    'length': calc(zero(dimension(LENGTH))),\n    'resolution': calc(dimension(RESOLUTION)),\n    'semitones': calc(dimension(SEMITONES)),\n    'time': calc(dimension(TIME)),\n\n    // percentage\n    'percentage': calc(percentage),\n\n    // numeric\n    'zero': zero(),\n    'number': calc(number),\n    'integer': calc(integer),\n\n    // old IE stuff\n    '-ms-legacy-expression': func('expression')\n};\n","var isDigit = require('../tokenizer').isDigit;\nvar cmpChar = require('../tokenizer').cmpChar;\nvar TYPE = require('../tokenizer').TYPE;\n\nvar DELIM = TYPE.Delim;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === DELIM && token.value.charCodeAt(0) === code;\n}\n\nfunction skipSC(token, offset, getNextToken) {\n    while (token !== null && (token.type === WHITESPACE || token.type === COMMENT)) {\n        token = getNextToken(++offset);\n    }\n\n    return offset;\n}\n\nfunction checkInteger(token, valueOffset, disallowSign, offset) {\n    if (!token) {\n        return 0;\n    }\n\n    var code = token.value.charCodeAt(valueOffset);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            // Number sign is not allowed\n            return 0;\n        }\n        valueOffset++;\n    }\n\n    for (; valueOffset < token.value.length; valueOffset++) {\n        if (!isDigit(token.value.charCodeAt(valueOffset))) {\n            // Integer is expected\n            return 0;\n        }\n    }\n\n    return offset + 1;\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB(token, offset_, getNextToken) {\n    var sign = false;\n    var offset = skipSC(token, offset_, getNextToken);\n\n    token = getNextToken(offset);\n\n    if (token === null) {\n        return offset_;\n    }\n\n    if (token.type !== NUMBER) {\n        if (isDelim(token, PLUSSIGN) || isDelim(token, HYPHENMINUS)) {\n            sign = true;\n            offset = skipSC(getNextToken(++offset), offset, getNextToken);\n            token = getNextToken(offset);\n\n            if (token === null && token.type !== NUMBER) {\n                return 0;\n            }\n        } else {\n            return offset_;\n        }\n    }\n\n    if (!sign) {\n        var code = token.value.charCodeAt(0);\n        if (code !== PLUSSIGN && code !== HYPHENMINUS) {\n            // Number sign is expected\n            return 0;\n        }\n    }\n\n    return checkInteger(token, sign ? 0 : 1, sign, offset);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = function anPlusB(token, getNextToken) {\n    /* eslint-disable brace-style*/\n    var offset = 0;\n\n    if (!token) {\n        return 0;\n    }\n\n    // <integer>\n    if (token.type === NUMBER) {\n        return checkInteger(token, 0, ALLOW_SIGN, offset); // b\n    }\n\n    // -n\n    // -n <signed-integer>\n    // -n ['+' | '-'] <signless-integer>\n    // -n- <signless-integer>\n    // <dashndashdigit-ident>\n    else if (token.type === IDENT && token.value.charCodeAt(0) === HYPHENMINUS) {\n        // expect 1st char is N\n        if (!cmpChar(token.value, 1, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // -n\n            // -n <signed-integer>\n            // -n ['+' | '-'] <signless-integer>\n            case 2:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // -n- <signless-integer>\n            case 3:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // <dashndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(2) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 3, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // '+'? n\n    // '+'? n <signed-integer>\n    // '+'? n ['+' | '-'] <signless-integer>\n    // '+'? n- <signless-integer>\n    // '+'? <ndashdigit-ident>\n    else if (token.type === IDENT || (isDelim(token, PLUSSIGN) && getNextToken(offset + 1).type === IDENT)) {\n        // just ignore a plus\n        if (token.type !== IDENT) {\n            token = getNextToken(++offset);\n        }\n\n        if (token === null || !cmpChar(token.value, 0, N)) {\n            return 0;\n        }\n\n        switch (token.value.length) {\n            // '+'? n\n            // '+'? n <signed-integer>\n            // '+'? n ['+' | '-'] <signless-integer>\n            case 1:\n                return consumeB(getNextToken(++offset), offset, getNextToken);\n\n            // '+'? n- <signless-integer>\n            case 2:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n\n            // '+'? <ndashdigit-ident>\n            default:\n                if (token.value.charCodeAt(1) !== HYPHENMINUS) {\n                    return 0;\n                }\n\n                return checkInteger(token, 2, DISALLOW_SIGN, offset);\n        }\n    }\n\n    // <ndashdigit-dimension>\n    // <ndash-dimension> <signless-integer>\n    // <n-dimension>\n    // <n-dimension> <signed-integer>\n    // <n-dimension> ['+' | '-'] <signless-integer>\n    else if (token.type === DIMENSION) {\n        var code = token.value.charCodeAt(0);\n        var sign = code === PLUSSIGN || code === HYPHENMINUS ? 1 : 0;\n\n        for (var i = sign; i < token.value.length; i++) {\n            if (!isDigit(token.value.charCodeAt(i))) {\n                break;\n            }\n        }\n\n        if (i === sign) {\n            // Integer is expected\n            return 0;\n        }\n\n        if (!cmpChar(token.value, i, N)) {\n            return 0;\n        }\n\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        if (i + 1 === token.value.length) {\n            return consumeB(getNextToken(++offset), offset, getNextToken);\n        } else {\n            if (token.value.charCodeAt(i + 1) !== HYPHENMINUS) {\n                return 0;\n            }\n\n            // <ndash-dimension> <signless-integer>\n            if (i + 2 === token.value.length) {\n                offset = skipSC(getNextToken(++offset), offset, getNextToken);\n                token = getNextToken(offset);\n\n                return checkInteger(token, 0, DISALLOW_SIGN, offset);\n            }\n            // <ndashdigit-dimension>\n            else {\n                return checkInteger(token, i + 2, DISALLOW_SIGN, offset);\n            }\n        }\n    }\n\n    return 0;\n};\n","var isHexDigit = require('../tokenizer').isHexDigit;\nvar cmpChar = require('../tokenizer').cmpChar;\nvar TYPE = require('../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar DELIM = TYPE.Delim;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nvar QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nvar U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction isDelim(token, code) {\n    return token !== null && token.type === DELIM && token.value.charCodeAt(0) === code;\n}\n\nfunction startsWith(token, code) {\n    return token.value.charCodeAt(0) === code;\n}\n\nfunction hexSequence(token, offset, allowDash) {\n    for (var pos = offset, hexlen = 0; pos < token.value.length; pos++) {\n        var code = token.value.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && hexlen !== 0) {\n            if (hexSequence(token, offset + hexlen + 1, false) > 0) {\n                return 6; // dissallow following question marks\n            }\n\n            return 0; // dash at the ending of a hex sequence is not allowed\n        }\n\n        if (!isHexDigit(code)) {\n            return 0; // not a hex digit\n        }\n\n        if (++hexlen > 6) {\n            return 0; // too many hex digits\n        };\n    }\n\n    return hexlen;\n}\n\nfunction withQuestionMarkSequence(consumed, length, getNextToken) {\n    if (!consumed) {\n        return 0; // nothing consumed\n    }\n\n    while (isDelim(getNextToken(length), QUESTIONMARK)) {\n        if (++consumed > 6) {\n            return 0; // too many question marks\n        }\n\n        length++;\n    }\n\n    return length;\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nmodule.exports = function urange(token, getNextToken) {\n    var length = 0;\n\n    // should start with `u` or `U`\n    if (token === null || token.type !== IDENT || !cmpChar(token.value, 0, U)) {\n        return 0;\n    }\n\n    token = getNextToken(++length);\n    if (token === null) {\n        return 0;\n    }\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (isDelim(token, PLUSSIGN)) {\n        token = getNextToken(++length);\n        if (token === null) {\n            return 0;\n        }\n\n        if (token.type === IDENT) {\n            // u '+' <ident-token> '?'*\n            return withQuestionMarkSequence(hexSequence(token, 0, true), ++length, getNextToken);\n        }\n\n        if (isDelim(token, QUESTIONMARK)) {\n            // u '+' '?'+\n            return withQuestionMarkSequence(1, ++length, getNextToken);\n        }\n\n        // Hex digit or question mark is expected\n        return 0;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (token.type === NUMBER) {\n        if (!startsWith(token, PLUSSIGN)) {\n            return 0;\n        }\n\n        var consumedHexLength = hexSequence(token, 1, true);\n        if (consumedHexLength === 0) {\n            return 0;\n        }\n\n        token = getNextToken(++length);\n        if (token === null) {\n            // u <number-token> <eof>\n            return length;\n        }\n\n        if (token.type === DIMENSION || token.type === NUMBER) {\n            // u <number-token> <dimension-token>\n            // u <number-token> <number-token>\n            if (!startsWith(token, HYPHENMINUS) || !hexSequence(token, 1, false)) {\n                return 0;\n            }\n\n            return length + 1;\n        }\n\n        // u <number-token> '?'*\n        return withQuestionMarkSequence(consumedHexLength, length, getNextToken);\n    }\n\n    // u <dimension-token> '?'*\n    if (token.type === DIMENSION) {\n        if (!startsWith(token, PLUSSIGN)) {\n            return 0;\n        }\n\n        return withQuestionMarkSequence(hexSequence(token, 1, true), ++length, getNextToken);\n    }\n\n    return 0;\n};\n","var SyntaxError = require('./SyntaxError');\n\nvar TAB = 9;\nvar N = 10;\nvar F = 12;\nvar R = 13;\nvar SPACE = 32;\n\nvar Tokenizer = function(str) {\n    this.str = str;\n    this.pos = 0;\n};\n\nTokenizer.prototype = {\n    charCodeAt: function(pos) {\n        return pos < this.str.length ? this.str.charCodeAt(pos) : 0;\n    },\n    charCode: function() {\n        return this.charCodeAt(this.pos);\n    },\n    nextCharCode: function() {\n        return this.charCodeAt(this.pos + 1);\n    },\n    nextNonWsCode: function(pos) {\n        return this.charCodeAt(this.findWsEnd(pos));\n    },\n    findWsEnd: function(pos) {\n        for (; pos < this.str.length; pos++) {\n            var code = this.str.charCodeAt(pos);\n            if (code !== R && code !== N && code !== F && code !== SPACE && code !== TAB) {\n                break;\n            }\n        }\n\n        return pos;\n    },\n    substringToPos: function(end) {\n        return this.str.substring(this.pos, this.pos = end);\n    },\n    eat: function(code) {\n        if (this.charCode() !== code) {\n            this.error('Expect `' + String.fromCharCode(code) + '`');\n        }\n\n        this.pos++;\n    },\n    peek: function() {\n        return this.pos < this.str.length ? this.str.charAt(this.pos++) : '';\n    },\n    error: function(message) {\n        throw new SyntaxError(message, this.str, this.pos);\n    }\n};\n\nmodule.exports = Tokenizer;\n","var tokenize = require('../tokenizer');\nvar TokenStream = require('../common/TokenStream');\nvar tokenStream = new TokenStream();\nvar astToTokens = {\n    decorator: function(handlers) {\n        var curNode = null;\n        var prev = { len: 0, node: null };\n        var nodes = [prev];\n        var buffer = '';\n\n        return {\n            children: handlers.children,\n            node: function(node) {\n                var tmp = curNode;\n                curNode = node;\n                handlers.node.call(this, node);\n                curNode = tmp;\n            },\n            chunk: function(chunk) {\n                buffer += chunk;\n                if (prev.node !== curNode) {\n                    nodes.push({\n                        len: chunk.length,\n                        node: curNode\n                    });\n                } else {\n                    prev.len += chunk.length;\n                }\n            },\n            result: function() {\n                return prepareTokens(buffer, nodes);\n            }\n        };\n    }\n};\n\nfunction prepareTokens(str, nodes) {\n    var tokens = [];\n    var nodesOffset = 0;\n    var nodesIndex = 0;\n    var currentNode = nodes ? nodes[nodesIndex].node : null;\n\n    tokenize(str, tokenStream);\n\n    while (!tokenStream.eof) {\n        if (nodes) {\n            while (nodesIndex < nodes.length && nodesOffset + nodes[nodesIndex].len <= tokenStream.tokenStart) {\n                nodesOffset += nodes[nodesIndex++].len;\n                currentNode = nodes[nodesIndex].node;\n            }\n        }\n\n        tokens.push({\n            type: tokenStream.tokenType,\n            value: tokenStream.getTokenValue(),\n            index: tokenStream.tokenIndex, // TODO: remove it, temporary solution\n            balance: tokenStream.balance[tokenStream.tokenIndex], // TODO: remove it, temporary solution\n            node: currentNode\n        });\n        tokenStream.next();\n        // console.log({ ...tokens[tokens.length - 1], node: undefined });\n    }\n\n    return tokens;\n}\n\nmodule.exports = function(value, syntax) {\n    if (typeof value === 'string') {\n        return prepareTokens(value, null);\n    }\n\n    return syntax.generate(value, astToTokens);\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar matchGraph = require('./match-graph');\nvar MATCH = matchGraph.MATCH;\nvar MISMATCH = matchGraph.MISMATCH;\nvar DISALLOW_EMPTY = matchGraph.DISALLOW_EMPTY;\nvar TYPE = require('../tokenizer/const').TYPE;\n\nvar STUB = 0;\nvar TOKEN = 1;\nvar OPEN_SYNTAX = 2;\nvar CLOSE_SYNTAX = 3;\n\nvar EXIT_REASON_MATCH = 'Match';\nvar EXIT_REASON_MISMATCH = 'Mismatch';\nvar EXIT_REASON_ITERATION_LIMIT = 'Maximum iteration number exceeded (please fill an issue on https://github.com/csstree/csstree/issues)';\n\nvar ITERATION_LIMIT = 15000;\nvar totalIterationCount = 0;\n\nfunction reverseList(list) {\n    var prev = null;\n    var next = null;\n    var item = list;\n\n    while (item !== null) {\n        next = item.prev;\n        item.prev = prev;\n        prev = item;\n        item = next;\n    }\n\n    return prev;\n}\n\nfunction areStringsEqualCaseInsensitive(testStr, referenceStr) {\n    if (testStr.length !== referenceStr.length) {\n        return false;\n    }\n\n    for (var i = 0; i < testStr.length; i++) {\n        var testCode = testStr.charCodeAt(i);\n        var referenceCode = referenceStr.charCodeAt(i);\n\n        // testCode.toLowerCase() for U+0041 LATIN CAPITAL LETTER A (A) .. U+005A LATIN CAPITAL LETTER Z (Z).\n        if (testCode >= 0x0041 && testCode <= 0x005A) {\n            testCode = testCode | 32;\n        }\n\n        if (testCode !== referenceCode) {\n            return false;\n        }\n    }\n\n    return true;\n}\n\nfunction isCommaContextStart(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.Comma ||\n        token.type === TYPE.Function ||\n        token.type === TYPE.LeftParenthesis ||\n        token.type === TYPE.LeftSquareBracket ||\n        token.type === TYPE.LeftCurlyBracket ||\n        token.type === TYPE.Delim\n    );\n}\n\nfunction isCommaContextEnd(token) {\n    if (token === null) {\n        return true;\n    }\n\n    return (\n        token.type === TYPE.RightParenthesis ||\n        token.type === TYPE.RightSquareBracket ||\n        token.type === TYPE.RightCurlyBracket ||\n        token.type === TYPE.Delim\n    );\n}\n\nfunction internalMatch(tokens, state, syntaxes) {\n    function moveToNextToken() {\n        do {\n            tokenIndex++;\n            token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n        } while (token !== null && (token.type === TYPE.WhiteSpace || token.type === TYPE.Comment));\n    }\n\n    function getNextToken(offset) {\n        var nextIndex = tokenIndex + offset;\n\n        return nextIndex < tokens.length ? tokens[nextIndex] : null;\n    }\n\n    function stateSnapshotFromSyntax(nextState, prev) {\n        return {\n            nextState: nextState,\n            matchStack: matchStack,\n            syntaxStack: syntaxStack,\n            thenStack: thenStack,\n            tokenIndex: tokenIndex,\n            prev: prev\n        };\n    }\n\n    function pushThenStack(nextState) {\n        thenStack = {\n            nextState: nextState,\n            matchStack: matchStack,\n            syntaxStack: syntaxStack,\n            prev: thenStack\n        };\n    }\n\n    function pushElseStack(nextState) {\n        elseStack = stateSnapshotFromSyntax(nextState, elseStack);\n    }\n\n    function addTokenToMatch() {\n        matchStack = {\n            type: TOKEN,\n            syntax: state.syntax,\n            token: token,\n            prev: matchStack\n        };\n\n        moveToNextToken();\n        syntaxStash = null;\n\n        if (tokenIndex > longestMatch) {\n            longestMatch = tokenIndex;\n        }\n    }\n\n    function openSyntax() {\n        syntaxStack = {\n            syntax: state.syntax,\n            opts: state.syntax.opts || (syntaxStack !== null && syntaxStack.opts) || null,\n            prev: syntaxStack\n        };\n\n        matchStack = {\n            type: OPEN_SYNTAX,\n            syntax: state.syntax,\n            token: matchStack.token,\n            prev: matchStack\n        };\n    }\n\n    function closeSyntax() {\n        if (matchStack.type === OPEN_SYNTAX) {\n            matchStack = matchStack.prev;\n        } else {\n            matchStack = {\n                type: CLOSE_SYNTAX,\n                syntax: syntaxStack.syntax,\n                token: matchStack.token,\n                prev: matchStack\n            };\n        }\n\n        syntaxStack = syntaxStack.prev;\n    }\n\n    var syntaxStack = null;\n    var thenStack = null;\n    var elseStack = null;\n\n    // null – stashing allowed, nothing stashed\n    // false – stashing disabled, nothing stashed\n    // anithing else – fail stashable syntaxes, some syntax stashed\n    var syntaxStash = null;\n\n    var iterationCount = 0; // count iterations and prevent infinite loop\n    var exitReason = null;\n\n    var token = null;\n    var tokenIndex = -1;\n    var longestMatch = 0;\n    var matchStack = {\n        type: STUB,\n        syntax: null,\n        token: null,\n        prev: null\n    };\n\n    moveToNextToken();\n\n    while (exitReason === null && ++iterationCount < ITERATION_LIMIT) {\n        // function mapList(list, fn) {\n        //     var result = [];\n        //     while (list) {\n        //         result.unshift(fn(list));\n        //         list = list.prev;\n        //     }\n        //     return result;\n        // }\n        // console.log('--\\n',\n        //     '#' + iterationCount,\n        //     require('util').inspect({\n        //         match: mapList(matchStack, x => x.type === TOKEN ? x.token && x.token.value : x.syntax ? ({ [OPEN_SYNTAX]: '<', [CLOSE_SYNTAX]: '</' }[x.type] || x.type) + '!' + x.syntax.name : null),\n        //         token: token && token.value,\n        //         tokenIndex,\n        //         syntax: syntax.type + (syntax.id ? ' #' + syntax.id : '')\n        //     }, { depth: null })\n        // );\n        switch (state.type) {\n            case 'Match':\n                if (thenStack === null) {\n                    // turn to MISMATCH when some tokens left unmatched\n                    if (token !== null) {\n                        // doesn't mismatch if just one token left and it's an IE hack\n                        if (tokenIndex !== tokens.length - 1 || (token.value !== '\\\\0' && token.value !== '\\\\9')) {\n                            state = MISMATCH;\n                            break;\n                        }\n                    }\n\n                    // break the main loop, return a result - MATCH\n                    exitReason = EXIT_REASON_MATCH;\n                    break;\n                }\n\n                // go to next syntax (`then` branch)\n                state = thenStack.nextState;\n\n                // check match is not empty\n                if (state === DISALLOW_EMPTY) {\n                    if (thenStack.matchStack === matchStack) {\n                        state = MISMATCH;\n                        break;\n                    } else {\n                        state = MATCH;\n                    }\n                }\n\n                // close syntax if needed\n                while (thenStack.syntaxStack !== syntaxStack) {\n                    closeSyntax();\n                }\n\n                // pop stack\n                thenStack = thenStack.prev;\n                break;\n\n            case 'Mismatch':\n                // when some syntax is stashed\n                if (syntaxStash !== null && syntaxStash !== false) {\n                    // there is no else branches or a branch reduce match stack\n                    if (elseStack === null || tokenIndex > elseStack.tokenIndex) {\n                        // restore state from the stash\n                        elseStack = syntaxStash;\n                        syntaxStash = false; // disable stashing\n                    }\n                } else if (elseStack === null) {\n                    // no else branches -> break the main loop\n                    // return a result - MISMATCH\n                    exitReason = EXIT_REASON_MISMATCH;\n                    break;\n                }\n\n                // go to next syntax (`else` branch)\n                state = elseStack.nextState;\n\n                // restore all the rest stack states\n                thenStack = elseStack.thenStack;\n                syntaxStack = elseStack.syntaxStack;\n                matchStack = elseStack.matchStack;\n                tokenIndex = elseStack.tokenIndex;\n                token = tokenIndex < tokens.length ? tokens[tokenIndex] : null;\n\n                // pop stack\n                elseStack = elseStack.prev;\n                break;\n\n            case 'MatchGraph':\n                state = state.match;\n                break;\n\n            case 'If':\n                // IMPORTANT: else stack push must go first,\n                // since it stores the state of thenStack before changes\n                if (state.else !== MISMATCH) {\n                    pushElseStack(state.else);\n                }\n\n                if (state.then !== MATCH) {\n                    pushThenStack(state.then);\n                }\n\n                state = state.match;\n                break;\n\n            case 'MatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state,\n                    index: 0,\n                    mask: 0\n                };\n                break;\n\n            case 'MatchOnceBuffer':\n                var terms = state.syntax.terms;\n\n                if (state.index === terms.length) {\n                    // no matches at all or it's required all terms to be matched\n                    if (state.mask === 0 || state.syntax.all) {\n                        state = MISMATCH;\n                        break;\n                    }\n\n                    // a partial match is ok\n                    state = MATCH;\n                    break;\n                }\n\n                // all terms are matched\n                if (state.mask === (1 << terms.length) - 1) {\n                    state = MATCH;\n                    break;\n                }\n\n                for (; state.index < terms.length; state.index++) {\n                    var matchFlag = 1 << state.index;\n\n                    if ((state.mask & matchFlag) === 0) {\n                        // IMPORTANT: else stack push must go first,\n                        // since it stores the state of thenStack before changes\n                        pushElseStack(state);\n                        pushThenStack({\n                            type: 'AddMatchOnce',\n                            syntax: state.syntax,\n                            mask: state.mask | matchFlag\n                        });\n\n                        // match\n                        state = terms[state.index++];\n                        break;\n                    }\n                }\n                break;\n\n            case 'AddMatchOnce':\n                state = {\n                    type: 'MatchOnceBuffer',\n                    syntax: state.syntax,\n                    index: 0,\n                    mask: state.mask\n                };\n                break;\n\n            case 'Enum':\n                if (token !== null) {\n                    var name = token.value.toLowerCase();\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (name.indexOf('\\\\') !== -1) {\n                        name = name.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (hasOwnProperty.call(state.map, name)) {\n                        state = state.map[name];\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Generic':\n                var opts = syntaxStack !== null ? syntaxStack.opts : null;\n                var lastTokenIndex = tokenIndex + Math.floor(state.fn(token, getNextToken, opts));\n\n                if (!isNaN(lastTokenIndex) && lastTokenIndex > tokenIndex) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            case 'Type':\n            case 'Property':\n                var syntaxDict = state.type === 'Type' ? 'types' : 'properties';\n                var dictSyntax = hasOwnProperty.call(syntaxes, syntaxDict) ? syntaxes[syntaxDict][state.name] : null;\n\n                if (!dictSyntax || !dictSyntax.match) {\n                    throw new Error(\n                        'Bad syntax reference: ' +\n                        (state.type === 'Type'\n                            ? '<' + state.name + '>'\n                            : '<\\'' + state.name + '\\'>')\n                    );\n                }\n\n                // stash a syntax for types with low priority\n                if (syntaxStash !== false && token !== null && state.type === 'Type') {\n                    var lowPriorityMatching =\n                        // https://drafts.csswg.org/css-values-4/#custom-idents\n                        // When parsing positionally-ambiguous keywords in a property value, a <custom-ident> production\n                        // can only claim the keyword if no other unfulfilled production can claim it.\n                        (state.name === 'custom-ident' && token.type === TYPE.Ident) ||\n\n                        // https://drafts.csswg.org/css-values-4/#lengths\n                        // ... if a `0` could be parsed as either a <number> or a <length> in a property (such as line-height),\n                        // it must parse as a <number>\n                        (state.name === 'length' && token.value === '0');\n\n                    if (lowPriorityMatching) {\n                        if (syntaxStash === null) {\n                            syntaxStash = stateSnapshotFromSyntax(state, elseStack);\n                        }\n\n                        state = MISMATCH;\n                        break;\n                    }\n                }\n\n                openSyntax();\n                state = dictSyntax.match;\n                break;\n\n            case 'Keyword':\n                var name = state.name;\n\n                if (token !== null) {\n                    var keywordName = token.value;\n\n                    // drop \\0 and \\9 hack from keyword name\n                    if (keywordName.indexOf('\\\\') !== -1) {\n                        keywordName = keywordName.replace(/\\\\[09].*$/, '');\n                    }\n\n                    if (areStringsEqualCaseInsensitive(keywordName, name)) {\n                        addTokenToMatch();\n                        state = MATCH;\n                        break;\n                    }\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'AtKeyword':\n            case 'Function':\n                if (token !== null && areStringsEqualCaseInsensitive(token.value, state.name)) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Token':\n                if (token !== null && token.value === state.value) {\n                    addTokenToMatch();\n                    state = MATCH;\n                    break;\n                }\n\n                state = MISMATCH;\n                break;\n\n            case 'Comma':\n                if (token !== null && token.type === TYPE.Comma) {\n                    if (isCommaContextStart(matchStack.token)) {\n                        state = MISMATCH;\n                    } else {\n                        addTokenToMatch();\n                        state = isCommaContextEnd(token) ? MISMATCH : MATCH;\n                    }\n                } else {\n                    state = isCommaContextStart(matchStack.token) || isCommaContextEnd(token) ? MATCH : MISMATCH;\n                }\n\n                break;\n\n            case 'String':\n                var string = '';\n\n                for (var lastTokenIndex = tokenIndex; lastTokenIndex < tokens.length && string.length < state.value.length; lastTokenIndex++) {\n                    string += tokens[lastTokenIndex].value;\n                }\n\n                if (areStringsEqualCaseInsensitive(string, state.value)) {\n                    while (tokenIndex < lastTokenIndex) {\n                        addTokenToMatch();\n                    }\n\n                    state = MATCH;\n                } else {\n                    state = MISMATCH;\n                }\n\n                break;\n\n            default:\n                throw new Error('Unknown node type: ' + state.type);\n        }\n    }\n\n    totalIterationCount += iterationCount;\n\n    switch (exitReason) {\n        case null:\n            console.warn('[csstree-match] BREAK after ' + ITERATION_LIMIT + ' iterations');\n            exitReason = EXIT_REASON_ITERATION_LIMIT;\n            matchStack = null;\n            break;\n\n        case EXIT_REASON_MATCH:\n            while (syntaxStack !== null) {\n                closeSyntax();\n            }\n            break;\n\n        default:\n            matchStack = null;\n    }\n\n    return {\n        tokens: tokens,\n        reason: exitReason,\n        iterations: iterationCount,\n        match: matchStack,\n        longestMatch: longestMatch\n    };\n}\n\nfunction matchAsList(tokens, matchGraph, syntaxes) {\n    var matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match !== null) {\n        var item = reverseList(matchResult.match).prev;\n\n        matchResult.match = [];\n\n        while (item !== null) {\n            switch (item.type) {\n                case STUB:\n                    break;\n\n                case OPEN_SYNTAX:\n                case CLOSE_SYNTAX:\n                    matchResult.match.push({\n                        type: item.type,\n                        syntax: item.syntax\n                    });\n                    break;\n\n                default:\n                    matchResult.match.push({\n                        token: item.token.value,\n                        node: item.token.node\n                    });\n                    break;\n            }\n\n            item = item.prev;\n        }\n    }\n\n    return matchResult;\n}\n\nfunction matchAsTree(tokens, matchGraph, syntaxes) {\n    var matchResult = internalMatch(tokens, matchGraph, syntaxes || {});\n\n    if (matchResult.match === null) {\n        return matchResult;\n    }\n\n    var item = matchResult.match;\n    var host = matchResult.match = {\n        syntax: matchGraph.syntax || null,\n        match: []\n    };\n    var hostStack = [host];\n\n    // revert a list and start with 2nd item since 1st is a stub item\n    item = reverseList(item).prev;\n\n    // build a tree\n    while (item !== null) {\n        switch (item.type) {\n            case OPEN_SYNTAX:\n                host.match.push(host = {\n                    syntax: item.syntax,\n                    match: []\n                });\n                hostStack.push(host);\n                break;\n\n            case CLOSE_SYNTAX:\n                hostStack.pop();\n                host = hostStack[hostStack.length - 1];\n                break;\n\n            default:\n                host.match.push({\n                    syntax: item.syntax || null,\n                    token: item.token.value,\n                    node: item.token.node\n                });\n        }\n\n        item = item.prev;\n    }\n\n    return matchResult;\n}\n\nmodule.exports = {\n    matchAsList: matchAsList,\n    matchAsTree: matchAsTree,\n    getTotalIterationCount: function() {\n        return totalIterationCount;\n    }\n};\n","function getTrace(node) {\n    function shouldPutToTrace(syntax) {\n        if (syntax === null) {\n            return false;\n        }\n\n        return (\n            syntax.type === 'Type' ||\n            syntax.type === 'Property' ||\n            syntax.type === 'Keyword'\n        );\n    }\n\n    function hasMatch(matchNode) {\n        if (Array.isArray(matchNode.match)) {\n            // use for-loop for better perfomance\n            for (var i = 0; i < matchNode.match.length; i++) {\n                if (hasMatch(matchNode.match[i])) {\n                    if (shouldPutToTrace(matchNode.syntax)) {\n                        result.unshift(matchNode.syntax);\n                    }\n\n                    return true;\n                }\n            }\n        } else if (matchNode.node === node) {\n            result = shouldPutToTrace(matchNode.syntax)\n                ? [matchNode.syntax]\n                : [];\n\n            return true;\n        }\n\n        return false;\n    }\n\n    var result = null;\n\n    if (this.matched !== null) {\n        hasMatch(this.matched);\n    }\n\n    return result;\n}\n\nfunction testNode(match, node, fn) {\n    var trace = getTrace.call(match, node);\n\n    if (trace === null) {\n        return false;\n    }\n\n    return trace.some(fn);\n}\n\nfunction isType(node, type) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Type' && matchNode.name === type;\n    });\n}\n\nfunction isProperty(node, property) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Property' && matchNode.name === property;\n    });\n}\n\nfunction isKeyword(node) {\n    return testNode(this, node, function(matchNode) {\n        return matchNode.type === 'Keyword';\n    });\n}\n\nmodule.exports = {\n    getTrace: getTrace,\n    isType: isType,\n    isProperty: isProperty,\n    isKeyword: isKeyword\n};\n","var List = require('../common/List');\n\nfunction getFirstMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getFirstMatchNode(matchNode.match[0]);\n}\n\nfunction getLastMatchNode(matchNode) {\n    if ('node' in matchNode) {\n        return matchNode.node;\n    }\n\n    return getLastMatchNode(matchNode.match[matchNode.match.length - 1]);\n}\n\nfunction matchFragments(lexer, ast, match, type, name) {\n    function findFragments(matchNode) {\n        if (matchNode.syntax !== null &&\n            matchNode.syntax.type === type &&\n            matchNode.syntax.name === name) {\n            var start = getFirstMatchNode(matchNode);\n            var end = getLastMatchNode(matchNode);\n\n            lexer.syntax.walk(ast, function(node, item, list) {\n                if (node === start) {\n                    var nodes = new List();\n\n                    do {\n                        nodes.appendData(item.data);\n\n                        if (item.data === end) {\n                            break;\n                        }\n\n                        item = item.next;\n                    } while (item !== null);\n\n                    fragments.push({\n                        parent: list,\n                        nodes: nodes\n                    });\n                }\n            });\n        }\n\n        if (Array.isArray(matchNode.match)) {\n            matchNode.match.forEach(findFragments);\n        }\n    }\n\n    var fragments = [];\n\n    if (match.matched !== null) {\n        findFragments(match.matched);\n    }\n\n    return fragments;\n}\n\nmodule.exports = {\n    matchFragments: matchFragments\n};\n","var List = require('../common/List');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction isValidNumber(value) {\n    // Number.isInteger(value) && value >= 0\n    return (\n        typeof value === 'number' &&\n        isFinite(value) &&\n        Math.floor(value) === value &&\n        value >= 0\n    );\n}\n\nfunction isValidLocation(loc) {\n    return (\n        Boolean(loc) &&\n        isValidNumber(loc.offset) &&\n        isValidNumber(loc.line) &&\n        isValidNumber(loc.column)\n    );\n}\n\nfunction createNodeStructureChecker(type, fields) {\n    return function checkNode(node, warn) {\n        if (!node || node.constructor !== Object) {\n            return warn(node, 'Type of node should be an Object');\n        }\n\n        for (var key in node) {\n            var valid = true;\n\n            if (hasOwnProperty.call(node, key) === false) {\n                continue;\n            }\n\n            if (key === 'type') {\n                if (node.type !== type) {\n                    warn(node, 'Wrong node type `' + node.type + '`, expected `' + type + '`');\n                }\n            } else if (key === 'loc') {\n                if (node.loc === null) {\n                    continue;\n                } else if (node.loc && node.loc.constructor === Object) {\n                    if (typeof node.loc.source !== 'string') {\n                        key += '.source';\n                    } else if (!isValidLocation(node.loc.start)) {\n                        key += '.start';\n                    } else if (!isValidLocation(node.loc.end)) {\n                        key += '.end';\n                    } else {\n                        continue;\n                    }\n                }\n\n                valid = false;\n            } else if (fields.hasOwnProperty(key)) {\n                for (var i = 0, valid = false; !valid && i < fields[key].length; i++) {\n                    var fieldType = fields[key][i];\n\n                    switch (fieldType) {\n                        case String:\n                            valid = typeof node[key] === 'string';\n                            break;\n\n                        case Boolean:\n                            valid = typeof node[key] === 'boolean';\n                            break;\n\n                        case null:\n                            valid = node[key] === null;\n                            break;\n\n                        default:\n                            if (typeof fieldType === 'string') {\n                                valid = node[key] && node[key].type === fieldType;\n                            } else if (Array.isArray(fieldType)) {\n                                valid = node[key] instanceof List;\n                            }\n                    }\n                }\n            } else {\n                warn(node, 'Unknown field `' + key + '` for ' + type + ' node type');\n            }\n\n            if (!valid) {\n                warn(node, 'Bad value for `' + type + '.' + key + '`');\n            }\n        }\n\n        for (var key in fields) {\n            if (hasOwnProperty.call(fields, key) &&\n                hasOwnProperty.call(node, key) === false) {\n                warn(node, 'Field `' + type + '.' + key + '` is missed');\n            }\n        }\n    };\n}\n\nfunction processStructure(name, nodeType) {\n    var structure = nodeType.structure;\n    var fields = {\n        type: String,\n        loc: true\n    };\n    var docs = {\n        type: '\"' + name + '\"'\n    };\n\n    for (var key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        var docsTypes = [];\n        var fieldTypes = fields[key] = Array.isArray(structure[key])\n            ? structure[key].slice()\n            : [structure[key]];\n\n        for (var i = 0; i < fieldTypes.length; i++) {\n            var fieldType = fieldTypes[i];\n            if (fieldType === String || fieldType === Boolean) {\n                docsTypes.push(fieldType.name);\n            } else if (fieldType === null) {\n                docsTypes.push('null');\n            } else if (typeof fieldType === 'string') {\n                docsTypes.push('<' + fieldType + '>');\n            } else if (Array.isArray(fieldType)) {\n                docsTypes.push('List'); // TODO: use type enum\n            } else {\n                throw new Error('Wrong value `' + fieldType + '` in `' + name + '.' + key + '` structure definition');\n            }\n        }\n\n        docs[key] = docsTypes.join(' | ');\n    }\n\n    return {\n        docs: docs,\n        check: createNodeStructureChecker(name, fields)\n    };\n}\n\nmodule.exports = {\n    getStructureFromConfig: function(config) {\n        var structure = {};\n\n        if (config.node) {\n            for (var name in config.node) {\n                if (hasOwnProperty.call(config.node, name)) {\n                    var nodeType = config.node[name];\n\n                    if (nodeType.structure) {\n                        structure[name] = processStructure(name, nodeType);\n                    } else {\n                        throw new Error('Missed `structure` field in `' + name + '` node type definition');\n                    }\n                }\n            }\n        }\n\n        return structure;\n    }\n};\n","module.exports = {\n    SyntaxError: require('./SyntaxError'),\n    parse: require('./parse'),\n    generate: require('./generate'),\n    walk: require('./walk')\n};\n","var OffsetToLocation = require('../common/OffsetToLocation');\nvar SyntaxError = require('../common/SyntaxError');\nvar TokenStream = require('../common/TokenStream');\nvar List = require('../common/List');\nvar tokenize = require('../tokenizer');\nvar constants = require('../tokenizer/const');\nvar findWhiteSpaceStart = require('../tokenizer/utils').findWhiteSpaceStart;\nvar sequence = require('./sequence');\nvar noop = function() {};\n\nvar TYPE = constants.TYPE;\nvar NAME = constants.NAME;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar HASH = TYPE.Hash;\nvar PERCENTAGE = TYPE.Percentage;\nvar NUMBER = TYPE.Number;\nvar NUMBERSIGN = 0x0023; // U+0023 NUMBER SIGN (#)\nvar NULL = 0;\n\nfunction createParseContext(name) {\n    return function() {\n        return this[name]();\n    };\n}\n\nfunction processConfig(config) {\n    var parserConfig = {\n        context: {},\n        scope: {},\n        atrule: {},\n        pseudo: {}\n    };\n\n    if (config.parseContext) {\n        for (var name in config.parseContext) {\n            switch (typeof config.parseContext[name]) {\n                case 'function':\n                    parserConfig.context[name] = config.parseContext[name];\n                    break;\n\n                case 'string':\n                    parserConfig.context[name] = createParseContext(config.parseContext[name]);\n                    break;\n            }\n        }\n    }\n\n    if (config.scope) {\n        for (var name in config.scope) {\n            parserConfig.scope[name] = config.scope[name];\n        }\n    }\n\n    if (config.atrule) {\n        for (var name in config.atrule) {\n            var atrule = config.atrule[name];\n\n            if (atrule.parse) {\n                parserConfig.atrule[name] = atrule.parse;\n            }\n        }\n    }\n\n    if (config.pseudo) {\n        for (var name in config.pseudo) {\n            var pseudo = config.pseudo[name];\n\n            if (pseudo.parse) {\n                parserConfig.pseudo[name] = pseudo.parse;\n            }\n        }\n    }\n\n    if (config.node) {\n        for (var name in config.node) {\n            parserConfig[name] = config.node[name].parse;\n        }\n    }\n\n    return parserConfig;\n}\n\nmodule.exports = function createParser(config) {\n    var parser = {\n        scanner: new TokenStream(),\n        locationMap: new OffsetToLocation(),\n\n        filename: '<unknown>',\n        needPositions: false,\n        onParseError: noop,\n        onParseErrorThrow: false,\n        parseAtrulePrelude: true,\n        parseRulePrelude: true,\n        parseValue: true,\n        parseCustomProperty: false,\n\n        readSequence: sequence,\n\n        createList: function() {\n            return new List();\n        },\n        createSingleNodeList: function(node) {\n            return new List().appendData(node);\n        },\n        getFirstListNode: function(list) {\n            return list && list.first();\n        },\n        getLastListNode: function(list) {\n            return list.last();\n        },\n\n        parseWithFallback: function(consumer, fallback) {\n            var startToken = this.scanner.tokenIndex;\n\n            try {\n                return consumer.call(this);\n            } catch (e) {\n                if (this.onParseErrorThrow) {\n                    throw e;\n                }\n\n                var fallbackNode = fallback.call(this, startToken);\n\n                this.onParseErrorThrow = true;\n                this.onParseError(e, fallbackNode);\n                this.onParseErrorThrow = false;\n\n                return fallbackNode;\n            }\n        },\n\n        lookupNonWSType: function(offset) {\n            do {\n                var type = this.scanner.lookupType(offset++);\n                if (type !== WHITESPACE) {\n                    return type;\n                }\n            } while (type !== NULL);\n\n            return NULL;\n        },\n\n        eat: function(tokenType) {\n            if (this.scanner.tokenType !== tokenType) {\n                var offset = this.scanner.tokenStart;\n                var message = NAME[tokenType] + ' is expected';\n\n                // tweak message and offset\n                switch (tokenType) {\n                    case IDENT:\n                        // when identifier is expected but there is a function or url\n                        if (this.scanner.tokenType === FUNCTION || this.scanner.tokenType === URL) {\n                            offset = this.scanner.tokenEnd - 1;\n                            message = 'Identifier is expected but function found';\n                        } else {\n                            message = 'Identifier is expected';\n                        }\n                        break;\n\n                    case HASH:\n                        if (this.scanner.isDelim(NUMBERSIGN)) {\n                            this.scanner.next();\n                            offset++;\n                            message = 'Name is expected';\n                        }\n                        break;\n\n                    case PERCENTAGE:\n                        if (this.scanner.tokenType === NUMBER) {\n                            offset = this.scanner.tokenEnd;\n                            message = 'Percent sign is expected';\n                        }\n                        break;\n\n                    default:\n                        // when test type is part of another token show error for current position + 1\n                        // e.g. eat(HYPHENMINUS) will fail on \"-foo\", but pointing on \"-\" is odd\n                        if (this.scanner.source.charCodeAt(this.scanner.tokenStart) === tokenType) {\n                            offset = offset + 1;\n                        }\n                }\n\n                this.error(message, offset);\n            }\n\n            this.scanner.next();\n        },\n\n        consume: function(tokenType) {\n            var value = this.scanner.getTokenValue();\n\n            this.eat(tokenType);\n\n            return value;\n        },\n        consumeFunctionName: function() {\n            var name = this.scanner.source.substring(this.scanner.tokenStart, this.scanner.tokenEnd - 1);\n\n            this.eat(FUNCTION);\n\n            return name;\n        },\n\n        getLocation: function(start, end) {\n            if (this.needPositions) {\n                return this.locationMap.getLocationRange(\n                    start,\n                    end,\n                    this.filename\n                );\n            }\n\n            return null;\n        },\n        getLocationFromList: function(list) {\n            if (this.needPositions) {\n                var head = this.getFirstListNode(list);\n                var tail = this.getLastListNode(list);\n                return this.locationMap.getLocationRange(\n                    head !== null ? head.loc.start.offset - this.locationMap.startOffset : this.scanner.tokenStart,\n                    tail !== null ? tail.loc.end.offset - this.locationMap.startOffset : this.scanner.tokenStart,\n                    this.filename\n                );\n            }\n\n            return null;\n        },\n\n        error: function(message, offset) {\n            var location = typeof offset !== 'undefined' && offset < this.scanner.source.length\n                ? this.locationMap.getLocation(offset)\n                : this.scanner.eof\n                    ? this.locationMap.getLocation(findWhiteSpaceStart(this.scanner.source, this.scanner.source.length - 1))\n                    : this.locationMap.getLocation(this.scanner.tokenStart);\n\n            throw new SyntaxError(\n                message || 'Unexpected input',\n                this.scanner.source,\n                location.offset,\n                location.line,\n                location.column\n            );\n        }\n    };\n\n    config = processConfig(config || {});\n    for (var key in config) {\n        parser[key] = config[key];\n    }\n\n    return function(source, options) {\n        options = options || {};\n\n        var context = options.context || 'default';\n        var ast;\n\n        tokenize(source, parser.scanner);\n        parser.locationMap.setSource(\n            source,\n            options.offset,\n            options.line,\n            options.column\n        );\n\n        parser.filename = options.filename || '<unknown>';\n        parser.needPositions = Boolean(options.positions);\n        parser.onParseError = typeof options.onParseError === 'function' ? options.onParseError : noop;\n        parser.onParseErrorThrow = false;\n        parser.parseAtrulePrelude = 'parseAtrulePrelude' in options ? Boolean(options.parseAtrulePrelude) : true;\n        parser.parseRulePrelude = 'parseRulePrelude' in options ? Boolean(options.parseRulePrelude) : true;\n        parser.parseValue = 'parseValue' in options ? Boolean(options.parseValue) : true;\n        parser.parseCustomProperty = 'parseCustomProperty' in options ? Boolean(options.parseCustomProperty) : false;\n\n        if (!parser.context.hasOwnProperty(context)) {\n            throw new Error('Unknown context `' + context + '`');\n        }\n\n        ast = parser.context[context].call(parser, options);\n\n        if (!parser.scanner.eof) {\n            parser.error();\n        }\n\n        return ast;\n    };\n};\n","var adoptBuffer = require('./adopt-buffer');\nvar isBOM = require('../tokenizer').isBOM;\n\nvar N = 10;\nvar F = 12;\nvar R = 13;\n\nfunction computeLinesAndColumns(host, source) {\n    var sourceLength = source.length;\n    var lines = adoptBuffer(host.lines, sourceLength); // +1\n    var line = host.startLine;\n    var columns = adoptBuffer(host.columns, sourceLength);\n    var column = host.startColumn;\n    var startOffset = source.length > 0 ? isBOM(source.charCodeAt(0)) : 0;\n\n    for (var i = startOffset; i < sourceLength; i++) { // -1\n        var code = source.charCodeAt(i);\n\n        lines[i] = line;\n        columns[i] = column++;\n\n        if (code === N || code === R || code === F) {\n            if (code === R && i + 1 < sourceLength && source.charCodeAt(i + 1) === N) {\n                i++;\n                lines[i] = line;\n                columns[i] = column;\n            }\n\n            line++;\n            column = 1;\n        }\n    }\n\n    lines[i] = line;\n    columns[i] = column;\n\n    host.lines = lines;\n    host.columns = columns;\n}\n\nvar OffsetToLocation = function() {\n    this.lines = null;\n    this.columns = null;\n    this.linesAndColumnsComputed = false;\n};\n\nOffsetToLocation.prototype = {\n    setSource: function(source, startOffset, startLine, startColumn) {\n        this.source = source;\n        this.startOffset = typeof startOffset === 'undefined' ? 0 : startOffset;\n        this.startLine = typeof startLine === 'undefined' ? 1 : startLine;\n        this.startColumn = typeof startColumn === 'undefined' ? 1 : startColumn;\n        this.linesAndColumnsComputed = false;\n    },\n\n    ensureLinesAndColumnsComputed: function() {\n        if (!this.linesAndColumnsComputed) {\n            computeLinesAndColumns(this, this.source);\n            this.linesAndColumnsComputed = true;\n        }\n    },\n    getLocation: function(offset, filename) {\n        this.ensureLinesAndColumnsComputed();\n\n        return {\n            source: filename,\n            offset: this.startOffset + offset,\n            line: this.lines[offset],\n            column: this.columns[offset]\n        };\n    },\n    getLocationRange: function(start, end, filename) {\n        this.ensureLinesAndColumnsComputed();\n\n        return {\n            source: filename,\n            start: {\n                offset: this.startOffset + start,\n                line: this.lines[start],\n                column: this.columns[start]\n            },\n            end: {\n                offset: this.startOffset + end,\n                line: this.lines[end],\n                column: this.columns[end]\n            }\n        };\n    }\n};\n\nmodule.exports = OffsetToLocation;\n","var TYPE = require('../tokenizer').TYPE;\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\n\nmodule.exports = function readSequence(recognizer) {\n    var children = this.createList();\n    var child = null;\n    var context = {\n        recognizer: recognizer,\n        space: null,\n        ignoreWS: false,\n        ignoreWSAfter: false\n    };\n\n    this.scanner.skipSC();\n\n    while (!this.scanner.eof) {\n        switch (this.scanner.tokenType) {\n            case COMMENT:\n                this.scanner.next();\n                continue;\n\n            case WHITESPACE:\n                if (context.ignoreWS) {\n                    this.scanner.next();\n                } else {\n                    context.space = this.WhiteSpace();\n                }\n                continue;\n        }\n\n        child = recognizer.getNode.call(this, context);\n\n        if (child === undefined) {\n            break;\n        }\n\n        if (context.space !== null) {\n            children.push(context.space);\n            context.space = null;\n        }\n\n        children.push(child);\n\n        if (context.ignoreWSAfter) {\n            context.ignoreWSAfter = false;\n            context.ignoreWS = true;\n        } else {\n            context.ignoreWS = false;\n        }\n    }\n\n    return children;\n};\n","var sourceMap = require('./sourceMap');\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction processChildren(node, delimeter) {\n    var list = node.children;\n    var prev = null;\n\n    if (typeof delimeter !== 'function') {\n        list.forEach(this.node, this);\n    } else {\n        list.forEach(function(node) {\n            if (prev !== null) {\n                delimeter.call(this, prev);\n            }\n\n            this.node(node);\n            prev = node;\n        }, this);\n    }\n}\n\nmodule.exports = function createGenerator(config) {\n    function processNode(node) {\n        if (hasOwnProperty.call(types, node.type)) {\n            types[node.type].call(this, node);\n        } else {\n            throw new Error('Unknown node type: ' + node.type);\n        }\n    }\n\n    var types = {};\n\n    if (config.node) {\n        for (var name in config.node) {\n            types[name] = config.node[name].generate;\n        }\n    }\n\n    return function(node, options) {\n        var buffer = '';\n        var handlers = {\n            children: processChildren,\n            node: processNode,\n            chunk: function(chunk) {\n                buffer += chunk;\n            },\n            result: function() {\n                return buffer;\n            }\n        };\n\n        if (options) {\n            if (typeof options.decorator === 'function') {\n                handlers = options.decorator(handlers);\n            }\n\n            if (options.sourceMap) {\n                handlers = sourceMap(handlers);\n            }\n        }\n\n        handlers.node(node);\n\n        return handlers.result();\n    };\n};\n","var SourceMapGenerator = require('source-map/lib/source-map-generator').SourceMapGenerator;\nvar trackNodes = {\n    Atrule: true,\n    Selector: true,\n    Declaration: true\n};\n\nmodule.exports = function generateSourceMap(handlers) {\n    var map = new SourceMapGenerator();\n    var line = 1;\n    var column = 0;\n    var generated = {\n        line: 1,\n        column: 0\n    };\n    var original = {\n        line: 0, // should be zero to add first mapping\n        column: 0\n    };\n    var sourceMappingActive = false;\n    var activatedGenerated = {\n        line: 1,\n        column: 0\n    };\n    var activatedMapping = {\n        generated: activatedGenerated\n    };\n\n    var handlersNode = handlers.node;\n    handlers.node = function(node) {\n        if (node.loc && node.loc.start && trackNodes.hasOwnProperty(node.type)) {\n            var nodeLine = node.loc.start.line;\n            var nodeColumn = node.loc.start.column - 1;\n\n            if (original.line !== nodeLine ||\n                original.column !== nodeColumn) {\n                original.line = nodeLine;\n                original.column = nodeColumn;\n\n                generated.line = line;\n                generated.column = column;\n\n                if (sourceMappingActive) {\n                    sourceMappingActive = false;\n                    if (generated.line !== activatedGenerated.line ||\n                        generated.column !== activatedGenerated.column) {\n                        map.addMapping(activatedMapping);\n                    }\n                }\n\n                sourceMappingActive = true;\n                map.addMapping({\n                    source: node.loc.source,\n                    original: original,\n                    generated: generated\n                });\n            }\n        }\n\n        handlersNode.call(this, node);\n\n        if (sourceMappingActive && trackNodes.hasOwnProperty(node.type)) {\n            activatedGenerated.line = line;\n            activatedGenerated.column = column;\n        }\n    };\n\n    var handlersChunk = handlers.chunk;\n    handlers.chunk = function(chunk) {\n        for (var i = 0; i < chunk.length; i++) {\n            if (chunk.charCodeAt(i) === 10) { // \\n\n                line++;\n                column = 0;\n            } else {\n                column++;\n            }\n        }\n\n        handlersChunk(chunk);\n    };\n\n    var handlersResult = handlers.result;\n    handlers.result = function() {\n        if (sourceMappingActive) {\n            map.addMapping(activatedMapping);\n        }\n\n        return {\n            css: handlersResult(),\n            map: map\n        };\n    };\n\n    return handlers;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n","/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n","var List = require('../common/List');\n\nmodule.exports = function createConvertors(walk) {\n    return {\n        fromPlainObject: function(ast) {\n            walk(ast, {\n                enter: function(node) {\n                    if (node.children && node.children instanceof List === false) {\n                        node.children = new List().fromArray(node.children);\n                    }\n                }\n            });\n\n            return ast;\n        },\n        toPlainObject: function(ast) {\n            walk(ast, {\n                leave: function(node) {\n                    if (node.children && node.children instanceof List) {\n                        node.children = node.children.toArray();\n                    }\n                }\n            });\n\n            return ast;\n        }\n    };\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar noop = function() {};\n\nfunction ensureFunction(value) {\n    return typeof value === 'function' ? value : noop;\n}\n\nfunction invokeForType(fn, type) {\n    return function(node, item, list) {\n        if (node.type === type) {\n            fn.call(this, node, item, list);\n        }\n    };\n}\n\nfunction getWalkersFromStructure(name, nodeType) {\n    var structure = nodeType.structure;\n    var walkers = [];\n\n    for (var key in structure) {\n        if (hasOwnProperty.call(structure, key) === false) {\n            continue;\n        }\n\n        var fieldTypes = structure[key];\n        var walker = {\n            name: key,\n            type: false,\n            nullable: false\n        };\n\n        if (!Array.isArray(structure[key])) {\n            fieldTypes = [structure[key]];\n        }\n\n        for (var i = 0; i < fieldTypes.length; i++) {\n            var fieldType = fieldTypes[i];\n            if (fieldType === null) {\n                walker.nullable = true;\n            } else if (typeof fieldType === 'string') {\n                walker.type = 'node';\n            } else if (Array.isArray(fieldType)) {\n                walker.type = 'list';\n            }\n        }\n\n        if (walker.type) {\n            walkers.push(walker);\n        }\n    }\n\n    if (walkers.length) {\n        return {\n            context: nodeType.walkContext,\n            fields: walkers\n        };\n    }\n\n    return null;\n}\n\nfunction getTypesFromConfig(config) {\n    var types = {};\n\n    for (var name in config.node) {\n        if (hasOwnProperty.call(config.node, name)) {\n            var nodeType = config.node[name];\n\n            if (!nodeType.structure) {\n                throw new Error('Missed `structure` field in `' + name + '` node type definition');\n            }\n\n            types[name] = getWalkersFromStructure(name, nodeType);\n        }\n    }\n\n    return types;\n}\n\nfunction createTypeIterator(config, reverse) {\n    var fields = config.fields.slice();\n    var contextName = config.context;\n    var useContext = typeof contextName === 'string';\n\n    if (reverse) {\n        fields.reverse();\n    }\n\n    return function(node, context, walk) {\n        var prevContextValue;\n\n        if (useContext) {\n            prevContextValue = context[contextName];\n            context[contextName] = node;\n        }\n\n        for (var i = 0; i < fields.length; i++) {\n            var field = fields[i];\n            var ref = node[field.name];\n\n            if (!field.nullable || ref) {\n                if (field.type === 'list') {\n                    if (reverse) {\n                        ref.forEachRight(walk);\n                    } else {\n                        ref.forEach(walk);\n                    }\n                } else {\n                    walk(ref);\n                }\n            }\n        }\n\n        if (useContext) {\n            context[contextName] = prevContextValue;\n        }\n    };\n}\n\nfunction createFastTraveralMap(iterators) {\n    return {\n        Atrule: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block\n        },\n        Rule: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block\n        },\n        Declaration: {\n            StyleSheet: iterators.StyleSheet,\n            Atrule: iterators.Atrule,\n            Rule: iterators.Rule,\n            Block: iterators.Block,\n            DeclarationList: iterators.DeclarationList\n        }\n    };\n}\n\nmodule.exports = function createWalker(config) {\n    var types = getTypesFromConfig(config);\n    var iteratorsNatural = {};\n    var iteratorsReverse = {};\n\n    for (var name in types) {\n        if (hasOwnProperty.call(types, name) && types[name] !== null) {\n            iteratorsNatural[name] = createTypeIterator(types[name], false);\n            iteratorsReverse[name] = createTypeIterator(types[name], true);\n        }\n    }\n\n    var fastTraversalIteratorsNatural = createFastTraveralMap(iteratorsNatural);\n    var fastTraversalIteratorsReverse = createFastTraveralMap(iteratorsReverse);\n\n    var walk = function(root, options) {\n        function walkNode(node, item, list) {\n            enter.call(context, node, item, list);\n\n            if (iterators.hasOwnProperty(node.type)) {\n                iterators[node.type](node, context, walkNode);\n            }\n\n            leave.call(context, node, item, list);\n        }\n\n        var enter = noop;\n        var leave = noop;\n        var iterators = iteratorsNatural;\n        var context = {\n            root: root,\n            stylesheet: null,\n            atrule: null,\n            atrulePrelude: null,\n            rule: null,\n            selector: null,\n            block: null,\n            declaration: null,\n            function: null\n        };\n\n        if (typeof options === 'function') {\n            enter = options;\n        } else if (options) {\n            enter = ensureFunction(options.enter);\n            leave = ensureFunction(options.leave);\n\n            if (options.reverse) {\n                iterators = iteratorsReverse;\n            }\n\n            if (options.visit) {\n                if (fastTraversalIteratorsNatural.hasOwnProperty(options.visit)) {\n                    iterators = options.reverse\n                        ? fastTraversalIteratorsReverse[options.visit]\n                        : fastTraversalIteratorsNatural[options.visit];\n                } else if (!types.hasOwnProperty(options.visit)) {\n                    throw new Error('Bad value `' + options.visit + '` for `visit` option (should be: ' + Object.keys(types).join(', ') + ')');\n                }\n\n                enter = invokeForType(enter, options.visit);\n                leave = invokeForType(leave, options.visit);\n            }\n        }\n\n        if (enter === noop && leave === noop) {\n            throw new Error('Neither `enter` nor `leave` walker handler is set or both aren\\'t a function');\n        }\n\n        // swap handlers in reverse mode to invert visit order\n        if (options.reverse) {\n            var tmp = enter;\n            enter = leave;\n            leave = tmp;\n        }\n\n        walkNode(root);\n    };\n\n    walk.find = function(ast, fn) {\n        var found = null;\n\n        walk(ast, function(node, item, list) {\n            if (found === null && fn.call(this, node, item, list)) {\n                found = node;\n            }\n        });\n\n        return found;\n    };\n\n    walk.findLast = function(ast, fn) {\n        var found = null;\n\n        walk(ast, {\n            reverse: true,\n            enter: function(node, item, list) {\n                if (found === null && fn.call(this, node, item, list)) {\n                    found = node;\n                }\n            }\n        });\n\n        return found;\n    };\n\n    walk.findAll = function(ast, fn) {\n        var found = [];\n\n        walk(ast, function(node, item, list) {\n            if (fn.call(this, node, item, list)) {\n                found.push(node);\n            }\n        });\n\n        return found;\n    };\n\n    return walk;\n};\n","var List = require('../common/List');\n\nmodule.exports = function clone(node) {\n    var result = {};\n\n    for (var key in node) {\n        var value = node[key];\n\n        if (value) {\n            if (Array.isArray(value) || value instanceof List) {\n                value = value.map(clone);\n            } else if (value.constructor === Object) {\n                value = clone(value);\n            }\n        }\n\n        result[key] = value;\n    }\n\n    return result;\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar shape = {\n    generic: true,\n    types: {},\n    atrules: {},\n    properties: {},\n    parseContext: {},\n    scope: {},\n    atrule: ['parse'],\n    pseudo: ['parse'],\n    node: ['name', 'structure', 'parse', 'generate', 'walkContext']\n};\n\nfunction isObject(value) {\n    return value && value.constructor === Object;\n}\n\nfunction copy(value) {\n    if (isObject(value)) {\n        return Object.assign({}, value);\n    } else {\n        return value;\n    }\n}\nfunction extend(dest, src) {\n    for (var key in src) {\n        if (hasOwnProperty.call(src, key)) {\n            if (isObject(dest[key])) {\n                extend(dest[key], copy(src[key]));\n            } else {\n                dest[key] = copy(src[key]);\n            }\n        }\n    }\n}\n\nfunction mix(dest, src, shape) {\n    for (var key in shape) {\n        if (hasOwnProperty.call(shape, key) === false) {\n            continue;\n        }\n\n        if (shape[key] === true) {\n            if (key in src) {\n                if (hasOwnProperty.call(src, key)) {\n                    dest[key] = copy(src[key]);\n                }\n            }\n        } else if (shape[key]) {\n            if (isObject(shape[key])) {\n                var res = {};\n                extend(res, dest[key]);\n                extend(res, src[key]);\n                dest[key] = res;\n            } else if (Array.isArray(shape[key])) {\n                var res = {};\n                var innerShape = shape[key].reduce(function(s, k) {\n                    s[k] = true;\n                    return s;\n                }, {});\n                for (var name in dest[key]) {\n                    if (hasOwnProperty.call(dest[key], name)) {\n                        res[name] = {};\n                        if (dest[key] && dest[key][name]) {\n                            mix(res[name], dest[key][name], innerShape);\n                        }\n                    }\n                }\n                for (var name in src[key]) {\n                    if (hasOwnProperty.call(src[key], name)) {\n                        if (!res[name]) {\n                            res[name] = {};\n                        }\n                        if (src[key] && src[key][name]) {\n                            mix(res[name], src[key][name], innerShape);\n                        }\n                    }\n                }\n                dest[key] = res;\n            }\n        }\n    }\n    return dest;\n}\n\nmodule.exports = function(dest, src) {\n    return mix(dest, src, shape);\n};\n","var data = require('../../../data');\n\nmodule.exports = {\n    generic: true,\n    types: data.types,\n    atrules: data.atrules,\n    properties: data.properties,\n    node: require('../node')\n};\n","var cmpChar = require('../../tokenizer').cmpChar;\nvar isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;    // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D; // U+002D HYPHEN-MINUS (-)\nvar N = 0x006E;           // U+006E LATIN SMALL LETTER N (n)\nvar DISALLOW_SIGN = true;\nvar ALLOW_SIGN = false;\n\nfunction checkInteger(offset, disallowSign) {\n    var pos = this.scanner.tokenStart + offset;\n    var code = this.scanner.source.charCodeAt(pos);\n\n    if (code === PLUSSIGN || code === HYPHENMINUS) {\n        if (disallowSign) {\n            this.error('Number sign is not allowed');\n        }\n        pos++;\n    }\n\n    for (; pos < this.scanner.tokenEnd; pos++) {\n        if (!isDigit(this.scanner.source.charCodeAt(pos))) {\n            this.error('Integer is expected', pos);\n        }\n    }\n}\n\nfunction checkTokenIsInteger(disallowSign) {\n    return checkInteger.call(this, 0, disallowSign);\n}\n\nfunction expectCharCode(offset, code) {\n    if (!cmpChar(this.scanner.source, this.scanner.tokenStart + offset, code)) {\n        var msg = '';\n\n        switch (code) {\n            case N:\n                msg = 'N is expected';\n                break;\n            case HYPHENMINUS:\n                msg = 'HyphenMinus is expected';\n                break;\n        }\n\n        this.error(msg, this.scanner.tokenStart + offset);\n    }\n}\n\n// ... <signed-integer>\n// ... ['+' | '-'] <signless-integer>\nfunction consumeB() {\n    var offset = 0;\n    var sign = 0;\n    var type = this.scanner.tokenType;\n\n    while (type === WHITESPACE || type === COMMENT) {\n        type = this.scanner.lookupType(++offset);\n    }\n\n    if (type !== NUMBER) {\n        if (this.scanner.isDelim(PLUSSIGN, offset) ||\n            this.scanner.isDelim(HYPHENMINUS, offset)) {\n            sign = this.scanner.isDelim(PLUSSIGN, offset) ? PLUSSIGN : HYPHENMINUS;\n\n            do {\n                type = this.scanner.lookupType(++offset);\n            } while (type === WHITESPACE || type === COMMENT);\n\n            if (type !== NUMBER) {\n                this.scanner.skip(offset);\n                checkTokenIsInteger.call(this, DISALLOW_SIGN);\n            }\n        } else {\n            return null;\n        }\n    }\n\n    if (offset > 0) {\n        this.scanner.skip(offset);\n    }\n\n    if (sign === 0) {\n        type = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n        if (type !== PLUSSIGN && type !== HYPHENMINUS) {\n            this.error('Number sign is expected');\n        }\n    }\n\n    checkTokenIsInteger.call(this, sign !== 0);\n    return sign === HYPHENMINUS ? '-' + this.consume(NUMBER) : this.consume(NUMBER);\n}\n\n// An+B microsyntax https://www.w3.org/TR/css-syntax-3/#anb\nmodule.exports = {\n    name: 'AnPlusB',\n    structure: {\n        a: [String, null],\n        b: [String, null]\n    },\n    parse: function() {\n        /* eslint-disable brace-style*/\n        var start = this.scanner.tokenStart;\n        var a = null;\n        var b = null;\n\n        // <integer>\n        if (this.scanner.tokenType === NUMBER) {\n            checkTokenIsInteger.call(this, ALLOW_SIGN);\n            b = this.consume(NUMBER);\n        }\n\n        // -n\n        // -n <signed-integer>\n        // -n ['+' | '-'] <signless-integer>\n        // -n- <signless-integer>\n        // <dashndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT && cmpChar(this.scanner.source, this.scanner.tokenStart, HYPHENMINUS)) {\n            a = '-1';\n\n            expectCharCode.call(this, 1, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // -n\n                // -n <signed-integer>\n                // -n ['+' | '-'] <signless-integer>\n                case 2:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // -n- <signless-integer>\n                case 3:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // <dashndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 2, HYPHENMINUS);\n                    checkInteger.call(this, 3, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + 2);\n            }\n        }\n\n        // '+'? n\n        // '+'? n <signed-integer>\n        // '+'? n ['+' | '-'] <signless-integer>\n        // '+'? n- <signless-integer>\n        // '+'? <ndashdigit-ident>\n        else if (this.scanner.tokenType === IDENT || (this.scanner.isDelim(PLUSSIGN) && this.scanner.lookupType(1) === IDENT)) {\n            var sign = 0;\n            a = '1';\n\n            // just ignore a plus\n            if (this.scanner.isDelim(PLUSSIGN)) {\n                sign = 1;\n                this.scanner.next();\n            }\n\n            expectCharCode.call(this, 0, N);\n\n            switch (this.scanner.getTokenLength()) {\n                // '+'? n\n                // '+'? n <signed-integer>\n                // '+'? n ['+' | '-'] <signless-integer>\n                case 1:\n                    this.scanner.next();\n                    b = consumeB.call(this);\n                    break;\n\n                // '+'? n- <signless-integer>\n                case 2:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n\n                    this.scanner.next();\n                    this.scanner.skipSC();\n\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n\n                    b = '-' + this.consume(NUMBER);\n                    break;\n\n                // '+'? <ndashdigit-ident>\n                default:\n                    expectCharCode.call(this, 1, HYPHENMINUS);\n                    checkInteger.call(this, 2, DISALLOW_SIGN);\n                    this.scanner.next();\n\n                    b = this.scanner.substrToCursor(start + sign + 1);\n            }\n        }\n\n        // <ndashdigit-dimension>\n        // <ndash-dimension> <signless-integer>\n        // <n-dimension>\n        // <n-dimension> <signed-integer>\n        // <n-dimension> ['+' | '-'] <signless-integer>\n        else if (this.scanner.tokenType === DIMENSION) {\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n            var sign = code === PLUSSIGN || code === HYPHENMINUS;\n\n            for (var i = this.scanner.tokenStart + sign; i < this.scanner.tokenEnd; i++) {\n                if (!isDigit(this.scanner.source.charCodeAt(i))) {\n                    break;\n                }\n            }\n\n            if (i === this.scanner.tokenStart + sign) {\n                this.error('Integer is expected', this.scanner.tokenStart + sign);\n            }\n\n            expectCharCode.call(this, i - this.scanner.tokenStart, N);\n            a = this.scanner.source.substring(start, i);\n\n            // <n-dimension>\n            // <n-dimension> <signed-integer>\n            // <n-dimension> ['+' | '-'] <signless-integer>\n            if (i + 1 === this.scanner.tokenEnd) {\n                this.scanner.next();\n                b = consumeB.call(this);\n            } else {\n                expectCharCode.call(this, i - this.scanner.tokenStart + 1, HYPHENMINUS);\n\n                // <ndash-dimension> <signless-integer>\n                if (i + 2 === this.scanner.tokenEnd) {\n                    this.scanner.next();\n                    this.scanner.skipSC();\n                    checkTokenIsInteger.call(this, DISALLOW_SIGN);\n                    b = '-' + this.consume(NUMBER);\n                }\n                // <ndashdigit-dimension>\n                else {\n                    checkInteger.call(this, i - this.scanner.tokenStart + 2, DISALLOW_SIGN);\n                    this.scanner.next();\n                    b = this.scanner.substrToCursor(i + 1);\n                }\n            }\n        } else {\n            this.error();\n        }\n\n        if (a !== null && a.charCodeAt(0) === PLUSSIGN) {\n            a = a.substr(1);\n        }\n\n        if (b !== null && b.charCodeAt(0) === PLUSSIGN) {\n            b = b.substr(1);\n        }\n\n        return {\n            type: 'AnPlusB',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            a: a,\n            b: b\n        };\n    },\n    generate: function(node) {\n        var a = node.a !== null && node.a !== undefined;\n        var b = node.b !== null && node.b !== undefined;\n\n        if (a) {\n            this.chunk(\n                node.a === '+1' ? '+n' : // eslint-disable-line operator-linebreak, indent\n                node.a ===  '1' ?  'n' : // eslint-disable-line operator-linebreak, indent\n                node.a === '-1' ? '-n' : // eslint-disable-line operator-linebreak, indent\n                node.a + 'n'             // eslint-disable-line operator-linebreak, indent\n            );\n\n            if (b) {\n                b = String(node.b);\n                if (b.charAt(0) === '-' || b.charAt(0) === '+') {\n                    this.chunk(b.charAt(0));\n                    this.chunk(b.substr(1));\n                } else {\n                    this.chunk('+');\n                    this.chunk(b);\n                }\n            }\n        } else {\n            this.chunk(String(node.b));\n        }\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar ATKEYWORD = TYPE.AtKeyword;\nvar SEMICOLON = TYPE.Semicolon;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\nvar RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracketOrSemicolon, true);\n}\n\nfunction isDeclarationBlockAtrule() {\n    for (var offset = 1, type; type = this.scanner.lookupType(offset); offset++) {\n        if (type === RIGHTCURLYBRACKET) {\n            return true;\n        }\n\n        if (type === LEFTCURLYBRACKET ||\n            type === ATKEYWORD) {\n            return false;\n        }\n    }\n\n    return false;\n}\n\nmodule.exports = {\n    name: 'Atrule',\n    structure: {\n        name: String,\n        prelude: ['AtrulePrelude', 'Raw', null],\n        block: ['Block', null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var nameLowerCase;\n        var prelude = null;\n        var block = null;\n\n        this.eat(ATKEYWORD);\n\n        name = this.scanner.substrToCursor(start + 1);\n        nameLowerCase = name.toLowerCase();\n        this.scanner.skipSC();\n\n        // parse prelude\n        if (this.scanner.eof === false &&\n            this.scanner.tokenType !== LEFTCURLYBRACKET &&\n            this.scanner.tokenType !== SEMICOLON) {\n            if (this.parseAtrulePrelude) {\n                prelude = this.parseWithFallback(this.AtrulePrelude.bind(this, name), consumeRaw);\n\n                // turn empty AtrulePrelude into null\n                if (prelude.type === 'AtrulePrelude' && prelude.children.head === null) {\n                    prelude = null;\n                }\n            } else {\n                prelude = consumeRaw.call(this, this.scanner.tokenIndex);\n            }\n\n            this.scanner.skipSC();\n        }\n\n        switch (this.scanner.tokenType) {\n            case SEMICOLON:\n                this.scanner.next();\n                break;\n\n            case LEFTCURLYBRACKET:\n                if (this.atrule.hasOwnProperty(nameLowerCase) &&\n                    typeof this.atrule[nameLowerCase].block === 'function') {\n                    block = this.atrule[nameLowerCase].block.call(this);\n                } else {\n                    // TODO: should consume block content as Raw?\n                    block = this.Block(isDeclarationBlockAtrule.call(this));\n                }\n\n                break;\n        }\n\n        return {\n            type: 'Atrule',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            prelude: prelude,\n            block: block\n        };\n    },\n    generate: function(node) {\n        this.chunk('@');\n        this.chunk(node.name);\n\n        if (node.prelude !== null) {\n            this.chunk(' ');\n            this.node(node.prelude);\n        }\n\n        if (node.block) {\n            this.node(node.block);\n        } else {\n            this.chunk(';');\n        }\n    },\n    walkContext: 'atrule'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar SEMICOLON = TYPE.Semicolon;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n\nmodule.exports = {\n    name: 'AtrulePrelude',\n    structure: {\n        children: [[]]\n    },\n    parse: function(name) {\n        var children = null;\n\n        if (name !== null) {\n            name = name.toLowerCase();\n        }\n\n        this.scanner.skipSC();\n\n        if (this.atrule.hasOwnProperty(name) &&\n            typeof this.atrule[name].prelude === 'function') {\n            // custom consumer\n            children = this.atrule[name].prelude.call(this);\n        } else {\n            // default consumer\n            children = this.readSequence(this.scope.AtrulePrelude);\n        }\n\n        this.scanner.skipSC();\n\n        if (this.scanner.eof !== true &&\n            this.scanner.tokenType !== LEFTCURLYBRACKET &&\n            this.scanner.tokenType !== SEMICOLON) {\n            this.error('Semicolon or block is expected');\n        }\n\n        if (children === null) {\n            children = this.createList();\n        }\n\n        return {\n            type: 'AtrulePrelude',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    },\n    walkContext: 'atrulePrelude'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar STRING = TYPE.String;\nvar COLON = TYPE.Colon;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\nvar DOLLARSIGN = 0x0024;       // U+0024 DOLLAR SIGN ($)\nvar ASTERISK = 0x002A;         // U+002A ASTERISK (*)\nvar EQUALSSIGN = 0x003D;       // U+003D EQUALS SIGN (=)\nvar CIRCUMFLEXACCENT = 0x005E; // U+005E (^)\nvar VERTICALLINE = 0x007C;     // U+007C VERTICAL LINE (|)\nvar TILDE = 0x007E;            // U+007E TILDE (~)\n\nfunction getAttributeName() {\n    if (this.scanner.eof) {\n        this.error('Unexpected end of input');\n    }\n\n    var start = this.scanner.tokenStart;\n    var expectIdent = false;\n    var checkColon = true;\n\n    if (this.scanner.isDelim(ASTERISK)) {\n        expectIdent = true;\n        checkColon = false;\n        this.scanner.next();\n    } else if (!this.scanner.isDelim(VERTICALLINE)) {\n        this.eat(IDENT);\n    }\n\n    if (this.scanner.isDelim(VERTICALLINE)) {\n        if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 1) !== EQUALSSIGN) {\n            this.scanner.next();\n            this.eat(IDENT);\n        } else if (expectIdent) {\n            this.error('Identifier is expected', this.scanner.tokenEnd);\n        }\n    } else if (expectIdent) {\n        this.error('Vertical line is expected');\n    }\n\n    if (checkColon && this.scanner.tokenType === COLON) {\n        this.scanner.next();\n        this.eat(IDENT);\n    }\n\n    return {\n        type: 'Identifier',\n        loc: this.getLocation(start, this.scanner.tokenStart),\n        name: this.scanner.substrToCursor(start)\n    };\n}\n\nfunction getOperator() {\n    var start = this.scanner.tokenStart;\n    var code = this.scanner.source.charCodeAt(start);\n\n    if (code !== EQUALSSIGN &&        // =\n        code !== TILDE &&             // ~=\n        code !== CIRCUMFLEXACCENT &&  // ^=\n        code !== DOLLARSIGN &&        // $=\n        code !== ASTERISK &&          // *=\n        code !== VERTICALLINE         // |=\n    ) {\n        this.error('Attribute selector (=, ~=, ^=, $=, *=, |=) is expected');\n    }\n\n    this.scanner.next();\n\n    if (code !== EQUALSSIGN) {\n        if (!this.scanner.isDelim(EQUALSSIGN)) {\n            this.error('Equal sign is expected');\n        }\n\n        this.scanner.next();\n    }\n\n    return this.scanner.substrToCursor(start);\n}\n\n// '[' <wq-name> ']'\n// '[' <wq-name> <attr-matcher> [ <string-token> | <ident-token> ] <attr-modifier>? ']'\nmodule.exports = {\n    name: 'AttributeSelector',\n    structure: {\n        name: 'Identifier',\n        matcher: [String, null],\n        value: ['String', 'Identifier', null],\n        flags: [String, null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var matcher = null;\n        var value = null;\n        var flags = null;\n\n        this.eat(LEFTSQUAREBRACKET);\n        this.scanner.skipSC();\n\n        name = getAttributeName.call(this);\n        this.scanner.skipSC();\n\n        if (this.scanner.tokenType !== RIGHTSQUAREBRACKET) {\n            // avoid case `[name i]`\n            if (this.scanner.tokenType !== IDENT) {\n                matcher = getOperator.call(this);\n\n                this.scanner.skipSC();\n\n                value = this.scanner.tokenType === STRING\n                    ? this.String()\n                    : this.Identifier();\n\n                this.scanner.skipSC();\n            }\n\n            // attribute flags\n            if (this.scanner.tokenType === IDENT) {\n                flags = this.scanner.getTokenValue();\n                this.scanner.next();\n\n                this.scanner.skipSC();\n            }\n        }\n\n        this.eat(RIGHTSQUAREBRACKET);\n\n        return {\n            type: 'AttributeSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            matcher: matcher,\n            value: value,\n            flags: flags\n        };\n    },\n    generate: function(node) {\n        var flagsPrefix = ' ';\n\n        this.chunk('[');\n        this.node(node.name);\n\n        if (node.matcher !== null) {\n            this.chunk(node.matcher);\n\n            if (node.value !== null) {\n                this.node(node.value);\n\n                // space between string and flags is not required\n                if (node.value.type === 'String') {\n                    flagsPrefix = '';\n                }\n            }\n        }\n\n        if (node.flags !== null) {\n            this.chunk(flagsPrefix);\n            this.chunk(node.flags);\n        }\n\n        this.chunk(']');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar SEMICOLON = TYPE.Semicolon;\nvar ATKEYWORD = TYPE.AtKeyword;\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\nvar RIGHTCURLYBRACKET = TYPE.RightCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, null, true);\n}\nfunction consumeRule() {\n    return this.parseWithFallback(this.Rule, consumeRaw);\n}\nfunction consumeRawDeclaration(startToken) {\n    return this.Raw(startToken, rawMode.semicolonIncluded, true);\n}\nfunction consumeDeclaration() {\n    if (this.scanner.tokenType === SEMICOLON) {\n        return consumeRawDeclaration.call(this, this.scanner.tokenIndex);\n    }\n\n    var node = this.parseWithFallback(this.Declaration, consumeRawDeclaration);\n\n    if (this.scanner.tokenType === SEMICOLON) {\n        this.scanner.next();\n    }\n\n    return node;\n}\n\nmodule.exports = {\n    name: 'Block',\n    structure: {\n        children: [[\n            'Atrule',\n            'Rule',\n            'Declaration'\n        ]]\n    },\n    parse: function(isDeclaration) {\n        var consumer = isDeclaration ? consumeDeclaration : consumeRule;\n\n        var start = this.scanner.tokenStart;\n        var children = this.createList();\n\n        this.eat(LEFTCURLYBRACKET);\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case RIGHTCURLYBRACKET:\n                    break scan;\n\n                case WHITESPACE:\n                case COMMENT:\n                    this.scanner.next();\n                    break;\n\n                case ATKEYWORD:\n                    children.push(this.parseWithFallback(this.Atrule, consumeRaw));\n                    break;\n\n                default:\n                    children.push(consumer.call(this));\n            }\n        }\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTCURLYBRACKET);\n        }\n\n        return {\n            type: 'Block',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('{');\n        this.children(node, function(prev) {\n            if (prev.type === 'Declaration') {\n                this.chunk(';');\n            }\n        });\n        this.chunk('}');\n    },\n    walkContext: 'block'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar RIGHTSQUAREBRACKET = TYPE.RightSquareBracket;\n\nmodule.exports = {\n    name: 'Brackets',\n    structure: {\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var children = null;\n\n        this.eat(LEFTSQUAREBRACKET);\n\n        children = readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTSQUAREBRACKET);\n        }\n\n        return {\n            type: 'Brackets',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('[');\n        this.children(node);\n        this.chunk(']');\n    }\n};\n","var CDC = require('../../tokenizer').TYPE.CDC;\n\nmodule.exports = {\n    name: 'CDC',\n    structure: [],\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(CDC); // -->\n\n        return {\n            type: 'CDC',\n            loc: this.getLocation(start, this.scanner.tokenStart)\n        };\n    },\n    generate: function() {\n        this.chunk('-->');\n    }\n};\n","var CDO = require('../../tokenizer').TYPE.CDO;\n\nmodule.exports = {\n    name: 'CDO',\n    structure: [],\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(CDO); // <!--\n\n        return {\n            type: 'CDO',\n            loc: this.getLocation(start, this.scanner.tokenStart)\n        };\n    },\n    generate: function() {\n        this.chunk('<!--');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// '.' ident\nmodule.exports = {\n    name: 'ClassSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        if (!this.scanner.isDelim(FULLSTOP)) {\n            this.error('Full stop is expected');\n        }\n\n        this.scanner.next();\n\n        return {\n            type: 'ClassSelector',\n            loc: this.getLocation(this.scanner.tokenStart - 1, this.scanner.tokenEnd),\n            name: this.consume(IDENT)\n        };\n    },\n    generate: function(node) {\n        this.chunk('.');\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nvar GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nvar TILDE = 0x007E;           // U+007E TILDE (~)\n\n// + | > | ~ | /deep/\nmodule.exports = {\n    name: 'Combinator',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n        switch (code) {\n            case GREATERTHANSIGN:\n            case PLUSSIGN:\n            case TILDE:\n                this.scanner.next();\n                break;\n\n            case SOLIDUS:\n                this.scanner.next();\n\n                if (this.scanner.tokenType !== IDENT || this.scanner.lookupValue(0, 'deep') === false) {\n                    this.error('Identifier `deep` is expected');\n                }\n\n                this.scanner.next();\n\n                if (!this.scanner.isDelim(SOLIDUS)) {\n                    this.error('Solidus is expected');\n                }\n\n                this.scanner.next();\n                break;\n\n            default:\n                this.error('Combinator is expected');\n        }\n\n        return {\n            type: 'Combinator',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar COMMENT = TYPE.Comment;\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\n// '/*' .* '*/'\nmodule.exports = {\n    name: 'Comment',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var end = this.scanner.tokenEnd;\n\n        this.eat(COMMENT);\n\n        if ((end - start + 2) >= 2 &&\n            this.scanner.source.charCodeAt(end - 2) === ASTERISK &&\n            this.scanner.source.charCodeAt(end - 1) === SOLIDUS) {\n            end -= 2;\n        }\n\n        return {\n            type: 'Comment',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start + 2, end)\n        };\n    },\n    generate: function(node) {\n        this.chunk('/*');\n        this.chunk(node.value);\n        this.chunk('*/');\n    }\n};\n","var isCustomProperty = require('../../utils/names').isCustomProperty;\nvar TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar IDENT = TYPE.Ident;\nvar HASH = TYPE.Hash;\nvar COLON = TYPE.Colon;\nvar SEMICOLON = TYPE.Semicolon;\nvar DELIM = TYPE.Delim;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\nvar NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nvar DOLLARSIGN = 0x0024;      // U+0024 DOLLAR SIGN ($)\nvar AMPERSAND = 0x0026;       // U+0026 ANPERSAND (&)\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\n\nfunction consumeValueRaw(startToken) {\n    return this.Raw(startToken, rawMode.exclamationMarkOrSemicolon, true);\n}\n\nfunction consumeCustomPropertyRaw(startToken) {\n    return this.Raw(startToken, rawMode.exclamationMarkOrSemicolon, false);\n}\n\nfunction consumeValue() {\n    var startValueToken = this.scanner.tokenIndex;\n    var value = this.Value();\n\n    if (value.type !== 'Raw' &&\n        this.scanner.eof === false &&\n        this.scanner.tokenType !== SEMICOLON &&\n        this.scanner.isDelim(EXCLAMATIONMARK) === false &&\n        this.scanner.isBalanceEdge(startValueToken) === false) {\n        this.error();\n    }\n\n    return value;\n}\n\nmodule.exports = {\n    name: 'Declaration',\n    structure: {\n        important: [Boolean, String],\n        property: String,\n        value: ['Value', 'Raw']\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var startToken = this.scanner.tokenIndex;\n        var property = readProperty.call(this);\n        var customProperty = isCustomProperty(property);\n        var parseValue = customProperty ? this.parseCustomProperty : this.parseValue;\n        var consumeRaw = customProperty ? consumeCustomPropertyRaw : consumeValueRaw;\n        var important = false;\n        var value;\n\n        this.scanner.skipSC();\n        this.eat(COLON);\n\n        if (!customProperty) {\n            this.scanner.skipSC();\n        }\n\n        if (parseValue) {\n            value = this.parseWithFallback(consumeValue, consumeRaw);\n        } else {\n            value = consumeRaw.call(this, this.scanner.tokenIndex);\n        }\n\n        if (this.scanner.isDelim(EXCLAMATIONMARK)) {\n            important = getImportant.call(this);\n            this.scanner.skipSC();\n        }\n\n        // Do not include semicolon to range per spec\n        // https://drafts.csswg.org/css-syntax/#declaration-diagram\n\n        if (this.scanner.eof === false &&\n            this.scanner.tokenType !== SEMICOLON &&\n            this.scanner.isBalanceEdge(startToken) === false) {\n            this.error();\n        }\n\n        return {\n            type: 'Declaration',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            important: important,\n            property: property,\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.property);\n        this.chunk(':');\n        this.node(node.value);\n\n        if (node.important) {\n            this.chunk(node.important === true ? '!important' : '!' + node.important);\n        }\n    },\n    walkContext: 'declaration'\n};\n\nfunction readProperty() {\n    var start = this.scanner.tokenStart;\n    var prefix = 0;\n\n    // hacks\n    if (this.scanner.tokenType === DELIM) {\n        switch (this.scanner.source.charCodeAt(this.scanner.tokenStart)) {\n            case ASTERISK:\n            case DOLLARSIGN:\n            case PLUSSIGN:\n            case NUMBERSIGN:\n            case AMPERSAND:\n                this.scanner.next();\n                break;\n\n            // TODO: not sure we should support this hack\n            case SOLIDUS:\n                this.scanner.next();\n                if (this.scanner.isDelim(SOLIDUS)) {\n                    this.scanner.next();\n                }\n                break;\n        }\n    }\n\n    if (prefix) {\n        this.scanner.skip(prefix);\n    }\n\n    if (this.scanner.tokenType === HASH) {\n        this.eat(HASH);\n    } else {\n        this.eat(IDENT);\n    }\n\n    return this.scanner.substrToCursor(start);\n}\n\n// ! ws* important\nfunction getImportant() {\n    this.eat(DELIM);\n    this.scanner.skipSC();\n\n    var important = this.consume(IDENT);\n\n    // store original value in case it differ from `important`\n    // for better original source restoring and hacks like `!ie` support\n    return important === 'important' ? true : important;\n}\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar SEMICOLON = TYPE.Semicolon;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.semicolonIncluded, true);\n}\n\nmodule.exports = {\n    name: 'DeclarationList',\n    structure: {\n        children: [[\n            'Declaration'\n        ]]\n    },\n    parse: function() {\n        var children = this.createList();\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case WHITESPACE:\n                case COMMENT:\n                case SEMICOLON:\n                    this.scanner.next();\n                    break;\n\n                default:\n                    children.push(this.parseWithFallback(this.Declaration, consumeRaw));\n            }\n        }\n\n        return {\n            type: 'DeclarationList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function(prev) {\n            if (prev.type === 'Declaration') {\n                this.chunk(';');\n            }\n        });\n    }\n};\n","var consumeNumber = require('../../tokenizer/utils').consumeNumber;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar DIMENSION = TYPE.Dimension;\n\nmodule.exports = {\n    name: 'Dimension',\n    structure: {\n        value: String,\n        unit: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var numberEnd = consumeNumber(this.scanner.source, start);\n\n        this.eat(DIMENSION);\n\n        return {\n            type: 'Dimension',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start, numberEnd),\n            unit: this.scanner.source.substring(numberEnd, this.scanner.tokenStart)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n        this.chunk(node.unit);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// <function-token> <sequence> )\nmodule.exports = {\n    name: 'Function',\n    structure: {\n        name: String,\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var name = this.consumeFunctionName();\n        var nameLowerCase = name.toLowerCase();\n        var children;\n\n        children = recognizer.hasOwnProperty(nameLowerCase)\n            ? recognizer[nameLowerCase].call(this, recognizer)\n            : readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTPARENTHESIS);\n        }\n\n        return {\n            type: 'Function',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n        this.chunk('(');\n        this.children(node);\n        this.chunk(')');\n    },\n    walkContext: 'function'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar HASH = TYPE.Hash;\n\n// '#' ident\nmodule.exports = {\n    name: 'HexColor',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.eat(HASH);\n\n        return {\n            type: 'HexColor',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start + 1)\n        };\n    },\n    generate: function(node) {\n        this.chunk('#');\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\n\nmodule.exports = {\n    name: 'Identifier',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        return {\n            type: 'Identifier',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            name: this.consume(IDENT)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar HASH = TYPE.Hash;\n\n// <hash-token>\nmodule.exports = {\n    name: 'IdSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        // TODO: check value is an ident\n        this.eat(HASH);\n\n        return {\n            type: 'IdSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start + 1)\n        };\n    },\n    generate: function(node) {\n        this.chunk('#');\n        this.chunk(node.name);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\nvar COLON = TYPE.Colon;\nvar DELIM = TYPE.Delim;\n\nmodule.exports = {\n    name: 'MediaFeature',\n    structure: {\n        name: String,\n        value: ['Identifier', 'Number', 'Dimension', 'Ratio', null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var name;\n        var value = null;\n\n        this.eat(LEFTPARENTHESIS);\n        this.scanner.skipSC();\n\n        name = this.consume(IDENT);\n        this.scanner.skipSC();\n\n        if (this.scanner.tokenType !== RIGHTPARENTHESIS) {\n            this.eat(COLON);\n            this.scanner.skipSC();\n\n            switch (this.scanner.tokenType) {\n                case NUMBER:\n                    if (this.lookupNonWSType(1) === DELIM) {\n                        value = this.Ratio();\n                    } else {\n                        value = this.Number();\n                    }\n\n                    break;\n\n                case DIMENSION:\n                    value = this.Dimension();\n                    break;\n\n                case IDENT:\n                    value = this.Identifier();\n\n                    break;\n\n                default:\n                    this.error('Number, dimension, ratio or identifier is expected');\n            }\n\n            this.scanner.skipSC();\n        }\n\n        this.eat(RIGHTPARENTHESIS);\n\n        return {\n            type: 'MediaFeature',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk('(');\n        this.chunk(node.name);\n        if (node.value !== null) {\n            this.chunk(':');\n            this.node(node.value);\n        }\n        this.chunk(')');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nmodule.exports = {\n    name: 'MediaQuery',\n    structure: {\n        children: [[\n            'Identifier',\n            'MediaFeature',\n            'WhiteSpace'\n        ]]\n    },\n    parse: function() {\n        this.scanner.skipSC();\n\n        var children = this.createList();\n        var child = null;\n        var space = null;\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case COMMENT:\n                    this.scanner.next();\n                    continue;\n\n                case WHITESPACE:\n                    space = this.WhiteSpace();\n                    continue;\n\n                case IDENT:\n                    child = this.Identifier();\n                    break;\n\n                case LEFTPARENTHESIS:\n                    child = this.MediaFeature();\n                    break;\n\n                default:\n                    break scan;\n            }\n\n            if (space !== null) {\n                children.push(space);\n                space = null;\n            }\n\n            children.push(child);\n        }\n\n        if (child === null) {\n            this.error('Identifier or parenthesis is expected');\n        }\n\n        return {\n            type: 'MediaQuery',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var COMMA = require('../../tokenizer').TYPE.Comma;\n\nmodule.exports = {\n    name: 'MediaQueryList',\n    structure: {\n        children: [[\n            'MediaQuery'\n        ]]\n    },\n    parse: function(relative) {\n        var children = this.createList();\n\n        this.scanner.skipSC();\n\n        while (!this.scanner.eof) {\n            children.push(this.MediaQuery(relative));\n\n            if (this.scanner.tokenType !== COMMA) {\n                break;\n            }\n\n            this.scanner.next();\n        }\n\n        return {\n            type: 'MediaQueryList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function() {\n            this.chunk(',');\n        });\n    }\n};\n","module.exports = {\n    name: 'Nth',\n    structure: {\n        nth: ['AnPlusB', 'Identifier'],\n        selector: ['SelectorList', null]\n    },\n    parse: function(allowOfClause) {\n        this.scanner.skipSC();\n\n        var start = this.scanner.tokenStart;\n        var end = start;\n        var selector = null;\n        var query;\n\n        if (this.scanner.lookupValue(0, 'odd') || this.scanner.lookupValue(0, 'even')) {\n            query = this.Identifier();\n        } else {\n            query = this.AnPlusB();\n        }\n\n        this.scanner.skipSC();\n\n        if (allowOfClause && this.scanner.lookupValue(0, 'of')) {\n            this.scanner.next();\n\n            selector = this.SelectorList();\n\n            if (this.needPositions) {\n                end = this.getLastListNode(selector.children).loc.end.offset;\n            }\n        } else {\n            if (this.needPositions) {\n                end = query.loc.end.offset;\n            }\n        }\n\n        return {\n            type: 'Nth',\n            loc: this.getLocation(start, end),\n            nth: query,\n            selector: selector\n        };\n    },\n    generate: function(node) {\n        this.node(node.nth);\n        if (node.selector !== null) {\n            this.chunk(' of ');\n            this.node(node.selector);\n        }\n    }\n};\n","var NUMBER = require('../../tokenizer').TYPE.Number;\n\nmodule.exports = {\n    name: 'Number',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        return {\n            type: 'Number',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            value: this.consume(NUMBER)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","// '/' | '*' | ',' | ':' | '+' | '-'\nmodule.exports = {\n    name: 'Operator',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        this.scanner.next();\n\n        return {\n            type: 'Operator',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\nmodule.exports = {\n    name: 'Parentheses',\n    structure: {\n        children: [[]]\n    },\n    parse: function(readSequence, recognizer) {\n        var start = this.scanner.tokenStart;\n        var children = null;\n\n        this.eat(LEFTPARENTHESIS);\n\n        children = readSequence.call(this, recognizer);\n\n        if (!this.scanner.eof) {\n            this.eat(RIGHTPARENTHESIS);\n        }\n\n        return {\n            type: 'Parentheses',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('(');\n        this.children(node);\n        this.chunk(')');\n    }\n};\n","var consumeNumber = require('../../tokenizer/utils').consumeNumber;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar PERCENTAGE = TYPE.Percentage;\n\nmodule.exports = {\n    name: 'Percentage',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var numberEnd = consumeNumber(this.scanner.source, start);\n\n        this.eat(PERCENTAGE);\n\n        return {\n            type: 'Percentage',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.source.substring(start, numberEnd)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n        this.chunk('%');\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// : [ <ident> | <function-token> <any-value>? ) ]\nmodule.exports = {\n    name: 'PseudoClassSelector',\n    structure: {\n        name: String,\n        children: [['Raw'], null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = null;\n        var name;\n        var nameLowerCase;\n\n        this.eat(COLON);\n\n        if (this.scanner.tokenType === FUNCTION) {\n            name = this.consumeFunctionName();\n            nameLowerCase = name.toLowerCase();\n\n            if (this.pseudo.hasOwnProperty(nameLowerCase)) {\n                this.scanner.skipSC();\n                children = this.pseudo[nameLowerCase].call(this);\n                this.scanner.skipSC();\n            } else {\n                children = this.createList();\n                children.push(\n                    this.Raw(this.scanner.tokenIndex, null, false)\n                );\n            }\n\n            this.eat(RIGHTPARENTHESIS);\n        } else {\n            name = this.consume(IDENT);\n        }\n\n        return {\n            type: 'PseudoClassSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk(':');\n        this.chunk(node.name);\n\n        if (node.children !== null) {\n            this.chunk('(');\n            this.children(node);\n            this.chunk(')');\n        }\n    },\n    walkContext: 'function'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// :: [ <ident> | <function-token> <any-value>? ) ]\nmodule.exports = {\n    name: 'PseudoElementSelector',\n    structure: {\n        name: String,\n        children: [['Raw'], null]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = null;\n        var name;\n        var nameLowerCase;\n\n        this.eat(COLON);\n        this.eat(COLON);\n\n        if (this.scanner.tokenType === FUNCTION) {\n            name = this.consumeFunctionName();\n            nameLowerCase = name.toLowerCase();\n\n            if (this.pseudo.hasOwnProperty(nameLowerCase)) {\n                this.scanner.skipSC();\n                children = this.pseudo[nameLowerCase].call(this);\n                this.scanner.skipSC();\n            } else {\n                children = this.createList();\n                children.push(\n                    this.Raw(this.scanner.tokenIndex, null, false)\n                );\n            }\n\n            this.eat(RIGHTPARENTHESIS);\n        } else {\n            name = this.consume(IDENT);\n        }\n\n        return {\n            type: 'PseudoElementSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: name,\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.chunk('::');\n        this.chunk(node.name);\n\n        if (node.children !== null) {\n            this.chunk('(');\n            this.children(node);\n            this.chunk(')');\n        }\n    },\n    walkContext: 'function'\n};\n","var isDigit = require('../../tokenizer').isDigit;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar NUMBER = TYPE.Number;\nvar DELIM = TYPE.Delim;\nvar SOLIDUS = 0x002F;  // U+002F SOLIDUS (/)\nvar FULLSTOP = 0x002E; // U+002E FULL STOP (.)\n\n// Terms of <ratio> should be a positive numbers (not zero or negative)\n// (see https://drafts.csswg.org/mediaqueries-3/#values)\n// However, -o-min-device-pixel-ratio takes fractional values as a ratio's term\n// and this is using by various sites. Therefore we relax checking on parse\n// to test a term is unsigned number without an exponent part.\n// Additional checking may be applied on lexer validation.\nfunction consumeNumber() {\n    this.scanner.skipWS();\n\n    var value = this.consume(NUMBER);\n\n    for (var i = 0; i < value.length; i++) {\n        var code = value.charCodeAt(i);\n        if (!isDigit(code) && code !== FULLSTOP) {\n            this.error('Unsigned number is expected', this.scanner.tokenStart - value.length + i);\n        }\n    }\n\n    if (Number(value) === 0) {\n        this.error('Zero number is not allowed', this.scanner.tokenStart - value.length);\n    }\n\n    return value;\n}\n\n// <positive-integer> S* '/' S* <positive-integer>\nmodule.exports = {\n    name: 'Ratio',\n    structure: {\n        left: String,\n        right: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var left = consumeNumber.call(this);\n        var right;\n\n        this.scanner.skipWS();\n\n        if (!this.scanner.isDelim(SOLIDUS)) {\n            this.error('Solidus is expected');\n        }\n        this.eat(DELIM);\n        right = consumeNumber.call(this);\n\n        return {\n            type: 'Ratio',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            left: left,\n            right: right\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.left);\n        this.chunk('/');\n        this.chunk(node.right);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('./Raw').mode;\n\nvar LEFTCURLYBRACKET = TYPE.LeftCurlyBracket;\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, rawMode.leftCurlyBracket, true);\n}\n\nfunction consumePrelude() {\n    var prelude = this.SelectorList();\n\n    if (prelude.type !== 'Raw' &&\n        this.scanner.eof === false &&\n        this.scanner.tokenType !== LEFTCURLYBRACKET) {\n        this.error();\n    }\n\n    return prelude;\n}\n\nmodule.exports = {\n    name: 'Rule',\n    structure: {\n        prelude: ['SelectorList', 'Raw'],\n        block: ['Block']\n    },\n    parse: function() {\n        var startToken = this.scanner.tokenIndex;\n        var startOffset = this.scanner.tokenStart;\n        var prelude;\n        var block;\n\n        if (this.parseRulePrelude) {\n            prelude = this.parseWithFallback(consumePrelude, consumeRaw);\n        } else {\n            prelude = consumeRaw.call(this, startToken);\n        }\n\n        block = this.Block(true);\n\n        return {\n            type: 'Rule',\n            loc: this.getLocation(startOffset, this.scanner.tokenStart),\n            prelude: prelude,\n            block: block\n        };\n    },\n    generate: function(node) {\n        this.node(node.prelude);\n        this.node(node.block);\n    },\n    walkContext: 'rule'\n};\n","module.exports = {\n    name: 'Selector',\n    structure: {\n        children: [[\n            'TypeSelector',\n            'IdSelector',\n            'ClassSelector',\n            'AttributeSelector',\n            'PseudoClassSelector',\n            'PseudoElementSelector',\n            'Combinator',\n            'WhiteSpace'\n        ]]\n    },\n    parse: function() {\n        var children = this.readSequence(this.scope.Selector);\n\n        // nothing were consumed\n        if (this.getFirstListNode(children) === null) {\n            this.error('Selector is expected');\n        }\n\n        return {\n            type: 'Selector',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar COMMA = TYPE.Comma;\n\nmodule.exports = {\n    name: 'SelectorList',\n    structure: {\n        children: [[\n            'Selector',\n            'Raw'\n        ]]\n    },\n    parse: function() {\n        var children = this.createList();\n\n        while (!this.scanner.eof) {\n            children.push(this.Selector());\n\n            if (this.scanner.tokenType === COMMA) {\n                this.scanner.next();\n                continue;\n            }\n\n            break;\n        }\n\n        return {\n            type: 'SelectorList',\n            loc: this.getLocationFromList(children),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node, function() {\n            this.chunk(',');\n        });\n    },\n    walkContext: 'selector'\n};\n","var STRING = require('../../tokenizer').TYPE.String;\n\nmodule.exports = {\n    name: 'String',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        return {\n            type: 'String',\n            loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n            value: this.consume(STRING)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar ATKEYWORD = TYPE.AtKeyword;\nvar CDO = TYPE.CDO;\nvar CDC = TYPE.CDC;\nvar EXCLAMATIONMARK = 0x0021; // U+0021 EXCLAMATION MARK (!)\n\nfunction consumeRaw(startToken) {\n    return this.Raw(startToken, null, false);\n}\n\nmodule.exports = {\n    name: 'StyleSheet',\n    structure: {\n        children: [[\n            'Comment',\n            'CDO',\n            'CDC',\n            'Atrule',\n            'Rule',\n            'Raw'\n        ]]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = this.createList();\n        var child;\n\n        scan:\n        while (!this.scanner.eof) {\n            switch (this.scanner.tokenType) {\n                case WHITESPACE:\n                    this.scanner.next();\n                    continue;\n\n                case COMMENT:\n                    // ignore comments except exclamation comments (i.e. /*! .. */) on top level\n                    if (this.scanner.source.charCodeAt(this.scanner.tokenStart + 2) !== EXCLAMATIONMARK) {\n                        this.scanner.next();\n                        continue;\n                    }\n\n                    child = this.Comment();\n                    break;\n\n                case CDO: // <!--\n                    child = this.CDO();\n                    break;\n\n                case CDC: // -->\n                    child = this.CDC();\n                    break;\n\n                // CSS Syntax Module Level 3\n                // §2.2 Error handling\n                // At the \"top level\" of a stylesheet, an <at-keyword-token> starts an at-rule.\n                case ATKEYWORD:\n                    child = this.parseWithFallback(this.Atrule, consumeRaw);\n                    break;\n\n                // Anything else starts a qualified rule ...\n                default:\n                    child = this.parseWithFallback(this.Rule, consumeRaw);\n            }\n\n            children.push(child);\n        }\n\n        return {\n            type: 'StyleSheet',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    },\n    walkContext: 'stylesheet'\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar IDENT = TYPE.Ident;\nvar ASTERISK = 0x002A;     // U+002A ASTERISK (*)\nvar VERTICALLINE = 0x007C; // U+007C VERTICAL LINE (|)\n\nfunction eatIdentifierOrAsterisk() {\n    if (this.scanner.tokenType !== IDENT &&\n        this.scanner.isDelim(ASTERISK) === false) {\n        this.error('Identifier or asterisk is expected');\n    }\n\n    this.scanner.next();\n}\n\n// ident\n// ident|ident\n// ident|*\n// *\n// *|ident\n// *|*\n// |ident\n// |*\nmodule.exports = {\n    name: 'TypeSelector',\n    structure: {\n        name: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        if (this.scanner.isDelim(VERTICALLINE)) {\n            this.scanner.next();\n            eatIdentifierOrAsterisk.call(this);\n        } else {\n            eatIdentifierOrAsterisk.call(this);\n\n            if (this.scanner.isDelim(VERTICALLINE)) {\n                this.scanner.next();\n                eatIdentifierOrAsterisk.call(this);\n            }\n        }\n\n        return {\n            type: 'TypeSelector',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            name: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.name);\n    }\n};\n","var isHexDigit = require('../../tokenizer').isHexDigit;\nvar cmpChar = require('../../tokenizer').cmpChar;\nvar TYPE = require('../../tokenizer').TYPE;\nvar NAME = require('../../tokenizer').NAME;\n\nvar IDENT = TYPE.Ident;\nvar NUMBER = TYPE.Number;\nvar DIMENSION = TYPE.Dimension;\nvar PLUSSIGN = 0x002B;     // U+002B PLUS SIGN (+)\nvar HYPHENMINUS = 0x002D;  // U+002D HYPHEN-MINUS (-)\nvar QUESTIONMARK = 0x003F; // U+003F QUESTION MARK (?)\nvar U = 0x0075;            // U+0075 LATIN SMALL LETTER U (u)\n\nfunction eatHexSequence(offset, allowDash) {\n    for (var pos = this.scanner.tokenStart + offset, len = 0; pos < this.scanner.tokenEnd; pos++) {\n        var code = this.scanner.source.charCodeAt(pos);\n\n        if (code === HYPHENMINUS && allowDash && len !== 0) {\n            if (eatHexSequence.call(this, offset + len + 1, false) === 0) {\n                this.error();\n            }\n\n            return -1;\n        }\n\n        if (!isHexDigit(code)) {\n            this.error(\n                allowDash && len !== 0\n                    ? 'HyphenMinus' + (len < 6 ? ' or hex digit' : '') + ' is expected'\n                    : (len < 6 ? 'Hex digit is expected' : 'Unexpected input'),\n                pos\n            );\n        }\n\n        if (++len > 6) {\n            this.error('Too many hex digits', pos);\n        };\n    }\n\n    this.scanner.next();\n    return len;\n}\n\nfunction eatQuestionMarkSequence(max) {\n    var count = 0;\n\n    while (this.scanner.isDelim(QUESTIONMARK)) {\n        if (++count > max) {\n            this.error('Too many question marks');\n        }\n\n        this.scanner.next();\n    }\n}\n\nfunction startsWith(code) {\n    if (this.scanner.source.charCodeAt(this.scanner.tokenStart) !== code) {\n        this.error(NAME[code] + ' is expected');\n    }\n}\n\n// https://drafts.csswg.org/css-syntax/#urange\n// Informally, the <urange> production has three forms:\n// U+0001\n//      Defines a range consisting of a single code point, in this case the code point \"1\".\n// U+0001-00ff\n//      Defines a range of codepoints between the first and the second value, in this case\n//      the range between \"1\" and \"ff\" (255 in decimal) inclusive.\n// U+00??\n//      Defines a range of codepoints where the \"?\" characters range over all hex digits,\n//      in this case defining the same as the value U+0000-00ff.\n// In each form, a maximum of 6 digits is allowed for each hexadecimal number (if you treat \"?\" as a hexadecimal digit).\n//\n// <urange> =\n//   u '+' <ident-token> '?'* |\n//   u <dimension-token> '?'* |\n//   u <number-token> '?'* |\n//   u <number-token> <dimension-token> |\n//   u <number-token> <number-token> |\n//   u '+' '?'+\nfunction scanUnicodeRange() {\n    var hexLength = 0;\n\n    // u '+' <ident-token> '?'*\n    // u '+' '?'+\n    if (this.scanner.isDelim(PLUSSIGN)) {\n        this.scanner.next();\n\n        if (this.scanner.tokenType === IDENT) {\n            hexLength = eatHexSequence.call(this, 0, true);\n            if (hexLength > 0) {\n                eatQuestionMarkSequence.call(this, 6 - hexLength);\n            }\n            return;\n        }\n\n        if (this.scanner.isDelim(QUESTIONMARK)) {\n            this.scanner.next();\n            eatQuestionMarkSequence.call(this, 5);\n            return;\n        }\n\n        this.error('Hex digit or question mark is expected');\n        return;\n    }\n\n    // u <number-token> '?'*\n    // u <number-token> <dimension-token>\n    // u <number-token> <number-token>\n    if (this.scanner.tokenType === NUMBER) {\n        startsWith.call(this, PLUSSIGN);\n        hexLength = eatHexSequence.call(this, 1, true);\n\n        if (this.scanner.isDelim(QUESTIONMARK)) {\n            eatQuestionMarkSequence.call(this, 6 - hexLength);\n            return;\n        }\n\n        if (this.scanner.tokenType === DIMENSION ||\n            this.scanner.tokenType === NUMBER) {\n            startsWith.call(this, HYPHENMINUS);\n            eatHexSequence.call(this, 1, false);\n            return;\n        }\n\n        return;\n    }\n\n    // u <dimension-token> '?'*\n    if (this.scanner.tokenType === DIMENSION) {\n        startsWith.call(this, PLUSSIGN);\n        hexLength = eatHexSequence.call(this, 1, true);\n\n        if (hexLength > 0) {\n            eatQuestionMarkSequence.call(this, 6 - hexLength);\n        }\n\n        return;\n    }\n\n    this.error();\n}\n\nmodule.exports = {\n    name: 'UnicodeRange',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n\n        // U or u\n        if (!cmpChar(this.scanner.source, start, U)) {\n            this.error('U is expected');\n        }\n\n        if (!cmpChar(this.scanner.source, start + 1, PLUSSIGN)) {\n            this.error('Plus sign is expected');\n        }\n\n        this.scanner.next();\n        scanUnicodeRange.call(this);\n\n        return {\n            type: 'UnicodeRange',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: this.scanner.substrToCursor(start)\n        };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","var isWhiteSpace = require('../../tokenizer').isWhiteSpace;\nvar cmpStr = require('../../tokenizer').cmpStr;\nvar TYPE = require('../../tokenizer').TYPE;\n\nvar FUNCTION = TYPE.Function;\nvar URL = TYPE.Url;\nvar RIGHTPARENTHESIS = TYPE.RightParenthesis;\n\n// <url-token> | <function-token> <string> )\nmodule.exports = {\n    name: 'Url',\n    structure: {\n        value: ['String', 'Raw']\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var value;\n\n        switch (this.scanner.tokenType) {\n            case URL:\n                var rawStart = start + 4;\n                var rawEnd = this.scanner.tokenEnd - 1;\n\n                while (rawStart < rawEnd && isWhiteSpace(this.scanner.source.charCodeAt(rawStart))) {\n                    rawStart++;\n                }\n\n                while (rawStart < rawEnd && isWhiteSpace(this.scanner.source.charCodeAt(rawEnd - 1))) {\n                    rawEnd--;\n                }\n\n                value = {\n                    type: 'Raw',\n                    loc: this.getLocation(rawStart, rawEnd),\n                    value: this.scanner.source.substring(rawStart, rawEnd)\n                };\n\n                this.eat(URL);\n                break;\n\n            case FUNCTION:\n                if (!cmpStr(this.scanner.source, this.scanner.tokenStart, this.scanner.tokenEnd, 'url(')) {\n                    this.error('Function name must be `url`');\n                }\n\n                this.eat(FUNCTION);\n                this.scanner.skipSC();\n                value = this.String();\n                this.scanner.skipSC();\n                this.eat(RIGHTPARENTHESIS);\n                break;\n\n            default:\n                this.error('Url or Function is expected');\n        }\n\n        return {\n            type: 'Url',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            value: value\n        };\n    },\n    generate: function(node) {\n        this.chunk('url');\n        this.chunk('(');\n        this.node(node.value);\n        this.chunk(')');\n    }\n};\n","module.exports = {\n    name: 'Value',\n    structure: {\n        children: [[]]\n    },\n    parse: function() {\n        var start = this.scanner.tokenStart;\n        var children = this.readSequence(this.scope.Value);\n\n        return {\n            type: 'Value',\n            loc: this.getLocation(start, this.scanner.tokenStart),\n            children: children\n        };\n    },\n    generate: function(node) {\n        this.children(node);\n    }\n};\n","var WHITESPACE = require('../../tokenizer').TYPE.WhiteSpace;\nvar SPACE = Object.freeze({\n    type: 'WhiteSpace',\n    loc: null,\n    value: ' '\n});\n\nmodule.exports = {\n    name: 'WhiteSpace',\n    structure: {\n        value: String\n    },\n    parse: function() {\n        this.eat(WHITESPACE);\n        return SPACE;\n\n        // return {\n        //     type: 'WhiteSpace',\n        //     loc: this.getLocation(this.scanner.tokenStart, this.scanner.tokenEnd),\n        //     value: this.consume(WHITESPACE)\n        // };\n    },\n    generate: function(node) {\n        this.chunk(node.value);\n    }\n};\n","module.exports = {\n    parseContext: {\n        default: 'StyleSheet',\n        stylesheet: 'StyleSheet',\n        atrule: 'Atrule',\n        atrulePrelude: function(options) {\n            return this.AtrulePrelude(options.atrule ? String(options.atrule) : null);\n        },\n        mediaQueryList: 'MediaQueryList',\n        mediaQuery: 'MediaQuery',\n        rule: 'Rule',\n        selectorList: 'SelectorList',\n        selector: 'Selector',\n        block: function() {\n            return this.Block(true);\n        },\n        declarationList: 'DeclarationList',\n        declaration: 'Declaration',\n        value: 'Value'\n    },\n    scope: require('../scope'),\n    atrule: require('../atrule'),\n    pseudo: require('../pseudo'),\n    node: require('../node')\n};\n","module.exports = {\n    AtrulePrelude: require('./atrulePrelude'),\n    Selector: require('./selector'),\n    Value: require('./value')\n};\n","module.exports = {\n    getNode: require('./default')\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar DELIM = TYPE.Delim;\nvar IDENT = TYPE.Ident;\nvar DIMENSION = TYPE.Dimension;\nvar PERCENTAGE = TYPE.Percentage;\nvar NUMBER = TYPE.Number;\nvar HASH = TYPE.Hash;\nvar COLON = TYPE.Colon;\nvar LEFTSQUAREBRACKET = TYPE.LeftSquareBracket;\nvar NUMBERSIGN = 0x0023;      // U+0023 NUMBER SIGN (#)\nvar ASTERISK = 0x002A;        // U+002A ASTERISK (*)\nvar PLUSSIGN = 0x002B;        // U+002B PLUS SIGN (+)\nvar SOLIDUS = 0x002F;         // U+002F SOLIDUS (/)\nvar FULLSTOP = 0x002E;        // U+002E FULL STOP (.)\nvar GREATERTHANSIGN = 0x003E; // U+003E GREATER-THAN SIGN (>)\nvar VERTICALLINE = 0x007C;    // U+007C VERTICAL LINE (|)\nvar TILDE = 0x007E;           // U+007E TILDE (~)\n\nfunction getNode(context) {\n    switch (this.scanner.tokenType) {\n        case LEFTSQUAREBRACKET:\n            return this.AttributeSelector();\n\n        case HASH:\n            return this.IdSelector();\n\n        case COLON:\n            if (this.scanner.lookupType(1) === COLON) {\n                return this.PseudoElementSelector();\n            } else {\n                return this.PseudoClassSelector();\n            }\n\n        case IDENT:\n            return this.TypeSelector();\n\n        case NUMBER:\n        case PERCENTAGE:\n            return this.Percentage();\n\n        case DIMENSION:\n            // throws when .123ident\n            if (this.scanner.source.charCodeAt(this.scanner.tokenStart) === FULLSTOP) {\n                this.error('Identifier is expected', this.scanner.tokenStart + 1);\n            }\n            break;\n\n        case DELIM:\n            var code = this.scanner.source.charCodeAt(this.scanner.tokenStart);\n\n            switch (code) {\n                case PLUSSIGN:\n                case GREATERTHANSIGN:\n                case TILDE:\n                    context.space = null;\n                    context.ignoreWSAfter = true;\n                    return this.Combinator();\n\n                case SOLIDUS:  // /deep/\n                    return this.Combinator();\n\n                case FULLSTOP:\n                    return this.ClassSelector();\n\n                case ASTERISK:\n                case VERTICALLINE:\n                    return this.TypeSelector();\n\n                case NUMBERSIGN:\n                    return this.IdSelector();\n            }\n\n            break;\n    }\n};\n\nmodule.exports = {\n    getNode: getNode\n};\n","module.exports = {\n    getNode: require('./default'),\n    '-moz-element': require('../function/element'),\n    'element': require('../function/element'),\n    'expression': require('../function/expression'),\n    'var': require('../function/var')\n};\n","// legacy IE function\n// expression( <any-value> )\nmodule.exports = function() {\n    return this.createSingleNodeList(\n        this.Raw(this.scanner.tokenIndex, null, false)\n    );\n};\n","var TYPE = require('../../tokenizer').TYPE;\nvar rawMode = require('../node/Raw').mode;\n\nvar COMMA = TYPE.Comma;\n\n// var( <ident> , <value>? )\nmodule.exports = function() {\n    var children = this.createList();\n\n    this.scanner.skipSC();\n\n    // NOTE: Don't check more than a first argument is an ident, rest checks are for lexer\n    children.push(this.Identifier());\n\n    this.scanner.skipSC();\n\n    if (this.scanner.tokenType === COMMA) {\n        children.push(this.Operator());\n        children.push(this.parseCustomProperty\n            ? this.Value(null)\n            : this.Raw(this.scanner.tokenIndex, rawMode.exclamationMarkOrSemicolon, false)\n        );\n    }\n\n    return children;\n};\n","module.exports = {\n    'font-face': require('./font-face'),\n    'import': require('./import'),\n    'media': require('./media'),\n    'page': require('./page'),\n    'supports': require('./supports')\n};\n","module.exports = {\n    parse: {\n        prelude: null,\n        block: function() {\n            return this.Block(true);\n        }\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar STRING = TYPE.String;\nvar IDENT = TYPE.Ident;\nvar URL = TYPE.Url;\nvar FUNCTION = TYPE.Function;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nmodule.exports = {\n    parse: {\n        prelude: function() {\n            var children = this.createList();\n\n            this.scanner.skipSC();\n\n            switch (this.scanner.tokenType) {\n                case STRING:\n                    children.push(this.String());\n                    break;\n\n                case URL:\n                case FUNCTION:\n                    children.push(this.Url());\n                    break;\n\n                default:\n                    this.error('String or url() is expected');\n            }\n\n            if (this.lookupNonWSType(0) === IDENT ||\n                this.lookupNonWSType(0) === LEFTPARENTHESIS) {\n                children.push(this.WhiteSpace());\n                children.push(this.MediaQueryList());\n            }\n\n            return children;\n        },\n        block: null\n    }\n};\n","module.exports = {\n    parse: {\n        prelude: function() {\n            return this.createSingleNodeList(\n                this.MediaQueryList()\n            );\n        },\n        block: function() {\n            return this.Block(false);\n        }\n    }\n};\n","module.exports = {\n    parse: {\n        prelude: function() {\n            return this.createSingleNodeList(\n                this.SelectorList()\n            );\n        },\n        block: function() {\n            return this.Block(true);\n        }\n    }\n};\n","var TYPE = require('../../tokenizer').TYPE;\n\nvar WHITESPACE = TYPE.WhiteSpace;\nvar COMMENT = TYPE.Comment;\nvar IDENT = TYPE.Ident;\nvar FUNCTION = TYPE.Function;\nvar COLON = TYPE.Colon;\nvar LEFTPARENTHESIS = TYPE.LeftParenthesis;\n\nfunction consumeRaw() {\n    return this.createSingleNodeList(\n        this.Raw(this.scanner.tokenIndex, null, false)\n    );\n}\n\nfunction parentheses() {\n    this.scanner.skipSC();\n\n    if (this.scanner.tokenType === IDENT &&\n        this.lookupNonWSType(1) === COLON) {\n        return this.createSingleNodeList(\n            this.Declaration()\n        );\n    }\n\n    return readSequence.call(this);\n}\n\nfunction readSequence() {\n    var children = this.createList();\n    var space = null;\n    var child;\n\n    this.scanner.skipSC();\n\n    scan:\n    while (!this.scanner.eof) {\n        switch (this.scanner.tokenType) {\n            case WHITESPACE:\n                space = this.WhiteSpace();\n                continue;\n\n            case COMMENT:\n                this.scanner.next();\n                continue;\n\n            case FUNCTION:\n                child = this.Function(consumeRaw, this.scope.AtrulePrelude);\n                break;\n\n            case IDENT:\n                child = this.Identifier();\n                break;\n\n            case LEFTPARENTHESIS:\n                child = this.Parentheses(parentheses, this.scope.AtrulePrelude);\n                break;\n\n            default:\n                break scan;\n        }\n\n        if (space !== null) {\n            children.push(space);\n            space = null;\n        }\n\n        children.push(child);\n    }\n\n    return children;\n}\n\nmodule.exports = {\n    parse: {\n        prelude: function() {\n            var children = readSequence.call(this);\n\n            if (this.getFirstListNode(children) === null) {\n                this.error('Condition is expected');\n            }\n\n            return children;\n        },\n        block: function() {\n            return this.Block(false);\n        }\n    }\n};\n","module.exports = {\n    'dir': require('./dir'),\n    'has': require('./has'),\n    'lang': require('./lang'),\n    'matches': require('./matches'),\n    'not': require('./not'),\n    'nth-child': require('./nth-child'),\n    'nth-last-child': require('./nth-last-child'),\n    'nth-last-of-type': require('./nth-last-of-type'),\n    'nth-of-type': require('./nth-of-type'),\n    'slotted': require('./slotted')\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.SelectorList()\n        );\n    }\n};\n","module.exports = {\n    parse: function() {\n        return this.createSingleNodeList(\n            this.Identifier()\n        );\n    }\n};\n","module.exports = require('./common/selectorList');\n","module.exports = require('./common/selectorList');\n","module.exports = require('./common/nthWithOfClause');\n","module.exports = require('./common/nthWithOfClause');\n","module.exports = require('./common/nth');\n","module.exports = require('./common/nth');\n","module.exports = {\n    parse: function compoundSelector() {\n        return this.createSingleNodeList(\n            this.Selector()\n        );\n    }\n};\n","module.exports = {\n    node: require('../node')\n};\n","var List = require('css-tree').List;\nvar clone = require('css-tree').clone;\nvar usageUtils = require('./usage');\nvar clean = require('./clean');\nvar replace = require('./replace');\nvar restructure = require('./restructure');\nvar walk = require('css-tree').walk;\n\nfunction readChunk(children, specialComments) {\n    var buffer = new List();\n    var nonSpaceTokenInBuffer = false;\n    var protectedComment;\n\n    children.nextUntil(children.head, function(node, item, list) {\n        if (node.type === 'Comment') {\n            if (!specialComments || node.value.charAt(0) !== '!') {\n                list.remove(item);\n                return;\n            }\n\n            if (nonSpaceTokenInBuffer || protectedComment) {\n                return true;\n            }\n\n            list.remove(item);\n            protectedComment = node;\n            return;\n        }\n\n        if (node.type !== 'WhiteSpace') {\n            nonSpaceTokenInBuffer = true;\n        }\n\n        buffer.insert(list.remove(item));\n    });\n\n    return {\n        comment: protectedComment,\n        stylesheet: {\n            type: 'StyleSheet',\n            loc: null,\n            children: buffer\n        }\n    };\n}\n\nfunction compressChunk(ast, firstAtrulesAllowed, num, options) {\n    options.logger('Compress block #' + num, null, true);\n\n    var seed = 1;\n\n    if (ast.type === 'StyleSheet') {\n        ast.firstAtrulesAllowed = firstAtrulesAllowed;\n        ast.id = seed++;\n    }\n\n    walk(ast, {\n        visit: 'Atrule',\n        enter: function markScopes(node) {\n            if (node.block !== null) {\n                node.block.id = seed++;\n            }\n        }\n    });\n    options.logger('init', ast);\n\n    // remove redundant\n    clean(ast, options);\n    options.logger('clean', ast);\n\n    // replace nodes for shortened forms\n    replace(ast, options);\n    options.logger('replace', ast);\n\n    // structure optimisations\n    if (options.restructuring) {\n        restructure(ast, options);\n    }\n\n    return ast;\n}\n\nfunction getCommentsOption(options) {\n    var comments = 'comments' in options ? options.comments : 'exclamation';\n\n    if (typeof comments === 'boolean') {\n        comments = comments ? 'exclamation' : false;\n    } else if (comments !== 'exclamation' && comments !== 'first-exclamation') {\n        comments = false;\n    }\n\n    return comments;\n}\n\nfunction getRestructureOption(options) {\n    if ('restructure' in options) {\n        return options.restructure;\n    }\n\n    return 'restructuring' in options ? options.restructuring : true;\n}\n\nfunction wrapBlock(block) {\n    return new List().appendData({\n        type: 'Rule',\n        loc: null,\n        prelude: {\n            type: 'SelectorList',\n            loc: null,\n            children: new List().appendData({\n                type: 'Selector',\n                loc: null,\n                children: new List().appendData({\n                    type: 'TypeSelector',\n                    loc: null,\n                    name: 'x'\n                })\n            })\n        },\n        block: block\n    });\n}\n\nmodule.exports = function compress(ast, options) {\n    ast = ast || { type: 'StyleSheet', loc: null, children: new List() };\n    options = options || {};\n\n    var compressOptions = {\n        logger: typeof options.logger === 'function' ? options.logger : function() {},\n        restructuring: getRestructureOption(options),\n        forceMediaMerge: Boolean(options.forceMediaMerge),\n        usage: options.usage ? usageUtils.buildIndex(options.usage) : false\n    };\n    var specialComments = getCommentsOption(options);\n    var firstAtrulesAllowed = true;\n    var input;\n    var output = new List();\n    var chunk;\n    var chunkNum = 1;\n    var chunkChildren;\n\n    if (options.clone) {\n        ast = clone(ast);\n    }\n\n    if (ast.type === 'StyleSheet') {\n        input = ast.children;\n        ast.children = output;\n    } else {\n        input = wrapBlock(ast);\n    }\n\n    do {\n        chunk = readChunk(input, Boolean(specialComments));\n        compressChunk(chunk.stylesheet, firstAtrulesAllowed, chunkNum++, compressOptions);\n        chunkChildren = chunk.stylesheet.children;\n\n        if (chunk.comment) {\n            // add \\n before comment if there is another content in output\n            if (!output.isEmpty()) {\n                output.insert(List.createItem({\n                    type: 'Raw',\n                    value: '\\n'\n                }));\n            }\n\n            output.insert(List.createItem(chunk.comment));\n\n            // add \\n after comment if chunk is not empty\n            if (!chunkChildren.isEmpty()) {\n                output.insert(List.createItem({\n                    type: 'Raw',\n                    value: '\\n'\n                }));\n            }\n        }\n\n        if (firstAtrulesAllowed && !chunkChildren.isEmpty()) {\n            var lastRule = chunkChildren.last();\n\n            if (lastRule.type !== 'Atrule' ||\n               (lastRule.name !== 'import' && lastRule.name !== 'charset')) {\n                firstAtrulesAllowed = false;\n            }\n        }\n\n        if (specialComments !== 'exclamation') {\n            specialComments = false;\n        }\n\n        output.appendList(chunkChildren);\n    } while (!input.isEmpty());\n\n    return {\n        ast: ast\n    };\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\n\nfunction buildMap(list, caseInsensitive) {\n    var map = Object.create(null);\n\n    if (!Array.isArray(list)) {\n        return null;\n    }\n\n    for (var i = 0; i < list.length; i++) {\n        var name = list[i];\n\n        if (caseInsensitive) {\n            name = name.toLowerCase();\n        }\n\n        map[name] = true;\n    }\n\n    return map;\n}\n\nfunction buildList(data) {\n    if (!data) {\n        return null;\n    }\n\n    var tags = buildMap(data.tags, true);\n    var ids = buildMap(data.ids);\n    var classes = buildMap(data.classes);\n\n    if (tags === null &&\n        ids === null &&\n        classes === null) {\n        return null;\n    }\n\n    return {\n        tags: tags,\n        ids: ids,\n        classes: classes\n    };\n}\n\nfunction buildIndex(data) {\n    var scopes = false;\n\n    if (data.scopes && Array.isArray(data.scopes)) {\n        scopes = Object.create(null);\n\n        for (var i = 0; i < data.scopes.length; i++) {\n            var list = data.scopes[i];\n\n            if (!list || !Array.isArray(list)) {\n                throw new Error('Wrong usage format');\n            }\n\n            for (var j = 0; j < list.length; j++) {\n                var name = list[j];\n\n                if (hasOwnProperty.call(scopes, name)) {\n                    throw new Error('Class can\\'t be used for several scopes: ' + name);\n                }\n\n                scopes[name] = i + 1;\n            }\n        }\n    }\n\n    return {\n        whitelist: buildList(data),\n        blacklist: buildList(data.blacklist),\n        scopes: scopes\n    };\n}\n\nmodule.exports = {\n    buildIndex: buildIndex\n};\n","var walk = require('css-tree').walk;\nvar handlers = {\n    Atrule: require('./Atrule'),\n    Comment: require('./Comment'),\n    Declaration: require('./Declaration'),\n    Raw: require('./Raw'),\n    Rule: require('./Rule'),\n    TypeSelector: require('./TypeSelector'),\n    WhiteSpace: require('./WhiteSpace')\n};\n\nmodule.exports = function(ast, options) {\n    walk(ast, {\n        leave: function(node, item, list) {\n            if (handlers.hasOwnProperty(node.type)) {\n                handlers[node.type].call(this, node, item, list, options);\n            }\n        }\n    });\n};\n","var resolveKeyword = require('css-tree').keyword;\nvar { hasNoChildren } = require('./utils');\n\nmodule.exports = function cleanAtrule(node, item, list) {\n    if (node.block) {\n        // otherwise removed at-rule don't prevent @import for removal\n        if (this.stylesheet !== null) {\n            this.stylesheet.firstAtrulesAllowed = false;\n        }\n\n        if (hasNoChildren(node.block)) {\n            list.remove(item);\n            return;\n        }\n    }\n\n    switch (node.name) {\n        case 'charset':\n            if (hasNoChildren(node.prelude)) {\n                list.remove(item);\n                return;\n            }\n\n            // if there is any rule before @charset -> remove it\n            if (item.prev) {\n                list.remove(item);\n                return;\n            }\n\n            break;\n\n        case 'import':\n            if (this.stylesheet === null || !this.stylesheet.firstAtrulesAllowed) {\n                list.remove(item);\n                return;\n            }\n\n            // if there are some rules that not an @import or @charset before @import\n            // remove it\n            list.prevUntil(item.prev, function(rule) {\n                if (rule.type === 'Atrule') {\n                    if (rule.name === 'import' || rule.name === 'charset') {\n                        return;\n                    }\n                }\n\n                this.root.firstAtrulesAllowed = false;\n                list.remove(item);\n                return true;\n            }, this);\n\n            break;\n\n        default:\n            var name = resolveKeyword(node.name).basename;\n            if (name === 'keyframes' ||\n                name === 'media' ||\n                name === 'supports') {\n\n                // drop at-rule with no prelude\n                if (hasNoChildren(node.prelude) || hasNoChildren(node.block)) {\n                    list.remove(item);\n                }\n            }\n    }\n};\n","module.exports = function cleanComment(data, item, list) {\n    list.remove(item);\n};\n","module.exports = function cleanDeclartion(node, item, list) {\n    if (node.value.children && node.value.children.isEmpty()) {\n        list.remove(item);\n    }\n};\n","var { isNodeChildrenList } = require('./utils');\n\nmodule.exports = function cleanRaw(node, item, list) {\n    // raw in stylesheet or block children\n    if (isNodeChildrenList(this.stylesheet, list) ||\n        isNodeChildrenList(this.block, list)) {\n        list.remove(item);\n    }\n};\n","var hasOwnProperty = Object.prototype.hasOwnProperty;\nvar walk = require('css-tree').walk;\nvar { hasNoChildren } = require('./utils');\n\nfunction cleanUnused(selectorList, usageData) {\n    selectorList.children.each(function(selector, item, list) {\n        var shouldRemove = false;\n\n        walk(selector, function(node) {\n            // ignore nodes in nested selectors\n            if (this.selector === null || this.selector === selectorList) {\n                switch (node.type) {\n                    case 'SelectorList':\n                        // TODO: remove toLowerCase when pseudo selectors will be normalized\n                        // ignore selectors inside :not()\n                        if (this.function === null || this.function.name.toLowerCase() !== 'not') {\n                            if (cleanUnused(node, usageData)) {\n                                shouldRemove = true;\n                            }\n                        }\n                        break;\n\n                    case 'ClassSelector':\n                        if (usageData.whitelist !== null &&\n                            usageData.whitelist.classes !== null &&\n                            !hasOwnProperty.call(usageData.whitelist.classes, node.name)) {\n                            shouldRemove = true;\n                        }\n                        if (usageData.blacklist !== null &&\n                            usageData.blacklist.classes !== null &&\n                            hasOwnProperty.call(usageData.blacklist.classes, node.name)) {\n                            shouldRemove = true;\n                        }\n                        break;\n\n                    case 'IdSelector':\n                        if (usageData.whitelist !== null &&\n                            usageData.whitelist.ids !== null &&\n                            !hasOwnProperty.call(usageData.whitelist.ids, node.name)) {\n                            shouldRemove = true;\n                        }\n                        if (usageData.blacklist !== null &&\n                            usageData.blacklist.ids !== null &&\n                            hasOwnProperty.call(usageData.blacklist.ids, node.name)) {\n                            shouldRemove = true;\n                        }\n                        break;\n\n                    case 'TypeSelector':\n                        // TODO: remove toLowerCase when type selectors will be normalized\n                        // ignore universal selectors\n                        if (node.name.charAt(node.name.length - 1) !== '*') {\n                            if (usageData.whitelist !== null &&\n                                usageData.whitelist.tags !== null &&\n                                !hasOwnProperty.call(usageData.whitelist.tags, node.name.toLowerCase())) {\n                                shouldRemove = true;\n                            }\n                            if (usageData.blacklist !== null &&\n                                usageData.blacklist.tags !== null &&\n                                hasOwnProperty.call(usageData.blacklist.tags, node.name.toLowerCase())) {\n                                shouldRemove = true;\n                            }\n                        }\n                        break;\n                }\n            }\n        });\n\n        if (shouldRemove) {\n            list.remove(item);\n        }\n    });\n\n    return selectorList.children.isEmpty();\n}\n\nmodule.exports = function cleanRule(node, item, list, options) {\n    if (hasNoChildren(node.prelude) || hasNoChildren(node.block)) {\n        list.remove(item);\n        return;\n    }\n\n    var usageData = options.usage;\n\n    if (usageData && (usageData.whitelist !== null || usageData.blacklist !== null)) {\n        cleanUnused(node.prelude, usageData);\n\n        if (hasNoChildren(node.prelude)) {\n            list.remove(item);\n            return;\n        }\n    }\n};\n","// remove useless universal selector\nmodule.exports = function cleanTypeSelector(node, item, list) {\n    var name = item.data.name;\n\n    // check it's a non-namespaced universal selector\n    if (name !== '*') {\n        return;\n    }\n\n    // remove when universal selector before other selectors\n    var nextType = item.next && item.next.data.type;\n    if (nextType === 'IdSelector' ||\n        nextType === 'ClassSelector' ||\n        nextType === 'AttributeSelector' ||\n        nextType === 'PseudoClassSelector' ||\n        nextType === 'PseudoElementSelector') {\n        list.remove(item);\n    }\n};\n","var { isNodeChildrenList } = require('./utils');\n\nfunction isSafeOperator(node) {\n    return node.type === 'Operator' && node.value !== '+' && node.value !== '-';\n}\n\nmodule.exports = function cleanWhitespace(node, item, list) {\n    // remove when first or last item in sequence\n    if (item.next === null || item.prev === null) {\n        list.remove(item);\n        return;\n    }\n\n    // white space in stylesheet or block children\n    if (isNodeChildrenList(this.stylesheet, list) ||\n        isNodeChildrenList(this.block, list)) {\n        list.remove(item);\n        return;\n    }\n\n    if (item.next.data.type === 'WhiteSpace') {\n        list.remove(item);\n        return;\n    }\n\n    if (isSafeOperator(item.prev.data) || isSafeOperator(item.next.data)) {\n        list.remove(item);\n        return;\n    }\n};\n","var walk = require('css-tree').walk;\nvar handlers = {\n    Atrule: require('./Atrule'),\n    AttributeSelector: require('./AttributeSelector'),\n    Value: require('./Value'),\n    Dimension: require('./Dimension'),\n    Percentage: require('./Percentage'),\n    Number: require('./Number'),\n    String: require('./String'),\n    Url: require('./Url'),\n    HexColor: require('./color').compressHex,\n    Identifier: require('./color').compressIdent,\n    Function: require('./color').compressFunction\n};\n\nmodule.exports = function(ast) {\n    walk(ast, {\n        leave: function(node, item, list) {\n            if (handlers.hasOwnProperty(node.type)) {\n                handlers[node.type].call(this, node, item, list);\n            }\n        }\n    });\n};\n","var resolveKeyword = require('css-tree').keyword;\nvar compressKeyframes = require('./atrule/keyframes');\n\nmodule.exports = function(node) {\n    // compress @keyframe selectors\n    if (resolveKeyword(node.name).basename === 'keyframes') {\n        compressKeyframes(node);\n    }\n};\n","module.exports = function(node) {\n    node.block.children.each(function(rule) {\n        rule.prelude.children.each(function(simpleselector) {\n            simpleselector.children.each(function(data, item) {\n                if (data.type === 'Percentage' && data.value === '100') {\n                    item.data = {\n                        type: 'TypeSelector',\n                        loc: data.loc,\n                        name: 'to'\n                    };\n                } else if (data.type === 'TypeSelector' && data.name === 'from') {\n                    item.data = {\n                        type: 'Percentage',\n                        loc: data.loc,\n                        value: '0'\n                    };\n                }\n            });\n        });\n    });\n};\n","// Can unquote attribute detection\n// Adopted implementation of Mathias Bynens\n// https://github.com/mathiasbynens/mothereff.in/blob/master/unquoted-attributes/eff.js\nvar escapesRx = /\\\\([0-9A-Fa-f]{1,6})(\\r\\n|[ \\t\\n\\f\\r])?|\\\\./g;\nvar blockUnquoteRx = /^(-?\\d|--)|[\\u0000-\\u002c\\u002e\\u002f\\u003A-\\u0040\\u005B-\\u005E\\u0060\\u007B-\\u009f]/;\n\nfunction canUnquote(value) {\n    if (value === '' || value === '-') {\n        return;\n    }\n\n    // Escapes are valid, so replace them with a valid non-empty string\n    value = value.replace(escapesRx, 'a');\n\n    return !blockUnquoteRx.test(value);\n}\n\nmodule.exports = function(node) {\n    var attrValue = node.value;\n\n    if (!attrValue || attrValue.type !== 'String') {\n        return;\n    }\n\n    var unquotedValue = attrValue.value.replace(/^(.)(.*)\\1$/, '$2');\n    if (canUnquote(unquotedValue)) {\n        node.value = {\n            type: 'Identifier',\n            loc: attrValue.loc,\n            name: unquotedValue\n        };\n    }\n};\n","var resolveName = require('css-tree').property;\nvar handlers = {\n    'font': require('./property/font'),\n    'font-weight': require('./property/font-weight'),\n    'background': require('./property/background'),\n    'border': require('./property/border'),\n    'outline': require('./property/border')\n};\n\nmodule.exports = function compressValue(node) {\n    if (!this.declaration) {\n        return;\n    }\n\n    var property = resolveName(this.declaration.property);\n\n    if (handlers.hasOwnProperty(property.basename)) {\n        handlers[property.basename](node);\n    }\n};\n","module.exports = function compressFont(node) {\n    var list = node.children;\n\n    list.eachRight(function(node, item) {\n        if (node.type === 'Identifier') {\n            if (node.name === 'bold') {\n                item.data = {\n                    type: 'Number',\n                    loc: node.loc,\n                    value: '700'\n                };\n            } else if (node.name === 'normal') {\n                var prev = item.prev;\n\n                if (prev && prev.data.type === 'Operator' && prev.data.value === '/') {\n                    this.remove(prev);\n                }\n\n                this.remove(item);\n            } else if (node.name === 'medium') {\n                var next = item.next;\n\n                if (!next || next.data.type !== 'Operator') {\n                    this.remove(item);\n                }\n            }\n        }\n    });\n\n    // remove redundant spaces\n    list.each(function(node, item) {\n        if (node.type === 'WhiteSpace') {\n            if (!item.prev || !item.next || item.next.data.type === 'WhiteSpace') {\n                this.remove(item);\n            }\n        }\n    });\n\n    if (list.isEmpty()) {\n        list.insert(list.createItem({\n            type: 'Identifier',\n            name: 'normal'\n        }));\n    }\n};\n","module.exports = function compressFontWeight(node) {\n    var value = node.children.head.data;\n\n    if (value.type === 'Identifier') {\n        switch (value.name) {\n            case 'normal':\n                node.children.head.data = {\n                    type: 'Number',\n                    loc: value.loc,\n                    value: '400'\n                };\n                break;\n            case 'bold':\n                node.children.head.data = {\n                    type: 'Number',\n                    loc: value.loc,\n                    value: '700'\n                };\n                break;\n        }\n    }\n};\n","var List = require('css-tree').List;\n\nmodule.exports = function compressBackground(node) {\n    function lastType() {\n        if (buffer.length) {\n            return buffer[buffer.length - 1].type;\n        }\n    }\n\n    function flush() {\n        if (lastType() === 'WhiteSpace') {\n            buffer.pop();\n        }\n\n        if (!buffer.length) {\n            buffer.unshift(\n                {\n                    type: 'Number',\n                    loc: null,\n                    value: '0'\n                },\n                {\n                    type: 'WhiteSpace',\n                    value: ' '\n                },\n                {\n                    type: 'Number',\n                    loc: null,\n                    value: '0'\n                }\n            );\n        }\n\n        newValue.push.apply(newValue, buffer);\n\n        buffer = [];\n    }\n\n    var newValue = [];\n    var buffer = [];\n\n    node.children.each(function(node) {\n        if (node.type === 'Operator' && node.value === ',') {\n            flush();\n            newValue.push(node);\n            return;\n        }\n\n        // remove defaults\n        if (node.type === 'Identifier') {\n            if (node.name === 'transparent' ||\n                node.name === 'none' ||\n                node.name === 'repeat' ||\n                node.name === 'scroll') {\n                return;\n            }\n        }\n\n        // don't add redundant spaces\n        if (node.type === 'WhiteSpace' && (!buffer.length || lastType() === 'WhiteSpace')) {\n            return;\n        }\n\n        buffer.push(node);\n    });\n\n    flush();\n    node.children = new List().fromArray(newValue);\n};\n","var packNumber = require('./Number').pack;\nvar LENGTH_UNIT = {\n    // absolute length units\n    'px': true,\n    'mm': true,\n    'cm': true,\n    'in': true,\n    'pt': true,\n    'pc': true,\n\n    // relative length units\n    'em': true,\n    'ex': true,\n    'ch': true,\n    'rem': true,\n\n    // viewport-percentage lengths\n    'vh': true,\n    'vw': true,\n    'vmin': true,\n    'vmax': true,\n    'vm': true\n};\n\nmodule.exports = function compressDimension(node, item) {\n    var value = packNumber(node.value, item);\n\n    node.value = value;\n\n    if (value === '0' && this.declaration !== null && this.atrulePrelude === null) {\n        var unit = node.unit.toLowerCase();\n\n        // only length values can be compressed\n        if (!LENGTH_UNIT.hasOwnProperty(unit)) {\n            return;\n        }\n\n        // issue #362: shouldn't remove unit in -ms-flex since it breaks flex in IE10/11\n        // issue #200: shouldn't remove unit in flex since it breaks flex in IE10/11\n        if (this.declaration.property === '-ms-flex' ||\n            this.declaration.property === 'flex') {\n            return;\n        }\n\n        // issue #222: don't remove units inside calc\n        if (this.function && this.function.name === 'calc') {\n            return;\n        }\n\n        item.data = {\n            type: 'Number',\n            loc: node.loc,\n            value: value\n        };\n    }\n};\n","var lexer = require('css-tree').lexer;\nvar packNumber = require('./Number').pack;\nvar blacklist = new Set([\n    // see https://github.com/jakubpawlowicz/clean-css/issues/957\n    'width',\n    'min-width',\n    'max-width',\n    'height',\n    'min-height',\n    'max-height',\n\n    // issue #410: Don’t remove units in flex-basis value for (-ms-)flex shorthand\n    // issue #362: shouldn't remove unit in -ms-flex since it breaks flex in IE10/11\n    // issue #200: shouldn't remove unit in flex since it breaks flex in IE10/11\n    'flex',\n    '-ms-flex'\n]);\n\nmodule.exports = function compressPercentage(node, item) {\n    node.value = packNumber(node.value, item);\n\n    if (node.value === '0' && this.declaration && !blacklist.has(this.declaration.property)) {\n        // try to convert a number\n        item.data = {\n            type: 'Number',\n            loc: node.loc,\n            value: node.value\n        };\n\n        // that's ok only when new value matches on length\n        if (!lexer.matchDeclaration(this.declaration).isType(item.data, 'length')) {\n            // otherwise rollback changes\n            item.data = node;\n        }\n    }\n};\n","module.exports = function(node) {\n    var value = node.value;\n\n    // remove escaped newlines, i.e.\n    // .a { content: \"foo\\\n    // bar\"}\n    // ->\n    // .a { content: \"foobar\" }\n    value = value.replace(/\\\\(\\r\\n|\\r|\\n|\\f)/g, '');\n\n    node.value = value;\n};\n","var UNICODE = '\\\\\\\\[0-9a-f]{1,6}(\\\\r\\\\n|[ \\\\n\\\\r\\\\t\\\\f])?';\nvar ESCAPE = '(' + UNICODE + '|\\\\\\\\[^\\\\n\\\\r\\\\f0-9a-fA-F])';\nvar NONPRINTABLE = '\\u0000\\u0008\\u000b\\u000e-\\u001f\\u007f';\nvar SAFE_URL = new RegExp('^(' + ESCAPE + '|[^\\\"\\'\\\\(\\\\)\\\\\\\\\\\\s' + NONPRINTABLE + '])*$', 'i');\n\nmodule.exports = function(node) {\n    var value = node.value;\n\n    if (value.type !== 'String') {\n        return;\n    }\n\n    var quote = value.value[0];\n    var url = value.value.substr(1, value.value.length - 2);\n\n    // convert `\\\\` to `/`\n    url = url.replace(/\\\\\\\\/g, '/');\n\n    // remove quotes when safe\n    // https://www.w3.org/TR/css-syntax-3/#url-unquoted-diagram\n    if (SAFE_URL.test(url)) {\n        node.value = {\n            type: 'Raw',\n            loc: node.value.loc,\n            value: url\n        };\n    } else {\n        // use double quotes if string has no double quotes\n        // otherwise use original quotes\n        // TODO: make better quote type selection\n        node.value.value = url.indexOf('\"') === -1 ? '\"' + url + '\"' : quote + url + quote;\n    }\n};\n","var prepare = require('./prepare/index');\nvar mergeAtrule = require('./1-mergeAtrule');\nvar initialMergeRuleset = require('./2-initialMergeRuleset');\nvar disjoinRuleset = require('./3-disjoinRuleset');\nvar restructShorthand = require('./4-restructShorthand');\nvar restructBlock = require('./6-restructBlock');\nvar mergeRuleset = require('./7-mergeRuleset');\nvar restructRuleset = require('./8-restructRuleset');\n\nmodule.exports = function(ast, options) {\n    // prepare ast for restructing\n    var indexer = prepare(ast, options);\n    options.logger('prepare', ast);\n\n    mergeAtrule(ast, options);\n    options.logger('mergeAtrule', ast);\n\n    initialMergeRuleset(ast);\n    options.logger('initialMergeRuleset', ast);\n\n    disjoinRuleset(ast);\n    options.logger('disjoinRuleset', ast);\n\n    restructShorthand(ast, indexer);\n    options.logger('restructShorthand', ast);\n\n    restructBlock(ast);\n    options.logger('restructBlock', ast);\n\n    mergeRuleset(ast);\n    options.logger('mergeRuleset', ast);\n\n    restructRuleset(ast);\n    options.logger('restructRuleset', ast);\n};\n","var resolveKeyword = require('css-tree').keyword;\nvar walk = require('css-tree').walk;\nvar generate = require('css-tree').generate;\nvar createDeclarationIndexer = require('./createDeclarationIndexer');\nvar processSelector = require('./processSelector');\n\nmodule.exports = function prepare(ast, options) {\n    var markDeclaration = createDeclarationIndexer();\n\n    walk(ast, {\n        visit: 'Rule',\n        enter: function processRule(node) {\n            node.block.children.each(markDeclaration);\n            processSelector(node, options.usage);\n        }\n    });\n\n    walk(ast, {\n        visit: 'Atrule',\n        enter: function(node) {\n            if (node.prelude) {\n                node.prelude.id = null; // pre-init property to avoid multiple hidden class for generate\n                node.prelude.id = generate(node.prelude);\n            }\n\n            // compare keyframe selectors by its values\n            // NOTE: still no clarification about problems with keyframes selector grouping (issue #197)\n            if (resolveKeyword(node.name).basename === 'keyframes') {\n                node.block.avoidRulesMerge = true;  /* probably we don't need to prevent those merges for @keyframes\n                                                       TODO: need to be checked */\n                node.block.children.each(function(rule) {\n                    rule.prelude.children.each(function(simpleselector) {\n                        simpleselector.compareMarker = simpleselector.id;\n                    });\n                });\n            }\n        }\n    });\n\n    return {\n        declaration: markDeclaration\n    };\n};\n","var generate = require('css-tree').generate;\n\nfunction Index() {\n    this.seed = 0;\n    this.map = Object.create(null);\n}\n\nIndex.prototype.resolve = function(str) {\n    var index = this.map[str];\n\n    if (!index) {\n        index = ++this.seed;\n        this.map[str] = index;\n    }\n\n    return index;\n};\n\nmodule.exports = function createDeclarationIndexer() {\n    var ids = new Index();\n\n    return function markDeclaration(node) {\n        var id = generate(node);\n\n        node.id = ids.resolve(id);\n        node.length = id.length;\n        node.fingerprint = null;\n\n        return node;\n    };\n};\n","var generate = require('css-tree').generate;\nvar specificity = require('./specificity');\n\nvar nonFreezePseudoElements = {\n    'first-letter': true,\n    'first-line': true,\n    'after': true,\n    'before': true\n};\nvar nonFreezePseudoClasses = {\n    'link': true,\n    'visited': true,\n    'hover': true,\n    'active': true,\n    'first-letter': true,\n    'first-line': true,\n    'after': true,\n    'before': true\n};\n\nmodule.exports = function freeze(node, usageData) {\n    var pseudos = Object.create(null);\n    var hasPseudo = false;\n\n    node.prelude.children.each(function(simpleSelector) {\n        var tagName = '*';\n        var scope = 0;\n\n        simpleSelector.children.each(function(node) {\n            switch (node.type) {\n                case 'ClassSelector':\n                    if (usageData && usageData.scopes) {\n                        var classScope = usageData.scopes[node.name] || 0;\n\n                        if (scope !== 0 && classScope !== scope) {\n                            throw new Error('Selector can\\'t has classes from different scopes: ' + generate(simpleSelector));\n                        }\n\n                        scope = classScope;\n                    }\n                    break;\n\n                case 'PseudoClassSelector':\n                    var name = node.name.toLowerCase();\n\n                    if (!nonFreezePseudoClasses.hasOwnProperty(name)) {\n                        pseudos[name] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'PseudoElementSelector':\n                    var name = node.name.toLowerCase();\n\n                    if (!nonFreezePseudoElements.hasOwnProperty(name)) {\n                        pseudos[name] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'TypeSelector':\n                    tagName = node.name.toLowerCase();\n                    break;\n\n                case 'AttributeSelector':\n                    if (node.flags) {\n                        pseudos['[' + node.flags.toLowerCase() + ']'] = true;\n                        hasPseudo = true;\n                    }\n                    break;\n\n                case 'WhiteSpace':\n                case 'Combinator':\n                    tagName = '*';\n                    break;\n            }\n        });\n\n        simpleSelector.compareMarker = specificity(simpleSelector).toString();\n        simpleSelector.id = null; // pre-init property to avoid multiple hidden class\n        simpleSelector.id = generate(simpleSelector);\n\n        if (scope) {\n            simpleSelector.compareMarker += ':' + scope;\n        }\n\n        if (tagName !== '*') {\n            simpleSelector.compareMarker += ',' + tagName;\n        }\n    });\n\n    // add property to all rule nodes to avoid multiple hidden class\n    node.pseudoSignature = hasPseudo && Object.keys(pseudos).sort().join(',');\n};\n","module.exports = function specificity(simpleSelector) {\n    var A = 0;\n    var B = 0;\n    var C = 0;\n\n    simpleSelector.children.each(function walk(node) {\n        switch (node.type) {\n            case 'SelectorList':\n            case 'Selector':\n                node.children.each(walk);\n                break;\n\n            case 'IdSelector':\n                A++;\n                break;\n\n            case 'ClassSelector':\n            case 'AttributeSelector':\n                B++;\n                break;\n\n            case 'PseudoClassSelector':\n                switch (node.name.toLowerCase()) {\n                    case 'not':\n                        node.children.each(walk);\n                        break;\n\n                    case 'before':\n                    case 'after':\n                    case 'first-line':\n                    case 'first-letter':\n                        C++;\n                        break;\n\n                    // TODO: support for :nth-*(.. of <SelectorList>), :matches(), :has()\n                    default:\n                        B++;\n                }\n                break;\n\n            case 'PseudoElementSelector':\n                C++;\n                break;\n\n            case 'TypeSelector':\n                // ignore universal selector\n                if (node.name.charAt(node.name.length - 1) !== '*') {\n                    C++;\n                }\n                break;\n\n        }\n    });\n\n    return [A, B, C];\n};\n","var List = require('css-tree').List;\nvar resolveKeyword = require('css-tree').keyword;\nvar hasOwnProperty = Object.prototype.hasOwnProperty;\nvar walk = require('css-tree').walk;\n\nfunction addRuleToMap(map, item, list, single) {\n    var node = item.data;\n    var name = resolveKeyword(node.name).basename;\n    var id = node.name.toLowerCase() + '/' + (node.prelude ? node.prelude.id : null);\n\n    if (!hasOwnProperty.call(map, name)) {\n        map[name] = Object.create(null);\n    }\n\n    if (single) {\n        delete map[name][id];\n    }\n\n    if (!hasOwnProperty.call(map[name], id)) {\n        map[name][id] = new List();\n    }\n\n    map[name][id].append(list.remove(item));\n}\n\nfunction relocateAtrules(ast, options) {\n    var collected = Object.create(null);\n    var topInjectPoint = null;\n\n    ast.children.each(function(node, item, list) {\n        if (node.type === 'Atrule') {\n            var name = resolveKeyword(node.name).basename;\n\n            switch (name) {\n                case 'keyframes':\n                    addRuleToMap(collected, item, list, true);\n                    return;\n\n                case 'media':\n                    if (options.forceMediaMerge) {\n                        addRuleToMap(collected, item, list, false);\n                        return;\n                    }\n                    break;\n            }\n\n            if (topInjectPoint === null &&\n                name !== 'charset' &&\n                name !== 'import') {\n                topInjectPoint = item;\n            }\n        } else {\n            if (topInjectPoint === null) {\n                topInjectPoint = item;\n            }\n        }\n    });\n\n    for (var atrule in collected) {\n        for (var id in collected[atrule]) {\n            ast.children.insertList(\n                collected[atrule][id],\n                atrule === 'media' ? null : topInjectPoint\n            );\n        }\n    }\n};\n\nfunction isMediaRule(node) {\n    return node.type === 'Atrule' && node.name === 'media';\n}\n\nfunction processAtrule(node, item, list) {\n    if (!isMediaRule(node)) {\n        return;\n    }\n\n    var prev = item.prev && item.prev.data;\n\n    if (!prev || !isMediaRule(prev)) {\n        return;\n    }\n\n    // merge @media with same query\n    if (node.prelude &&\n        prev.prelude &&\n        node.prelude.id === prev.prelude.id) {\n        prev.block.children.appendList(node.block.children);\n        list.remove(item);\n\n        // TODO: use it when we can refer to several points in source\n        // prev.loc = {\n        //     primary: prev.loc,\n        //     merged: node.loc\n        // };\n    }\n}\n\nmodule.exports = function rejoinAtrule(ast, options) {\n    relocateAtrules(ast, options);\n\n    walk(ast, {\n        visit: 'Atrule',\n        reverse: true,\n        enter: processAtrule\n    });\n};\n","var walk = require('css-tree').walk;\nvar utils = require('./utils');\n\nfunction processRule(node, item, list) {\n    var selectors = node.prelude.children;\n    var declarations = node.block.children;\n\n    list.prevUntil(item.prev, function(prev) {\n        // skip non-ruleset node if safe\n        if (prev.type !== 'Rule') {\n            return utils.unsafeToSkipNode.call(selectors, prev);\n        }\n\n        var prevSelectors = prev.prelude.children;\n        var prevDeclarations = prev.block.children;\n\n        // try to join rulesets with equal pseudo signature\n        if (node.pseudoSignature === prev.pseudoSignature) {\n            // try to join by selectors\n            if (utils.isEqualSelectors(prevSelectors, selectors)) {\n                prevDeclarations.appendList(declarations);\n                list.remove(item);\n                return true;\n            }\n\n            // try to join by declarations\n            if (utils.isEqualDeclarations(declarations, prevDeclarations)) {\n                utils.addSelectors(prevSelectors, selectors);\n                list.remove(item);\n                return true;\n            }\n        }\n\n        // go to prev ruleset if has no selector similarities\n        return utils.hasSimilarSelectors(selectors, prevSelectors);\n    });\n}\n\n// NOTE: direction should be left to right, since rulesets merge to left\n// ruleset. When direction right to left unmerged rulesets may prevent lookup\n// TODO: remove initial merge\nmodule.exports = function initialMergeRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        enter: processRule\n    });\n};\n","var List = require('css-tree').List;\nvar walk = require('css-tree').walk;\n\nfunction processRule(node, item, list) {\n    var selectors = node.prelude.children;\n\n    // generate new rule sets:\n    // .a, .b { color: red; }\n    // ->\n    // .a { color: red; }\n    // .b { color: red; }\n\n    // while there are more than 1 simple selector split for rulesets\n    while (selectors.head !== selectors.tail) {\n        var newSelectors = new List();\n        newSelectors.insert(selectors.remove(selectors.head));\n\n        list.insert(list.createItem({\n            type: 'Rule',\n            loc: node.loc,\n            prelude: {\n                type: 'SelectorList',\n                loc: node.prelude.loc,\n                children: newSelectors\n            },\n            block: {\n                type: 'Block',\n                loc: node.block.loc,\n                children: node.block.children.copy()\n            },\n            pseudoSignature: node.pseudoSignature\n        }), item);\n    }\n}\n\nmodule.exports = function disjoinRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        reverse: true,\n        enter: processRule\n    });\n};\n","var List = require('css-tree').List;\nvar generate = require('css-tree').generate;\nvar walk = require('css-tree').walk;\n\nvar REPLACE = 1;\nvar REMOVE = 2;\nvar TOP = 0;\nvar RIGHT = 1;\nvar BOTTOM = 2;\nvar LEFT = 3;\nvar SIDES = ['top', 'right', 'bottom', 'left'];\nvar SIDE = {\n    'margin-top': 'top',\n    'margin-right': 'right',\n    'margin-bottom': 'bottom',\n    'margin-left': 'left',\n\n    'padding-top': 'top',\n    'padding-right': 'right',\n    'padding-bottom': 'bottom',\n    'padding-left': 'left',\n\n    'border-top-color': 'top',\n    'border-right-color': 'right',\n    'border-bottom-color': 'bottom',\n    'border-left-color': 'left',\n    'border-top-width': 'top',\n    'border-right-width': 'right',\n    'border-bottom-width': 'bottom',\n    'border-left-width': 'left',\n    'border-top-style': 'top',\n    'border-right-style': 'right',\n    'border-bottom-style': 'bottom',\n    'border-left-style': 'left'\n};\nvar MAIN_PROPERTY = {\n    'margin': 'margin',\n    'margin-top': 'margin',\n    'margin-right': 'margin',\n    'margin-bottom': 'margin',\n    'margin-left': 'margin',\n\n    'padding': 'padding',\n    'padding-top': 'padding',\n    'padding-right': 'padding',\n    'padding-bottom': 'padding',\n    'padding-left': 'padding',\n\n    'border-color': 'border-color',\n    'border-top-color': 'border-color',\n    'border-right-color': 'border-color',\n    'border-bottom-color': 'border-color',\n    'border-left-color': 'border-color',\n    'border-width': 'border-width',\n    'border-top-width': 'border-width',\n    'border-right-width': 'border-width',\n    'border-bottom-width': 'border-width',\n    'border-left-width': 'border-width',\n    'border-style': 'border-style',\n    'border-top-style': 'border-style',\n    'border-right-style': 'border-style',\n    'border-bottom-style': 'border-style',\n    'border-left-style': 'border-style'\n};\n\nfunction TRBL(name) {\n    this.name = name;\n    this.loc = null;\n    this.iehack = undefined;\n    this.sides = {\n        'top': null,\n        'right': null,\n        'bottom': null,\n        'left': null\n    };\n}\n\nTRBL.prototype.getValueSequence = function(declaration, count) {\n    var values = [];\n    var iehack = '';\n    var hasBadValues = declaration.value.children.some(function(child) {\n        var special = false;\n\n        switch (child.type) {\n            case 'Identifier':\n                switch (child.name) {\n                    case '\\\\0':\n                    case '\\\\9':\n                        iehack = child.name;\n                        return;\n\n                    case 'inherit':\n                    case 'initial':\n                    case 'unset':\n                    case 'revert':\n                        special = child.name;\n                        break;\n                }\n                break;\n\n            case 'Dimension':\n                switch (child.unit) {\n                    // is not supported until IE11\n                    case 'rem':\n\n                    // v* units is too buggy across browsers and better\n                    // don't merge values with those units\n                    case 'vw':\n                    case 'vh':\n                    case 'vmin':\n                    case 'vmax':\n                    case 'vm': // IE9 supporting \"vm\" instead of \"vmin\".\n                        special = child.unit;\n                        break;\n                }\n                break;\n\n            case 'HexColor': // color\n            case 'Number':\n            case 'Percentage':\n                break;\n\n            case 'Function':\n                special = child.name;\n                break;\n\n            case 'WhiteSpace':\n                return false; // ignore space\n\n            default:\n                return true;  // bad value\n        }\n\n        values.push({\n            node: child,\n            special: special,\n            important: declaration.important\n        });\n    });\n\n    if (hasBadValues || values.length > count) {\n        return false;\n    }\n\n    if (typeof this.iehack === 'string' && this.iehack !== iehack) {\n        return false;\n    }\n\n    this.iehack = iehack; // move outside\n\n    return values;\n};\n\nTRBL.prototype.canOverride = function(side, value) {\n    var currentValue = this.sides[side];\n\n    return !currentValue || (value.important && !currentValue.important);\n};\n\nTRBL.prototype.add = function(name, declaration) {\n    function attemptToAdd() {\n        var sides = this.sides;\n        var side = SIDE[name];\n\n        if (side) {\n            if (side in sides === false) {\n                return false;\n            }\n\n            var values = this.getValueSequence(declaration, 1);\n\n            if (!values || !values.length) {\n                return false;\n            }\n\n            // can mix only if specials are equal\n            for (var key in sides) {\n                if (sides[key] !== null && sides[key].special !== values[0].special) {\n                    return false;\n                }\n            }\n\n            if (!this.canOverride(side, values[0])) {\n                return true;\n            }\n\n            sides[side] = values[0];\n            return true;\n        } else if (name === this.name) {\n            var values = this.getValueSequence(declaration, 4);\n\n            if (!values || !values.length) {\n                return false;\n            }\n\n            switch (values.length) {\n                case 1:\n                    values[RIGHT] = values[TOP];\n                    values[BOTTOM] = values[TOP];\n                    values[LEFT] = values[TOP];\n                    break;\n\n                case 2:\n                    values[BOTTOM] = values[TOP];\n                    values[LEFT] = values[RIGHT];\n                    break;\n\n                case 3:\n                    values[LEFT] = values[RIGHT];\n                    break;\n            }\n\n            // can mix only if specials are equal\n            for (var i = 0; i < 4; i++) {\n                for (var key in sides) {\n                    if (sides[key] !== null && sides[key].special !== values[i].special) {\n                        return false;\n                    }\n                }\n            }\n\n            for (var i = 0; i < 4; i++) {\n                if (this.canOverride(SIDES[i], values[i])) {\n                    sides[SIDES[i]] = values[i];\n                }\n            }\n\n            return true;\n        }\n    }\n\n    if (!attemptToAdd.call(this)) {\n        return false;\n    }\n\n    // TODO: use it when we can refer to several points in source\n    // if (this.loc) {\n    //     this.loc = {\n    //         primary: this.loc,\n    //         merged: declaration.loc\n    //     };\n    // } else {\n    //     this.loc = declaration.loc;\n    // }\n    if (!this.loc) {\n        this.loc = declaration.loc;\n    }\n\n    return true;\n};\n\nTRBL.prototype.isOkToMinimize = function() {\n    var top = this.sides.top;\n    var right = this.sides.right;\n    var bottom = this.sides.bottom;\n    var left = this.sides.left;\n\n    if (top && right && bottom && left) {\n        var important =\n            top.important +\n            right.important +\n            bottom.important +\n            left.important;\n\n        return important === 0 || important === 4;\n    }\n\n    return false;\n};\n\nTRBL.prototype.getValue = function() {\n    var result = new List();\n    var sides = this.sides;\n    var values = [\n        sides.top,\n        sides.right,\n        sides.bottom,\n        sides.left\n    ];\n    var stringValues = [\n        generate(sides.top.node),\n        generate(sides.right.node),\n        generate(sides.bottom.node),\n        generate(sides.left.node)\n    ];\n\n    if (stringValues[LEFT] === stringValues[RIGHT]) {\n        values.pop();\n        if (stringValues[BOTTOM] === stringValues[TOP]) {\n            values.pop();\n            if (stringValues[RIGHT] === stringValues[TOP]) {\n                values.pop();\n            }\n        }\n    }\n\n    for (var i = 0; i < values.length; i++) {\n        if (i) {\n            result.appendData({ type: 'WhiteSpace', value: ' ' });\n        }\n\n        result.appendData(values[i].node);\n    }\n\n    if (this.iehack) {\n        result.appendData({ type: 'WhiteSpace', value: ' ' });\n        result.appendData({\n            type: 'Identifier',\n            loc: null,\n            name: this.iehack\n        });\n    }\n\n    return {\n        type: 'Value',\n        loc: null,\n        children: result\n    };\n};\n\nTRBL.prototype.getDeclaration = function() {\n    return {\n        type: 'Declaration',\n        loc: this.loc,\n        important: this.sides.top.important,\n        property: this.name,\n        value: this.getValue()\n    };\n};\n\nfunction processRule(rule, shorts, shortDeclarations, lastShortSelector) {\n    var declarations = rule.block.children;\n    var selector = rule.prelude.children.first().id;\n\n    rule.block.children.eachRight(function(declaration, item) {\n        var property = declaration.property;\n\n        if (!MAIN_PROPERTY.hasOwnProperty(property)) {\n            return;\n        }\n\n        var key = MAIN_PROPERTY[property];\n        var shorthand;\n        var operation;\n\n        if (!lastShortSelector || selector === lastShortSelector) {\n            if (key in shorts) {\n                operation = REMOVE;\n                shorthand = shorts[key];\n            }\n        }\n\n        if (!shorthand || !shorthand.add(property, declaration)) {\n            operation = REPLACE;\n            shorthand = new TRBL(key);\n\n            // if can't parse value ignore it and break shorthand children\n            if (!shorthand.add(property, declaration)) {\n                lastShortSelector = null;\n                return;\n            }\n        }\n\n        shorts[key] = shorthand;\n        shortDeclarations.push({\n            operation: operation,\n            block: declarations,\n            item: item,\n            shorthand: shorthand\n        });\n\n        lastShortSelector = selector;\n    });\n\n    return lastShortSelector;\n}\n\nfunction processShorthands(shortDeclarations, markDeclaration) {\n    shortDeclarations.forEach(function(item) {\n        var shorthand = item.shorthand;\n\n        if (!shorthand.isOkToMinimize()) {\n            return;\n        }\n\n        if (item.operation === REPLACE) {\n            item.item.data = markDeclaration(shorthand.getDeclaration());\n        } else {\n            item.block.remove(item.item);\n        }\n    });\n}\n\nmodule.exports = function restructBlock(ast, indexer) {\n    var stylesheetMap = {};\n    var shortDeclarations = [];\n\n    walk(ast, {\n        visit: 'Rule',\n        reverse: true,\n        enter: function(node) {\n            var stylesheet = this.block || this.stylesheet;\n            var ruleId = (node.pseudoSignature || '') + '|' + node.prelude.children.first().id;\n            var ruleMap;\n            var shorts;\n\n            if (!stylesheetMap.hasOwnProperty(stylesheet.id)) {\n                ruleMap = {\n                    lastShortSelector: null\n                };\n                stylesheetMap[stylesheet.id] = ruleMap;\n            } else {\n                ruleMap = stylesheetMap[stylesheet.id];\n            }\n\n            if (ruleMap.hasOwnProperty(ruleId)) {\n                shorts = ruleMap[ruleId];\n            } else {\n                shorts = {};\n                ruleMap[ruleId] = shorts;\n            }\n\n            ruleMap.lastShortSelector = processRule.call(this, node, shorts, shortDeclarations, ruleMap.lastShortSelector);\n        }\n    });\n\n    processShorthands(shortDeclarations, indexer.declaration);\n};\n","var resolveProperty = require('css-tree').property;\nvar resolveKeyword = require('css-tree').keyword;\nvar walk = require('css-tree').walk;\nvar generate = require('css-tree').generate;\nvar fingerprintId = 1;\nvar dontRestructure = {\n    'src': 1 // https://github.com/afelix/csso/issues/50\n};\n\nvar DONT_MIX_VALUE = {\n    // https://developer.mozilla.org/en-US/docs/Web/CSS/display#Browser_compatibility\n    'display': /table|ruby|flex|-(flex)?box$|grid|contents|run-in/i,\n    // https://developer.mozilla.org/en/docs/Web/CSS/text-align\n    'text-align': /^(start|end|match-parent|justify-all)$/i\n};\n\nvar CURSOR_SAFE_VALUE = [\n    'auto', 'crosshair', 'default', 'move', 'text', 'wait', 'help',\n    'n-resize', 'e-resize', 's-resize', 'w-resize',\n    'ne-resize', 'nw-resize', 'se-resize', 'sw-resize',\n    'pointer', 'progress', 'not-allowed', 'no-drop', 'vertical-text', 'all-scroll',\n    'col-resize', 'row-resize'\n];\n\nvar POSITION_SAFE_VALUE = [\n    'static', 'relative', 'absolute', 'fixed'\n];\n\nvar NEEDLESS_TABLE = {\n    'border-width': ['border'],\n    'border-style': ['border'],\n    'border-color': ['border'],\n    'border-top': ['border'],\n    'border-right': ['border'],\n    'border-bottom': ['border'],\n    'border-left': ['border'],\n    'border-top-width': ['border-top', 'border-width', 'border'],\n    'border-right-width': ['border-right', 'border-width', 'border'],\n    'border-bottom-width': ['border-bottom', 'border-width', 'border'],\n    'border-left-width': ['border-left', 'border-width', 'border'],\n    'border-top-style': ['border-top', 'border-style', 'border'],\n    'border-right-style': ['border-right', 'border-style', 'border'],\n    'border-bottom-style': ['border-bottom', 'border-style', 'border'],\n    'border-left-style': ['border-left', 'border-style', 'border'],\n    'border-top-color': ['border-top', 'border-color', 'border'],\n    'border-right-color': ['border-right', 'border-color', 'border'],\n    'border-bottom-color': ['border-bottom', 'border-color', 'border'],\n    'border-left-color': ['border-left', 'border-color', 'border'],\n    'margin-top': ['margin'],\n    'margin-right': ['margin'],\n    'margin-bottom': ['margin'],\n    'margin-left': ['margin'],\n    'padding-top': ['padding'],\n    'padding-right': ['padding'],\n    'padding-bottom': ['padding'],\n    'padding-left': ['padding'],\n    'font-style': ['font'],\n    'font-variant': ['font'],\n    'font-weight': ['font'],\n    'font-size': ['font'],\n    'font-family': ['font'],\n    'list-style-type': ['list-style'],\n    'list-style-position': ['list-style'],\n    'list-style-image': ['list-style']\n};\n\nfunction getPropertyFingerprint(propertyName, declaration, fingerprints) {\n    var realName = resolveProperty(propertyName).basename;\n\n    if (realName === 'background') {\n        return propertyName + ':' + generate(declaration.value);\n    }\n\n    var declarationId = declaration.id;\n    var fingerprint = fingerprints[declarationId];\n\n    if (!fingerprint) {\n        switch (declaration.value.type) {\n            case 'Value':\n                var vendorId = '';\n                var iehack = '';\n                var special = {};\n                var raw = false;\n\n                declaration.value.children.each(function walk(node) {\n                    switch (node.type) {\n                        case 'Value':\n                        case 'Brackets':\n                        case 'Parentheses':\n                            node.children.each(walk);\n                            break;\n\n                        case 'Raw':\n                            raw = true;\n                            break;\n\n                        case 'Identifier':\n                            var name = node.name;\n\n                            if (!vendorId) {\n                                vendorId = resolveKeyword(name).vendor;\n                            }\n\n                            if (/\\\\[09]/.test(name)) {\n                                iehack = RegExp.lastMatch;\n                            }\n\n                            if (realName === 'cursor') {\n                                if (CURSOR_SAFE_VALUE.indexOf(name) === -1) {\n                                    special[name] = true;\n                                }\n                            } else if (realName === 'position') {\n                                if (POSITION_SAFE_VALUE.indexOf(name) === -1) {\n                                    special[name] = true;\n                                }\n                            } else if (DONT_MIX_VALUE.hasOwnProperty(realName)) {\n                                if (DONT_MIX_VALUE[realName].test(name)) {\n                                    special[name] = true;\n                                }\n                            }\n\n                            break;\n\n                        case 'Function':\n                            var name = node.name;\n\n                            if (!vendorId) {\n                                vendorId = resolveKeyword(name).vendor;\n                            }\n\n                            if (name === 'rect') {\n                                // there are 2 forms of rect:\n                                //   rect(<top>, <right>, <bottom>, <left>) - standart\n                                //   rect(<top> <right> <bottom> <left>) – backwards compatible syntax\n                                // only the same form values can be merged\n                                var hasComma = node.children.some(function(node) {\n                                    return node.type === 'Operator' && node.value === ',';\n                                });\n                                if (!hasComma) {\n                                    name = 'rect-backward';\n                                }\n                            }\n\n                            special[name + '()'] = true;\n\n                            // check nested tokens too\n                            node.children.each(walk);\n\n                            break;\n\n                        case 'Dimension':\n                            var unit = node.unit;\n\n                            if (/\\\\[09]/.test(unit)) {\n                                iehack = RegExp.lastMatch;\n                            }\n\n                            switch (unit) {\n                                // is not supported until IE11\n                                case 'rem':\n\n                                // v* units is too buggy across browsers and better\n                                // don't merge values with those units\n                                case 'vw':\n                                case 'vh':\n                                case 'vmin':\n                                case 'vmax':\n                                case 'vm': // IE9 supporting \"vm\" instead of \"vmin\".\n                                    special[unit] = true;\n                                    break;\n                            }\n                            break;\n                    }\n                });\n\n                fingerprint = raw\n                    ? '!' + fingerprintId++\n                    : '!' + Object.keys(special).sort() + '|' + iehack + vendorId;\n                break;\n\n            case 'Raw':\n                fingerprint = '!' + declaration.value.value;\n                break;\n\n            default:\n                fingerprint = generate(declaration.value);\n        }\n\n        fingerprints[declarationId] = fingerprint;\n    }\n\n    return propertyName + fingerprint;\n}\n\nfunction needless(props, declaration, fingerprints) {\n    var property = resolveProperty(declaration.property);\n\n    if (NEEDLESS_TABLE.hasOwnProperty(property.basename)) {\n        var table = NEEDLESS_TABLE[property.basename];\n\n        for (var i = 0; i < table.length; i++) {\n            var ppre = getPropertyFingerprint(property.prefix + table[i], declaration, fingerprints);\n            var prev = props.hasOwnProperty(ppre) ? props[ppre] : null;\n\n            if (prev && (!declaration.important || prev.item.data.important)) {\n                return prev;\n            }\n        }\n    }\n}\n\nfunction processRule(rule, item, list, props, fingerprints) {\n    var declarations = rule.block.children;\n\n    declarations.eachRight(function(declaration, declarationItem) {\n        var property = declaration.property;\n        var fingerprint = getPropertyFingerprint(property, declaration, fingerprints);\n        var prev = props[fingerprint];\n\n        if (prev && !dontRestructure.hasOwnProperty(property)) {\n            if (declaration.important && !prev.item.data.important) {\n                props[fingerprint] = {\n                    block: declarations,\n                    item: declarationItem\n                };\n\n                prev.block.remove(prev.item);\n\n                // TODO: use it when we can refer to several points in source\n                // declaration.loc = {\n                //     primary: declaration.loc,\n                //     merged: prev.item.data.loc\n                // };\n            } else {\n                declarations.remove(declarationItem);\n\n                // TODO: use it when we can refer to several points in source\n                // prev.item.data.loc = {\n                //     primary: prev.item.data.loc,\n                //     merged: declaration.loc\n                // };\n            }\n        } else {\n            var prev = needless(props, declaration, fingerprints);\n\n            if (prev) {\n                declarations.remove(declarationItem);\n\n                // TODO: use it when we can refer to several points in source\n                // prev.item.data.loc = {\n                //     primary: prev.item.data.loc,\n                //     merged: declaration.loc\n                // };\n            } else {\n                declaration.fingerprint = fingerprint;\n\n                props[fingerprint] = {\n                    block: declarations,\n                    item: declarationItem\n                };\n            }\n        }\n    });\n\n    if (declarations.isEmpty()) {\n        list.remove(item);\n    }\n}\n\nmodule.exports = function restructBlock(ast) {\n    var stylesheetMap = {};\n    var fingerprints = Object.create(null);\n\n    walk(ast, {\n        visit: 'Rule',\n        reverse: true,\n        enter: function(node, item, list) {\n            var stylesheet = this.block || this.stylesheet;\n            var ruleId = (node.pseudoSignature || '') + '|' + node.prelude.children.first().id;\n            var ruleMap;\n            var props;\n\n            if (!stylesheetMap.hasOwnProperty(stylesheet.id)) {\n                ruleMap = {};\n                stylesheetMap[stylesheet.id] = ruleMap;\n            } else {\n                ruleMap = stylesheetMap[stylesheet.id];\n            }\n\n            if (ruleMap.hasOwnProperty(ruleId)) {\n                props = ruleMap[ruleId];\n            } else {\n                props = {};\n                ruleMap[ruleId] = props;\n            }\n\n            processRule.call(this, node, item, list, props, fingerprints);\n        }\n    });\n};\n","var walk = require('css-tree').walk;\nvar utils = require('./utils');\n\n/*\n    At this step all rules has single simple selector. We try to join by equal\n    declaration blocks to first rule, e.g.\n\n    .a { color: red }\n    b { ... }\n    .b { color: red }\n    ->\n    .a, .b { color: red }\n    b { ... }\n*/\n\nfunction processRule(node, item, list) {\n    var selectors = node.prelude.children;\n    var declarations = node.block.children;\n    var nodeCompareMarker = selectors.first().compareMarker;\n    var skippedCompareMarkers = {};\n\n    list.nextUntil(item.next, function(next, nextItem) {\n        // skip non-ruleset node if safe\n        if (next.type !== 'Rule') {\n            return utils.unsafeToSkipNode.call(selectors, next);\n        }\n\n        if (node.pseudoSignature !== next.pseudoSignature) {\n            return true;\n        }\n\n        var nextFirstSelector = next.prelude.children.head;\n        var nextDeclarations = next.block.children;\n        var nextCompareMarker = nextFirstSelector.data.compareMarker;\n\n        // if next ruleset has same marked as one of skipped then stop joining\n        if (nextCompareMarker in skippedCompareMarkers) {\n            return true;\n        }\n\n        // try to join by selectors\n        if (selectors.head === selectors.tail) {\n            if (selectors.first().id === nextFirstSelector.data.id) {\n                declarations.appendList(nextDeclarations);\n                list.remove(nextItem);\n                return;\n            }\n        }\n\n        // try to join by properties\n        if (utils.isEqualDeclarations(declarations, nextDeclarations)) {\n            var nextStr = nextFirstSelector.data.id;\n\n            selectors.some(function(data, item) {\n                var curStr = data.id;\n\n                if (nextStr < curStr) {\n                    selectors.insert(nextFirstSelector, item);\n                    return true;\n                }\n\n                if (!item.next) {\n                    selectors.insert(nextFirstSelector);\n                    return true;\n                }\n            });\n\n            list.remove(nextItem);\n            return;\n        }\n\n        // go to next ruleset if current one can be skipped (has no equal specificity nor element selector)\n        if (nextCompareMarker === nodeCompareMarker) {\n            return true;\n        }\n\n        skippedCompareMarkers[nextCompareMarker] = true;\n    });\n}\n\nmodule.exports = function mergeRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        enter: processRule\n    });\n};\n","var List = require('css-tree').List;\nvar walk = require('css-tree').walk;\nvar utils = require('./utils');\n\nfunction calcSelectorLength(list) {\n    var length = 0;\n\n    list.each(function(data) {\n        length += data.id.length + 1;\n    });\n\n    return length - 1;\n}\n\nfunction calcDeclarationsLength(tokens) {\n    var length = 0;\n\n    for (var i = 0; i < tokens.length; i++) {\n        length += tokens[i].length;\n    }\n\n    return (\n        length +          // declarations\n        tokens.length - 1 // delimeters\n    );\n}\n\nfunction processRule(node, item, list) {\n    var avoidRulesMerge = this.block !== null ? this.block.avoidRulesMerge : false;\n    var selectors = node.prelude.children;\n    var block = node.block;\n    var disallowDownMarkers = Object.create(null);\n    var allowMergeUp = true;\n    var allowMergeDown = true;\n\n    list.prevUntil(item.prev, function(prev, prevItem) {\n        var prevBlock = prev.block;\n        var prevType = prev.type;\n\n        if (prevType !== 'Rule') {\n            var unsafe = utils.unsafeToSkipNode.call(selectors, prev);\n\n            if (!unsafe && prevType === 'Atrule' && prevBlock) {\n                walk(prevBlock, {\n                    visit: 'Rule',\n                    enter: function(node) {\n                        node.prelude.children.each(function(data) {\n                            disallowDownMarkers[data.compareMarker] = true;\n                        });\n                    }\n                });\n            }\n\n            return unsafe;\n        }\n\n        var prevSelectors = prev.prelude.children;\n\n        if (node.pseudoSignature !== prev.pseudoSignature) {\n            return true;\n        }\n\n        allowMergeDown = !prevSelectors.some(function(selector) {\n            return selector.compareMarker in disallowDownMarkers;\n        });\n\n        // try prev ruleset if simpleselectors has no equal specifity and element selector\n        if (!allowMergeDown && !allowMergeUp) {\n            return true;\n        }\n\n        // try to join by selectors\n        if (allowMergeUp && utils.isEqualSelectors(prevSelectors, selectors)) {\n            prevBlock.children.appendList(block.children);\n            list.remove(item);\n            return true;\n        }\n\n        // try to join by properties\n        var diff = utils.compareDeclarations(block.children, prevBlock.children);\n\n        // console.log(diff.eq, diff.ne1, diff.ne2);\n\n        if (diff.eq.length) {\n            if (!diff.ne1.length && !diff.ne2.length) {\n                // equal blocks\n                if (allowMergeDown) {\n                    utils.addSelectors(selectors, prevSelectors);\n                    list.remove(prevItem);\n                }\n\n                return true;\n            } else if (!avoidRulesMerge) { /* probably we don't need to prevent those merges for @keyframes\n                                              TODO: need to be checked */\n\n                if (diff.ne1.length && !diff.ne2.length) {\n                    // prevBlock is subset block\n                    var selectorLength = calcSelectorLength(selectors);\n                    var blockLength = calcDeclarationsLength(diff.eq); // declarations length\n\n                    if (allowMergeUp && selectorLength < blockLength) {\n                        utils.addSelectors(prevSelectors, selectors);\n                        block.children = new List().fromArray(diff.ne1);\n                    }\n                } else if (!diff.ne1.length && diff.ne2.length) {\n                    // node is subset of prevBlock\n                    var selectorLength = calcSelectorLength(prevSelectors);\n                    var blockLength = calcDeclarationsLength(diff.eq); // declarations length\n\n                    if (allowMergeDown && selectorLength < blockLength) {\n                        utils.addSelectors(selectors, prevSelectors);\n                        prevBlock.children = new List().fromArray(diff.ne2);\n                    }\n                } else {\n                    // diff.ne1.length && diff.ne2.length\n                    // extract equal block\n                    var newSelector = {\n                        type: 'SelectorList',\n                        loc: null,\n                        children: utils.addSelectors(prevSelectors.copy(), selectors)\n                    };\n                    var newBlockLength = calcSelectorLength(newSelector.children) + 2; // selectors length + curly braces length\n                    var blockLength = calcDeclarationsLength(diff.eq); // declarations length\n\n                    // create new ruleset if declarations length greater than\n                    // ruleset description overhead\n                    if (blockLength >= newBlockLength) {\n                        var newItem = list.createItem({\n                            type: 'Rule',\n                            loc: null,\n                            prelude: newSelector,\n                            block: {\n                                type: 'Block',\n                                loc: null,\n                                children: new List().fromArray(diff.eq)\n                            },\n                            pseudoSignature: node.pseudoSignature\n                        });\n\n                        block.children = new List().fromArray(diff.ne1);\n                        prevBlock.children = new List().fromArray(diff.ne2overrided);\n\n                        if (allowMergeUp) {\n                            list.insert(newItem, prevItem);\n                        } else {\n                            list.insert(newItem, item);\n                        }\n\n                        return true;\n                    }\n                }\n            }\n        }\n\n        if (allowMergeUp) {\n            // TODO: disallow up merge only if any property interception only (i.e. diff.ne2overrided.length > 0);\n            // await property families to find property interception correctly\n            allowMergeUp = !prevSelectors.some(function(prevSelector) {\n                return selectors.some(function(selector) {\n                    return selector.compareMarker === prevSelector.compareMarker;\n                });\n            });\n        }\n\n        prevSelectors.each(function(data) {\n            disallowDownMarkers[data.compareMarker] = true;\n        });\n    });\n}\n\nmodule.exports = function restructRule(ast) {\n    walk(ast, {\n        visit: 'Rule',\n        reverse: true,\n        enter: processRule\n    });\n};\n","import Ajv, { ErrorObject } from \"ajv\";\n\n// TODO: formatError should give cleaner better errors\n\nexport const validate = (maybeAinsley: unknown): string[] => {\n  const ajv = new Ajv({ allErrors: true });\n  const _valid = ajv.validate(schema, maybeAinsley) as boolean;\n\n  if (ajv.errors !== null && ajv.errors !== undefined) {\n    // find lowest error and show that\n    const lowestLength = Infinity;\n    let lowestErrors: string[] = [];\n    ajv.errors.forEach((error) => {\n      const pathLength = error.schemaPath.split(\"/\").length;\n      if (pathLength === lowestLength) {\n        lowestErrors.push(formatError(error));\n      } else if (pathLength < lowestLength) {\n        lowestErrors = [formatError(error)];\n      }\n    });\n    return lowestErrors;\n  } else {\n    return [];\n  }\n};\n\nconst formatError = (error: ErrorObject): string =>\n  `Ainsley${error.dataPath}${\n    error.message === undefined ? \"\" : ` ${error.message}`\n  }`;\n\n// prettier-ignore\nexport const schema = {\n  \"$schema\": \"http://json-schema.org/draft-07/schema#\",\n  \"definitions\": {\n    \"Primitive\": {\n      \"anyOf\": [\n        {\n          \"type\": \"string\"\n        },\n        {\n          \"type\": \"number\"\n        }\n      ]\n    }\n  },\n  \"properties\": {\n    \"children\": {\n      \"items\": {\n        \"anyOf\": [\n          {\n            \"items\": [\n              {\n                \"type\": \"string\"\n              },\n              {\n                \"items\": {\n                  \"items\": [\n                    {\n                      \"type\": \"string\"\n                    },\n                    {\n                      \"$ref\": \"#/definitions/Primitive\"\n                    }\n                  ],\n                  \"minItems\": 2,\n                  \"maxItems\": 2,\n                  \"type\": \"array\"\n                },\n                \"type\": \"array\"\n              }\n            ],\n            \"minItems\": 2,\n            \"maxItems\": 2,\n            \"type\": \"array\"\n          },\n          {\n            \"items\": [\n              {\n                \"type\": \"string\"\n              },\n              {\n                \"anyOf\": [\n                  {\n                    \"type\": \"object\",\n                    \"additionalProperties\": {\n                      \"$ref\": \"#/definitions/Primitive\"\n                    }\n                  },\n                  {\n                    \"type\": \"array\",\n                    \"items\": {\n                      \"anyOf\": [\n                        {\n                          \"$ref\": \"#/definitions/Primitive\"\n                        },\n                        {\n                          \"items\": [\n                            {\n                              \"$ref\": \"#/definitions/Primitive\"\n                            },\n                            {\n                              \"$ref\": \"#/definitions/Primitive\"\n                            }\n                          ],\n                          \"minItems\": 2,\n                          \"maxItems\": 2,\n                          \"type\": \"array\"\n                        }\n                      ]\n                    }\n                  }\n                ]\n              }\n            ],\n            \"minItems\": 2,\n            \"maxItems\": 2,\n            \"type\": \"array\"\n          },\n          {\n            \"type\": \"string\"\n          },\n          {\n            \"$ref\": \"#\"\n          }\n        ]\n      },\n      \"type\": \"array\"\n    },\n    \"variables\": {\n      \"type\": \"object\",\n      \"additionalProperties\": {\n        \"type\": \"object\",\n        \"additionalProperties\": {\n          \"$ref\": \"#/definitions/Primitive\"\n        }\n      }\n    },\n    \"variations\": {\n      \"items\": {\n        \"items\": {\n          \"items\": [\n            {\n              \"type\": \"string\"\n            },\n            {\n              \"type\": \"string\"\n            }\n          ],\n          \"minItems\": 2,\n          \"maxItems\": 2,\n          \"type\": \"array\"\n        },\n        \"type\": \"array\"\n      },\n      \"type\": \"array\"\n    }\n  },\n  \"type\": \"object\"\n};\n","import \"isomorphic-fetch\";\nimport copy from \"fast-copy\";\nimport { Ainsley, AinsleyChild, AinsleyChildren } from \"../types\";\nimport { validate } from \"./validate\";\nimport { isObject } from \"./utils\";\n\n/* config with external dependencies => flat config */\nexport const flatten = async (\n  configWithPlugins: Ainsley,\n  getConfig = defaultGetConfig\n): Promise<Ainsley> => {\n  // validate\n  const errors = validate(configWithPlugins);\n  if (errors.length > 0) {\n    throw new Error(`Invalid input Ainsley:\\n${errors.join(\"\\n\")}`);\n  }\n\n  // deep clone as we'll be mutating\n  const flatAinsley = copy(configWithPlugins);\n\n  // check for configs and inject them\n  if (Array.isArray(flatAinsley.children)) {\n    await Promise.all(\n      flatAinsley.children.map(\n        async (child: AinsleyChild, i: number): Promise<AinsleyChild> => {\n          if (typeof child === \"string\") {\n            if (child.startsWith(\"$\")) {\n              const flatConfig = await getFlatConfig(child.slice(1), getConfig);\n              (flatAinsley.children as AinsleyChildren)[i] = flatConfig;\n            }\n          }\n          return child;\n        }\n      )\n    );\n  }\n\n  return flatAinsley;\n};\n\nexport const defaultGetConfig = async (ref: string): Promise<AinsleyChild> => {\n  try {\n    return require(`ainsley-config-${ref}`).config;\n  } catch (err) {\n    try {\n      const url = new URL(ref);\n      const response = await fetch(url.href);\n      if ((response.headers.get(\"Content-Type\") ?? \"\").endsWith(\"/json\")) {\n        return await response.json();\n      } else {\n        return await response.text();\n      }\n    } catch (err) {\n      return await Promise.resolve(`/* $${ref} */`);\n    }\n  }\n};\n\nexport const getFlatConfig = async (\n  ref: string,\n  getConfig: (config: string) => Promise<AinsleyChild>\n): Promise<AinsleyChild> => {\n  try {\n    const config = await getConfig(ref);\n\n    if (isObject(config)) {\n      return await flatten(config as Ainsley, getConfig);\n    } else {\n      return config;\n    }\n  } catch (e) {\n    return `/* $${ref} */`;\n  }\n};\n","import copy from \"fast-copy\";\nimport csso from \"csso\";\nimport { Ainsley, AinsleyChildren, AinsleyVariableMap } from \"../types\";\nimport { validate } from \"./validate\";\nimport { isObject } from \"./utils\";\n\n/*\nTODOs:\n- check if strings can be turnt into numbers\n*/\n\n/* flat config => minified (and still flat) config */\nexport const minify = (ainsley: Ainsley): Ainsley => {\n  // validate input\n  const errors = validate(ainsley);\n  if (errors.length > 0) {\n    throw new Error(`Invalid input Ainsley:\\n${errors.join(\"\\n\")}`);\n  }\n\n  // clone and build ast list (mutates input)\n  const list = toAST(copy(ainsley), new Set());\n\n  // collapse ast from bottom up\n  for (let i = list.length - 1; i >= 0; i--) {\n    const node = list[i];\n\n    // if no children\n    if (\n      node.ainsley.children === undefined ||\n      node.ainsley.children.length === 0\n    ) {\n      // remove it from its parent\n      if (node.parent !== undefined) {\n        const parentChildren = node.parent.ainsley.children ?? [];\n        parentChildren.splice(\n          parentChildren.findIndex((child) => child === node.ainsley),\n          1\n        );\n      }\n      // skip rest of the checks\n      continue;\n    }\n\n    // merge strings, and delete any empty ones\n    for (let i = 0; i < node.ainsley.children.length; i++) {\n      const child = node.ainsley.children[i];\n      if (typeof child === \"string\") {\n        if (child.length === 0) {\n          // remove empty string\n          node.ainsley.children.splice(i--, 1);\n        } else if (i > 0) {\n          const prevSibling = node.ainsley.children[i - 1];\n          if (typeof prevSibling === \"string\") {\n            // merge non-empty strings\n            node.ainsley.children.splice(--i, 2, `${prevSibling}${child}`);\n          }\n        }\n      }\n    }\n\n    // lift variables up if possible\n    const thisVars = node.ainsley.variables ?? {};\n    Object.keys(thisVars).forEach((variable) => {\n      const [mod, base] = parseVariable(variable);\n\n      if (node.usageCounts.has(base)) {\n        // used, see if we can lift it\n\n        if (node.parent !== undefined) {\n          // remove default variables that are already defined\n          if (mod === 1 && node.parent.definedVariables.has(base)) {\n            delete thisVars[variable];\n            return;\n          }\n\n          // check how many siblings use this variable\n          // 1 implies that this is the only child that uses it\n          // so it can be lifted\n          if ((node.parent.usageCounts.get(base) ?? 0) < 2) {\n            if (!(\"variables\" in node.parent.ainsley)) {\n              node.parent.ainsley.variables = {};\n            }\n\n            const parentVars = node.parent.ainsley\n              .variables as AinsleyVariableMap;\n            const parentVariable =\n              Object.keys(parentVars).find((variable) =>\n                variable.endsWith(base)\n              ) ?? buildVariable(mod, \"\");\n            const [parentMod] = parseVariable(parentVariable);\n            const parentValue = parentVars[parentVariable] ?? {};\n            const childValue = thisVars[variable];\n\n            // remove old parent variable\n            if (parentVars[parentVariable] !== undefined) {\n              delete parentVars[parentVariable];\n            }\n\n            // remove old child variable\n            delete thisVars[variable];\n\n            // add new variable to parent\n            parentVars[buildVariable(mod === 2 ? parentMod : 0, base)] = {\n              ...(mod === 2 ? parentValue : {}),\n              ...childValue\n            };\n          }\n        }\n      } else {\n        // Remove unused variable\n        delete thisVars[variable];\n      }\n    });\n\n    // delete variables object if empty\n    if (Object.keys(thisVars).length === 0) {\n      delete node.ainsley.variables;\n    }\n\n    // delete any empty variation\n    if (Array.isArray(node.ainsley.variations)) {\n      node.ainsley.variations = node.ainsley.variations.filter(\n        (variation) => variation.length !== 0\n      );\n    }\n\n    // delete variations array if empty\n    if (Array.isArray(node.ainsley.variations)) {\n      if (node.ainsley.variations.length === 0) delete node.ainsley.variations;\n    }\n\n    // if node does nothing, merge it into its parent\n    // (this only works with variables because by now each variable is at its\n    // highest scope)\n    if (!(\"variations\" in node.ainsley || \"variables\" in node.ainsley)) {\n      if (node.parent !== undefined) {\n        const parentChildren = node.parent.ainsley.children as AinsleyChildren;\n        const indexInParent = parentChildren.findIndex(\n          (child) => child === node.ainsley\n        );\n\n        if (indexInParent !== -1) {\n          parentChildren.splice(indexInParent, 1, ...node.ainsley.children);\n        }\n      }\n    }\n  }\n\n  return list[0].ainsley;\n};\n\nconst MODIFIERS = \"?+\";\n\nconst parseVariable = (variable: string): [number, string] => {\n  const mod = MODIFIERS.indexOf(variable[0]) + 1;\n  const base = mod > 0 ? variable.slice(1) : variable;\n  return [mod, base];\n};\n\nconst buildVariable = (mod: number, base: string): string =>\n  `${[\"\", \"?\", \"+\"][mod]}${base}`;\n\nconst minifyRaw = (rawCSS: string) => {\n  try {\n    return csso.minify(rawCSS).css;\n  } catch (error) {\n    console.error(error);\n    return rawCSS;\n  }\n};\n\nconst iteratorRegex = /\\{[a-z]+\\}/gi;\nconst searchForUsages = (\n  arr: Array<unknown | string | object>,\n  set: Set<string> = new Set()\n): Set<string> => {\n  arr.forEach((val) => {\n    if (Array.isArray(val)) {\n      searchForUsages(val, set);\n    } else if (typeof val === \"string\") {\n      const match = val.match(iteratorRegex);\n      for (let i = 0; i < (match ?? []).length; i++) {\n        set.add((match as string[])[i].slice(1, -1));\n      }\n    }\n  });\n  return set;\n};\n\ninterface ASTNode {\n  parent: ASTNode | undefined;\n  ainsley: Ainsley;\n  usageCounts: Map<string, number>;\n  definedVariables: Set<string>;\n}\n\nconst toAST = (\n  ainsley: Ainsley,\n  definedVariables: Set<string>,\n  parent?: ASTNode\n): ASTNode[] => {\n  const children = ainsley.children ?? [];\n  const usageCounts: Map<string, number> = new Map();\n  const node = { ainsley, parent, usageCounts, definedVariables };\n\n  const topologicalList = [node];\n\n  for (let i = 0; i < children.length; i++) {\n    const next = children[i];\n    if (isObject(next)) {\n      const ainsley = next as Ainsley;\n      const variables = ainsley.variables ?? {};\n\n      const childNodes = toAST(\n        ainsley,\n        new Set([\n          ...definedVariables,\n          ...Object.keys(variables).map(\n            (variable: string) => parseVariable(variable)[1]\n          )\n        ]),\n        node\n      );\n\n      new Set(\n        childNodes\n          .map((node) => [...node.usageCounts.keys()])\n          .reduce((arr, keys) => [...arr, ...keys], [])\n      ).forEach((variable) => {\n        usageCounts.set(variable, (usageCounts.get(variable) ?? 0) + 1);\n      });\n\n      topologicalList.push(...childNodes);\n    } else if (Array.isArray(next)) {\n      const usages = searchForUsages(next);\n      usages.forEach((variable) => {\n        usageCounts.set(variable, (usageCounts.get(variable) ?? 0) + 1);\n      });\n    } else {\n      children.splice(i, 1, minifyRaw(next as string));\n    }\n  }\n\n  return topologicalList as ASTNode[];\n};\n"],"sourceRoot":""}