{"version":3,"file":"lint.es.js","sources":["../src/checkTypes.js","../src/src/utils.js","../src/compiler.js","../node_modules/is-regexp/index.js","../node_modules/clone-regexp/index.js","../src/lint.js"],"sourcesContent":["const messages = {};\nconst predicates = {};\nconst collections = [\"array\", \"arrayLike\", \"iterable\", \"object\"];\nconst hasOwnProperty = Object.prototype.hasOwnProperty;\nconst toString = Object.prototype.toString;\nconst keys = Object.keys;\nconst slice = Array.prototype.slice;\nconst isArray = Array.isArray;\nconst neginf = Number.NEGATIVE_INFINITY;\nconst posinf = Number.POSITIVE_INFINITY;\nconst haveSymbols = typeof Symbol === \"function\";\nconst haveMaps = typeof Map === \"function\";\nconst haveSets = typeof Set === \"function\";\n\nconst fns = [\n  { n: \"equal\", f: equal, s: \"equal {e}\" },\n  { n: \"undefined\", f: isUndefined, s: \"be undefined\" },\n  { n: \"null\", f: isNull, s: \"be null\" },\n  { n: \"assigned\", f: assigned, s: \"be assigned\" },\n  { n: \"primitive\", f: primitive, s: \"be primitive type\" },\n  { n: \"contains\", f: contains, s: \"contain {e}\" },\n  { n: \"in\", f: isIn, s: \"be in {e}\" },\n  { n: \"containsKey\", f: containsKey, s: \"contain key {e}\" },\n  { n: \"keyIn\", f: keyIn, s: \"be key in {e}\" },\n  { n: \"zero\", f: zero, s: \"be 0\" },\n  { n: \"one\", f: one, s: \"be 1\" },\n  { n: \"infinity\", f: infinity, s: \"be infinity\" },\n  { n: \"number\", f: number, s: \"be Number\" },\n  { n: \"integer\", f: integer, s: \"be integer\" },\n  { n: \"float\", f: float, s: \"be non-integer number\" },\n  { n: \"even\", f: even, s: \"be even number\" },\n  { n: \"odd\", f: odd, s: \"be odd number\" },\n  { n: \"greater\", f: greater, s: \"be greater than {e}\" },\n  { n: \"less\", f: less, s: \"be less than {e}\" },\n  { n: \"between\", f: between, s: \"be between {e} and {e2}\" },\n  {\n    n: \"greaterOrEqual\",\n    f: greaterOrEqual,\n    s: \"be greater than or equal to {e}\"\n  },\n  { n: \"lessOrEqual\", f: lessOrEqual, s: \"be less than or equal to {e}\" },\n  { n: \"inRange\", f: inRange, s: \"be in the range {e} to {e2}\" },\n  { n: \"positive\", f: positive, s: \"be positive number\" },\n  { n: \"negative\", f: negative, s: \"be negative number\" },\n  { n: \"string\", f: string, s: \"be String\" },\n  { n: \"emptyString\", f: emptyString, s: \"be empty string\" },\n  { n: \"nonEmptyString\", f: nonEmptyString, s: \"be non-empty string\" },\n  { n: \"match\", f: match, s: \"match {e}\" },\n  { n: \"boolean\", f: boolean, s: \"be Boolean\" },\n  { n: \"object\", f: object, s: \"be Object\" },\n  { n: \"emptyObject\", f: emptyObject, s: \"be empty object\" },\n  { n: \"nonEmptyObject\", f: nonEmptyObject, s: \"be non-empty object\" },\n  { n: \"instanceStrict\", f: instanceStrict, s: \"be instanceof {t}\" },\n  { n: \"thenable\", f: thenable, s: \"be promise-like\" },\n  { n: \"instance\", f: instance, s: \"be {t}\" },\n  { n: \"like\", f: like, s: \"be like {e}\" },\n  { n: \"array\", f: array, s: \"be Array\" },\n  { n: \"emptyArray\", f: emptyArray, s: \"be empty array\" },\n  { n: \"nonEmptyArray\", f: nonEmptyArray, s: \"be non-empty array\" },\n  { n: \"arrayLike\", f: arrayLike, s: \"be array-like\" },\n  { n: \"iterable\", f: iterable, s: \"be iterable\" },\n  { n: \"date\", f: date, s: \"be valid Date\" },\n  { n: \"function\", f: isFunction, s: \"be Function\" },\n  { n: \"hasLength\", f: hasLength, s: \"have length {e}\" },\n  { n: \"throws\", f: throws, s: \"throw\" }\n];\n\nfns.forEach(({ n, f, s }) => {\n  messages[n] = `assert failed: expected {a} to ${s}`;\n  predicates[n] = f;\n});\n\nconst functions = mixin({ map, all, any }, predicates);\nconst assert = createModifiedPredicates(assertModifier, assertImpl);\nconst not = createModifiedPredicates(notModifier, notImpl);\nconst maybe = createModifiedPredicates(maybeModifier, maybeImpl);\nassert.not = createModifiedModifier(assertModifier, not, \"not \");\nassert.maybe = createModifiedModifier(assertModifier, maybe, \"maybe \");\n\ncollections.forEach(createOfPredicates);\ncreateOfModifiers(assert, assertModifier);\ncreateOfModifiers(not, notModifier);\ncollections.forEach(createMaybeOfModifiers);\n\n/**\n * Public function `equal`.\n *\n * Returns true if `lhs` and `rhs` are strictly equal, without coercion.\n * Returns false otherwise.\n */\nfunction equal(lhs, rhs) {\n  return lhs === rhs;\n}\n\n/**\n * Public function `undefined`.\n *\n * Returns true if `data` is undefined, false otherwise.\n */\nfunction isUndefined(data) {\n  return data === undefined;\n}\n\n/**\n * Public function `null`.\n *\n * Returns true if `data` is null, false otherwise.\n */\nfunction isNull(data) {\n  return data === null;\n}\n\n/**\n * Public function `assigned`.\n *\n * Returns true if `data` is not null or undefined, false otherwise.\n */\nfunction assigned(data) {\n  return data !== undefined && data !== null;\n}\n\n/**\n * Public function `primitive`.\n *\n * Returns true if `data` is a primitive type, false otherwise.\n */\nfunction primitive(data) {\n  var type;\n\n  switch (data) {\n    case null:\n    case undefined:\n    case false:\n    case true:\n      return true;\n  }\n\n  type = typeof data;\n  return (\n    type === \"string\" || type === \"number\" || (haveSymbols && type === \"symbol\")\n  );\n}\n\n/**\n * Public function `zero`.\n *\n * Returns true if `data` is zero, false otherwise.\n */\nfunction zero(data) {\n  return data === 0;\n}\n\n/**\n * Public function `one`.\n *\n * Returns true if `data` is one, false otherwise.\n */\nfunction one(data) {\n  return data === 1;\n}\n\n/**\n * Public function `infinity`.\n *\n * Returns true if `data` is positive or negative infinity, false otherwise.\n */\nfunction infinity(data) {\n  return data === neginf || data === posinf;\n}\n\n/**\n * Public function `number`.\n *\n * Returns true if `data` is a number, false otherwise.\n */\nfunction number(data) {\n  return typeof data === \"number\" && data > neginf && data < posinf;\n}\n\n/**\n * Public function `integer`.\n *\n * Returns true if `data` is an integer, false otherwise.\n */\nfunction integer(data) {\n  return typeof data === \"number\" && data % 1 === 0;\n}\n\n/**\n * Public function `float`.\n *\n * Returns true if `data` is a non-integer number, false otherwise.\n */\nfunction float(data) {\n  return number(data) && data % 1 !== 0;\n}\n\n/**\n * Public function `even`.\n *\n * Returns true if `data` is an even number, false otherwise.\n */\nfunction even(data) {\n  return typeof data === \"number\" && data % 2 === 0;\n}\n\n/**\n * Public function `odd`.\n *\n * Returns true if `data` is an odd number, false otherwise.\n */\nfunction odd(data) {\n  return integer(data) && data % 2 !== 0;\n}\n\n/**\n * Public function `greater`.\n *\n * Returns true if `lhs` is a number greater than `rhs`, false otherwise.\n */\nfunction greater(lhs, rhs) {\n  return number(lhs) && lhs > rhs;\n}\n\n/**\n * Public function `less`.\n *\n * Returns true if `lhs` is a number less than `rhs`, false otherwise.\n */\nfunction less(lhs, rhs) {\n  return number(lhs) && lhs < rhs;\n}\n\n/**\n * Public function `between`.\n *\n * Returns true if `data` is a number between `x` and `y`, false otherwise.\n */\nfunction between(data, x, y) {\n  if (x < y) {\n    return greater(data, x) && data < y;\n  }\n\n  return less(data, x) && data > y;\n}\n\n/**\n * Public function `greaterOrEqual`.\n *\n * Returns true if `lhs` is a number greater than or equal to `rhs`, false\n * otherwise.\n */\nfunction greaterOrEqual(lhs, rhs) {\n  return number(lhs) && lhs >= rhs;\n}\n\n/**\n * Public function `lessOrEqual`.\n *\n * Returns true if `lhs` is a number less than or equal to `rhs`, false\n * otherwise.\n */\nfunction lessOrEqual(lhs, rhs) {\n  return number(lhs) && lhs <= rhs;\n}\n\n/**\n * Public function `inRange`.\n *\n * Returns true if `data` is a number in the range `x..y`, false otherwise.\n */\nfunction inRange(data, x, y) {\n  if (x < y) {\n    return greaterOrEqual(data, x) && data <= y;\n  }\n\n  return lessOrEqual(data, x) && data >= y;\n}\n\n/**\n * Public function `positive`.\n *\n * Returns true if `data` is a positive number, false otherwise.\n */\nfunction positive(data) {\n  return greater(data, 0);\n}\n\n/**\n * Public function `negative`.\n *\n * Returns true if `data` is a negative number, false otherwise.\n */\nfunction negative(data) {\n  return less(data, 0);\n}\n\n/**\n * Public function `string`.\n *\n * Returns true if `data` is a string, false otherwise.\n */\nfunction string(data) {\n  return typeof data === \"string\";\n}\n\n/**\n * Public function `emptyString`.\n *\n * Returns true if `data` is the empty string, false otherwise.\n */\nfunction emptyString(data) {\n  return data === \"\";\n}\n\n/**\n * Public function `nonEmptyString`.\n *\n * Returns true if `data` is a non-empty string, false otherwise.\n */\nfunction nonEmptyString(data) {\n  return string(data) && data !== \"\";\n}\n\n/**\n * Public function `match`.\n *\n * Returns true if `data` is a string that matches `regex`, false otherwise.\n */\nfunction match(data, regex) {\n  return string(data) && !!data.match(regex);\n}\n\n/**\n * Public function `boolean`.\n *\n * Returns true if `data` is a boolean value, false otherwise.\n */\nfunction boolean(data) {\n  return data === false || data === true;\n}\n\n/**\n * Public function `object`.\n *\n * Returns true if `data` is a plain-old JS object, false otherwise.\n */\nfunction object(data) {\n  return toString.call(data) === \"[object Object]\";\n}\n\n/**\n * Public function `emptyObject`.\n *\n * Returns true if `data` is an empty object, false otherwise.\n */\nfunction emptyObject(data) {\n  return (\n    object(data) &&\n    !some(data, function() {\n      return true;\n    })\n  );\n}\n\nfunction some(data, predicate) {\n  for (var key in data) {\n    if (hasOwnProperty.call(data, key)) {\n      if (predicate(key, data[key])) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n}\n\n/**\n * Public function `nonEmptyObject`.\n *\n * Returns true if `data` is a non-empty object, false otherwise.\n */\nfunction nonEmptyObject(data) {\n  return (\n    object(data) &&\n    some(data, function() {\n      return true;\n    })\n  );\n}\n\n/**\n * Public function `thenable`.\n *\n * Returns true if `data` has a `then` method.\n */\nfunction thenable(data) {\n  return assigned(data) && isFunction(data.then);\n}\n\n/**\n * Public function `instanceStrict`.\n *\n * Returns true if `data` is an instance of `prototype`, false otherwise.\n */\nfunction instanceStrict(data, prototype) {\n  try {\n    return data instanceof prototype;\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Public function `instance`.\n *\n * Returns true if `data` is an instance of `prototype`, false otherwise.\n * Falls back to testing constructor.name and Object.prototype.toString\n * if the initial instanceof test fails.\n */\nfunction instance(data, prototype) {\n  try {\n    return (\n      instanceStrict(data, prototype) ||\n      data.constructor.name === prototype.name ||\n      toString.call(data) === \"[object \" + prototype.name + \"]\"\n    );\n  } catch (error) {\n    return false;\n  }\n}\n\n/**\n * Public function `like`.\n *\n * Tests whether `data` 'quacks like a duck'. Returns true if `data` has all\n * of the properties of `archetype` (the 'duck'), false otherwise.\n */\nfunction like(data, archetype) {\n  var name;\n\n  for (name in archetype) {\n    if (hasOwnProperty.call(archetype, name)) {\n      if (\n        hasOwnProperty.call(data, name) === false ||\n        typeof data[name] !== typeof archetype[name]\n      ) {\n        return false;\n      }\n\n      if (object(data[name]) && like(data[name], archetype[name]) === false) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n}\n\n/**\n * Public function `array`.\n *\n * Returns true if `data` is an array, false otherwise.\n */\nfunction array(data) {\n  return isArray(data);\n}\n\n/**\n * Public function `emptyArray`.\n *\n * Returns true if `data` is an empty array, false otherwise.\n */\nfunction emptyArray(data) {\n  return isArray(data) && data.length === 0;\n}\n\n/**\n * Public function `nonEmptyArray`.\n *\n * Returns true if `data` is a non-empty array, false otherwise.\n */\nfunction nonEmptyArray(data) {\n  return isArray(data) && data.length > 0;\n}\n\n/**\n * Public function `arrayLike`.\n *\n * Returns true if `data` is an array-like object, false otherwise.\n */\nfunction arrayLike(data) {\n  return assigned(data) && data.length >= 0;\n}\n\n/**\n * Public function `iterable`.\n *\n * Returns true if `data` is an iterable, false otherwise.\n */\nfunction iterable(data) {\n  if (!haveSymbols) {\n    // Fall back to `arrayLike` predicate in pre-ES6 environments.\n    return arrayLike(data);\n  }\n\n  return assigned(data) && isFunction(data[Symbol.iterator]);\n}\n\n/**\n * Public function `contains`.\n *\n * Returns true if `data` contains `value`, false otherwise.\n * Works with objects, arrays and array-likes (including strings).\n */\nfunction contains(data, value) {\n  var iterator, iteration;\n\n  if (!assigned(data)) {\n    return false;\n  }\n\n  if (haveSets && instanceStrict(data, Set)) {\n    return data.has(value);\n  }\n\n  if (string(data)) {\n    return data.indexOf(value) !== -1;\n  }\n\n  if (haveSymbols && data[Symbol.iterator] && isFunction(data.values)) {\n    iterator = data.values();\n\n    do {\n      iteration = iterator.next();\n\n      if (iteration.value === value) {\n        return true;\n      }\n    } while (!iteration.done);\n\n    return false;\n  }\n\n  return some(data, function(key, dataValue) {\n    return dataValue === value;\n  });\n}\n\n/**\n * Public function `in`.\n *\n * Returns true if `value` is in `data`, false otherwise.\n * Like `contains`, but with arguments flipped.\n */\nfunction isIn(value, data) {\n  return contains(data, value);\n}\n\n/**\n * Public function `containsKey`.\n *\n * Returns true if `data` contains key `key`, false otherwise.\n * Works with objects, arrays and array-likes (including strings).\n */\nfunction containsKey(data, key) {\n  if (!assigned(data)) {\n    return false;\n  }\n\n  if (haveMaps && instanceStrict(data, Map)) {\n    return data.has(key);\n  }\n\n  if (iterable(data) && !number(+key)) {\n    return false;\n  }\n\n  return !!data[key];\n}\n\n/**\n * Public function `keyIn`.\n *\n * Returns true if key `key` is in `data`, false otherwise.\n * Like `contains`, but with arguments flipped.\n */\nfunction keyIn(key, data) {\n  return containsKey(data, key);\n}\n\n/**\n * Public function `hasLength`.\n *\n * Returns true if `data` has a length property that equals `length`, false\n * otherwise.\n */\nfunction hasLength(data, length) {\n  return assigned(data) && data.length === length;\n}\n\n/**\n * Public function `date`.\n *\n * Returns true if `data` is a valid date, false otherwise.\n */\nfunction date(data) {\n  return instanceStrict(data, Date) && integer(data.getTime());\n}\n\n/**\n * Public function `function`.\n *\n * Returns true if `data` is a function, false otherwise.\n */\nfunction isFunction(data) {\n  return typeof data === \"function\";\n}\n\n/**\n * Public function `throws`.\n *\n * Returns true if `data` is a function that throws, false otherwise.\n */\nfunction throws(data) {\n  if (!isFunction(data)) {\n    return false;\n  }\n\n  try {\n    data();\n  } catch (error) {\n    return true;\n  }\n\n  return false;\n}\n\n/**\n * Public function `map`.\n *\n * Maps each value from `data` to the corresponding predicate and returns\n * the results. If the same function is to be applied across all of the data,\n * a single predicate function may be passed in.\n */\nfunction map(data, predicates) {\n  var result;\n\n  if (isArray(data)) {\n    result = [];\n  } else {\n    result = {};\n  }\n\n  if (isFunction(predicates)) {\n    forEach(data, function(key, value) {\n      result[key] = predicates(value);\n    });\n  } else {\n    if (!isArray(predicates)) {\n      assert.object(predicates);\n    }\n\n    var dataKeys = keys(data || {});\n\n    forEach(predicates, function(key, predicate) {\n      dataKeys.some(function(dataKey, index) {\n        if (dataKey === key) {\n          dataKeys.splice(index, 1);\n          return true;\n        }\n        return false;\n      });\n\n      if (isFunction(predicate)) {\n        if (not.assigned(data)) {\n          result[key] = !!predicate.m;\n        } else {\n          result[key] = predicate(data[key]);\n        }\n      } else {\n        result[key] = map(data[key], predicate);\n      }\n    });\n  }\n\n  return result;\n}\n\nfunction forEach(object, action) {\n  for (var key in object) {\n    if (hasOwnProperty.call(object, key)) {\n      action(key, object[key]);\n    }\n  }\n}\n\n/**\n * Public function `all`\n *\n * Check that all boolean values are true\n * in an array or object returned from `map`.\n */\nfunction all(data) {\n  if (isArray(data)) {\n    return testArray(data, false);\n  }\n\n  assert.object(data);\n\n  return testObject(data, false);\n}\n\nfunction testArray(data, result) {\n  var i;\n\n  for (i = 0; i < data.length; i += 1) {\n    if (data[i] === result) {\n      return result;\n    }\n  }\n\n  return !result;\n}\n\nfunction testObject(data, result) {\n  var key, value;\n\n  for (key in data) {\n    if (hasOwnProperty.call(data, key)) {\n      value = data[key];\n\n      if (object(value) && testObject(value, result) === result) {\n        return result;\n      }\n\n      if (value === result) {\n        return result;\n      }\n    }\n  }\n\n  return !result;\n}\n\n/**\n * Public function `any`\n *\n * Check that at least one boolean value is true\n * in an array or object returned from `map`.\n */\nfunction any(data) {\n  if (isArray(data)) {\n    return testArray(data, true);\n  }\n\n  assert.object(data);\n\n  return testObject(data, true);\n}\n\nfunction mixin(target, source) {\n  forEach(source, function(key, value) {\n    target[key] = value;\n  });\n\n  return target;\n}\n\n/**\n * Public modifier `assert`.\n *\n * Throws if `predicate` returns false.\n */\nfunction assertModifier(predicate, defaultMessage) {\n  return function() {\n    var args = arguments;\n    var argCount = predicate.l || predicate.length;\n    var message = args[argCount];\n    var ErrorType = args[argCount + 1];\n\n    assertImpl(\n      predicate.apply(null, args),\n      nonEmptyString(message)\n        ? message\n        : defaultMessage\n            .replace(\"{a}\", messageFormatter(args[0]))\n            .replace(\"{e}\", messageFormatter(args[1]))\n            .replace(\"{e2}\", messageFormatter(args[2]))\n            .replace(\"{t}\", function() {\n              var arg = args[1];\n\n              if (arg && arg.name) {\n                return arg.name;\n              }\n\n              return arg;\n            }),\n      isFunction(ErrorType) ? ErrorType : TypeError\n    );\n\n    return args[0];\n  };\n}\n\nfunction messageFormatter(arg) {\n  return function() {\n    if (string(arg)) {\n      return '\"' + arg.replace(/\\\\/g, \"\\\\\\\\\").replace(/\"/g, '\\\\\"') + '\"';\n    }\n\n    if (\n      arg &&\n      arg !== true &&\n      arg.constructor &&\n      !instanceStrict(arg, RegExp) &&\n      typeof arg !== \"number\"\n    ) {\n      return arg.constructor.name;\n    }\n\n    return arg;\n  };\n}\n\nfunction assertImpl(value, message, ErrorType) {\n  if (value) {\n    return value;\n  }\n  throw new (ErrorType || Error)(message || \"assert failed\");\n}\n\n/**\n * Public modifier `not`.\n *\n * Negates `predicate`.\n */\nfunction notModifier(predicate) {\n  var modifiedPredicate = function() {\n    return notImpl(predicate.apply(null, arguments));\n  };\n  modifiedPredicate.l = predicate.length;\n  return modifiedPredicate;\n}\n\nfunction notImpl(value) {\n  return !value;\n}\n\n/**\n * Public modifier `maybe`.\n *\n * Returns true if predicate argument is  null or undefined,\n * otherwise propagates the return value from `predicate`.\n */\nfunction maybeModifier(predicate) {\n  var modifiedPredicate = function() {\n    if (not.assigned(arguments[0])) {\n      return true;\n    }\n\n    return predicate.apply(null, arguments);\n  };\n  modifiedPredicate.l = predicate.length;\n\n  // Hackishly indicate that this is a maybe.xxx predicate.\n  // Without this flag, the alternative would be to iterate\n  // through the maybe predicates or use indexOf to check,\n  // which would be time-consuming.\n  modifiedPredicate.m = true;\n\n  return modifiedPredicate;\n}\n\nfunction maybeImpl(value) {\n  if (assigned(value) === false) {\n    return true;\n  }\n\n  return value;\n}\n\n/**\n * Public modifier `of`.\n *\n * Applies the chained predicate to members of the collection.\n */\nfunction ofModifier(target, type, predicate) {\n  var modifiedPredicate = function() {\n    var collection, args;\n\n    collection = arguments[0];\n\n    if (target === \"maybe\" && not.assigned(collection)) {\n      return true;\n    }\n\n    if (!type(collection)) {\n      return false;\n    }\n\n    collection = coerceCollection(type, collection);\n    args = slice.call(arguments, 1);\n\n    try {\n      collection.forEach(function(item) {\n        if (\n          (target !== \"maybe\" || assigned(item)) &&\n          !predicate.apply(null, [item].concat(args))\n        ) {\n          // TODO: Replace with for...of when ES6 is required.\n          throw 0;\n        }\n      });\n    } catch (ignore) {\n      return false;\n    }\n\n    return true;\n  };\n  modifiedPredicate.l = predicate.length;\n  return modifiedPredicate;\n}\n\nfunction coerceCollection(type, collection) {\n  switch (type) {\n    case arrayLike:\n      return slice.call(collection);\n    case object:\n      return keys(collection).map(function(key) {\n        return collection[key];\n      });\n    default:\n      return collection;\n  }\n}\n\nfunction createModifiedPredicates(modifier, object) {\n  return createModifiedFunctions([modifier, predicates, object, \"\"]);\n}\n\nfunction createModifiedFunctions(args) {\n  var modifier, messageModifier, object, functions;\n\n  modifier = args.shift();\n  messageModifier = args.pop();\n  object = args.pop();\n  functions = args.pop();\n\n  forEach(functions, function(key, fn) {\n    var message = messages[key];\n    if (message && messageModifier) {\n      message = message.replace(\"to\", messageModifier + \"to\");\n    }\n\n    Object.defineProperty(object, key, {\n      configurable: false,\n      enumerable: true,\n      writable: false,\n      value: modifier.apply(null, args.concat(fn, message))\n    });\n  });\n\n  return object;\n}\n\nfunction createModifiedModifier(modifier, modified, messageModifier) {\n  return createModifiedFunctions([modifier, modified, {}, messageModifier]);\n}\n\nfunction createOfPredicates(key) {\n  predicates[key].of = createModifiedFunctions([\n    ofModifier.bind(null, null),\n    predicates[key],\n    predicates,\n    {},\n    \"\"\n  ]);\n}\n\nfunction createOfModifiers(base, modifier) {\n  collections.forEach(function(key) {\n    base[key].of = createModifiedModifier(modifier, predicates[key].of);\n  });\n}\n\nfunction createMaybeOfModifiers(key) {\n  maybe[key].of = createModifiedFunctions([\n    ofModifier.bind(null, \"maybe\"),\n    predicates[key],\n    predicates,\n    {},\n    \"\"\n  ]);\n  assert.maybe[key].of = createModifiedModifier(assertModifier, maybe[key].of);\n  assert.not[key].of = createModifiedModifier(assertModifier, not[key].of);\n}\n\nexport default mixin(functions, { assert, not, maybe });\n",null,"import { fastClone, map, flat, combinations } from \"./utils\";\n\nexport const propFragMap = {\n  flex: \"fx\",\n  background: \"bg\",\n  min: \"n\",\n  max: \"x\",\n  style: \"st\",\n  overflow: \"ov\",\n  cursor: \"cu\"\n};\n\nexport const iteratorRegex = /\\{[a-z]+\\}/gi;\n\n// private helpers\nconst _abbrev = w => propFragMap[w] || w[0];\nconst _expandDeclaration = subpair => `${subpair[0]}:${subpair[1]}`;\nconst _addEmptyMod = mod => [[\"\", \"\"]].concat(mod);\nconst _abbrevWord = w => w[0].toUpperCase();\n\n// expand ainsley.defs\nexport const expandDefs = (ainsley, ruleSet) => {\n  const pair = ruleSet[1].reduce(\n    (iters, pair) => [\n      iters[0].concat(pair[0].match(iteratorRegex) || []),\n      iters[1].concat(pair[1].match(iteratorRegex) || [])\n    ],\n    [[], []]\n  );\n\n  return map(\n    combinations(\n      map(pair[0].concat(pair[1]), iter =>\n        map(Object.keys(ainsley[iter]), abbr => [\n          iter,\n          abbr,\n          ainsley[iter][abbr]\n        ])\n      )\n    ),\n    perm => {\n      const clone = fastClone(ruleSet);\n      for (let i = 0; clone[0].includes(\"&\"); i++) {\n        clone[0] = clone[0].replace(\"&\", perm[i][1]);\n      }\n      for (let i = 0; i < clone[1].length; i++) {\n        const decl = clone[1][i];\n        while (perm.length > 0 && decl[0].includes(perm[0][0])) {\n          const first = perm.shift();\n          decl[0] = decl[0].replace(first[0], first[2]);\n        }\n      }\n      for (let i = 0; i < clone[1].length; i++) {\n        const decl = clone[1][i];\n        while (perm.length > 0 && decl[1].includes(perm[0][0])) {\n          const first = perm.shift();\n          decl[1] = decl[1].replace(first[0], first[2]);\n        }\n      }\n      return clone;\n    }\n  );\n};\n\n// expand ainsley.props\nexport const expandProps = pair => {\n  const propAbbrev = map(pair[0].split(\"-\"), _abbrev).join(\"\");\n  return map(pair[1], value => [\n    `${propAbbrev}${map(value.split(\" \"), _abbrevWord).join(\"\")}`,\n    [[pair[0], value]]\n  ]);\n};\n\n// compile ainsley to a simple stylesheet ast\nexport const ainsleyToAst = ainsley => {\n  const ast = [].concat(\n    flat(map(ainsley.defs || [], def => expandDefs(ainsley, def))),\n    flat(map(ainsley.props || [], expandProps)),\n    ainsley.raw || []\n  );\n  return flat(\n    map(combinations(map(ainsley.mods || [], _addEmptyMod)), comb =>\n      comb.reduce((ast, pair) => {\n        if (!pair[1]) {\n          return ast;\n        } else if (pair[1][0] === \"@\") {\n          return [\n            [\n              pair[1],\n              map(ast, subpair => [`${pair[0]}${subpair[0]}`, subpair[1]])\n            ]\n          ];\n        } else {\n          return map(ast, subpair => [\n            `${pair[0]}${subpair[0]}${pair[1]}`,\n            subpair[1]\n          ]);\n        }\n      }, ast)\n    )\n  );\n};\n\nexport const ruleToCSS = rule =>\n  rule[0][0] === \"@\"\n    ? `${rule[0]}{${astToCss(rule[1])}}`\n    : `.${rule[0]}{${map(rule[1], _expandDeclaration).join(\";\")}}`;\n\n// generate css from simple stylesheet ast\nexport const astToCss = ast => map(ast, ruleToCSS).join(\"\");\n\n// generate css from ainsley\nexport const ainsleyToCss = ainsley => astToCss(ainsleyToAst(ainsley));\n\n// insert ainsley into a dom\nexport const ainsleyInsert = (ainsley, stylesheet) => {\n  const ast = ainsleyToAst(ainsley);\n  for (let i = ast.length - 1; i >= 0; i--) {\n    stylesheet.insertRule(ruleToCSS(ast[i]), 0);\n  }\n};\n\nif (globalThis.ACCB) globalThis.ACCB(ainsleyToCss);\n","'use strict';\n\nmodule.exports = input => Object.prototype.toString.call(input) === '[object RegExp]';\n","'use strict';\nconst isRegexp = require('is-regexp');\n\nconst flagMap = {\n\tglobal: 'g',\n\tignoreCase: 'i',\n\tmultiline: 'm',\n\tdotAll: 's',\n\tsticky: 'y',\n\tunicode: 'u'\n};\n\nmodule.exports = (regexp, options = {}) => {\n\tif (!isRegexp(regexp)) {\n\t\tthrow new TypeError('Expected a RegExp instance');\n\t}\n\n\tconst flags = Object.keys(flagMap).map(flag => (\n\t\t(typeof options[flag] === 'boolean' ? options[flag] : regexp[flag]) ? flagMap[flag] : ''\n\t)).join('');\n\n\tconst clonedRegexp = new RegExp(options.source || regexp.source, flags);\n\n\tclonedRegexp.lastIndex = typeof options.lastIndex === 'number' ?\n\t\toptions.lastIndex :\n\t\tregexp.lastIndex;\n\n\treturn clonedRegexp;\n};\n","import check from \"./checkTypes\";\nimport { iteratorRegex } from \"./compiler\";\nimport cloneRegExp from \"clone-regexp\";\n\nconst regex = cloneRegExp(iteratorRegex, { global: false });\nconst isIterator = str => regex.test(str);\n\nconst checkProps = (errors, props) => {\n  const isValid =\n    check.array(props) &&\n    true &&\n    !!\"shjcdsnkdskndskjdlkadlkaklsakldskldknlsnlfknlsfndlsnkdlsnlds\";\n\n  if (!isValid) {\n    errors.push(`\"props\" is invalid`);\n  }\n};\n\nconst lint = ainsley => {\n  const errors = [];\n\n  const defsJson = JSON.stringify(ainsley.defs);\n  for (let k in ainsley) {\n    if (isIterator(k)) {\n      if (!defsJson.includes(k)) {\n        errors.push(`iterator ${k} defined but not used in \"defs\"`);\n      }\n    } else if (k === \"defs\") {\n      const match = defsJson.match(k);\n      if (match) {\n        for (let i = 0; i < match.length; i++) {\n          if (!ainsley[match[i]]) {\n            errors.push(\n              `iterator ${match[i]} referenced in \"defs\" but not defined`\n            );\n          }\n        }\n      }\n    } else if (k === \"props\") {\n      checkProps(errors, ainsley.props);\n    } else if (k === \"raw\") {\n    } else if (k === \"mods\") {\n    } else {\n      errors.push(`invalid property \"${k}\" found`);\n    }\n  }\n\n  return errors.length ? errors : null;\n};\n\nexport default lint;\n"],"names":["messages","predicates","collections","hasOwnProperty","Object","prototype","toString","keys","slice","Array","isArray","neginf","Number","NEGATIVE_INFINITY","posinf","POSITIVE_INFINITY","haveSymbols","Symbol","haveMaps","Map","haveSets","Set","fns","n","f","equal","s","isUndefined","isNull","assigned","primitive","contains","isIn","containsKey","keyIn","zero","one","infinity","number","integer","float","even","odd","greater","less","between","greaterOrEqual","lessOrEqual","inRange","positive","negative","string","emptyString","nonEmptyString","match","boolean","object","emptyObject","nonEmptyObject","instanceStrict","thenable","instance","like","array","emptyArray","nonEmptyArray","arrayLike","iterable","date","isFunction","hasLength","throws","forEach","functions","mixin","map","all","any","assert","createModifiedPredicates","assertModifier","assertImpl","not","notModifier","notImpl","maybe","maybeModifier","maybeImpl","createModifiedModifier","createOfPredicates","createOfModifiers","createMaybeOfModifiers","lhs","rhs","data","undefined","type","x","y","regex","call","some","predicate","key","then","error","constructor","name","archetype","length","iterator","value","iteration","has","indexOf","values","next","done","dataValue","Date","getTime","result","dataKeys","dataKey","index","splice","m","action","testArray","testObject","i","target","source","defaultMessage","args","arguments","argCount","l","message","ErrorType","apply","replace","messageFormatter","arg","TypeError","RegExp","Error","modifiedPredicate","ofModifier","collection","coerceCollection","item","concat","ignore","modifier","createModifiedFunctions","messageModifier","shift","pop","fn","defineProperty","configurable","enumerable","writable","modified","of","bind","base","fastClone","val","check","arr","len","push","out","flat","combinations","mods","list","opt","prev","propFragMap","flex","background","min","max","style","overflow","cursor","iteratorRegex","_abbrev","w","_expandDeclaration","subpair","_addEmptyMod","mod","_abbrevWord","toUpperCase","expandDefs","ainsley","ruleSet","pair","reduce","iters","iter","abbr","perm","clone","includes","decl","first","expandProps","propAbbrev","split","join","ainsleyToAst","ast","defs","def","props","raw","comb","ruleToCSS","rule","astToCss","ainsleyToCss","globalThis","ACCB","module","input","flagMap","global","ignoreCase","multiline","dotAll","sticky","unicode","regexp","options","isRegexp","flags","flag","clonedRegexp","lastIndex","cloneRegExp","isIterator","str","test","checkProps","errors","isValid","lint","defsJson","JSON","stringify","k"],"mappings":"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"}