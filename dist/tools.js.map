{"version":3,"file":"tools.js","sources":["../src/base.js","../src/src/utils.js","../src/compiler.js","../src/src/tools.js"],"sourcesContent":["export default {\n  defs: [\n    [\"c&\", [[\"color\", \"{colors}\"]]],\n    [\"d&\", [[\"display\", \"{display}\"]]],\n    [\"bgc&\", [[\"background-color\", \"{colors}\"]]],\n    [\n      \"fs&\",\n      [\n        [\"font-size\", \"{typeScale}\"],\n        [\"line-height\", \"1.2\"]\n      ]\n    ],\n    [\"&&\", [[\"{scalar}\", \"{scale}\"]]],\n    [\"&a&\", [[\"{vector}\", \"{scale}\"]]],\n    [\"&&&\", [[\"{vector}-{direction}\", \"{scale}\"]]],\n    [\"m&N&\", [[\"margin-{direction}\", \"-{scale}\"]]],\n    [\"fw&\", [[\"font-weight\", \"{weight}\"]]],\n    [\"ws&\", [[\"white-space\", \"{whiteSpace}\"]]],\n    [\"bgp&&\", [[\"background-position\", \"{xLoc} {yLoc}\"]]],\n    [\"bgs&\", [[\"background-size\", \"{bgSize}\"]]],\n    [\"b&w&\", [[\"border-{direction}-width\", \"{scale}\"]]],\n    [\"b&c&\", [[\"border-{direction}-color\", \"{colors}\"]]],\n    [\"fx&&&\", [[\"flex\", \"{flexChange} {flexChange} {flexBasis}\"]]],\n    [\"fxd&\", [[\"flex-direction\", \"{flexDirection}\"]]],\n    [\"&&\", [[\"{flexCrossAxes}\", \"{flexCrossAxis}\"]]],\n    [\"jc&\", [[\"justify-content\", \"{flexMainAxis}\"]]],\n    [\"ov&&\", [[\"overflow\", \"{overflow} {overflow}\"]]],\n    [\"o&\", [[\"opacity\", \"{opacity}\"]]]\n  ],\n  props: [\n    [\"text-decoration\", [\"line-through\", \"underline\", \"none\"]],\n    [\"font-style\", [\"italic\", \"normal\"]],\n    [\"text-transform\", [\"uppercase\", \"lowercase\"]],\n    [\"overflow-wrap\", [\"break-word\", \"anywhere\", \"normal\"]],\n    [\"background-repeat\", [\"repeat\", \"no-repeat\"]],\n    [\"position\", [\"relative\", \"absolute\", \"fixed\", \"sticky\"]],\n    [\"text-align\", [\"left\", \"center\", \"right\", \"justify\"]],\n    [\"vertical-align\", [\"top\", \"middle\", \"bottom\"]],\n    [\"cursor\", [\"default\", \"pointer\"]],\n    [\"pointer-events\", [\"none\", \"all\"]]\n  ],\n  mods: [\n    [\n      [\"o-\", \":hover\"],\n      [\"o-\", \":focus\"],\n      [\"o-\", \":active\"]\n    ],\n    [\n      [\"s-\", \"@media(min-width:384px)\"],\n      [\"m-\", \"@media(min-width:768px)\"],\n      [\"l-\", \"@media(min-width:1024px)\"],\n      [\"x-\", \"@media(min-width:1536px)\"]\n    ]\n  ],\n  \"{display}\": {\n    I: \"inline\",\n    B: \"block\",\n    IB: \"inline-block\",\n    F: \"flex\",\n    IF: \"inline-flex\",\n    N: \"none\"\n  },\n  \"{z}\": {\n    \"0\": \"0\",\n    \"1\": \"1\",\n    \"2\": \"2\",\n    \"4\": \"4\",\n    \"8\": \"8\",\n    \"16\": \"16\",\n    \"32\": \"32\",\n    N1: \"-1\"\n  },\n  \"{opacity}\": {\n    \"0\": \"0\",\n    \"10\": \"10\",\n    \"20\": \"20\",\n    \"40\": \"40\",\n    \"80\": \"80\",\n    \"100\": \"100\"\n  },\n  \"{overflow}\": { H: \"hidden\", S: \"scroll\", A: \"auto\", V: \"visible\" },\n  \"{flexMainAxis}\": {\n    FS: \"flex-start\",\n    FE: \"flex-end\",\n    C: \"center\",\n    SB: \"space-between\",\n    SE: \"space-evenly\"\n  },\n  \"{flexCrossAxes}\": {\n    ai: \"align-items\",\n    as: \"align-self\",\n    ac: \"align-content\"\n  },\n  \"{flexCrossAxis}\": {\n    FS: \"flex-start\",\n    FE: \"flex-end\",\n    C: \"center\",\n    B: \"baseline\",\n    S: \"stretch\"\n  },\n  \"{flexChange}\": { \"0\": \"0\", \"1\": \"1\", \"2\": \"2\", X: \"11111111\" },\n  \"{flexBasis}\": { \"0\": \"0%\", A: \"auto\", P: \"100%\" },\n  \"{flexDirection}\": {\n    R: \"row\",\n    C: \"column\",\n    RR: \"row-reverse\",\n    CR: \"column-reverse\"\n  },\n  \"{whiteSpace}\": {\n    C: \"nowrap\",\n    CW: \"normal\",\n    P: \"pre\",\n    PW: \"pre-wrap\"\n  },\n  \"{weight}\": { N: 400, M: 600, B: 700 },\n  \"{lineHeight}\": { B: 1, T: 1.2, C: 1.3 },\n  \"{xLoc}\": { L: \"left\", R: \"right\", C: \"center\" },\n  \"{bgSize}\": { CV: \"cover\", CT: \"contain\" },\n  \"{yLoc}\": { T: \"top\", B: \"bottom\", C: \"center\" },\n  \"{colors}\": {\n    W: \"white\",\n    B: \"black\",\n    TR: \"transparent\",\n    G98: \"hsl(0,0%,98%)\",\n    G94: \"hsl(0,0%,94%)\",\n    G88: \"hsl(0,0%,88%)\",\n    G80: \"hsl(0,0%,80%)\",\n    G30: \"hsl(0,0%,30%)\",\n    G20: \"hsl(0,0%,20%)\",\n    G10: \"hsl(0,0%,10%)\",\n    B05: \"hsla(0,0%,0%,05%)\",\n    B10: \"hsla(0,0%,0%,10%)\",\n    B20: \"hsla(0,0%,0%,20%)\",\n    B40: \"hsla(0,0%,0%,40%)\",\n    B80: \"hsla(0,0%,0%,80%)\",\n    W05: \"hsla(0,0%,100%,05%)\",\n    W10: \"hsla(0,0%,100%,10%)\",\n    W20: \"hsla(0,0%,100%,20%)\",\n    W40: \"hsla(0,0%,100%,40%)\",\n    W80: \"hsla(0,0%,100%,80%)\",\n    PRIMARY: \"#8d1d90\",\n    ALTPRIMARY: \"#9d3ea0\",\n    SECONDARY: \"#b7de58\",\n    ALTSECONDARY: \"#c1e270\",\n    GOOD: \"#3bb273\",\n    LIGHTGOOD: \"#ebf7f1\",\n    WARN: \"#e1bc29\",\n    LIGHTWARN: \"#fcf8e9\",\n    BAD: \"#e15554\",\n    LIGHTBAD: \"#fceeed\",\n    MSG: \"#3d70b2\",\n    LIGHTMSG: \"#ebf0f7\"\n  },\n  \"{typeScale}\": {\n    H1: \"72px\",\n    H2: \"48px\",\n    H3: \"32px\",\n    H4: \"24px\",\n    H5: \"20px\",\n    LG: \"20px\",\n    MD: \"16px\",\n    SM: \"14px\",\n    XS: \"12px\"\n  },\n  \"{scalar}\": {\n    w: \"width\",\n    xw: \"max-width\",\n    nw: \"min-width\",\n    h: \"height\",\n    xh: \"max-height\",\n    nh: \"min-height\",\n    t: \"top\",\n    l: \"left\",\n    r: \"right\",\n    b: \"bottom\",\n    br: \"border-radius\"\n  },\n  \"{vector}\": { m: \"margin\", p: \"padding\" },\n  \"{direction}\": { t: \"top\", l: \"left\", r: \"right\", b: \"bottom\" },\n  \"{scale}\": {\n    \"0\": \"0\",\n    \"1\": \"1px\",\n    \"2\": \"2px\",\n    \"3\": \"3px\",\n    \"10\": \"4px\",\n    \"15\": \"6px\",\n    \"20\": \"8px\",\n    \"25\": \"12px\",\n    \"30\": \"16px\",\n    \"35\": \"24px\",\n    \"40\": \"32px\",\n    \"45\": \"48px\",\n    \"50\": \"64px\",\n    \"55\": \"96px\",\n    \"60\": \"128px\",\n    \"65\": \"192px\",\n    \"70\": \"256px\",\n    \"75\": \"384px\",\n    \"80\": \"512px\",\n    \"85\": \"768px\",\n    \"90\": \"1024px\",\n    \"95\": \"1536px\",\n    P50: \"50%\",\n    P: \"100%\",\n    H: \"100vh\",\n    W: \"100vw\",\n    X: \"11111111px\"\n  }\n};\n",null,"import { fastClone, map, flat, combinations } from \"./utils\";\n\nexport const propFragMap = {\n  flex: \"fx\",\n  background: \"bg\",\n  min: \"n\",\n  max: \"x\",\n  style: \"st\",\n  overflow: \"ov\",\n  cursor: \"cu\"\n};\n\nexport const iteratorRegex = /\\{[a-z]+\\}/gi;\n\n// private helpers\nconst _abbrev = w => propFragMap[w] || w[0];\nconst _expandDeclaration = subpair => `${subpair[0]}:${subpair[1]}`;\nconst _addEmptyMod = mod => [[\"\", \"\"]].concat(mod);\nconst _abbrevWord = w => w[0].toUpperCase();\n\n// expand ainsley.defs\nexport const expandDefs = (ainsley, ruleSet) => {\n  const pair = ruleSet[1].reduce(\n    (iters, pair) => [\n      iters[0].concat(pair[0].match(iteratorRegex) || []),\n      iters[1].concat(pair[1].match(iteratorRegex) || [])\n    ],\n    [[], []]\n  );\n\n  return map(\n    combinations(\n      map(pair[0].concat(pair[1]), iter =>\n        map(Object.keys(ainsley[iter]), abbr => [\n          iter,\n          abbr,\n          ainsley[iter][abbr]\n        ])\n      )\n    ),\n    perm => {\n      const clone = fastClone(ruleSet);\n      for (let i = 0; clone[0].includes(\"&\"); i++) {\n        clone[0] = clone[0].replace(\"&\", perm[i][1]);\n      }\n      for (let i = 0; i < clone[1].length; i++) {\n        const decl = clone[1][i];\n        while (perm.length > 0 && decl[0].includes(perm[0][0])) {\n          const first = perm.shift();\n          decl[0] = decl[0].replace(first[0], first[2]);\n        }\n      }\n      for (let i = 0; i < clone[1].length; i++) {\n        const decl = clone[1][i];\n        while (perm.length > 0 && decl[1].includes(perm[0][0])) {\n          const first = perm.shift();\n          decl[1] = decl[1].replace(first[0], first[2]);\n        }\n      }\n      return clone;\n    }\n  );\n};\n\n// expand ainsley.props\nexport const expandProps = pair => {\n  const propAbbrev = map(pair[0].split(\"-\"), _abbrev).join(\"\");\n  return map(pair[1], value => [\n    `${propAbbrev}${map(value.split(\" \"), _abbrevWord).join(\"\")}`,\n    [[pair[0], value]]\n  ]);\n};\n\n// compile ainsley to a simple stylesheet ast\nexport const ainsleyToAst = ainsley => {\n  const ast = [].concat(\n    flat(map(ainsley.defs || [], def => expandDefs(ainsley, def))),\n    flat(map(ainsley.props || [], expandProps)),\n    ainsley.raw || []\n  );\n  return flat(\n    map(combinations(map(ainsley.mods || [], _addEmptyMod)), comb =>\n      comb.reduce((ast, pair) => {\n        if (!pair[1]) {\n          return ast;\n        } else if (pair[1][0] === \"@\") {\n          return [\n            [\n              pair[1],\n              map(ast, subpair => [`${pair[0]}${subpair[0]}`, subpair[1]])\n            ]\n          ];\n        } else {\n          return map(ast, subpair => [\n            `${pair[0]}${subpair[0]}${pair[1]}`,\n            subpair[1]\n          ]);\n        }\n      }, ast)\n    )\n  );\n};\n\nexport const ruleToCSS = rule =>\n  rule[0][0] === \"@\"\n    ? `${rule[0]}{${astToCss(rule[1])}}`\n    : `.${rule[0]}{${map(rule[1], _expandDeclaration).join(\";\")}}`;\n\n// generate css from simple stylesheet ast\nexport const astToCss = ast => map(ast, ruleToCSS).join(\"\");\n\n// generate css from ainsley\nexport const ainsleyToCss = ainsley => astToCss(ainsleyToAst(ainsley));\n\n// insert ainsley into a dom\nexport const ainsleyInsert = (ainsley, stylesheet) => {\n  const ast = ainsleyToAst(ainsley);\n  for (let i = ast.length - 1; i >= 0; i--) {\n    stylesheet.insertRule(ruleToCSS(ast[i]), 0);\n  }\n};\n\nif (globalThis.ACCB) globalThis.ACCB(ainsleyToCss);\n",null],"names":["defs","props","mods","I","B","IB","F","IF","N","N1","H","S","A","V","FS","FE","C","SB","SE","ai","as","ac","X","P","R","RR","CR","CW","PW","M","T","L","CV","CT","W","TR","G98","G94","G88","G80","G30","G20","G10","B05","B10","B20","B40","B80","W05","W10","W20","W40","W80","PRIMARY","ALTPRIMARY","SECONDARY","ALTSECONDARY","GOOD","LIGHTGOOD","WARN","LIGHTWARN","BAD","LIGHTBAD","MSG","LIGHTMSG","H1","H2","H3","H4","H5","LG","MD","SM","XS","w","xw","nw","h","xh","nh","t","l","r","b","br","m","p","P50","fastClone","val","arr","len","length","i","push","map","fn","out","flat","concat","apply","combinations","list","shift","opt","prev","assign","objects","Array","isArray","Error","obj","nextKey","propFragMap","flex","background","min","max","style","overflow","cursor","iteratorRegex","_abbrev","_expandDeclaration","subpair","_addEmptyMod","mod","_abbrevWord","toUpperCase","expandDefs","ainsley","ruleSet","pair","reduce","iters","match","iter","Object","keys","abbr","perm","clone","includes","replace","decl","first","expandProps","propAbbrev","split","join","value","ainsleyToAst","ast","def","raw","comb","ruleToCSS","rule","astToCss","ainsleyToCss","globalThis","ACCB","base","baseConfig","extend","ainsleys","next"],"mappings":"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"}